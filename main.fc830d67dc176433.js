(self.webpackChunkOriginalShop=self.webpackChunkOriginalShop||[]).push([[179],{2816:(an,pt,ae)=>{"use strict";ae.d(pt,{hO:()=>xt,xv:()=>Ye,Dh:()=>Tt,HU:()=>ht,GT:()=>Dn,sI:()=>Te,on:()=>Lt,ss:()=>ut,pX:()=>bn,yq:()=>yt});var a=ae(4408),Y=ae(7565);const ot=new class De extends Y.v{}(class Q extends a.o{constructor(wn,Gt){super(wn,Gt),this.scheduler=wn,this.work=Gt}schedule(wn,Gt=0){return Gt>0?super.schedule(wn,Gt):(this.delay=Gt,this.state=wn,this.scheduler.flush(this),this)}execute(wn,Gt){return Gt>0||this.closed?super.execute(wn,Gt):this._execute(wn,Gt)}requestAsyncId(wn,Gt,kn=0){return null!=kn&&kn>0||null==kn&&this.delay>0?super.requestAsyncId(wn,Gt,kn):(wn.flush(this),0)}});var rt=ae(4986),at=ae(8505),ze=ae(9468),oe=ae(5363),Ie=ae(4650),Ce=ae(5867);function Qe(){}an=ae.hmd(an);class Ge{constructor(wn,Gt=ot){this.zone=wn,this.delegate=Gt}now(){return this.delegate.now()}schedule(wn,Gt,kn){const Oe=this.zone;return this.delegate.schedule(function(Le){Oe.runGuarded(()=>{wn.apply(this,[Le])})},Gt,kn)}}class Me{constructor(wn){this.zone=wn,this.task=null}call(wn,Gt){const kn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qe,{},Qe,Qe)),Gt.pipe((0,at.b)({next:kn,complete:kn,error:kn})).subscribe(wn).add(kn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ht{constructor(wn){this.ngZone=wn,this.outsideAngular=wn.runOutsideAngular(()=>new Ge(Zone.current)),this.insideAngular=wn.run(()=>new Ge(Zone.current,rt.z))}}function ut(yn){return function(Gt){return(Gt=Gt.lift(new Me(yn.ngZone))).pipe((0,ze.R)(yn.outsideAngular),(0,oe.Q)(yn.insideAngular))}}const qe=["ngOnDestroy"],bn=(yn,wn,Gt,kn={})=>new Proxy(yn,{get:(Oe,Ee)=>Gt.runOutsideAngular(()=>{var Le;if(yn[Ee])return!(null===(Le=kn?.spy)||void 0===Le)&&Le.get&&kn.spy.get(Ee,yn[Ee]),yn[Ee];if(qe.indexOf(Ee)>-1)return()=>{};const Pe=wn.toPromise().then(lt=>{const Xe=lt&&lt[Ee];return"function"==typeof Xe?Xe.bind(lt):Xe&&Xe.then?Xe.then($t=>Gt.run(()=>$t)):Gt.run(()=>Xe)});return new Proxy(()=>{},{get:(lt,Xe)=>Pe[Xe],apply:(lt,Xe,$t)=>Pe.then(on=>{var Lr;const zt=on&&on(...$t);return!(null===(Lr=kn?.spy)||void 0===Lr)&&Lr.apply&&kn.spy.apply(Ee,$t,zt),zt})})})}),Dn=(yn,wn)=>{wn.forEach(Gt=>{Object.getOwnPropertyNames(Gt.prototype||Gt).forEach(kn=>{Object.defineProperty(yn.prototype,kn,Object.getOwnPropertyDescriptor(Gt.prototype||Gt,kn))})})},Tt=new Ie.OlP("angularfire2.app.options"),Ye=new Ie.OlP("angularfire2.app.nameOrConfig"),F=new Ie.GfV("6.1.5");function Lt(yn,wn,Gt){const Oe="object"==typeof Gt&&Gt||{};Oe.name=Oe.name||"string"==typeof Gt&&Gt||"[DEFAULT]";const Le=Ce.Z.apps.filter(Pe=>Pe&&Pe.name===Oe.name)[0]||wn.runOutsideAngular(()=>Ce.Z.initializeApp(yn,Oe));try{JSON.stringify(yn)!==JSON.stringify(Le.options)&&Dt("error",`${Le.name} Firebase App already initialized with different options${an.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return Le}const yt=()=>{Dt("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Dt=(yn,...wn)=>{(0,Ie.X6Q)()&&typeof console<"u"&&console[yn](...wn)};function Te(yn,wn,Gt,kn,Oe){const[Ee,...Le]=globalThis.\u0275AngularfireInstanceCache.get(yn)||[];if(Ee){try{Oe.some((Pe,lt)=>{const Xe=Le[lt];return Pe&&"object"==typeof Pe?JSON.stringify(Pe)!==JSON.stringify(Xe):Pe!==Xe})&&Dt("error",`${wn} was already initialized on the ${Gt.name} Firebase App instance with different settings.${an.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch{}return Ee}{const Pe=kn();return globalThis.\u0275AngularfireInstanceCache.set(yn,[Pe,...Oe]),Pe}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const qt={provide:class Je{},useFactory:Lt,deps:[Tt,Ie.R0b,[new Ie.FiY,Ye]]};let xt=(()=>{class yn{constructor(Gt){Ce.Z.registerVersion("angularfire",F.full,Gt.toString()),Ce.Z.registerVersion("angular",Ie.q4F.full)}static initializeApp(Gt,kn){return{ngModule:yn,providers:[{provide:Tt,useValue:Gt},{provide:Ye,useValue:kn}]}}}return yn.\u0275fac=function(Gt){return new(Gt||yn)(Ie.LFG(Ie.Lbi))},yn.\u0275mod=Ie.oAB({type:yn}),yn.\u0275inj=Ie.cJS({providers:[qt]}),yn})()},8367:(an,pt,ae)=>{"use strict";ae.d(pt,{Z:()=>Ee});var ot,Ye,a=ae(7582),Q=ae(492),Y=ae(2461),De=ae(4003),he=((ot={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ot["bad-app-name"]="Illegal App name: '{$appName}",ot["duplicate-app"]="Firebase App named '{$appName}' already exists",ot["app-deleted"]="Firebase App named '{$appName}' already deleted",ot["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ot["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ot),rt=new Q.LL("app","Firebase",he),at="@firebase/app",Je="[DEFAULT]",F=((Ye={})[at]="fire-core",Ye["@firebase/analytics"]="fire-analytics",Ye["@firebase/app-check"]="fire-app-check",Ye["@firebase/auth"]="fire-auth",Ye["@firebase/database"]="fire-rtdb",Ye["@firebase/functions"]="fire-fn",Ye["@firebase/installations"]="fire-iid",Ye["@firebase/messaging"]="fire-fcm",Ye["@firebase/performance"]="fire-perf",Ye["@firebase/remote-config"]="fire-rc",Ye["@firebase/storage"]="fire-gcs",Ye["@firebase/firestore"]="fire-fst",Ye["fire-js"]="fire-js",Ye["firebase-wrapper"]="fire-js-all",Ye),Lt=new De.Yd("@firebase/app"),yt=function(){function Le(Pe,lt,Xe){var $t=this;this.firebase_=Xe,this.isDeleted_=!1,this.name_=lt.name,this.automaticDataCollectionEnabled_=lt.automaticDataCollectionEnabled||!1,this.options_=(0,Q.p$)(Pe),this.container=new Y.H0(lt.name),this._addComponent(new Y.wA("app",function(){return $t},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(on){return $t._addComponent(on)})}return Object.defineProperty(Le.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Pe){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Pe},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Le.prototype.delete=function(){var Pe=this;return new Promise(function(lt){Pe.checkDestroyed_(),lt()}).then(function(){return Pe.firebase_.INTERNAL.removeApp(Pe.name_),Promise.all(Pe.container.getProviders().map(function(lt){return lt.delete()}))}).then(function(){Pe.isDeleted_=!0})},Le.prototype._getService=function(Pe,lt){var Xe;void 0===lt&&(lt=Je),this.checkDestroyed_();var $t=this.container.getProvider(Pe);return!$t.isInitialized()&&"EXPLICIT"===(null===(Xe=$t.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&$t.initialize(),$t.getImmediate({identifier:lt})},Le.prototype._removeServiceInstance=function(Pe,lt){void 0===lt&&(lt=Je),this.container.getProvider(Pe).clearInstance(lt)},Le.prototype._addComponent=function(Pe){try{this.container.addComponent(Pe)}catch(lt){Lt.debug("Component "+Pe.name+" failed to register with FirebaseApp "+this.name,lt)}},Le.prototype._addOrOverwriteComponent=function(Pe){this.container.addOrOverwriteComponent(Pe)},Le.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Le.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw rt.create("app-deleted",{appName:this.name_})},Le}();yt.prototype.name&&yt.prototype.options||yt.prototype.delete||console.log("dc");var qt=function Te(){var Le=function br(Le){var Pe={},lt=new Map,Xe={__esModule:!0,initializeApp:function Lr(Tn,Mn){void 0===Mn&&(Mn={}),("object"!=typeof Mn||null===Mn)&&(Mn={name:Mn});var tr=Mn;void 0===tr.name&&(tr.name=Je);var Et=tr.name;if("string"!=typeof Et||!Et)throw rt.create("bad-app-name",{appName:String(Et)});if((0,Q.r3)(Pe,Et))throw rt.create("duplicate-app",{appName:Et});var ir=new Le(Tn,tr,Xe);return Pe[Et]=ir,ir},app:on,registerVersion:function Cn(Tn,Mn,cn){var tr,Et=null!==(tr=F[Tn])&&void 0!==tr?tr:Tn;cn&&(Et+="-"+cn);var ir=Et.match(/\s|\//),Tr=Mn.match(/\s|\//);if(ir||Tr){var Rn=['Unable to register library "'+Et+'" with version "'+Mn+'":'];return ir&&Rn.push('library name "'+Et+'" contains illegal characters (whitespace or "/")'),ir&&Tr&&Rn.push("and"),Tr&&Rn.push('version name "'+Mn+'" contains illegal characters (whitespace or "/")'),void Lt.warn(Rn.join(" "))}zn(new Y.wA(Et+"-version",function(){return{library:Et,version:Mn}},"VERSION"))},setLogLevel:De.Ub,onLog:function er(Tn,Mn){if(null!==Tn&&"function"!=typeof Tn)throw rt.create("invalid-log-argument");(0,De.Am)(Tn,Mn)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:zn,removeApp:function $t(Tn){delete Pe[Tn]},components:lt,useAsService:function ci(Tn,Mn){return"serverAuth"===Mn?null:Mn}}};function on(Tn){if(!(0,Q.r3)(Pe,Tn=Tn||Je))throw rt.create("no-app",{appName:Tn});return Pe[Tn]}function zn(Tn){var Mn=Tn.name;if(lt.has(Mn))return Lt.debug("There were multiple attempts to register component "+Mn+"."),"PUBLIC"===Tn.type?Xe[Mn]:null;if(lt.set(Mn,Tn),"PUBLIC"===Tn.type){var cn=function(Tr){if(void 0===Tr&&(Tr=on()),"function"!=typeof Tr[Mn])throw rt.create("invalid-app-argument",{appName:Mn});return Tr[Mn]()};void 0!==Tn.serviceProps&&(0,Q.ZB)(cn,Tn.serviceProps),Xe[Mn]=cn,Le.prototype[Mn]=function(){for(var Tr=[],Rn=0;Rn<arguments.length;Rn++)Tr[Rn]=arguments[Rn];return this._getService.bind(this,Mn).apply(this,Tn.multipleInstances?Tr:[])}}for(var tr=0,Et=Object.keys(Pe);tr<Et.length;tr++)Pe[Et[tr]]._addComponent(Tn);return"PUBLIC"===Tn.type?Xe[Mn]:null}return Xe.default=Xe,Object.defineProperty(Xe,"apps",{get:function zt(){return Object.keys(Pe).map(function(Tn){return Pe[Tn]})}}),on.App=Le,Xe}(yt);return Le.INTERNAL=(0,a.pi)((0,a.pi)({},Le.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function Pe(lt){(0,Q.ZB)(Le,lt)},createSubscribe:Q.ne,ErrorFactory:Q.LL,deepExtend:Q.ZB}),Le}(),xt=function(){function Le(Pe){this.container=Pe}return Le.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(lt){if(function yn(Le){return"VERSION"===Le.getComponent()?.type}(lt)){var Xe=lt.getImmediate();return Xe.library+"/"+Xe.version}return null}).filter(function(lt){return lt}).join(" ")},Le}();if((0,Q.jU)()&&void 0!==self.firebase){Lt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Gt=self.firebase.SDK_VERSION;Gt&&Gt.indexOf("LITE")>=0&&Lt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var kn=qt.initializeApp;qt.initializeApp=function(){for(var Le=[],Pe=0;Pe<arguments.length;Pe++)Le[Pe]=arguments[Pe];return(0,Q.UG)()&&Lt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),kn.apply(void 0,Le)};var Oe=qt;!function wn(Le,Pe){Le.INTERNAL.registerComponent(new Y.wA("platform-logger",function(lt){return new xt(lt)},"PRIVATE")),Le.registerVersion(at,"0.6.30",Pe),Le.registerVersion("fire-js","")}(Oe);const Ee=Oe},2461:(an,pt,ae)=>{"use strict";ae.d(pt,{H0:()=>at,wA:()=>Y,zt:()=>ot});var a=ae(7582),Q=ae(492),Y=function(){function ze(oe,Ie,Ce){this.name=oe,this.instanceFactory=Ie,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ze.prototype.setInstantiationMode=function(oe){return this.instantiationMode=oe,this},ze.prototype.setMultipleInstances=function(oe){return this.multipleInstances=oe,this},ze.prototype.setServiceProps=function(oe){return this.serviceProps=oe,this},ze.prototype.setInstanceCreatedCallback=function(oe){return this.onInstanceCreated=oe,this},ze}(),De="[DEFAULT]",ot=function(){function ze(oe,Ie){this.name=oe,this.container=Ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ze.prototype.get=function(oe){var Ie=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(Ie)){var Ce=new Q.BH;if(this.instancesDeferred.set(Ie,Ce),this.isInitialized(Ie)||this.shouldAutoInitialize())try{var Qe=this.getOrInitializeService({instanceIdentifier:Ie});Qe&&Ce.resolve(Qe)}catch{}}return this.instancesDeferred.get(Ie).promise},ze.prototype.getImmediate=function(oe){var Ie,Ce=this.normalizeInstanceIdentifier(oe?.identifier),Qe=null!==(Ie=oe?.optional)&&void 0!==Ie&&Ie;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(Ge){if(Qe)return null;throw Ge}},ze.prototype.getComponent=function(){return this.component},ze.prototype.setComponent=function(oe){var Ie,Ce;if(oe.name!==this.name)throw Error("Mismatching Component "+oe.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=oe,this.shouldAutoInitialize()){if(function rt(ze){return"EAGER"===ze.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}try{for(var Qe=(0,a.XA)(this.instancesDeferred.entries()),Ge=Qe.next();!Ge.done;Ge=Qe.next()){var Me=(0,a.CR)(Ge.value,2),ut=Me[1],qe=this.normalizeInstanceIdentifier(Me[0]);try{var bn=this.getOrInitializeService({instanceIdentifier:qe});ut.resolve(bn)}catch{}}}catch(Dn){Ie={error:Dn}}finally{try{Ge&&!Ge.done&&(Ce=Qe.return)&&Ce.call(Qe)}finally{if(Ie)throw Ie.error}}}},ze.prototype.clearInstance=function(oe){void 0===oe&&(oe=De),this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)},ze.prototype.delete=function(){return(0,a.mG)(this,void 0,void 0,function(){var oe;return(0,a.Jh)(this,function(Ie){switch(Ie.label){case 0:return oe=Array.from(this.instances.values()),[4,Promise.all((0,a.ev)((0,a.ev)([],(0,a.CR)(oe.filter(function(Ce){return"INTERNAL"in Ce}).map(function(Ce){return Ce.INTERNAL.delete()}))),(0,a.CR)(oe.filter(function(Ce){return"_delete"in Ce}).map(function(Ce){return Ce._delete()}))))];case 1:return Ie.sent(),[2]}})})},ze.prototype.isComponentSet=function(){return null!=this.component},ze.prototype.isInitialized=function(oe){return void 0===oe&&(oe=De),this.instances.has(oe)},ze.prototype.getOptions=function(oe){return void 0===oe&&(oe=De),this.instancesOptions.get(oe)||{}},ze.prototype.initialize=function(oe){var Ie,Ce;void 0===oe&&(oe={});var Qe=oe.options,Ge=void 0===Qe?{}:Qe,Me=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(Me))throw Error(this.name+"("+Me+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ht=this.getOrInitializeService({instanceIdentifier:Me,options:Ge});try{for(var ut=(0,a.XA)(this.instancesDeferred.entries()),qe=ut.next();!qe.done;qe=ut.next()){var bn=(0,a.CR)(qe.value,2),Tt=bn[1];Me===this.normalizeInstanceIdentifier(bn[0])&&Tt.resolve(ht)}}catch(Je){Ie={error:Je}}finally{try{qe&&!qe.done&&(Ce=ut.return)&&Ce.call(ut)}finally{if(Ie)throw Ie.error}}return ht},ze.prototype.onInit=function(oe,Ie){var Ce,Qe=this.normalizeInstanceIdentifier(Ie),Ge=null!==(Ce=this.onInitCallbacks.get(Qe))&&void 0!==Ce?Ce:new Set;Ge.add(oe),this.onInitCallbacks.set(Qe,Ge);var Me=this.instances.get(Qe);return Me&&oe(Me,Qe),function(){Ge.delete(oe)}},ze.prototype.invokeOnInitCallbacks=function(oe,Ie){var Ce,Qe,Ge=this.onInitCallbacks.get(Ie);if(Ge)try{for(var Me=(0,a.XA)(Ge),ht=Me.next();!ht.done;ht=Me.next()){var ut=ht.value;try{ut(oe,Ie)}catch{}}}catch(qe){Ce={error:qe}}finally{try{ht&&!ht.done&&(Qe=Me.return)&&Qe.call(Me)}finally{if(Ce)throw Ce.error}}},ze.prototype.getOrInitializeService=function(oe){var Ie=oe.instanceIdentifier,Ce=oe.options,Qe=void 0===Ce?{}:Ce,Ge=this.instances.get(Ie);if(!Ge&&this.component&&(Ge=this.component.instanceFactory(this.container,{instanceIdentifier:he(Ie),options:Qe}),this.instances.set(Ie,Ge),this.instancesOptions.set(Ie,Qe),this.invokeOnInitCallbacks(Ge,Ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ie,Ge)}catch{}return Ge||null},ze.prototype.normalizeInstanceIdentifier=function(oe){return void 0===oe&&(oe=De),this.component?this.component.multipleInstances?oe:De:oe},ze.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ze}();function he(ze){return ze===De?void 0:ze}var at=function(){function ze(oe){this.name=oe,this.providers=new Map}return ze.prototype.addComponent=function(oe){var Ie=this.getProvider(oe.name);if(Ie.isComponentSet())throw new Error("Component "+oe.name+" has already been registered with "+this.name);Ie.setComponent(oe)},ze.prototype.addOrOverwriteComponent=function(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)},ze.prototype.getProvider=function(oe){if(this.providers.has(oe))return this.providers.get(oe);var Ie=new ot(oe,this);return this.providers.set(oe,Ie),Ie},ze.prototype.getProviders=function(){return Array.from(this.providers.values())},ze}()},6089:(an,pt,ae)=>{"use strict";var a=ae(8367),Q=ae(2461),Y=ae(492),De=ae(7582),ot=ae(4003);an=ae.hmd(an);var at="";function ze(m){at=m}var m,oe=function(){function m(g){this.domStorage_=g,this.prefix_="firebase:"}return m.prototype.set=function(g,_){null==_?this.domStorage_.removeItem(this.prefixedName_(g)):this.domStorage_.setItem(this.prefixedName_(g),(0,Y.Pz)(_))},m.prototype.get=function(g){var _=this.domStorage_.getItem(this.prefixedName_(g));return null==_?null:(0,Y.cI)(_)},m.prototype.remove=function(g){this.domStorage_.removeItem(this.prefixedName_(g))},m.prototype.prefixedName_=function(g){return this.prefix_+g},m.prototype.toString=function(){return this.domStorage_.toString()},m}(),Ie=function(){function m(){this.cache_={},this.isInMemoryStorage=!0}return m.prototype.set=function(g,_){null==_?delete this.cache_[g]:this.cache_[g]=_},m.prototype.get=function(g){return(0,Y.r3)(this.cache_,g)?this.cache_[g]:null},m.prototype.remove=function(g){delete this.cache_[g]},m}(),Ce=function(m){try{if(typeof window<"u"&&typeof window[m]<"u"){var g=window[m];return g.setItem("firebase:sentinel","cache"),g.removeItem("firebase:sentinel"),new oe(g)}}catch{}return new Ie},Qe=Ce("localStorage"),Ge=Ce("sessionStorage"),Me=new ot.Yd("@firebase/database"),ht=(m=1,function(){return m++}),ut=function(m){var g=(0,Y.dS)(m),_=new Y.gQ;_.update(g);var T=_.digest();return Y.US.encodeByteArray(T)},qe=function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];for(var _="",T=0;T<m.length;T++){var P=m[T];Array.isArray(P)||P&&"object"==typeof P&&"number"==typeof P.length?_+=qe.apply(null,P):_+="object"==typeof P?(0,Y.Pz)(P):P,_+=" "}return _},bn=null,Dn=!0,Tt=function(m,g){(0,Y.hu)(!g||!0===m||!1===m,"Can't turn on custom loggers persistently."),!0===m?(Me.logLevel=ot.in.VERBOSE,bn=Me.log.bind(Me),g&&Ge.set("logging_enabled",!0)):"function"==typeof m?bn=m:(bn=null,Ge.remove("logging_enabled"))},Ye=function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];if(!0===Dn&&(Dn=!1,null===bn&&!0===Ge.get("logging_enabled")&&Tt(!0)),bn){var _=qe.apply(null,m);bn(_)}},Je=function(m){return function(){for(var g=[],_=0;_<arguments.length;_++)g[_]=arguments[_];Ye.apply(void 0,(0,De.ev)([m],(0,De.CR)(g)))}},F=function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];var _="FIREBASE INTERNAL ERROR: "+qe.apply(void 0,(0,De.ev)([],(0,De.CR)(m)));Me.error(_)},Lt=function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];var _="FIREBASE FATAL ERROR: "+qe.apply(void 0,(0,De.ev)([],(0,De.CR)(m)));throw Me.error(_),new Error(_)},yt=function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];var _="FIREBASE WARNING: "+qe.apply(void 0,(0,De.ev)([],(0,De.CR)(m)));Me.warn(_)},br=function(m){return"number"==typeof m&&(m!=m||m===Number.POSITIVE_INFINITY||m===Number.NEGATIVE_INFINITY)},qt="[MIN_NAME]",xt="[MAX_NAME]",yn=function(m,g){if(m===g)return 0;if(m===qt||g===xt)return-1;if(g===qt||m===xt)return 1;var _=zt(m),T=zt(g);return null!==_?null!==T?_-T==0?m.length-g.length:_-T:-1:null!==T?1:m<g?-1:1},wn=function(m,g){return m===g?0:m<g?-1:1},Gt=function(m,g){if(g&&m in g)return g[m];throw new Error("Missing required key ("+m+") in object: "+(0,Y.Pz)(g))},kn=function(m){if("object"!=typeof m||null===m)return(0,Y.Pz)(m);var g=[];for(var _ in m)g.push(_);g.sort();for(var T="{",P=0;P<g.length;P++)0!==P&&(T+=","),T+=(0,Y.Pz)(g[P]),T+=":",T+=kn(m[g[P]]);return T+"}"},Oe=function(m,g){var _=m.length;if(_<=g)return[m];for(var T=[],P=0;P<_;P+=g)T.push(m.substring(P,P+g>_?_:P+g));return T};function Ee(m,g){for(var _ in m)m.hasOwnProperty(_)&&g(_,m[_])}var Le=function(m){(0,Y.hu)(!br(m),"Invalid JSON number");var P,L,q,re,ie,T=1023;0===m?(L=0,q=0,P=1/m==-1/0?1:0):(P=m<0,(m=Math.abs(m))>=Math.pow(2,1-T)?(L=(re=Math.min(Math.floor(Math.log(m)/Math.LN2),T))+T,q=Math.round(m*Math.pow(2,52-re)-Math.pow(2,52))):(L=0,q=Math.round(m/Math.pow(2,-1074))));var fe=[];for(ie=52;ie;ie-=1)fe.push(q%2?1:0),q=Math.floor(q/2);for(ie=11;ie;ie-=1)fe.push(L%2?1:0),L=Math.floor(L/2);fe.push(P?1:0),fe.reverse();var _e=fe.join(""),Be="";for(ie=0;ie<64;ie+=8){var dt=parseInt(_e.substr(ie,8),2).toString(16);1===dt.length&&(dt="0"+dt),Be+=dt}return Be.toLowerCase()},$t=new RegExp("^-?(0*)\\d{1,10}$"),on=-2147483648,Lr=2147483647,zt=function(m){if($t.test(m)){var g=Number(m);if(g>=on&&g<=Lr)return g}return null},zn=function(m){try{m()}catch(g){setTimeout(function(){throw yt("Exception was thrown by user callback.",g.stack||""),g},Math.floor(0))}},er=function(m,g){var _=setTimeout(m,g);return"object"==typeof _&&_.unref&&_.unref(),_},ci=function(){function m(g,_){var T=this;this.appName_=g,this.appCheckProvider=_,this.appCheck=_?.getImmediate({optional:!0}),this.appCheck||_?.get().then(function(P){return T.appCheck=P})}return m.prototype.getToken=function(g){var _=this;return this.appCheck?this.appCheck.getToken(g):new Promise(function(T,P){setTimeout(function(){_.appCheck?_.getToken(g).then(T,P):T(null)},0)})},m.prototype.addTokenChangeListener=function(g){var _;null===(_=this.appCheckProvider)||void 0===_||_.get().then(function(T){return T.addTokenListener(g)})},m.prototype.notifyForInvalidToken=function(){yt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},m}(),Tn=function(){function m(g,_,T){var P=this;this.appName_=g,this.firebaseOptions_=_,this.authProvider_=T,this.auth_=null,this.auth_=T.getImmediate({optional:!0}),this.auth_||T.onInit(function(L){return P.auth_=L})}return m.prototype.getToken=function(g){var _=this;return this.auth_?this.auth_.getToken(g).catch(function(T){return T&&"auth/token-not-initialized"===T.code?(Ye("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(T)}):new Promise(function(T,P){setTimeout(function(){_.auth_?_.getToken(g).then(T,P):T(null)},0)})},m.prototype.addTokenChangeListener=function(g){this.auth_?this.auth_.addAuthTokenListener(g):this.authProvider_.get().then(function(_){return _.addAuthTokenListener(g)})},m.prototype.removeTokenChangeListener=function(g){this.authProvider_.get().then(function(_){return _.removeAuthTokenListener(g)})},m.prototype.notifyForInvalidToken=function(){var g='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';yt(g+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},m}(),Mn=function(){function m(g){this.accessToken=g}return m.prototype.getToken=function(g){return Promise.resolve({accessToken:this.accessToken})},m.prototype.addTokenChangeListener=function(g){g(this.accessToken)},m.prototype.removeTokenChangeListener=function(g){},m.prototype.notifyForInvalidToken=function(){},m.OWNER="owner",m}(),Rn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Wi="websocket",Nt="long_polling",Wt=function(){function m(g,_,T,P,L,q,re){void 0===L&&(L=!1),void 0===q&&(q=""),void 0===re&&(re=!1),this.secure=_,this.namespace=T,this.webSocketOnly=P,this.nodeAdmin=L,this.persistenceKey=q,this.includeNamespaceInQueryParams=re,this._host=g.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qe.get("host:"+g)||this._host}return m.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},m.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(m.prototype,"host",{get:function(){return this._host},set:function(g){g!==this.internalHost&&(this.internalHost=g,this.isCacheableHost()&&Qe.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),m.prototype.toString=function(){var g=this.toURLString();return this.persistenceKey&&(g+="<"+this.persistenceKey+">"),g},m.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},m}();function mi(m,g,_){var T;if((0,Y.hu)("string"==typeof g,"typeof type must == string"),(0,Y.hu)("object"==typeof _,"typeof params must == object"),g===Wi)T=(m.secure?"wss://":"ws://")+m.internalHost+"/.ws?";else{if(g!==Nt)throw new Error("Unknown connection type: "+g);T=(m.secure?"https://":"http://")+m.internalHost+"/.lp?"}(function _n(m){return m.host!==m.internalHost||m.isCustomHost()||m.includeNamespaceInQueryParams})(m)&&(_.ns=m.namespace);var P=[];return Ee(_,function(L,q){P.push(L+"="+q)}),T+P.join("&")}var Or=function(){function m(){this.counters_={}}return m.prototype.incrementCounter=function(g,_){void 0===_&&(_=1),(0,Y.r3)(this.counters_,g)||(this.counters_[g]=0),this.counters_[g]+=_},m.prototype.get=function(){return(0,Y.p$)(this.counters_)},m}(),To={},ji={};function hn(m){var g=m.toString();return To[g]||(To[g]=new Or),To[g]}var Fn=function(){function m(g){this.onMessage_=g,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return m.prototype.closeAfter=function(g,_){this.closeAfterResponse=g,this.onClose=_,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},m.prototype.handleResponse=function(g,_){var T=this;this.pendingResponses[g]=_;for(var P=function(){var re=L.pendingResponses[L.currentResponseNum];delete L.pendingResponses[L.currentResponseNum];for(var ie=function(_e){re[_e]&&zn(function(){T.onMessage_(re[_e])})},fe=0;fe<re.length;++fe)ie(fe);if(L.currentResponseNum===L.closeAfterResponse)return L.onClose&&(L.onClose(),L.onClose=null),"break";L.currentResponseNum++},L=this;this.pendingResponses[this.currentResponseNum]&&"break"!==P(););},m}(),Ao=function(){function m(g,_,T,P,L,q,re){var ie=this;this.connId=g,this.repoInfo=_,this.applicationId=T,this.appCheckToken=P,this.authToken=L,this.transportSessionId=q,this.lastSessionId=re,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Je(g),this.stats_=hn(_),this.urlFn=function(fe){return ie.appCheckToken&&(fe.ac=ie.appCheckToken),mi(_,Nt,fe)}}return m.prototype.open=function(g,_){var T=this;this.curSegmentNum=0,this.onDisconnect_=_,this.myPacketOrderer=new Fn(g),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){T.log_("Timed out trying to connect."),T.onClosed_(),T.connectTimeoutTimer_=null},Math.floor(3e4)),function(m){if((0,Y.Yr)()||"complete"===document.readyState)m();else{var g=!1,_=function(){document.body?g||(g=!0,m()):setTimeout(_,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",_,!1),window.addEventListener("load",_,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&_()}),window.attachEvent("onload",_))}}(function(){if(!T.isClosed_){T.scriptTagHolder=new Do(function(){for(var q=[],re=0;re<arguments.length;re++)q[re]=arguments[re];var ie=(0,De.CR)(q,5),fe=ie[0],_e=ie[1],Be=ie[2];if(T.incrementIncomingBytes_(q),T.scriptTagHolder)if(T.connectTimeoutTimer_&&(clearTimeout(T.connectTimeoutTimer_),T.connectTimeoutTimer_=null),T.everConnected_=!0,"start"===fe)T.id=_e,T.password=Be;else{if("close"!==fe)throw new Error("Unrecognized command received: "+fe);_e?(T.scriptTagHolder.sendNewPolls=!1,T.myPacketOrderer.closeAfter(_e,function(){T.onClosed_()})):T.onClosed_()}},function(){for(var q=[],re=0;re<arguments.length;re++)q[re]=arguments[re];var ie=(0,De.CR)(q,2),fe=ie[0],_e=ie[1];T.incrementIncomingBytes_(q),T.myPacketOrderer.handleResponse(fe,_e)},function(){T.onClosed_()},T.urlFn);var P={start:"t"};P.ser=Math.floor(1e8*Math.random()),T.scriptTagHolder.uniqueCallbackIdentifier&&(P.cb=T.scriptTagHolder.uniqueCallbackIdentifier),P.v="5",T.transportSessionId&&(P.s=T.transportSessionId),T.lastSessionId&&(P.ls=T.lastSessionId),T.applicationId&&(P.p=T.applicationId),T.appCheckToken&&(P.ac=T.appCheckToken),typeof location<"u"&&location.hostname&&Rn.test(location.hostname)&&(P.r="f");var L=T.urlFn(P);T.log_("Connecting via long-poll to "+L),T.scriptTagHolder.addTag(L,function(){})}})},m.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},m.forceAllow=function(){m.forceAllow_=!0},m.forceDisallow=function(){m.forceDisallow_=!0},m.isAvailable=function(){return!((0,Y.Yr)()||!m.forceAllow_&&(m.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},m.prototype.markConnectionHealthy=function(){},m.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},m.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},m.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},m.prototype.send=function(g){var _=(0,Y.Pz)(g);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);for(var T=(0,Y.h$)(_),P=Oe(T,1840),L=0;L<P.length;L++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,P.length,P[L]),this.curSegmentNum++},m.prototype.addDisconnectPingFrame=function(g,_){if(!(0,Y.Yr)()){this.myDisconnFrame=document.createElement("iframe");var T={dframe:"t"};T.id=g,T.pw=_,this.myDisconnFrame.src=this.urlFn(T),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},m.prototype.incrementIncomingBytes_=function(g){var _=(0,Y.Pz)(g).length;this.bytesReceived+=_,this.stats_.incrementCounter("bytes_received",_)},m}(),Do=function(){function m(g,_,T,P){if(this.onDisconnect=T,this.urlFn=P,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Y.Yr)())this.commandCB=g,this.onMessageCB=_;else{this.uniqueCallbackIdentifier=ht(),window["pLPCommand"+this.uniqueCallbackIdentifier]=g,window["pRTLPCB"+this.uniqueCallbackIdentifier]=_,this.myIFrame=m.createIFrame_();var L="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(L='<script>document.domain="'+document.domain+'";<\/script>');var re="<html><body>"+L+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(re),this.myIFrame.doc.close()}catch(ie){Ye("frame writing exception"),ie.stack&&Ye(ie.stack),Ye(ie)}}}return m.createIFrame_=function(){var g=document.createElement("iframe");if(g.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(g);try{g.contentWindow.document||Ye("No IE domain setting required")}catch{var T=document.domain;g.src="javascript:void((function(){document.open();document.domain='"+T+"';document.close();})())"}return g.contentDocument?g.doc=g.contentDocument:g.contentWindow?g.doc=g.contentWindow.document:g.document&&(g.doc=g.document),g},m.prototype.close=function(){var g=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==g.myIFrame&&(document.body.removeChild(g.myIFrame),g.myIFrame=null)},Math.floor(0)));var _=this.onDisconnect;_&&(this.onDisconnect=null,_())},m.prototype.startLongPoll=function(g,_){for(this.myID=g,this.myPW=_,this.alive=!0;this.newRequest_(););},m.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var g={};g.id=this.myID,g.pw=this.myPW,g.ser=this.currentSerial;for(var _=this.urlFn(g),T="",P=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+T.length<=1870;){var q=this.pendingSegs.shift();T=T+"&seg"+P+"="+q.seg+"&ts"+P+"="+q.ts+"&d"+P+"="+q.d,P++}return this.addLongPollTag_(_+=T,this.currentSerial),!0}return!1},m.prototype.enqueueSegment=function(g,_,T){this.pendingSegs.push({seg:g,ts:_,d:T}),this.alive&&this.newRequest_()},m.prototype.addLongPollTag_=function(g,_){var T=this;this.outstandingRequests.add(_);var P=function(){T.outstandingRequests.delete(_),T.newRequest_()},L=setTimeout(P,Math.floor(25e3));this.addTag(g,function(){clearTimeout(L),P()})},m.prototype.addTag=function(g,_){var T=this;(0,Y.Yr)()?this.doNodeLongPoll(g,_):setTimeout(function(){try{if(!T.sendNewPolls)return;var P=T.myIFrame.doc.createElement("script");P.type="text/javascript",P.async=!0,P.src=g,P.onload=P.onreadystatechange=function(){var L=P.readyState;(!L||"loaded"===L||"complete"===L)&&(P.onload=P.onreadystatechange=null,P.parentNode&&P.parentNode.removeChild(P),_())},P.onerror=function(){Ye("Long-poll script failed to load: "+g),T.sendNewPolls=!1,T.close()},T.myIFrame.doc.body.appendChild(P)}catch{}},Math.floor(1))},m}(),Pn=null;typeof MozWebSocket<"u"?Pn=MozWebSocket:typeof WebSocket<"u"&&(Pn=WebSocket);var Ir=function(){function m(g,_,T,P,L,q,re){this.connId=g,this.applicationId=T,this.appCheckToken=P,this.authToken=L,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Je(this.connId),this.stats_=hn(_),this.connURL=m.connectionURL_(_,q,re,P),this.nodeAdmin=_.nodeAdmin}return m.connectionURL_=function(g,_,T,P){var L={v:"5"};return!(0,Y.Yr)()&&typeof location<"u"&&location.hostname&&Rn.test(location.hostname)&&(L.r="f"),_&&(L.s=_),T&&(L.ls=T),P&&(L.ac=P),mi(g,Wi,L)},m.prototype.open=function(g,_){var T=this;this.onDisconnect=_,this.onMessage=g,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qe.set("previous_websocket_failure",!0);try{if((0,Y.Yr)()){var L={headers:{"User-Agent":"Firebase/5/"+at+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(L.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(L.headers["X-Firebase-AppCheck"]=this.appCheckToken);var q=process.env,re=0===this.connURL.indexOf("wss://")?q.HTTPS_PROXY||q.https_proxy:q.HTTP_PROXY||q.http_proxy;re&&(L.proxy={origin:re}),this.mySock=new Pn(this.connURL,[],L)}else this.mySock=new Pn(this.connURL,[],L={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(fe){this.log_("Error instantiating WebSocket.");var ie=fe.message||fe.data;return ie&&this.log_(ie),void this.onClosed_()}this.mySock.onopen=function(){T.log_("Websocket connected."),T.everConnected_=!0},this.mySock.onclose=function(){T.log_("Websocket connection was disconnected."),T.mySock=null,T.onClosed_()},this.mySock.onmessage=function(fe){T.handleIncomingFrame(fe)},this.mySock.onerror=function(fe){T.log_("WebSocket error.  Closing connection.");var _e=fe.message||fe.data;_e&&T.log_(_e),T.onClosed_()}},m.prototype.start=function(){},m.forceDisallow=function(){m.forceDisallow_=!0},m.isAvailable=function(){var g=!1;if(typeof navigator<"u"&&navigator.userAgent){var T=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);T&&T.length>1&&parseFloat(T[1])<4.4&&(g=!0)}return!g&&null!==Pn&&!m.forceDisallow_},m.previouslyFailed=function(){return Qe.isInMemoryStorage||!0===Qe.get("previous_websocket_failure")},m.prototype.markConnectionHealthy=function(){Qe.remove("previous_websocket_failure")},m.prototype.appendFrame_=function(g){if(this.frames.push(g),this.frames.length===this.totalFrames){var _=this.frames.join("");this.frames=null;var T=(0,Y.cI)(_);this.onMessage(T)}},m.prototype.handleNewFrameCount_=function(g){this.totalFrames=g,this.frames=[]},m.prototype.extractFrameCount_=function(g){if((0,Y.hu)(null===this.frames,"We already have a frame buffer"),g.length<=6){var _=Number(g);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),g},m.prototype.handleIncomingFrame=function(g){if(null!==this.mySock){var _=g.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{var T=this.extractFrameCount_(_);null!==T&&this.appendFrame_(T)}}},m.prototype.send=function(g){this.resetKeepAlive();var _=(0,Y.Pz)(g);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);var T=Oe(_,16384);T.length>1&&this.sendString_(String(T.length));for(var P=0;P<T.length;P++)this.sendString_(T[P])},m.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},m.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},m.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},m.prototype.resetKeepAlive=function(){var g=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){g.mySock&&g.sendString_("0"),g.resetKeepAlive()},Math.floor(45e3))},m.prototype.sendString_=function(g){try{this.mySock.send(g)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},m.responsesRequiredToBeHealthy=2,m.healthyTimeout=3e4,m}(),Hi=function(){function m(g){this.initTransports_(g)}return Object.defineProperty(m,"ALL_TRANSPORTS",{get:function(){return[Ao,Ir]},enumerable:!1,configurable:!0}),m.prototype.initTransports_=function(g){var _,T,P=Ir&&Ir.isAvailable(),L=P&&!Ir.previouslyFailed();if(g.webSocketOnly&&(P||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),L=!0),L)this.transports_=[Ir];else{var q=this.transports_=[];try{for(var re=(0,De.XA)(m.ALL_TRANSPORTS),ie=re.next();!ie.done;ie=re.next()){var fe=ie.value;fe&&fe.isAvailable()&&q.push(fe)}}catch(_e){_={error:_e}}finally{try{ie&&!ie.done&&(T=re.return)&&T.call(re)}finally{if(_)throw _.error}}}},m.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},m.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},m}(),_i=function(){function m(g,_,T,P,L,q,re,ie,fe,_e){this.id=g,this.repoInfo_=_,this.applicationId_=T,this.appCheckToken_=P,this.authToken_=L,this.onMessage_=q,this.onReady_=re,this.onDisconnect_=ie,this.onKill_=fe,this.lastSessionId=_e,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Je("c:"+this.id+":"),this.transportManager_=new Hi(_),this.log_("Connection created"),this.start_()}return m.prototype.start_=function(){var g=this,_=this.transportManager_.initialTransport();this.conn_=new _(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=_.responsesRequiredToBeHealthy||0;var T=this.connReceiver_(this.conn_),P=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){g.conn_&&g.conn_.open(T,P)},Math.floor(0));var L=_.healthyTimeout||0;L>0&&(this.healthyTimeout_=er(function(){g.healthyTimeout_=null,g.isHealthy_||(g.conn_&&g.conn_.bytesReceived>102400?(g.log_("Connection exceeded healthy timeout but has received "+g.conn_.bytesReceived+" bytes.  Marking connection healthy."),g.isHealthy_=!0,g.conn_.markConnectionHealthy()):g.conn_&&g.conn_.bytesSent>10240?g.log_("Connection exceeded healthy timeout but has sent "+g.conn_.bytesSent+" bytes.  Leaving connection alive."):(g.log_("Closing unhealthy connection after timeout."),g.close()))},Math.floor(L)))},m.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},m.prototype.disconnReceiver_=function(g){var _=this;return function(T){g===_.conn_?_.onConnectionLost_(T):g===_.secondaryConn_?(_.log_("Secondary connection lost."),_.onSecondaryConnectionLost_()):_.log_("closing an old connection")}},m.prototype.connReceiver_=function(g){var _=this;return function(T){2!==_.state_&&(g===_.rx_?_.onPrimaryMessageReceived_(T):g===_.secondaryConn_?_.onSecondaryMessageReceived_(T):_.log_("message on old connection"))}},m.prototype.sendRequest=function(g){this.sendData_({t:"d",d:g})},m.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},m.prototype.onSecondaryControl_=function(g){if("t"in g){var _=g.t;"a"===_?this.upgradeIfSecondaryHealthy_():"r"===_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},m.prototype.onSecondaryMessageReceived_=function(g){var _=Gt("t",g),T=Gt("d",g);if("c"===_)this.onSecondaryControl_(T);else{if("d"!==_)throw new Error("Unknown protocol layer: "+_);this.pendingDataMessages.push(T)}},m.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},m.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},m.prototype.onPrimaryMessageReceived_=function(g){var _=Gt("t",g),T=Gt("d",g);"c"===_?this.onControl_(T):"d"===_&&this.onDataMessage_(T)},m.prototype.onDataMessage_=function(g){this.onPrimaryResponse_(),this.onMessage_(g)},m.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},m.prototype.onControl_=function(g){var _=Gt("t",g);if("d"in g){var T=g.d;if("h"===_)this.onHandshake_(T);else if("n"===_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var P=0;P<this.pendingDataMessages.length;++P)this.onDataMessage_(this.pendingDataMessages[P]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===_?this.onConnectionShutdown_(T):"r"===_?this.onReset_(T):"e"===_?F("Server Error: "+T):"o"===_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):F("Unknown control packet command: "+_)}},m.prototype.onHandshake_=function(g){var _=g.ts,T=g.v,P=g.h;this.sessionId=g.s,this.repoInfo_.host=P,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,_),"5"!==T&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())},m.prototype.tryStartUpgrade_=function(){var g=this.transportManager_.upgradeTransport();g&&this.startUpgrade_(g)},m.prototype.startUpgrade_=function(g){var _=this;this.secondaryConn_=new g(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=g.responsesRequiredToBeHealthy||0;var T=this.connReceiver_(this.secondaryConn_),P=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(T,P),er(function(){_.secondaryConn_&&(_.log_("Timed out trying to upgrade."),_.secondaryConn_.close())},Math.floor(6e4))},m.prototype.onReset_=function(g){this.log_("Reset packet received.  New host: "+g),this.repoInfo_.host=g,1===this.state_?this.close():(this.closeConnections_(),this.start_())},m.prototype.onConnectionEstablished_=function(g,_){var T=this;this.log_("Realtime connection established."),this.conn_=g,this.state_=1,this.onReady_&&(this.onReady_(_,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):er(function(){T.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},m.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},m.prototype.onSecondaryConnectionLost_=function(){var g=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===g||this.rx_===g)&&this.close()},m.prototype.onConnectionLost_=function(g){this.conn_=null,g||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qe.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},m.prototype.onConnectionShutdown_=function(g){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(g),this.onKill_=null),this.onDisconnect_=null,this.close()},m.prototype.sendData_=function(g){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(g)},m.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},m.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},m}(),Ia=function(){function m(){}return m.prototype.put=function(g,_,T,P){},m.prototype.merge=function(g,_,T,P){},m.prototype.refreshAuthToken=function(g){},m.prototype.refreshAppCheckToken=function(g){},m.prototype.onDisconnectPut=function(g,_,T){},m.prototype.onDisconnectMerge=function(g,_,T){},m.prototype.onDisconnectCancel=function(g,_){},m.prototype.reportStats=function(g){},m}(),xc=function(){function m(g){this.allowedEvents_=g,this.listeners_={},(0,Y.hu)(Array.isArray(g)&&g.length>0,"Requires a non-empty array")}return m.prototype.trigger=function(g){for(var _=[],T=1;T<arguments.length;T++)_[T-1]=arguments[T];if(Array.isArray(this.listeners_[g]))for(var P=(0,De.ev)([],(0,De.CR)(this.listeners_[g])),L=0;L<P.length;L++)P[L].callback.apply(P[L].context,_)},m.prototype.on=function(g,_,T){this.validateEventType_(g),this.listeners_[g]=this.listeners_[g]||[],this.listeners_[g].push({callback:_,context:T});var P=this.getInitialEvent(g);P&&_.apply(T,P)},m.prototype.off=function(g,_,T){this.validateEventType_(g);for(var P=this.listeners_[g]||[],L=0;L<P.length;L++)if(P[L].callback===_&&(!T||T===P[L].context))return void P.splice(L,1)},m.prototype.validateEventType_=function(g){(0,Y.hu)(this.allowedEvents_.find(function(_){return _===g}),"Unknown event: "+g)},m}(),Nr=function(m){function g(){var _=m.call(this,["online"])||this;return _.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Y.uI)()&&(window.addEventListener("online",function(){_.online_||(_.online_=!0,_.trigger("online",!0))},!1),window.addEventListener("offline",function(){_.online_&&(_.online_=!1,_.trigger("online",!1))},!1)),_}return(0,De.ZT)(g,m),g.getInstance=function(){return new g},g.prototype.getInitialEvent=function(_){return(0,Y.hu)("online"===_,"Unknown event type: "+_),[this.online_]},g.prototype.currentlyOnline=function(){return this.online_},g}(xc),sr=function(){function m(g,_){if(void 0===_){this.pieces_=g.split("/");for(var T=0,P=0;P<this.pieces_.length;P++)this.pieces_[P].length>0&&(this.pieces_[T]=this.pieces_[P],T++);this.pieces_.length=T,this.pieceNum_=0}else this.pieces_=g,this.pieceNum_=_}return m.prototype.toString=function(){for(var g="",_=this.pieceNum_;_<this.pieces_.length;_++)""!==this.pieces_[_]&&(g+="/"+this.pieces_[_]);return g||"/"},m}();function fr(){return new sr("")}function Jt(m){return m.pieceNum_>=m.pieces_.length?null:m.pieces_[m.pieceNum_]}function So(m){return m.pieces_.length-m.pieceNum_}function jn(m){var g=m.pieceNum_;return g<m.pieces_.length&&g++,new sr(m.pieces_,g)}function Sn(m){return m.pieceNum_<m.pieces_.length?m.pieces_[m.pieces_.length-1]:null}function Li(m,g){return void 0===g&&(g=0),m.pieces_.slice(m.pieceNum_+g)}function bi(m){if(m.pieceNum_>=m.pieces_.length)return null;for(var g=[],_=m.pieceNum_;_<m.pieces_.length-1;_++)g.push(m.pieces_[_]);return new sr(g,0)}function kr(m,g){for(var _=[],T=m.pieceNum_;T<m.pieces_.length;T++)_.push(m.pieces_[T]);if(g instanceof sr)for(T=g.pieceNum_;T<g.pieces_.length;T++)_.push(g.pieces_[T]);else{var P=g.split("/");for(T=0;T<P.length;T++)P[T].length>0&&_.push(P[T])}return new sr(_,0)}function Bn(m){return m.pieceNum_>=m.pieces_.length}function Ei(m,g){var _=Jt(m),T=Jt(g);if(null===_)return g;if(_===T)return Ei(jn(m),jn(g));throw new Error("INTERNAL ERROR: innerPath ("+g+") is not within outerPath ("+m+")")}function Qo(m,g){for(var _=Li(m,0),T=Li(g,0),P=0;P<_.length&&P<T.length;P++){var L=yn(_[P],T[P]);if(0!==L)return L}return _.length===T.length?0:_.length<T.length?-1:1}function $l(m,g){if(So(m)!==So(g))return!1;for(var _=m.pieceNum_,T=g.pieceNum_;_<=m.pieces_.length;_++,T++)if(m.pieces_[_]!==g.pieces_[T])return!1;return!0}function ys(m,g){var _=m.pieceNum_,T=g.pieceNum_;if(So(m)>So(g))return!1;for(;_<m.pieces_.length;){if(m.pieces_[_]!==g.pieces_[T])return!1;++_,++T}return!0}var fo=function m(g,_){this.errorPrefix_=_,this.parts_=Li(g,0),this.byteLength_=Math.max(1,this.parts_.length);for(var T=0;T<this.parts_.length;T++)this.byteLength_+=(0,Y.ug)(this.parts_[T]);Jo(this)};function Jo(m){if(m.byteLength_>768)throw new Error(m.errorPrefix_+"has a key path longer than 768 bytes ("+m.byteLength_+").");if(m.parts_.length>32)throw new Error(m.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ks(m))}function ks(m){return 0===m.parts_.length?"":"in property '"+m.parts_.join(".")+"'"}var Yt,iu,la=function(m){function g(){var T,P,_=m.call(this,["visible"])||this;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(P="visibilitychange",T="hidden"):typeof document.mozHidden<"u"?(P="mozvisibilitychange",T="mozHidden"):typeof document.msHidden<"u"?(P="msvisibilitychange",T="msHidden"):typeof document.webkitHidden<"u"&&(P="webkitvisibilitychange",T="webkitHidden")),_.visible_=!0,P&&document.addEventListener(P,function(){var L=!document[T];L!==_.visible_&&(_.visible_=L,_.trigger("visible",L))},!1),_}return(0,De.ZT)(g,m),g.getInstance=function(){return new g},g.prototype.getInitialEvent=function(_){return(0,Y.hu)("visible"===_,"Unknown event type: "+_),[this.visible_]},g}(xc),Rs=1e3,_s=function(m){function g(_,T,P,L,q,re,ie,fe){var _e=m.call(this)||this;if(_e.repoInfo_=_,_e.applicationId_=T,_e.onDataUpdate_=P,_e.onConnectStatus_=L,_e.onServerInfoUpdate_=q,_e.authTokenProvider_=re,_e.appCheckTokenProvider_=ie,_e.authOverride_=fe,_e.id=g.nextPersistentConnectionId_++,_e.log_=Je("p:"+_e.id+":"),_e.interruptReasons_={},_e.listens=new Map,_e.outstandingPuts_=[],_e.outstandingGets_=[],_e.outstandingPutCount_=0,_e.outstandingGetCount_=0,_e.onDisconnectRequestQueue_=[],_e.connected_=!1,_e.reconnectDelay_=Rs,_e.maxReconnectDelay_=3e5,_e.securityDebugCallback_=null,_e.lastSessionId=null,_e.establishConnectionTimer_=null,_e.visible_=!1,_e.requestCBHash_={},_e.requestNumber_=0,_e.realtime_=null,_e.authToken_=null,_e.appCheckToken_=null,_e.forceTokenRefresh_=!1,_e.invalidAuthTokenCount_=0,_e.invalidAppCheckTokenCount_=0,_e.firstConnection_=!0,_e.lastConnectionAttemptTime_=null,_e.lastConnectionEstablishedTime_=null,fe&&!(0,Y.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return la.getInstance().on("visible",_e.onVisible_,_e),-1===_.host.indexOf("fblocal")&&Nr.getInstance().on("online",_e.onOnline_,_e),_e}return(0,De.ZT)(g,m),g.prototype.sendRequest=function(_,T,P){var L=++this.requestNumber_,q={r:L,a:_,b:T};this.log_((0,Y.Pz)(q)),(0,Y.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(q),P&&(this.requestCBHash_[L]=P)},g.prototype.get=function(_){var T=this;this.initConnection_();var P=new Y.BH,L={p:_._path.toString(),q:_._queryObject},q={action:"g",request:L,onComplete:function(ie){var fe=ie.d;"ok"===ie.s?(T.onDataUpdate_(L.p,fe,!1,null),P.resolve(fe)):P.reject(fe)}};this.outstandingGets_.push(q),this.outstandingGetCount_++;var re=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var ie=T.outstandingGets_[re];void 0===ie||q!==ie||(delete T.outstandingGets_[re],T.outstandingGetCount_--,0===T.outstandingGetCount_&&(T.outstandingGets_=[]),T.log_("get "+re+" timed out on connection"),P.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(re),P.promise},g.prototype.listen=function(_,T,P,L){this.initConnection_();var q=_._queryIdentifier,re=_._path.toString();this.log_("Listen called for "+re+" "+q),this.listens.has(re)||this.listens.set(re,new Map),(0,Y.hu)(_._queryParams.isDefault()||!_._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Y.hu)(!this.listens.get(re).has(q),"listen() called twice for same path/queryId.");var ie={onComplete:L,hashFn:T,query:_,tag:P};this.listens.get(re).set(q,ie),this.connected_&&this.sendListen_(ie)},g.prototype.sendGet_=function(_){var T=this,P=this.outstandingGets_[_];this.sendRequest("g",P.request,function(L){delete T.outstandingGets_[_],T.outstandingGetCount_--,0===T.outstandingGetCount_&&(T.outstandingGets_=[]),P.onComplete&&P.onComplete(L)})},g.prototype.sendListen_=function(_){var T=this,P=_.query,L=P._path.toString(),q=P._queryIdentifier;this.log_("Listen on "+L+" for "+q);var re={p:L};_.tag&&(re.q=P._queryObject,re.t=_.tag),re.h=_.hashFn(),this.sendRequest("q",re,function(fe){var _e=fe.d,Be=fe.s;g.warnOnListenWarnings_(_e,P),(T.listens.get(L)&&T.listens.get(L).get(q))===_&&(T.log_("listen response",fe),"ok"!==Be&&T.removeListen_(L,q),_.onComplete&&_.onComplete(Be,_e))})},g.warnOnListenWarnings_=function(_,T){if(_&&"object"==typeof _&&(0,Y.r3)(_,"w")){var P=(0,Y.DV)(_,"w");if(Array.isArray(P)&&~P.indexOf("no_index")){var L='".indexOn": "'+T._queryParams.getIndex().toString()+'"',q=T._path.toString();yt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+L+" at "+q+" to your security rules for better performance.")}}},g.prototype.refreshAuthToken=function(_){this.authToken_=_,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(_)},g.prototype.reduceReconnectDelayIfAdminCredential_=function(_){(_&&40===_.length||(0,Y.GJ)(_))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},g.prototype.refreshAppCheckToken=function(_){this.appCheckToken_=_,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},g.prototype.tryAuth=function(){var _=this;if(this.connected_&&this.authToken_){var T=this.authToken_,P=(0,Y.w9)(T)?"auth":"gauth",L={cred:T};null===this.authOverride_?L.noauth=!0:"object"==typeof this.authOverride_&&(L.authvar=this.authOverride_),this.sendRequest(P,L,function(q){var re=q.s,ie=q.d||"error";_.authToken_===T&&("ok"===re?_.invalidAuthTokenCount_=0:_.onAuthRevoked_(re,ie))})}},g.prototype.tryAppCheck=function(){var _=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(T){var P=T.s,L=T.d||"error";"ok"===P?_.invalidAppCheckTokenCount_=0:_.onAppCheckRevoked_(P,L)})},g.prototype.unlisten=function(_,T){var P=_._path.toString(),L=_._queryIdentifier;this.log_("Unlisten called for "+P+" "+L),(0,Y.hu)(_._queryParams.isDefault()||!_._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(P,L)&&this.connected_&&this.sendUnlisten_(P,L,_._queryObject,T)},g.prototype.sendUnlisten_=function(_,T,P,L){this.log_("Unlisten on "+_+" for "+T);var q={p:_};L&&(q.q=P,q.t=L),this.sendRequest("n",q)},g.prototype.onDisconnectPut=function(_,T,P){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",_,T,P):this.onDisconnectRequestQueue_.push({pathString:_,action:"o",data:T,onComplete:P})},g.prototype.onDisconnectMerge=function(_,T,P){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",_,T,P):this.onDisconnectRequestQueue_.push({pathString:_,action:"om",data:T,onComplete:P})},g.prototype.onDisconnectCancel=function(_,T){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",_,null,T):this.onDisconnectRequestQueue_.push({pathString:_,action:"oc",data:null,onComplete:T})},g.prototype.sendOnDisconnect_=function(_,T,P,L){var q={p:T,d:P};this.log_("onDisconnect "+_,q),this.sendRequest(_,q,function(re){L&&setTimeout(function(){L(re.s,re.d)},Math.floor(0))})},g.prototype.put=function(_,T,P,L){this.putInternal("p",_,T,P,L)},g.prototype.merge=function(_,T,P,L){this.putInternal("m",_,T,P,L)},g.prototype.putInternal=function(_,T,P,L,q){this.initConnection_();var re={p:T,d:P};void 0!==q&&(re.h=q),this.outstandingPuts_.push({action:_,request:re,onComplete:L}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+T)},g.prototype.sendPut_=function(_){var T=this,P=this.outstandingPuts_[_].action,L=this.outstandingPuts_[_].request,q=this.outstandingPuts_[_].onComplete;this.outstandingPuts_[_].queued=this.connected_,this.sendRequest(P,L,function(re){T.log_(P+" response",re),delete T.outstandingPuts_[_],T.outstandingPutCount_--,0===T.outstandingPutCount_&&(T.outstandingPuts_=[]),q&&q(re.s,re.d)})},g.prototype.reportStats=function(_){var T=this;if(this.connected_){var P={c:_};this.log_("reportStats",P),this.sendRequest("s",P,function(L){"ok"!==L.s&&T.log_("reportStats","Error sending stats: "+L.d)})}},g.prototype.onDataMessage_=function(_){if("r"in _){this.log_("from server: "+(0,Y.Pz)(_));var T=_.r,P=this.requestCBHash_[T];P&&(delete this.requestCBHash_[T],P(_.b))}else{if("error"in _)throw"A server-side error has occurred: "+_.error;"a"in _&&this.onDataPush_(_.a,_.b)}},g.prototype.onDataPush_=function(_,T){this.log_("handleServerMessage",_,T),"d"===_?this.onDataUpdate_(T.p,T.d,!1,T.t):"m"===_?this.onDataUpdate_(T.p,T.d,!0,T.t):"c"===_?this.onListenRevoked_(T.p,T.q):"ac"===_?this.onAuthRevoked_(T.s,T.d):"apc"===_?this.onAppCheckRevoked_(T.s,T.d):"sd"===_?this.onSecurityDebugPacket_(T):F("Unrecognized action received from server: "+(0,Y.Pz)(_)+"\nAre you using the latest client?")},g.prototype.onReady_=function(_,T){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(_),this.lastSessionId=T,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},g.prototype.scheduleConnect_=function(_){var T=this;(0,Y.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){T.establishConnectionTimer_=null,T.establishConnection_()},Math.floor(_))},g.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},g.prototype.onVisible_=function(_){_&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0)),this.visible_=_},g.prototype.onOnline_=function(_){_?(this.log_("Browser went online."),this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},g.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Rs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var T=(new Date).getTime()-this.lastConnectionAttemptTime_,P=Math.max(0,this.reconnectDelay_-T);P=Math.random()*P,this.log_("Trying to reconnect in "+P+"ms"),this.scheduleConnect_(P),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},g.prototype.establishConnection_=function(){return(0,De.mG)(this,void 0,void 0,function(){var _,T,P,L,q,re,ie,fe,Be,dt,wt,Bt,$n,In=this;return(0,De.Jh)(this,function(cr){switch(cr.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,_=this.onDataMessage_.bind(this),T=this.onReady_.bind(this),P=this.onRealtimeDisconnect_.bind(this),L=this.id+":"+g.nextConnectionId_++,q=this.lastSessionId,re=!1,ie=null,this.realtime_={close:fe=function(){ie?ie.close():(re=!0,P())},sendRequest:function(Go){(0,Y.hu)(ie,"sendRequest call when we're not connected not allowed."),ie.sendRequest(Go)}},Be=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,cr.label=1;case 1:return cr.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(Be),this.appCheckTokenProvider_.getToken(Be)])];case 2:return dt=De.CR.apply(void 0,[cr.sent(),2]),wt=dt[0],Bt=dt[1],re?Ye("getToken() completed but was canceled"):(Ye("getToken() completed. Creating connection."),this.authToken_=wt&&wt.accessToken,this.appCheckToken_=Bt&&Bt.token,ie=new _i(L,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,_,T,P,function(Go){yt(Go+" ("+In.repoInfo_.toString()+")"),In.interrupt("server_kill")},q)),[3,4];case 3:return $n=cr.sent(),this.log_("Failed to get token: "+$n),re||(this.repoInfo_.nodeAdmin&&yt($n),fe()),[3,4];case 4:return[2]}})})},g.prototype.interrupt=function(_){Ye("Interrupting connection for reason: "+_),this.interruptReasons_[_]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},g.prototype.resume=function(_){Ye("Resuming connection for reason: "+_),delete this.interruptReasons_[_],(0,Y.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0))},g.prototype.handleTimestamp_=function(_){var T=_-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:T})},g.prototype.cancelSentTransactions_=function(){for(var _=0;_<this.outstandingPuts_.length;_++){var T=this.outstandingPuts_[_];T&&"h"in T.request&&T.queued&&(T.onComplete&&T.onComplete("disconnect"),delete this.outstandingPuts_[_],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},g.prototype.onListenRevoked_=function(_,T){var P;P=T?T.map(function(q){return kn(q)}).join("$"):"default";var L=this.removeListen_(_,P);L&&L.onComplete&&L.onComplete("permission_denied")},g.prototype.removeListen_=function(_,T){var L,P=new sr(_).toString();if(this.listens.has(P)){var q=this.listens.get(P);L=q.get(T),q.delete(T),0===q.size&&this.listens.delete(P)}else L=void 0;return L},g.prototype.onAuthRevoked_=function(_,T){Ye("Auth token revoked: "+_+"/"+T),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===_||"permission_denied"===_)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},g.prototype.onAppCheckRevoked_=function(_,T){Ye("App check token revoked: "+_+"/"+T),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===_||"permission_denied"===_)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},g.prototype.onSecurityDebugPacket_=function(_){this.securityDebugCallback_?this.securityDebugCallback_(_):"msg"in _&&console.log("FIREBASE: "+_.msg.replace("\n","\nFIREBASE: "))},g.prototype.restoreState_=function(){var _,T,P,L;this.tryAuth(),this.tryAppCheck();try{for(var q=(0,De.XA)(this.listens.values()),re=q.next();!re.done;re=q.next()){var ie=re.value;try{for(var fe=(P=void 0,(0,De.XA)(ie.values())),_e=fe.next();!_e.done;_e=fe.next())this.sendListen_(_e.value)}catch(Bt){P={error:Bt}}finally{try{_e&&!_e.done&&(L=fe.return)&&L.call(fe)}finally{if(P)throw P.error}}}}catch(Bt){_={error:Bt}}finally{try{re&&!re.done&&(T=q.return)&&T.call(q)}finally{if(_)throw _.error}}for(var dt=0;dt<this.outstandingPuts_.length;dt++)this.outstandingPuts_[dt]&&this.sendPut_(dt);for(;this.onDisconnectRequestQueue_.length;){var wt=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(wt.action,wt.pathString,wt.data,wt.onComplete)}for(dt=0;dt<this.outstandingGets_.length;dt++)this.outstandingGets_[dt]&&this.sendGet_(dt)},g.prototype.sendConnectStats_=function(){var _={},T="js";(0,Y.Yr)()&&(T=this.repoInfo_.nodeAdmin?"admin_node":"node"),_["sdk."+T+"."+at.replace(/\./g,"-")]=1,(0,Y.uI)()?_["framework.cordova"]=1:(0,Y.b$)()&&(_["framework.reactnative"]=1),this.reportStats(_)},g.prototype.shouldReconnect_=function(){var _=Nr.getInstance().currentlyOnline();return(0,Y.xb)(this.interruptReasons_)&&_},g.nextPersistentConnectionId_=0,g.nextConnectionId_=0,g}(Ia),lr=function(){function m(g,_){this.name=g,this.node=_}return m.Wrap=function(g,_){return new m(g,_)},m}(),nu=function(){function m(){}return m.prototype.getCompare=function(){return this.compare.bind(this)},m.prototype.indexedValueChanged=function(g,_){var T=new lr(qt,g),P=new lr(qt,_);return 0!==this.compare(T,P)},m.prototype.minPost=function(){return lr.MIN},m}(),Wr=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return(0,De.ZT)(g,m),Object.defineProperty(g,"__EMPTY_NODE",{get:function(){return Yt},set:function(_){Yt=_},enumerable:!1,configurable:!0}),g.prototype.compare=function(_,T){return yn(_.name,T.name)},g.prototype.isDefinedOn=function(_){throw(0,Y.g5)("KeyIndex.isDefinedOn not expected to be called.")},g.prototype.indexedValueChanged=function(_,T){return!1},g.prototype.minPost=function(){return lr.MIN},g.prototype.maxPost=function(){return new lr(xt,Yt)},g.prototype.makePost=function(_,T){return(0,Y.hu)("string"==typeof _,"KeyIndex indexValue must always be a string."),new lr(_,Yt)},g.prototype.toString=function(){return".key"},g}(nu),bs=new Wr,ru=function(){function m(g,_,T,P,L){void 0===L&&(L=null),this.isReverse_=P,this.resultGenerator_=L,this.nodeStack_=[];for(var q=1;!g.isEmpty();)if(q=_?T(g.key,_):1,P&&(q*=-1),q<0)g=this.isReverse_?g.left:g.right;else{if(0===q){this.nodeStack_.push(g);break}this.nodeStack_.push(g),g=this.isReverse_?g.right:g.left}}return m.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var _,g=this.nodeStack_.pop();if(_=this.resultGenerator_?this.resultGenerator_(g.key,g.value):{key:g.key,value:g.value},this.isReverse_)for(g=g.left;!g.isEmpty();)this.nodeStack_.push(g),g=g.right;else for(g=g.right;!g.isEmpty();)this.nodeStack_.push(g),g=g.left;return _},m.prototype.hasNext=function(){return this.nodeStack_.length>0},m.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var g=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(g.key,g.value):{key:g.key,value:g.value}},m}(),qi=function(){function m(g,_,T,P,L){this.key=g,this.value=_,this.color=T??m.RED,this.left=P??$o.EMPTY_NODE,this.right=L??$o.EMPTY_NODE}return m.prototype.copy=function(g,_,T,P,L){return new m(g??this.key,_??this.value,T??this.color,P??this.left,L??this.right)},m.prototype.count=function(){return this.left.count()+1+this.right.count()},m.prototype.isEmpty=function(){return!1},m.prototype.inorderTraversal=function(g){return this.left.inorderTraversal(g)||!!g(this.key,this.value)||this.right.inorderTraversal(g)},m.prototype.reverseTraversal=function(g){return this.right.reverseTraversal(g)||g(this.key,this.value)||this.left.reverseTraversal(g)},m.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},m.prototype.minKey=function(){return this.min_().key},m.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},m.prototype.insert=function(g,_,T){var P=this,L=T(g,P.key);return(P=L<0?P.copy(null,null,null,P.left.insert(g,_,T),null):0===L?P.copy(null,_,null,null,null):P.copy(null,null,null,null,P.right.insert(g,_,T))).fixUp_()},m.prototype.removeMin_=function(){if(this.left.isEmpty())return $o.EMPTY_NODE;var g=this;return!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),(g=g.copy(null,null,null,g.left.removeMin_(),null)).fixUp_()},m.prototype.remove=function(g,_){var T,P;if(_(g,(T=this).key)<0)!T.left.isEmpty()&&!T.left.isRed_()&&!T.left.left.isRed_()&&(T=T.moveRedLeft_()),T=T.copy(null,null,null,T.left.remove(g,_),null);else{if(T.left.isRed_()&&(T=T.rotateRight_()),!T.right.isEmpty()&&!T.right.isRed_()&&!T.right.left.isRed_()&&(T=T.moveRedRight_()),0===_(g,T.key)){if(T.right.isEmpty())return $o.EMPTY_NODE;P=T.right.min_(),T=T.copy(P.key,P.value,null,null,T.right.removeMin_())}T=T.copy(null,null,null,null,T.right.remove(g,_))}return T.fixUp_()},m.prototype.isRed_=function(){return this.color},m.prototype.fixUp_=function(){var g=this;return g.right.isRed_()&&!g.left.isRed_()&&(g=g.rotateLeft_()),g.left.isRed_()&&g.left.left.isRed_()&&(g=g.rotateRight_()),g.left.isRed_()&&g.right.isRed_()&&(g=g.colorFlip_()),g},m.prototype.moveRedLeft_=function(){var g=this.colorFlip_();return g.right.left.isRed_()&&(g=(g=(g=g.copy(null,null,null,null,g.right.rotateRight_())).rotateLeft_()).colorFlip_()),g},m.prototype.moveRedRight_=function(){var g=this.colorFlip_();return g.left.left.isRed_()&&(g=(g=g.rotateRight_()).colorFlip_()),g},m.prototype.rotateLeft_=function(){var g=this.copy(null,null,m.RED,null,this.right.left);return this.right.copy(null,null,this.color,g,null)},m.prototype.rotateRight_=function(){var g=this.copy(null,null,m.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,g)},m.prototype.colorFlip_=function(){var g=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,g,_)},m.prototype.checkMaxDepth_=function(){var g=this.check_();return Math.pow(2,g)<=this.count()+1},m.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var g=this.left.check_();if(g!==this.right.check_())throw new Error("Black depths differ");return g+(this.isRed_()?0:1)},m.RED=!0,m.BLACK=!1,m}(),yd=function(){function m(){}return m.prototype.copy=function(g,_,T,P,L){return this},m.prototype.insert=function(g,_,T){return new qi(g,_,null)},m.prototype.remove=function(g,_){return this},m.prototype.count=function(){return 0},m.prototype.isEmpty=function(){return!0},m.prototype.inorderTraversal=function(g){return!1},m.prototype.reverseTraversal=function(g){return!1},m.prototype.minKey=function(){return null},m.prototype.maxKey=function(){return null},m.prototype.check_=function(){return 0},m.prototype.isRed_=function(){return!1},m}(),$o=function(){function m(g,_){void 0===_&&(_=m.EMPTY_NODE),this.comparator_=g,this.root_=_}return m.prototype.insert=function(g,_){return new m(this.comparator_,this.root_.insert(g,_,this.comparator_).copy(null,null,qi.BLACK,null,null))},m.prototype.remove=function(g){return new m(this.comparator_,this.root_.remove(g,this.comparator_).copy(null,null,qi.BLACK,null,null))},m.prototype.get=function(g){for(var _,T=this.root_;!T.isEmpty();){if(0===(_=this.comparator_(g,T.key)))return T.value;_<0?T=T.left:_>0&&(T=T.right)}return null},m.prototype.getPredecessorKey=function(g){for(var _,T=this.root_,P=null;!T.isEmpty();){if(0===(_=this.comparator_(g,T.key))){if(T.left.isEmpty())return P?P.key:null;for(T=T.left;!T.right.isEmpty();)T=T.right;return T.key}_<0?T=T.left:_>0&&(P=T,T=T.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},m.prototype.isEmpty=function(){return this.root_.isEmpty()},m.prototype.count=function(){return this.root_.count()},m.prototype.minKey=function(){return this.root_.minKey()},m.prototype.maxKey=function(){return this.root_.maxKey()},m.prototype.inorderTraversal=function(g){return this.root_.inorderTraversal(g)},m.prototype.reverseTraversal=function(g){return this.root_.reverseTraversal(g)},m.prototype.getIterator=function(g){return new ru(this.root_,null,this.comparator_,!1,g)},m.prototype.getIteratorFrom=function(g,_){return new ru(this.root_,g,this.comparator_,!1,_)},m.prototype.getReverseIteratorFrom=function(g,_){return new ru(this.root_,g,this.comparator_,!0,_)},m.prototype.getReverseIterator=function(g){return new ru(this.root_,null,this.comparator_,!0,g)},m.EMPTY_NODE=new yd,m}();function Wl(m,g){return yn(m.name,g.name)}function ho(m,g){return yn(m,g)}var ou,Io,ul,Ma,R,Kl=function(m){return"number"==typeof m?"number:"+Le(m):"string:"+m},Us=function(m){if(m.isLeafNode()){var g=m.val();(0,Y.hu)("string"==typeof g||"number"==typeof g||"object"==typeof g&&(0,Y.r3)(g,".sv"),"Priority must be a string or number.")}else(0,Y.hu)(m===iu||m.isEmpty(),"priority of unexpected type.");(0,Y.hu)(m===iu||m.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Pa=function(){function m(g,_){void 0===_&&(_=m.__childrenNodeConstructor.EMPTY_NODE),this.value_=g,this.priorityNode_=_,this.lazyHash_=null,(0,Y.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Us(this.priorityNode_)}return Object.defineProperty(m,"__childrenNodeConstructor",{get:function(){return ou},set:function(g){ou=g},enumerable:!1,configurable:!0}),m.prototype.isLeafNode=function(){return!0},m.prototype.getPriority=function(){return this.priorityNode_},m.prototype.updatePriority=function(g){return new m(this.value_,g)},m.prototype.getImmediateChild=function(g){return".priority"===g?this.priorityNode_:m.__childrenNodeConstructor.EMPTY_NODE},m.prototype.getChild=function(g){return Bn(g)?this:".priority"===Jt(g)?this.priorityNode_:m.__childrenNodeConstructor.EMPTY_NODE},m.prototype.hasChild=function(){return!1},m.prototype.getPredecessorChildName=function(g,_){return null},m.prototype.updateImmediateChild=function(g,_){return".priority"===g?this.updatePriority(_):_.isEmpty()&&".priority"!==g?this:m.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(g,_).updatePriority(this.priorityNode_)},m.prototype.updateChild=function(g,_){var T=Jt(g);return null===T?_:_.isEmpty()&&".priority"!==T?this:((0,Y.hu)(".priority"!==T||1===So(g),".priority must be the last token in a path"),this.updateImmediateChild(T,m.__childrenNodeConstructor.EMPTY_NODE.updateChild(jn(g),_)))},m.prototype.isEmpty=function(){return!1},m.prototype.numChildren=function(){return 0},m.prototype.forEachChild=function(g,_){return!1},m.prototype.val=function(g){return g&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},m.prototype.hash=function(){if(null===this.lazyHash_){var g="";this.priorityNode_.isEmpty()||(g+="priority:"+Kl(this.priorityNode_.val())+":");var _=typeof this.value_;g+=_+":",g+="number"===_?Le(this.value_):this.value_,this.lazyHash_=ut(g)}return this.lazyHash_},m.prototype.getValue=function(){return this.value_},m.prototype.compareTo=function(g){return g===m.__childrenNodeConstructor.EMPTY_NODE?1:g instanceof m.__childrenNodeConstructor?-1:((0,Y.hu)(g.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(g))},m.prototype.compareToLeafNode_=function(g){var _=typeof g.value_,T=typeof this.value_,P=m.VALUE_TYPE_ORDER.indexOf(_),L=m.VALUE_TYPE_ORDER.indexOf(T);return(0,Y.hu)(P>=0,"Unknown leaf type: "+_),(0,Y.hu)(L>=0,"Unknown leaf type: "+T),P===L?"object"===T?0:this.value_<g.value_?-1:this.value_===g.value_?0:1:L-P},m.prototype.withIndex=function(){return this},m.prototype.isIndexed=function(){return!0},m.prototype.equals=function(g){return g===this||!!g.isLeafNode()&&(this.value_===g.value_&&this.priorityNode_.equals(g.priorityNode_))},m.VALUE_TYPE_ORDER=["object","boolean","number","string"],m}(),da=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return(0,De.ZT)(g,m),g.prototype.compare=function(_,T){var P=_.node.getPriority(),L=T.node.getPriority(),q=P.compareTo(L);return 0===q?yn(_.name,T.name):q},g.prototype.isDefinedOn=function(_){return!_.getPriority().isEmpty()},g.prototype.indexedValueChanged=function(_,T){return!_.getPriority().equals(T.getPriority())},g.prototype.minPost=function(){return lr.MIN},g.prototype.maxPost=function(){return new lr(xt,new Pa("[PRIORITY-POST]",ul))},g.prototype.makePost=function(_,T){var P=Io(_);return new lr(T,new Pa("[PRIORITY-POST]",P))},g.prototype.toString=function(){return".priority"},g}(nu),$r=new da,Ai=Math.log(2),Cf=function(){function m(g){this.count=parseInt(Math.log(g+1)/Ai,10),this.current_=this.count-1;var P=parseInt(Array(this.count+1).join("1"),2);this.bits_=g+1&P}return m.prototype.nextBitIsOne=function(){var g=!(this.bits_&1<<this.current_);return this.current_--,g},m}(),Ql=function(m,g,_,T){m.sort(g);var P=function(ie,fe){var Be,dt,_e=fe-ie;if(0===_e)return null;if(1===_e)return Be=m[ie],dt=_?_(Be):Be,new qi(dt,Be.node,qi.BLACK,null,null);var wt=parseInt(_e/2,10)+ie,Bt=P(ie,wt),$n=P(wt+1,fe);return Be=m[wt],dt=_?_(Be):Be,new qi(dt,Be.node,qi.BLACK,Bt,$n)},re=function(ie){for(var fe=null,_e=null,Be=m.length,dt=function(cr,Go){var Hu=Be-cr,qu=Be;Be-=cr;var Il=P(Hu+1,qu),Zu=m[Hu],Yp=_?_(Zu):Zu;wt(new qi(Yp,Zu.node,Go,null,Il))},wt=function(cr){fe?(fe.left=cr,fe=cr):(_e=cr,fe=cr)},Bt=0;Bt<ie.count;++Bt){var $n=ie.nextBitIsOne(),In=Math.pow(2,ie.count-(Bt+1));$n?dt(In,qi.BLACK):(dt(In,qi.BLACK),dt(In,qi.RED))}return _e}(new Cf(m.length));return new $o(T||g,re)},E={},S=function(){function m(g,_){this.indexes_=g,this.indexSet_=_}return Object.defineProperty(m,"Default",{get:function(){return(0,Y.hu)(E&&$r,"ChildrenNode.ts has not been loaded"),Ma=Ma||new m({".priority":E},{".priority":$r})},enumerable:!1,configurable:!0}),m.prototype.get=function(g){var _=(0,Y.DV)(this.indexes_,g);if(!_)throw new Error("No index defined for "+g);return _ instanceof $o?_:null},m.prototype.hasIndex=function(g){return(0,Y.r3)(this.indexSet_,g.toString())},m.prototype.addIndex=function(g,_){(0,Y.hu)(g!==bs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var T=[],P=!1,L=_.getIterator(lr.Wrap),q=L.getNext();q;)P=P||g.isDefinedOn(q.node),T.push(q),q=L.getNext();var re;re=P?Ql(T,g.getCompare()):E;var ie=g.toString(),fe=(0,De.pi)({},this.indexSet_);fe[ie]=g;var _e=(0,De.pi)({},this.indexes_);return _e[ie]=re,new m(_e,fe)},m.prototype.addToIndexes=function(g,_){var T=this;return new m((0,Y.UI)(this.indexes_,function(L,q){var re=(0,Y.DV)(T.indexSet_,q);if((0,Y.hu)(re,"Missing index implementation for "+q),L===E){if(re.isDefinedOn(g.node)){for(var ie=[],fe=_.getIterator(lr.Wrap),_e=fe.getNext();_e;)_e.name!==g.name&&ie.push(_e),_e=fe.getNext();return ie.push(g),Ql(ie,re.getCompare())}return E}var Be=_.get(g.name),dt=L;return Be&&(dt=dt.remove(new lr(g.name,Be))),dt.insert(g,g.node)}),this.indexSet_)},m.prototype.removeFromIndexes=function(g,_){return new m((0,Y.UI)(this.indexes_,function(P){if(P===E)return P;var L=_.get(g.name);return L?P.remove(new lr(g.name,L)):P}),this.indexSet_)},m}(),j=function(){function m(g,_,T){this.children_=g,this.priorityNode_=_,this.indexMap_=T,this.lazyHash_=null,this.priorityNode_&&Us(this.priorityNode_),this.children_.isEmpty()&&(0,Y.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(m,"EMPTY_NODE",{get:function(){return R||(R=new m(new $o(ho),null,S.Default))},enumerable:!1,configurable:!0}),m.prototype.isLeafNode=function(){return!1},m.prototype.getPriority=function(){return this.priorityNode_||R},m.prototype.updatePriority=function(g){return this.children_.isEmpty()?this:new m(this.children_,g,this.indexMap_)},m.prototype.getImmediateChild=function(g){if(".priority"===g)return this.getPriority();var _=this.children_.get(g);return null===_?R:_},m.prototype.getChild=function(g){var _=Jt(g);return null===_?this:this.getImmediateChild(_).getChild(jn(g))},m.prototype.hasChild=function(g){return null!==this.children_.get(g)},m.prototype.updateImmediateChild=function(g,_){if((0,Y.hu)(_,"We should always be passing snapshot nodes"),".priority"===g)return this.updatePriority(_);var T=new lr(g,_),P=void 0,L=void 0;_.isEmpty()?(P=this.children_.remove(g),L=this.indexMap_.removeFromIndexes(T,this.children_)):(P=this.children_.insert(g,_),L=this.indexMap_.addToIndexes(T,this.children_));var q=P.isEmpty()?R:this.priorityNode_;return new m(P,q,L)},m.prototype.updateChild=function(g,_){var T=Jt(g);if(null===T)return _;(0,Y.hu)(".priority"!==Jt(g)||1===So(g),".priority must be the last token in a path");var P=this.getImmediateChild(T).updateChild(jn(g),_);return this.updateImmediateChild(T,P)},m.prototype.isEmpty=function(){return this.children_.isEmpty()},m.prototype.numChildren=function(){return this.children_.count()},m.prototype.val=function(g){if(this.isEmpty())return null;var _={},T=0,P=0,L=!0;if(this.forEachChild($r,function(ie,fe){_[ie]=fe.val(g),T++,L&&m.INTEGER_REGEXP_.test(ie)?P=Math.max(P,Number(ie)):L=!1}),!g&&L&&P<2*T){var q=[];for(var re in _)q[re]=_[re];return q}return g&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_},m.prototype.hash=function(){if(null===this.lazyHash_){var g="";this.getPriority().isEmpty()||(g+="priority:"+Kl(this.getPriority().val())+":"),this.forEachChild($r,function(_,T){var P=T.hash();""!==P&&(g+=":"+_+":"+P)}),this.lazyHash_=""===g?"":ut(g)}return this.lazyHash_},m.prototype.getPredecessorChildName=function(g,_,T){var P=this.resolveIndex_(T);if(P){var L=P.getPredecessorKey(new lr(g,_));return L?L.name:null}return this.children_.getPredecessorKey(g)},m.prototype.getFirstChildName=function(g){var _=this.resolveIndex_(g);if(_){var T=_.minKey();return T&&T.name}return this.children_.minKey()},m.prototype.getFirstChild=function(g){var _=this.getFirstChildName(g);return _?new lr(_,this.children_.get(_)):null},m.prototype.getLastChildName=function(g){var _=this.resolveIndex_(g);if(_){var T=_.maxKey();return T&&T.name}return this.children_.maxKey()},m.prototype.getLastChild=function(g){var _=this.getLastChildName(g);return _?new lr(_,this.children_.get(_)):null},m.prototype.forEachChild=function(g,_){var T=this.resolveIndex_(g);return T?T.inorderTraversal(function(P){return _(P.name,P.node)}):this.children_.inorderTraversal(_)},m.prototype.getIterator=function(g){return this.getIteratorFrom(g.minPost(),g)},m.prototype.getIteratorFrom=function(g,_){var T=this.resolveIndex_(_);if(T)return T.getIteratorFrom(g,function(q){return q});for(var P=this.children_.getIteratorFrom(g.name,lr.Wrap),L=P.peek();null!=L&&_.compare(L,g)<0;)P.getNext(),L=P.peek();return P},m.prototype.getReverseIterator=function(g){return this.getReverseIteratorFrom(g.maxPost(),g)},m.prototype.getReverseIteratorFrom=function(g,_){var T=this.resolveIndex_(_);if(T)return T.getReverseIteratorFrom(g,function(q){return q});for(var P=this.children_.getReverseIteratorFrom(g.name,lr.Wrap),L=P.peek();null!=L&&_.compare(L,g)>0;)P.getNext(),L=P.peek();return P},m.prototype.compareTo=function(g){return this.isEmpty()?g.isEmpty()?0:-1:g.isLeafNode()||g.isEmpty()?1:g===z?-1:0},m.prototype.withIndex=function(g){if(g===bs||this.indexMap_.hasIndex(g))return this;var _=this.indexMap_.addIndex(g,this.children_);return new m(this.children_,this.priorityNode_,_)},m.prototype.isIndexed=function(g){return g===bs||this.indexMap_.hasIndex(g)},m.prototype.equals=function(g){if(g===this)return!0;if(g.isLeafNode())return!1;var _=g;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){for(var T=this.getIterator($r),P=_.getIterator($r),L=T.getNext(),q=P.getNext();L&&q;){if(L.name!==q.name||!L.node.equals(q.node))return!1;L=T.getNext(),q=P.getNext()}return null===L&&null===q}return!1}return!1},m.prototype.resolveIndex_=function(g){return g===bs?null:this.indexMap_.get(g.toString())},m.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,m}(),G=function(m){function g(){return m.call(this,new $o(ho),j.EMPTY_NODE,S.Default)||this}return(0,De.ZT)(g,m),g.prototype.compareTo=function(_){return _===this?0:1},g.prototype.equals=function(_){return _===this},g.prototype.getPriority=function(){return this},g.prototype.getImmediateChild=function(_){return j.EMPTY_NODE},g.prototype.isEmpty=function(){return!1},g}(j),z=new G;function me(m,g){if(void 0===g&&(g=null),null===m)return j.EMPTY_NODE;if("object"==typeof m&&".priority"in m&&(g=m[".priority"]),(0,Y.hu)(null===g||"string"==typeof g||"number"==typeof g||"object"==typeof g&&".sv"in g,"Invalid priority type found: "+typeof g),"object"==typeof m&&".value"in m&&null!==m[".value"]&&(m=m[".value"]),"object"!=typeof m||".sv"in m)return new Pa(m,me(g));if(m instanceof Array){var ie=j.EMPTY_NODE;return Ee(m,function(fe,_e){if((0,Y.r3)(m,fe)&&"."!==fe.substring(0,1)){var Be=me(_e);(Be.isLeafNode()||!Be.isEmpty())&&(ie=ie.updateImmediateChild(fe,Be))}}),ie.updatePriority(me(g))}var T=[],P=!1;if(Ee(m,function(fe,_e){if("."!==fe.substring(0,1)){var Be=me(_e);Be.isEmpty()||(P=P||!Be.getPriority().isEmpty(),T.push(new lr(fe,Be)))}}),0===T.length)return j.EMPTY_NODE;var q=Ql(T,Wl,function(fe){return fe.name},ho);if(P){var re=Ql(T,$r.getCompare());return new j(q,me(g),new S({".priority":re},{".priority":$r}))}return new j(q,me(g),S.Default)}Object.defineProperties(lr,{MIN:{value:new lr(qt,j.EMPTY_NODE)},MAX:{value:new lr(xt,z)}}),Wr.__EMPTY_NODE=j.EMPTY_NODE,Pa.__childrenNodeConstructor=j,function Yl(m){iu=m}(z),function ca(m){ul=m}(z),function ll(m){Io=m}(me);var pe=function(m){function g(_){var T=m.call(this)||this;return T.indexPath_=_,(0,Y.hu)(!Bn(_)&&".priority"!==Jt(_),"Can't create PathIndex with empty path or .priority key"),T}return(0,De.ZT)(g,m),g.prototype.extractChild=function(_){return _.getChild(this.indexPath_)},g.prototype.isDefinedOn=function(_){return!_.getChild(this.indexPath_).isEmpty()},g.prototype.compare=function(_,T){var P=this.extractChild(_.node),L=this.extractChild(T.node),q=P.compareTo(L);return 0===q?yn(_.name,T.name):q},g.prototype.makePost=function(_,T){var P=me(_),L=j.EMPTY_NODE.updateChild(this.indexPath_,P);return new lr(T,L)},g.prototype.maxPost=function(){var _=j.EMPTY_NODE.updateChild(this.indexPath_,z);return new lr(xt,_)},g.prototype.toString=function(){return Li(this.indexPath_,0).join("/")},g}(nu),xe=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return(0,De.ZT)(g,m),g.prototype.compare=function(_,T){var P=_.node.compareTo(T.node);return 0===P?yn(_.name,T.name):P},g.prototype.isDefinedOn=function(_){return!0},g.prototype.indexedValueChanged=function(_,T){return!_.equals(T)},g.prototype.minPost=function(){return lr.MIN},g.prototype.maxPost=function(){return lr.MAX},g.prototype.makePost=function(_,T){var P=me(_);return new lr(T,P)},g.prototype.toString=function(){return".value"},g}(nu),Ke=new xe,Re="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vr=function(){var m=0,g=[];return function(_){var T=_===m;m=_;var P,L=new Array(8);for(P=7;P>=0;P--)L[P]=Re.charAt(_%64),_=Math.floor(_/64);(0,Y.hu)(0===_,"Cannot push at time == 0");var q=L.join("");if(T){for(P=11;P>=0&&63===g[P];P--)g[P]=0;g[P]++}else for(P=0;P<12;P++)g[P]=Math.floor(64*Math.random());for(P=0;P<12;P++)q+=Re.charAt(g[P]);return(0,Y.hu)(20===q.length,"nextPushId: Length should be 20."),q}}(),Hn=function(m){if(m===""+Lr)return"-";var g=zt(m);if(null!=g)return""+(g+1);for(var _=new Array(m.length),T=0;T<_.length;T++)_[T]=m.charAt(T);if(_.length<786)return _.push("-"),_.join("");for(var P=_.length-1;P>=0&&"z"===_[P];)P--;if(-1===P)return xt;var q=Re.charAt(Re.indexOf(_[P])+1);return _[P]=q,_.slice(0,P+1).join("")},Pi=function(m){if(m===""+on)return qt;var g=zt(m);if(null!=g)return""+(g-1);for(var _=new Array(m.length),T=0;T<_.length;T++)_[T]=m.charAt(T);return"-"===_[_.length-1]?1===_.length?""+Lr:(delete _[_.length-1],_.join("")):(_[_.length-1]=Re.charAt(Re.indexOf(_[_.length-1])-1),_.join("")+"z".repeat(786-_.length))};function xr(m){return{type:"value",snapshotNode:m}}function xo(m,g){return{type:"child_added",snapshotNode:g,childName:m}}function ct(m,g){return{type:"child_removed",snapshotNode:g,childName:m}}function Vt(m,g,_){return{type:"child_changed",snapshotNode:g,childName:m,oldSnap:_}}var yr=function(){function m(g){this.index_=g}return m.prototype.updateChild=function(g,_,T,P,L,q){(0,Y.hu)(g.isIndexed(this.index_),"A node must be indexed if only a child is updated");var re=g.getImmediateChild(_);return re.getChild(P).equals(T.getChild(P))&&re.isEmpty()===T.isEmpty()||(null!=q&&(T.isEmpty()?g.hasChild(_)?q.trackChildChange(ct(_,re)):(0,Y.hu)(g.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):re.isEmpty()?q.trackChildChange(xo(_,T)):q.trackChildChange(Vt(_,T,re))),g.isLeafNode()&&T.isEmpty())?g:g.updateImmediateChild(_,T).withIndex(this.index_)},m.prototype.updateFullNode=function(g,_,T){return null!=T&&(g.isLeafNode()||g.forEachChild($r,function(P,L){_.hasChild(P)||T.trackChildChange(ct(P,L))}),_.isLeafNode()||_.forEachChild($r,function(P,L){if(g.hasChild(P)){var q=g.getImmediateChild(P);q.equals(L)||T.trackChildChange(Vt(P,L,q))}else T.trackChildChange(xo(P,L))})),_.withIndex(this.index_)},m.prototype.updatePriority=function(g,_){return g.isEmpty()?j.EMPTY_NODE:g.updatePriority(_)},m.prototype.filtersNodes=function(){return!1},m.prototype.getIndexedFilter=function(){return this},m.prototype.getIndex=function(){return this.index_},m}(),Wn=function(){function m(g){this.indexedFilter_=new yr(g.getIndex()),this.index_=g.getIndex(),this.startPost_=m.getStartPost_(g),this.endPost_=m.getEndPost_(g)}return m.prototype.getStartPost=function(){return this.startPost_},m.prototype.getEndPost=function(){return this.endPost_},m.prototype.matches=function(g){return this.index_.compare(this.getStartPost(),g)<=0&&this.index_.compare(g,this.getEndPost())<=0},m.prototype.updateChild=function(g,_,T,P,L,q){return this.matches(new lr(_,T))||(T=j.EMPTY_NODE),this.indexedFilter_.updateChild(g,_,T,P,L,q)},m.prototype.updateFullNode=function(g,_,T){_.isLeafNode()&&(_=j.EMPTY_NODE);var P=_.withIndex(this.index_);P=P.updatePriority(j.EMPTY_NODE);var L=this;return _.forEachChild($r,function(q,re){L.matches(new lr(q,re))||(P=P.updateImmediateChild(q,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(g,P,T)},m.prototype.updatePriority=function(g,_){return g},m.prototype.filtersNodes=function(){return!0},m.prototype.getIndexedFilter=function(){return this.indexedFilter_},m.prototype.getIndex=function(){return this.index_},m.getStartPost_=function(g){if(g.hasStart()){var _=g.getIndexStartName();return g.getIndex().makePost(g.getIndexStartValue(),_)}return g.getIndex().minPost()},m.getEndPost_=function(g){if(g.hasEnd()){var _=g.getIndexEndName();return g.getIndex().makePost(g.getIndexEndValue(),_)}return g.getIndex().maxPost()},m}(),Oa=function(){function m(g){this.rangedFilter_=new Wn(g),this.index_=g.getIndex(),this.limit_=g.getLimit(),this.reverse_=!g.isViewFromLeft()}return m.prototype.updateChild=function(g,_,T,P,L,q){return this.rangedFilter_.matches(new lr(_,T))||(T=j.EMPTY_NODE),g.getImmediateChild(_).equals(T)?g:g.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(g,_,T,P,L,q):this.fullLimitUpdateChild_(g,_,T,L,q)},m.prototype.updateFullNode=function(g,_,T){var P;if(_.isLeafNode()||_.isEmpty())P=j.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<_.numChildren()&&_.isIndexed(this.index_)){P=j.EMPTY_NODE.withIndex(this.index_);var L=void 0;L=this.reverse_?_.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):_.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var q=0;L.hasNext()&&q<this.limit_;){var re=L.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),re)<=0:this.index_.compare(re,this.rangedFilter_.getEndPost())<=0))break;P=P.updateImmediateChild(re.name,re.node),q++}}else{P=(P=_.withIndex(this.index_)).updatePriority(j.EMPTY_NODE);var fe=void 0,_e=void 0,Be=void 0;if(L=void 0,this.reverse_){L=P.getReverseIterator(this.index_),fe=this.rangedFilter_.getEndPost(),_e=this.rangedFilter_.getStartPost();var dt=this.index_.getCompare();Be=function(In,cr){return dt(cr,In)}}else L=P.getIterator(this.index_),fe=this.rangedFilter_.getStartPost(),_e=this.rangedFilter_.getEndPost(),Be=this.index_.getCompare();q=0;for(var wt=!1;L.hasNext();)re=L.getNext(),!wt&&Be(fe,re)<=0&&(wt=!0),wt&&q<this.limit_&&Be(re,_e)<=0?q++:P=P.updateImmediateChild(re.name,j.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(g,P,T)},m.prototype.updatePriority=function(g,_){return g},m.prototype.filtersNodes=function(){return!0},m.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},m.prototype.getIndex=function(){return this.index_},m.prototype.fullLimitUpdateChild_=function(g,_,T,P,L){var q;if(this.reverse_){var re=this.index_.getCompare();q=function(Go,Hu){return re(Hu,Go)}}else q=this.index_.getCompare();var ie=g;(0,Y.hu)(ie.numChildren()===this.limit_,"");var fe=new lr(_,T),_e=this.reverse_?ie.getFirstChild(this.index_):ie.getLastChild(this.index_),Be=this.rangedFilter_.matches(fe);if(ie.hasChild(_)){for(var dt=ie.getImmediateChild(_),wt=P.getChildAfterChild(this.index_,_e,this.reverse_);null!=wt&&(wt.name===_||ie.hasChild(wt.name));)wt=P.getChildAfterChild(this.index_,wt,this.reverse_);var Bt=null==wt?1:q(wt,fe);if(Be&&!T.isEmpty()&&Bt>=0)return L?.trackChildChange(Vt(_,T,dt)),ie.updateImmediateChild(_,T);L?.trackChildChange(ct(_,dt));var In=ie.updateImmediateChild(_,j.EMPTY_NODE);return null!=wt&&this.rangedFilter_.matches(wt)?(L?.trackChildChange(xo(wt.name,wt.node)),In.updateImmediateChild(wt.name,wt.node)):In}return T.isEmpty()?g:Be&&q(_e,fe)>=0?(null!=L&&(L.trackChildChange(ct(_e.name,_e.node)),L.trackChildChange(xo(_,T))),ie.updateImmediateChild(_,T).updateImmediateChild(_e.name,j.EMPTY_NODE)):g},m}(),Vs=function(){function m(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$r}return m.prototype.hasStart=function(){return this.startSet_},m.prototype.hasStartAfter=function(){return this.startAfterSet_},m.prototype.hasEndBefore=function(){return this.endBeforeSet_},m.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},m.prototype.getIndexStartValue=function(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},m.prototype.getIndexStartName=function(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qt},m.prototype.hasEnd=function(){return this.endSet_},m.prototype.getIndexEndValue=function(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},m.prototype.getIndexEndName=function(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xt},m.prototype.hasLimit=function(){return this.limitSet_},m.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},m.prototype.getLimit=function(){return(0,Y.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},m.prototype.getIndex=function(){return this.index_},m.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},m.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===$r},m.prototype.copy=function(){var g=new m;return g.limitSet_=this.limitSet_,g.limit_=this.limit_,g.startSet_=this.startSet_,g.indexStartValue_=this.indexStartValue_,g.startNameSet_=this.startNameSet_,g.indexStartName_=this.indexStartName_,g.endSet_=this.endSet_,g.indexEndValue_=this.indexEndValue_,g.endNameSet_=this.endNameSet_,g.indexEndName_=this.indexEndName_,g.index_=this.index_,g.viewFrom_=this.viewFrom_,g},m}();function Xo(m,g,_){var T=m.copy();return T.startSet_=!0,void 0===g&&(g=null),T.indexStartValue_=g,null!=_?(T.startNameSet_=!0,T.indexStartName_=_):(T.startNameSet_=!1,T.indexStartName_=""),T}function Zi(m,g,_){var T=m.copy();return T.endSet_=!0,void 0===g&&(g=null),T.indexEndValue_=g,void 0!==_?(T.endNameSet_=!0,T.indexEndName_=_):(T.endNameSet_=!1,T.indexEndName_=""),T}function Yr(m,g){var _=m.copy();return _.index_=g,_}function to(m){var _,g={};return m.isDefault()||(m.index_===$r?_="$priority":m.index_===Ke?_="$value":m.index_===bs?_="$key":((0,Y.hu)(m.index_ instanceof pe,"Unrecognized index type!"),_=m.index_.toString()),g.orderBy=(0,Y.Pz)(_),m.startSet_&&(g.startAt=(0,Y.Pz)(m.indexStartValue_),m.startNameSet_&&(g.startAt+=","+(0,Y.Pz)(m.indexStartName_))),m.endSet_&&(g.endAt=(0,Y.Pz)(m.indexEndValue_),m.endNameSet_&&(g.endAt+=","+(0,Y.Pz)(m.indexEndName_))),m.limitSet_&&(m.isViewFromLeft()?g.limitToFirst=m.limit_:g.limitToLast=m.limit_)),g}function su(m){var g={};if(m.startSet_&&(g.sp=m.indexStartValue_,m.startNameSet_&&(g.sn=m.indexStartName_)),m.endSet_&&(g.ep=m.indexEndValue_,m.endNameSet_&&(g.en=m.indexEndName_)),m.limitSet_){g.l=m.limit_;var _=m.viewFrom_;""===_&&(_=m.isViewFromLeft()?"l":"r"),g.vf=_}return m.index_!==$r&&(g.i=m.index_.toString()),g}var js=function(m){function g(_,T,P,L){var q=m.call(this)||this;return q.repoInfo_=_,q.onDataUpdate_=T,q.authTokenProvider_=P,q.appCheckTokenProvider_=L,q.log_=Je("p:rest:"),q.listens_={},q}return(0,De.ZT)(g,m),g.prototype.reportStats=function(_){throw new Error("Method not implemented.")},g.getListenId_=function(_,T){return void 0!==T?"tag$"+T:((0,Y.hu)(_._queryParams.isDefault(),"should have a tag if it's not a default query."),_._path.toString())},g.prototype.listen=function(_,T,P,L){var q=this,re=_._path.toString();this.log_("Listen called for "+re+" "+_._queryIdentifier);var ie=g.getListenId_(_,P),fe={};this.listens_[ie]=fe;var _e=to(_._queryParams);this.restRequest_(re+".json",_e,function(Be,dt){var wt=dt;404===Be&&(wt=null,Be=null),null===Be&&q.onDataUpdate_(re,wt,!1,P),(0,Y.DV)(q.listens_,ie)===fe&&L(Be?401===Be?"permission_denied":"rest_error:"+Be:"ok",null)})},g.prototype.unlisten=function(_,T){var P=g.getListenId_(_,T);delete this.listens_[P]},g.prototype.get=function(_){var T=this,P=to(_._queryParams),L=_._path.toString(),q=new Y.BH;return this.restRequest_(L+".json",P,function(re,ie){var fe=ie;404===re&&(fe=null,re=null),null===re?(T.onDataUpdate_(L,fe,!1,null),q.resolve(fe)):q.reject(new Error(fe))}),q.promise},g.prototype.refreshAuthToken=function(_){},g.prototype.restRequest_=function(_,T,P){var L=this;return void 0===T&&(T={}),T.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(q){var re=(0,De.CR)(q,2),ie=re[0],fe=re[1];ie&&ie.accessToken&&(T.auth=ie.accessToken),fe&&fe.token&&(T.ac=fe.token);var _e=(L.repoInfo_.secure?"https://":"http://")+L.repoInfo_.host+_+"?ns="+L.repoInfo_.namespace+(0,Y.xO)(T);L.log_("Sending REST request for "+_e);var Be=new XMLHttpRequest;Be.onreadystatechange=function(){if(P&&4===Be.readyState){L.log_("REST Response for "+_e+" received. status:",Be.status,"response:",Be.responseText);var dt=null;if(Be.status>=200&&Be.status<300){try{dt=(0,Y.cI)(Be.responseText)}catch{yt("Failed to parse JSON response for "+_e+": "+Be.responseText)}P(null,dt)}else 401!==Be.status&&404!==Be.status&&yt("Got unsuccessful REST response for "+_e+" Status: "+Be.status),P(Be.status);P=null}},Be.open("GET",_e,!0),Be.send()})},g}(Ia),Po=function(){function m(){this.rootNode_=j.EMPTY_NODE}return m.prototype.getNode=function(g){return this.rootNode_.getChild(g)},m.prototype.updateSnapshot=function(g,_){this.rootNode_=this.rootNode_.updateChild(g,_)},m}();function Pr(){return{value:null,children:new Map}}function fa(m,g,_){if(Bn(g))m.value=_,m.children.clear();else if(null!==m.value)m.value=m.value.updateChild(g,_);else{var T=Jt(g);m.children.has(T)||m.children.set(T,Pr()),fa(m.children.get(T),g=jn(g),_)}}function Gi(m,g){if(Bn(g))return m.value=null,m.children.clear(),!0;if(null!==m.value){if(m.value.isLeafNode())return!1;var _=m.value;return m.value=null,_.forEachChild($r,function(L,q){fa(m,new sr(L),q)}),Gi(m,g)}if(m.children.size>0){var T=Jt(g);return g=jn(g),m.children.has(T)&&Gi(m.children.get(T),g)&&m.children.delete(T),0===m.children.size}return!0}function jo(m,g,_){null!==m.value?_(g,m.value):function au(m,g){m.children.forEach(function(_,T){g(T,_)})}(m,function(T,P){jo(P,new sr(g.toString()+"/"+T),_)})}var Pu=function(){function m(g){this.collection_=g,this.last_=null}return m.prototype.get=function(){var g=this.collection_.get(),_=(0,De.pi)({},g);return this.last_&&Ee(this.last_,function(T,P){_[T]=_[T]-P}),this.last_=g,_},m}(),es=function(){function m(g,_){this.server_=_,this.statsToReport_={},this.statsListener_=new Pu(g);var T=1e4+2e4*Math.random();er(this.reportStats_.bind(this),Math.floor(T))}return m.prototype.reportStats_=function(){var g=this,_=this.statsListener_.get(),T={},P=!1;Ee(_,function(L,q){q>0&&(0,Y.r3)(g.statsToReport_,L)&&(T[L]=q,P=!0)}),P&&this.server_.reportStats(T),er(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},m}(),Di=(()=>(function(m){m[m.OVERWRITE=0]="OVERWRITE",m[m.MERGE=1]="MERGE",m[m.ACK_USER_WRITE=2]="ACK_USER_WRITE",m[m.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Di||(Di={})),Di))();function Ra(m){return{fromUser:!1,fromServer:!0,queryId:m,tagged:!0}}var Xl=function(){function m(g,_,T){this.path=g,this.affectedTree=_,this.revert=T,this.type=Di.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return m.prototype.operationForChild=function(g){if(Bn(this.path)){if(null!=this.affectedTree.value)return(0,Y.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var _=this.affectedTree.subtree(new sr(g));return new m(fr(),_,this.revert)}return(0,Y.hu)(Jt(this.path)===g,"operationForChild called for unrelated child."),new m(jn(this.path),this.affectedTree,this.revert)},m}(),ec=function(){function m(g,_){this.source=g,this.path=_,this.type=Di.LISTEN_COMPLETE}return m.prototype.operationForChild=function(g){return Bn(this.path)?new m(this.source,fr()):new m(this.source,jn(this.path))},m}(),cl=function(){function m(g,_,T){this.source=g,this.path=_,this.snap=T,this.type=Di.OVERWRITE}return m.prototype.operationForChild=function(g){return Bn(this.path)?new m(this.source,fr(),this.snap.getImmediateChild(g)):new m(this.source,jn(this.path),this.snap)},m}(),fi=function(){function m(g,_,T){this.source=g,this.path=_,this.children=T,this.type=Di.MERGE}return m.prototype.operationForChild=function(g){if(Bn(this.path)){var _=this.children.subtree(new sr(g));return _.isEmpty()?null:_.value?new cl(this.source,fr(),_.value):new m(this.source,fr(),_)}return(0,Y.hu)(Jt(this.path)===g,"Can't get a merge for a child not on the path of the operation"),new m(this.source,jn(this.path),this.children)},m.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},m}(),Si=function(){function m(g,_,T){this.node_=g,this.fullyInitialized_=_,this.filtered_=T}return m.prototype.isFullyInitialized=function(){return this.fullyInitialized_},m.prototype.isFiltered=function(){return this.filtered_},m.prototype.isCompleteForPath=function(g){if(Bn(g))return this.isFullyInitialized()&&!this.filtered_;var _=Jt(g);return this.isCompleteForChild(_)},m.prototype.isCompleteForChild=function(g){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(g)},m.prototype.getNode=function(){return this.node_},m}(),oi=function m(g){this.query_=g,this.index_=this.query_._queryParams.getIndex()};function ce(m,g,_,T,P,L){var q=T.filter(function(re){return re.type===_});q.sort(function(re,ie){return function He(m,g,_){if(null==g.childName||null==_.childName)throw(0,Y.g5)("Should only compare child_ events.");var T=new lr(g.childName,g.snapshotNode),P=new lr(_.childName,_.snapshotNode);return m.index_.compare(T,P)}(m,re,ie)}),q.forEach(function(re){var ie=function Se(m,g,_){return"value"===g.type||"child_removed"===g.type||(g.prevName=_.getPredecessorChildName(g.childName,g.snapshotNode,m.index_)),g}(m,re,L);P.forEach(function(fe){fe.respondsTo(re.type)&&g.push(fe.createEvent(ie,m.query_))})})}function We(m,g){return{eventCache:m,serverCache:g}}function st(m,g,_,T){return We(new Si(g,_,T),m.serverCache)}function It(m,g,_,T){return We(m.eventCache,new Si(g,_,T))}function kt(m){return m.eventCache.isFullyInitialized()?m.eventCache.getNode():null}function Rt(m){return m.serverCache.isFullyInitialized()?m.serverCache.getNode():null}var Ut,tn=function(){function m(g,_){void 0===_&&(Ut||(Ut=new $o(wn)),_=Ut),this.value=g,this.children=_}return m.fromObject=function(g){var _=new m(null);return Ee(g,function(T,P){_=_.set(new sr(T),P)}),_},m.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},m.prototype.findRootMostMatchingPathAndValue=function(g,_){if(null!=this.value&&_(this.value))return{path:fr(),value:this.value};if(Bn(g))return null;var T=Jt(g),P=this.children.get(T);if(null!==P){var L=P.findRootMostMatchingPathAndValue(jn(g),_);return null!=L?{path:kr(new sr(T),L.path),value:L.value}:null}return null},m.prototype.findRootMostValueAndPath=function(g){return this.findRootMostMatchingPathAndValue(g,function(){return!0})},m.prototype.subtree=function(g){if(Bn(g))return this;var _=Jt(g),T=this.children.get(_);return null!==T?T.subtree(jn(g)):new m(null)},m.prototype.set=function(g,_){if(Bn(g))return new m(_,this.children);var T=Jt(g),L=(this.children.get(T)||new m(null)).set(jn(g),_),q=this.children.insert(T,L);return new m(this.value,q)},m.prototype.remove=function(g){if(Bn(g))return this.children.isEmpty()?new m(null):new m(null,this.children);var _=Jt(g),T=this.children.get(_);if(T){var P=T.remove(jn(g)),L=void 0;return L=P.isEmpty()?this.children.remove(_):this.children.insert(_,P),null===this.value&&L.isEmpty()?new m(null):new m(this.value,L)}return this},m.prototype.get=function(g){if(Bn(g))return this.value;var _=Jt(g),T=this.children.get(_);return T?T.get(jn(g)):null},m.prototype.setTree=function(g,_){if(Bn(g))return _;var q,T=Jt(g),L=(this.children.get(T)||new m(null)).setTree(jn(g),_);return q=L.isEmpty()?this.children.remove(T):this.children.insert(T,L),new m(this.value,q)},m.prototype.fold=function(g){return this.fold_(fr(),g)},m.prototype.fold_=function(g,_){var T={};return this.children.inorderTraversal(function(P,L){T[P]=L.fold_(kr(g,P),_)}),_(g,this.value,T)},m.prototype.findOnPath=function(g,_){return this.findOnPath_(g,fr(),_)},m.prototype.findOnPath_=function(g,_,T){var P=!!this.value&&T(_,this.value);if(P)return P;if(Bn(g))return null;var L=Jt(g),q=this.children.get(L);return q?q.findOnPath_(jn(g),kr(_,L),T):null},m.prototype.foreachOnPath=function(g,_){return this.foreachOnPath_(g,fr(),_)},m.prototype.foreachOnPath_=function(g,_,T){if(Bn(g))return this;this.value&&T(_,this.value);var P=Jt(g),L=this.children.get(P);return L?L.foreachOnPath_(jn(g),kr(_,P),T):new m(null)},m.prototype.foreach=function(g){this.foreach_(fr(),g)},m.prototype.foreach_=function(g,_){this.children.inorderTraversal(function(T,P){P.foreach_(kr(g,T),_)}),this.value&&_(g,this.value)},m.prototype.foreachChild=function(g){this.children.inorderTraversal(function(_,T){T.value&&g(_,T.value)})},m}(),nn=function(){function m(g){this.writeTree_=g}return m.empty=function(){return new m(new tn(null))},m}();function Ln(m,g,_){if(Bn(g))return new nn(new tn(_));var T=m.writeTree_.findRootMostValueAndPath(g);if(null!=T){var P=T.path,L=T.value,q=Ei(P,g);return L=L.updateChild(q,_),new nn(m.writeTree_.set(P,L))}var re=new tn(_),ie=m.writeTree_.setTree(g,re);return new nn(ie)}function gn(m,g,_){var T=m;return Ee(_,function(P,L){T=Ln(T,kr(g,P),L)}),T}function qr(m,g){if(Bn(g))return nn.empty();var _=m.writeTree_.setTree(g,new tn(null));return new nn(_)}function $i(m,g){return null!=hi(m,g)}function hi(m,g){var _=m.writeTree_.findRootMostValueAndPath(g);return null!=_?m.writeTree_.get(_.path).getChild(Ei(_.path,g)):null}function Ki(m){var g=[],_=m.writeTree_.value;return null!=_?_.isLeafNode()||_.forEachChild($r,function(T,P){g.push(new lr(T,P))}):m.writeTree_.children.inorderTraversal(function(T,P){null!=P.value&&g.push(new lr(T,P.value))}),g}function Zr(m,g){if(Bn(g))return m;var _=hi(m,g);return new nn(null!=_?new tn(_):m.writeTree_.subtree(g))}function Vr(m){return m.writeTree_.isEmpty()}function wi(m,g){return Pc(fr(),m.writeTree_,g)}function Pc(m,g,_){if(null!=g.value)return _.updateChild(m,g.value);var T=null;return g.children.inorderTraversal(function(P,L){".priority"===P?((0,Y.hu)(null!==L.value,"Priority writes must always be leaf nodes"),T=L.value):_=Pc(kr(m,P),L,_)}),!_.getChild(m).isEmpty()&&null!==T&&(_=_.updateChild(kr(m,".priority"),T)),_}function pa(m,g){return rc(g,m)}function go(m,g){if(m.snap)return ys(m.path,g);for(var _ in m.children)if(m.children.hasOwnProperty(_)&&ys(kr(m.path,_),g))return!0;return!1}function U(m){return m.visible}function K(m,g,_){for(var T=nn.empty(),P=0;P<m.length;++P){var L=m[P];if(g(L)){var q=L.path,re=void 0;if(L.snap)ys(_,q)?T=Ln(T,re=Ei(_,q),L.snap):ys(q,_)&&(re=Ei(q,_),T=Ln(T,fr(),L.snap.getChild(re)));else{if(!L.children)throw(0,Y.g5)("WriteRecord should have .snap or .children");if(ys(_,q))T=gn(T,re=Ei(_,q),L.children);else if(ys(q,_))if(Bn(re=Ei(q,_)))T=gn(T,fr(),L.children);else{var ie=(0,Y.DV)(L.children,Jt(re));if(ie){var fe=ie.getChild(jn(re));T=Ln(T,fr(),fe)}}}}}return T}function ge(m,g,_,T,P){if(T||P){var ie=Zr(m.visibleWrites,g);return!P&&Vr(ie)?_:P||null!=_||$i(ie,fr())?wi(K(m.allWrites,function(dt){return(dt.visible||P)&&(!T||!~T.indexOf(dt.writeId))&&(ys(dt.path,g)||ys(g,dt.path))},g),_||j.EMPTY_NODE):null}var L=hi(m.visibleWrites,g);if(null!=L)return L;var q=Zr(m.visibleWrites,g);return Vr(q)?_:null!=_||$i(q,fr())?wi(q,_||j.EMPTY_NODE):null}function Mo(m,g,_,T){return ge(m.writeTree,m.treePath,g,_,T)}function tc(m,g){return function nt(m,g,_){var T=j.EMPTY_NODE,P=hi(m.visibleWrites,g);if(P)return P.isLeafNode()||P.forEachChild($r,function(re,ie){T=T.updateImmediateChild(re,ie)}),T;if(_){var L=Zr(m.visibleWrites,g);return _.forEachChild($r,function(re,ie){var fe=wi(Zr(L,new sr(re)),ie);T=T.updateImmediateChild(re,fe)}),Ki(L).forEach(function(re){T=T.updateImmediateChild(re.name,re.node)}),T}return Ki(Zr(m.visibleWrites,g)).forEach(function(re){T=T.updateImmediateChild(re.name,re.node)}),T}(m.writeTree,m.treePath,g)}function fl(m,g,_,T){return function Xt(m,g,_,T,P){(0,Y.hu)(T||P,"Either existingEventSnap or existingServerSnap must exist");var L=kr(g,_);if($i(m.visibleWrites,L))return null;var q=Zr(m.visibleWrites,L);return Vr(q)?P.getChild(_):wi(q,P.getChild(_))}(m.writeTree,m.treePath,g,_,T)}function lu(m,g){return function wr(m,g){return hi(m.visibleWrites,g)}(m.writeTree,kr(m.treePath,g))}function Mc(m,g,_){return function Jn(m,g,_,T){var P=kr(g,_),L=hi(m.visibleWrites,P);return null!=L?L:T.isCompleteForChild(_)?wi(Zr(m.visibleWrites,P),T.getNode().getImmediateChild(_)):null}(m.writeTree,m.treePath,g,_)}function hl(m,g){return rc(kr(m.treePath,g),m.writeTree)}function rc(m,g){return{treePath:m,writeTree:g}}var bd=function(){function m(){this.changeMap=new Map}return m.prototype.trackChildChange=function(g){var _=g.type,T=g.childName;(0,Y.hu)("child_added"===_||"child_changed"===_||"child_removed"===_,"Only child changes supported for tracking"),(0,Y.hu)(".priority"!==T,"Only non-priority child changes can be tracked.");var P=this.changeMap.get(T);if(P){var L=P.type;if("child_added"===_&&"child_removed"===L)this.changeMap.set(T,Vt(T,g.snapshotNode,P.snapshotNode));else if("child_removed"===_&&"child_added"===L)this.changeMap.delete(T);else if("child_removed"===_&&"child_changed"===L)this.changeMap.set(T,ct(T,P.oldSnap));else if("child_changed"===_&&"child_added"===L)this.changeMap.set(T,xo(T,g.snapshotNode));else{if("child_changed"!==_||"child_changed"!==L)throw(0,Y.g5)("Illegal combination of changes: "+g+" occurred after "+P);this.changeMap.set(T,Vt(T,g.snapshotNode,P.oldSnap))}}else this.changeMap.set(T,g)},m.prototype.getChanges=function(){return Array.from(this.changeMap.values())},m}(),Tf=function(){function m(){}return m.prototype.getCompleteChild=function(g){return null},m.prototype.getChildAfterChild=function(g,_,T){return null},m}(),pl=new Tf,gl=function(){function m(g,_,T){void 0===T&&(T=null),this.writes_=g,this.viewCache_=_,this.optCompleteServerCache_=T}return m.prototype.getCompleteChild=function(g){var _=this.viewCache_.eventCache;if(_.isCompleteForChild(g))return _.getNode().getImmediateChild(g);var T=null!=this.optCompleteServerCache_?new Si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mc(this.writes_,g,T)},m.prototype.getChildAfterChild=function(g,_,T){var P=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rt(this.viewCache_),L=function nc(m,g,_,T,P,L){return function En(m,g,_,T,P,L,q){var re,ie=Zr(m.visibleWrites,g),fe=hi(ie,fr());if(null!=fe)re=fe;else{if(null==_)return[];re=wi(ie,_)}if((re=re.withIndex(q)).isEmpty()||re.isLeafNode())return[];for(var _e=[],Be=q.getCompare(),dt=L?re.getReverseIteratorFrom(T,q):re.getIteratorFrom(T,q),wt=dt.getNext();wt&&_e.length<P;)0!==Be(wt,T)&&_e.push(wt),wt=dt.getNext();return _e}(m.writeTree,m.treePath,g,_,T,P,L)}(this.writes_,P,_,1,T,g);return 0===L.length?null:L[0]},m}();function ic(m,g,_,T,P,L){var q=g.eventCache;if(null!=lu(T,_))return g;var re=void 0,ie=void 0;if(Bn(_))if((0,Y.hu)(g.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),g.serverCache.isFiltered()){var fe=Rt(g),Be=tc(T,fe instanceof j?fe:j.EMPTY_NODE);re=m.filter.updateFullNode(g.eventCache.getNode(),Be,L)}else{var dt=Mo(T,Rt(g));re=m.filter.updateFullNode(g.eventCache.getNode(),dt,L)}else{var wt=Jt(_);if(".priority"===wt){(0,Y.hu)(1===So(_),"Can't have a priority with additional path components");var Bt=q.getNode(),$n=fl(T,_,Bt,ie=g.serverCache.getNode());re=null!=$n?m.filter.updatePriority(Bt,$n):q.getNode()}else{var In=jn(_),cr=void 0;if(q.isCompleteForChild(wt)){ie=g.serverCache.getNode();var Go=fl(T,_,q.getNode(),ie);cr=null!=Go?q.getNode().getImmediateChild(wt).updateChild(In,Go):q.getNode().getImmediateChild(wt)}else cr=Mc(T,wt,g.serverCache);re=null!=cr?m.filter.updateChild(q.getNode(),wt,cr,In,P,L):q.getNode()}}return st(g,re,q.isFullyInitialized()||Bn(_),m.filter.filtersNodes())}function Af(m,g,_,T,P,L,q,re){var fe,ie=g.serverCache,_e=q?m.filter:m.filter.getIndexedFilter();if(Bn(_))fe=_e.updateFullNode(ie.getNode(),T,null);else if(_e.filtersNodes()&&!ie.isFiltered()){var Be=ie.getNode().updateChild(_,T);fe=_e.updateFullNode(ie.getNode(),Be,null)}else{var dt=Jt(_);if(!ie.isCompleteForPath(_)&&So(_)>1)return g;var wt=jn(_),$n=ie.getNode().getImmediateChild(dt).updateChild(wt,T);fe=".priority"===dt?_e.updatePriority(ie.getNode(),$n):_e.updateChild(ie.getNode(),dt,$n,wt,pl,null)}var In=It(g,fe,ie.isFullyInitialized()||Bn(_),_e.filtersNodes());return ic(m,In,_,P,new gl(P,In,L),re)}function Cd(m,g,_,T,P,L,q){var ie,fe,re=g.eventCache,_e=new gl(P,g,L);if(Bn(_))fe=m.filter.updateFullNode(g.eventCache.getNode(),T,q),ie=st(g,fe,!0,m.filter.filtersNodes());else{var Be=Jt(_);if(".priority"===Be)fe=m.filter.updatePriority(g.eventCache.getNode(),T),ie=st(g,fe,re.isFullyInitialized(),re.isFiltered());else{var dt=jn(_),wt=re.getNode().getImmediateChild(Be),Bt=void 0;if(Bn(dt))Bt=T;else{var $n=_e.getCompleteChild(Be);Bt=null!=$n?".priority"===Sn(dt)&&$n.getChild(bi(dt)).isEmpty()?$n:$n.updateChild(dt,T):j.EMPTY_NODE}ie=wt.equals(Bt)?g:st(g,m.filter.updateChild(re.getNode(),Be,Bt,dt,_e,q),re.isFullyInitialized(),m.filter.filtersNodes())}}return ie}function Td(m,g){return m.eventCache.isCompleteForChild(g)}function sn(m,g,_){return _.foreach(function(T,P){g=g.updateChild(T,P)}),g}function Ho(m,g,_,T,P,L,q,re){if(g.serverCache.getNode().isEmpty()&&!g.serverCache.isFullyInitialized())return g;var fe,ie=g;fe=Bn(_)?T:new tn(null).setTree(_,T);var _e=g.serverCache.getNode();return fe.children.inorderTraversal(function(Be,dt){if(_e.hasChild(Be)){var Bt=sn(0,g.serverCache.getNode().getImmediateChild(Be),dt);ie=Af(m,ie,new sr(Be),Bt,P,L,q,re)}}),fe.children.inorderTraversal(function(Be,dt){var wt=!g.serverCache.isCompleteForChild(Be)&&void 0===dt.value;if(!_e.hasChild(Be)&&!wt){var $n=sn(0,g.serverCache.getNode().getImmediateChild(Be),dt);ie=Af(m,ie,new sr(Be),$n,P,L,q,re)}}),ie}var Ah=function(){function m(g,_){this.query_=g,this.eventRegistrations_=[];var T=this.query_._queryParams,P=new yr(T.getIndex()),L=function Er(m){return m.loadsAllData()?new yr(m.getIndex()):m.hasLimit()?new Oa(m):new Wn(m)}(T);this.processor_=function wd(m){return{filter:m}}(L);var q=_.serverCache,re=_.eventCache,ie=P.updateFullNode(j.EMPTY_NODE,q.getNode(),null),fe=L.updateFullNode(j.EMPTY_NODE,re.getNode(),null),_e=new Si(ie,q.isFullyInitialized(),P.filtersNodes()),Be=new Si(fe,re.isFullyInitialized(),L.filtersNodes());this.viewCache_=We(Be,_e),this.eventGenerator_=new oi(this.query_)}return Object.defineProperty(m.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),m}();function Zg(m,g){var _=Rt(m.viewCache_);return _&&(m.query._queryParams.loadsAllData()||!Bn(g)&&!_.getImmediateChild(Jt(g)).isEmpty())?_.getChild(g):null}function xf(m){return 0===m.eventRegistrations_.length}function Dh(m,g,_){var T=[];if(_){(0,Y.hu)(null==g,"A cancel should cancel all event registrations.");var P=m.query._path;m.eventRegistrations_.forEach(function(ie){var fe=ie.createCancelEvent(_,P);fe&&T.push(fe)})}if(g){for(var L=[],q=0;q<m.eventRegistrations_.length;++q){var re=m.eventRegistrations_[q];if(re.matches(g)){if(g.hasAnyCallback()){L=L.concat(m.eventRegistrations_.slice(q+1));break}}else L.push(re)}m.eventRegistrations_=L}else m.eventRegistrations_=[];return T}function Ad(m,g,_,T){g.type===Di.MERGE&&null!==g.source.queryId&&((0,Y.hu)(Rt(m.viewCache_),"We should always have a full cache before handling merges"),(0,Y.hu)(kt(m.viewCache_),"Missing event cache, even though we have a server cache"));var P=m.viewCache_,L=function Sp(m,g,_,T,P){var q,re,L=new bd;if(_.type===Di.OVERWRITE){var ie=_;ie.source.fromUser?q=Cd(m,g,ie.path,ie.snap,T,P,L):((0,Y.hu)(ie.source.fromServer,"Unknown source."),re=ie.source.tagged||g.serverCache.isFiltered()&&!Bn(ie.path),q=Af(m,g,ie.path,ie.snap,T,P,re,L))}else if(_.type===Di.MERGE){var fe=_;fe.source.fromUser?q=function Df(m,g,_,T,P,L,q){var re=g;return T.foreach(function(ie,fe){var _e=kr(_,ie);Td(g,Jt(_e))&&(re=Cd(m,re,_e,fe,P,L,q))}),T.foreach(function(ie,fe){var _e=kr(_,ie);Td(g,Jt(_e))||(re=Cd(m,re,_e,fe,P,L,q))}),re}(m,g,fe.path,fe.children,T,P,L):((0,Y.hu)(fe.source.fromServer,"Unknown source."),re=fe.source.tagged||g.serverCache.isFiltered(),q=Ho(m,g,fe.path,fe.children,T,P,re,L))}else if(_.type===Di.ACK_USER_WRITE){var _e=_;q=_e.revert?function Ed(m,g,_,T,P,L){var q;if(null!=lu(T,_))return g;var re=new gl(T,g,P),ie=g.eventCache.getNode(),fe=void 0;if(Bn(_)||".priority"===Jt(_)){var _e=void 0;if(g.serverCache.isFullyInitialized())_e=Mo(T,Rt(g));else{var Be=g.serverCache.getNode();(0,Y.hu)(Be instanceof j,"serverChildren would be complete if leaf node"),_e=tc(T,Be)}fe=m.filter.updateFullNode(ie,_e,L)}else{var dt=Jt(_),wt=Mc(T,dt,g.serverCache);null==wt&&g.serverCache.isCompleteForChild(dt)&&(wt=ie.getImmediateChild(dt)),(fe=null!=wt?m.filter.updateChild(ie,dt,wt,jn(_),re,L):g.eventCache.getNode().hasChild(dt)?m.filter.updateChild(ie,dt,j.EMPTY_NODE,jn(_),re,L):ie).isEmpty()&&g.serverCache.isFullyInitialized()&&(q=Mo(T,Rt(g))).isLeafNode()&&(fe=m.filter.updateFullNode(fe,q,L))}return q=g.serverCache.isFullyInitialized()||null!=lu(T,fr()),st(g,fe,q,m.filter.filtersNodes())}(m,g,_e.path,T,P,L):function ts(m,g,_,T,P,L,q){if(null!=lu(P,_))return g;var re=g.serverCache.isFiltered(),ie=g.serverCache;if(null!=T.value){if(Bn(_)&&ie.isFullyInitialized()||ie.isCompleteForPath(_))return Af(m,g,_,ie.getNode().getChild(_),P,L,re,q);if(Bn(_)){var fe=new tn(null);return ie.getNode().forEachChild(bs,function(Be,dt){fe=fe.set(new sr(Be),dt)}),Ho(m,g,_,fe,P,L,re,q)}return g}var _e=new tn(null);return T.foreach(function(Be,dt){var wt=kr(_,Be);ie.isCompleteForPath(wt)&&(_e=_e.set(Be,ie.getNode().getChild(wt)))}),Ho(m,g,_,_e,P,L,re,q)}(m,g,_e.path,_e.affectedTree,T,P,L)}else{if(_.type!==Di.LISTEN_COMPLETE)throw(0,Y.g5)("Unknown operation type: "+_.type);q=function Sf(m,g,_,T,P){var L=g.serverCache;return ic(m,It(g,L.getNode(),L.isFullyInitialized()||Bn(_),L.isFiltered()),_,T,pl,P)}(m,g,_.path,T,L)}var Be=L.getChanges();return function qg(m,g,_){var T=g.eventCache;if(T.isFullyInitialized()){var P=T.getNode().isLeafNode()||T.getNode().isEmpty(),L=kt(m);(_.length>0||!m.eventCache.isFullyInitialized()||P&&!T.getNode().equals(L)||!T.getNode().getPriority().equals(L.getPriority()))&&_.push(xr(kt(g)))}}(g,q,Be),{viewCache:q,changes:Be}}(m.processor_,P,g,_,T);return function Ef(m,g){(0,Y.hu)(g.eventCache.getNode().isIndexed(m.filter.getIndex()),"Event snap not indexed"),(0,Y.hu)(g.serverCache.getNode().isIndexed(m.filter.getIndex()),"Server snap not indexed")}(m.processor_,L.viewCache),(0,Y.hu)(L.viewCache.serverCache.isFullyInitialized()||!P.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),m.viewCache_=L.viewCache,Ip(m,L.changes,L.viewCache.eventCache.getNode(),null)}function Ip(m,g,_,T){return function ws(m,g,_,T){var P=[],L=[];return g.forEach(function(q){"child_changed"===q.type&&m.index_.indexedValueChanged(q.oldSnap,q.snapshotNode)&&L.push(function Bs(m,g){return{type:"child_moved",snapshotNode:g,childName:m}}(q.childName,q.snapshotNode))}),ce(m,P,"child_removed",g,T,_),ce(m,P,"child_added",g,T,_),ce(m,P,"child_moved",L,T,_),ce(m,P,"child_changed",g,T,_),ce(m,P,"value",g,T,_),P}(m.eventGenerator_,g,_,T?[T]:m.eventRegistrations_)}var Pf,Nc,Mf=function m(){this.views=new Map};function Wv(m,g,_,T){var P,L,q=g.source.queryId;if(null!==q){var re=m.views.get(q);return(0,Y.hu)(null!=re,"SyncTree gave us an op for an invalid query."),Ad(re,g,_,T)}var ie=[];try{for(var fe=(0,De.XA)(m.views.values()),_e=fe.next();!_e.done;_e=fe.next())ie=ie.concat(Ad(re=_e.value,g,_,T))}catch(Be){P={error:Be}}finally{try{_e&&!_e.done&&(L=fe.return)&&L.call(fe)}finally{if(P)throw P.error}}return ie}function mo(m,g,_,T,P){var q=m.views.get(g._queryIdentifier);if(!q){var re=Mo(_,P?T:null),ie=!1;re?ie=!0:T instanceof j?(re=tc(_,T),ie=!1):(re=j.EMPTY_NODE,ie=!1);var fe=We(new Si(re,ie,!1),new Si(T,P,!1));return new Ah(g,fe)}return q}function Gg(m){var g,_,T=[];try{for(var P=(0,De.XA)(m.views.values()),L=P.next();!L.done;L=P.next()){var q=L.value;q.query._queryParams.loadsAllData()||T.push(q)}}catch(re){g={error:re}}finally{try{L&&!L.done&&(_=P.return)&&_.call(P)}finally{if(g)throw g.error}}return T}function oc(m,g){var _,T,P=null;try{for(var L=(0,De.XA)(m.views.values()),q=L.next();!q.done;q=L.next())P=P||Zg(q.value,g)}catch(ie){_={error:ie}}finally{try{q&&!q.done&&(T=L.return)&&T.call(L)}finally{if(_)throw _.error}}return P}function ns(m,g){return g._queryParams.loadsAllData()?Oc(m):m.views.get(g._queryIdentifier)}function ga(m,g){return null!=ns(m,g)}function vl(m){return null!=Oc(m)}function Oc(m){var g,_;try{for(var T=(0,De.XA)(m.views.values()),P=T.next();!P.done;P=T.next()){var L=P.value;if(L.query._queryParams.loadsAllData())return L}}catch(q){g={error:q}}finally{try{P&&!P.done&&(_=T.return)&&_.call(T)}finally{if(g)throw g.error}}return null}var l_=1,c_=function m(g){this.listenProvider_=g,this.syncPointTree_=new tn(null),this.pendingWriteTree_=function uu(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function zg(m,g,_,T,P){return function Eh(m,g,_,T,P){(0,Y.hu)(T>m.lastWriteId,"Stacking an older write on top of newer ones"),void 0===P&&(P=!0),m.allWrites.push({path:g,snap:_,writeId:T,visible:P}),P&&(m.visibleWrites=Ln(m.visibleWrites,g,_)),m.lastWriteId=T}(m.pendingWriteTree_,g,_,T,P),P?Cr(m,new cl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},g,_)):[]}function no(m,g,_){void 0===_&&(_=!1);var T=function _d(m,g){for(var _=0;_<m.allWrites.length;_++){var T=m.allWrites[_];if(T.writeId===g)return T}return null}(m.pendingWriteTree_,g);if(function Hs(m,g){var _=m.allWrites.findIndex(function(fe){return fe.writeId===g});(0,Y.hu)(_>=0,"removeWrite called with nonexistent writeId.");var T=m.allWrites[_];m.allWrites.splice(_,1);for(var P=T.visible,L=!1,q=m.allWrites.length-1;P&&q>=0;){var re=m.allWrites[q];re.visible&&(q>=_&&go(re,T.path)?P=!1:ys(T.path,re.path)&&(L=!0)),q--}return!!P&&(L?(function N(m){m.visibleWrites=K(m.allWrites,U,fr()),m.lastWriteId=m.allWrites.length>0?m.allWrites[m.allWrites.length-1].writeId:-1}(m),!0):(T.snap?m.visibleWrites=qr(m.visibleWrites,T.path):Ee(T.children,function(fe){m.visibleWrites=qr(m.visibleWrites,kr(T.path,fe))}),!0))}(m.pendingWriteTree_,g)){var L=new tn(null);return null!=T.snap?L=L.set(fr(),!0):Ee(T.children,function(q){L=L.set(new sr(q),!0)}),Cr(m,new Xl(T.path,L,_))}return[]}function kc(m,g,_){return Cr(m,new cl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},g,_))}function xp(m,g,_,T){var P=g._path,L=m.syncPointTree_.get(P),q=[];if(L&&("default"===g._queryIdentifier||ga(L,g))){var re=function Fa(m,g,_,T){var P,L,q=g._queryIdentifier,re=[],ie=[],fe=vl(m);if("default"===q)try{for(var _e=(0,De.XA)(m.views.entries()),Be=_e.next();!Be.done;Be=_e.next()){var Bt,dt=(0,De.CR)(Be.value,2),wt=dt[0];ie=ie.concat(Dh(Bt=dt[1],_,T)),xf(Bt)&&(m.views.delete(wt),Bt.query._queryParams.loadsAllData()||re.push(Bt.query))}}catch($n){P={error:$n}}finally{try{Be&&!Be.done&&(L=_e.return)&&L.call(_e)}finally{if(P)throw P.error}}else(Bt=m.views.get(q))&&(ie=ie.concat(Dh(Bt,_,T)),xf(Bt)&&(m.views.delete(q),Bt.query._queryParams.loadsAllData()||re.push(Bt.query)));return fe&&!vl(m)&&re.push(new(function Of(){return(0,Y.hu)(Pf,"Reference.ts has not been loaded"),Pf}())(g._repo,g._path)),{removed:re,events:ie}}(L,g,_,T);(function u_(m){return 0===m.views.size})(L)&&(m.syncPointTree_=m.syncPointTree_.remove(P));var ie=re.removed;q=re.events;var fe=-1!==ie.findIndex(function(Go){return Go._queryParams.loadsAllData()}),_e=m.syncPointTree_.findOnPath(P,function(Go,Hu){return vl(Hu)});if(fe&&!_e){var Be=m.syncPointTree_.subtree(P);if(!Be.isEmpty())for(var dt=function Ih(m){return m.fold(function(g,_,T){if(_&&vl(_))return[Oc(_)];var L=[];return _&&(L=Gg(_)),Ee(T,function(q,re){L=L.concat(re)}),L})}(Be),wt=0;wt<dt.length;++wt){var Bt=dt[wt],$n=Bt.query,In=zr(m,Bt);m.listenProvider_.startListening(du($n),Oo(m,$n),In.hashFn,In.onComplete)}}!_e&&ie.length>0&&!T&&(fe?m.listenProvider_.stopListening(du(g),null):ie.forEach(function(Go){var Hu=m.queryToTagMap.get(Ou(Go));m.listenProvider_.stopListening(du(Go),Hu)})),function Lc(m,g){for(var _=0;_<g.length;++_){var T=g[_];if(!T._queryParams.loadsAllData()){var P=Ou(T),L=m.queryToTagMap.get(P);m.queryToTagMap.delete(P),m.tagToQueryMap.delete(L)}}}(m,ie)}return q}function Pp(m,g,_){var T=g._path,P=null,L=!1;m.syncPointTree_.foreachOnPath(T,function($n,In){var cr=Ei($n,T);P=P||oc(In,cr),L=L||vl(In)});var re,q=m.syncPointTree_.get(T);q?(L=L||vl(q),P=P||oc(q,fr())):(q=new Mf,m.syncPointTree_=m.syncPointTree_.set(T,q)),null!=P?re=!0:(re=!1,P=j.EMPTY_NODE,m.syncPointTree_.subtree(T).foreachChild(function($n,In){var cr=oc(In,fr());cr&&(P=P.updateImmediateChild($n,cr))}));var fe=ga(q,g);if(!fe&&!g._queryParams.loadsAllData()){var _e=Ou(g);(0,Y.hu)(!m.queryToTagMap.has(_e),"View does not exist, but we have a tag");var Be=function xh(){return l_++}();m.queryToTagMap.set(_e,Be),m.tagToQueryMap.set(Be,_e)}var wt=function Nf(m,g,_,T,P,L){var q=mo(m,g,T,P,L);return m.views.has(g._queryIdentifier)||m.views.set(g._queryIdentifier,q),function Qr(m,g){m.eventRegistrations_.push(g)}(q,_),function ww(m,g){var _=m.viewCache_.eventCache,T=[];return _.getNode().isLeafNode()||_.getNode().forEachChild($r,function(L,q){T.push(xo(L,q))}),_.isFullyInitialized()&&T.push(xr(_.getNode())),Ip(m,T,_.getNode(),g)}(q,_)}(q,g,_,pa(m.pendingWriteTree_,T),P,re);if(!fe&&!L){var Bt=ns(q,g);wt=wt.concat(function ro(m,g,_){var T=g._path,P=Oo(m,g),L=zr(m,_),q=m.listenProvider_.startListening(du(g),P,L.hashFn,L.onComplete),re=m.syncPointTree_.subtree(T);if(P)(0,Y.hu)(!vl(re.value),"If we're adding a query, it shouldn't be shadowed");else for(var ie=re.fold(function(Be,dt,wt){if(!Bn(Be)&&dt&&vl(dt))return[Oc(dt).query];var Bt=[];return dt&&(Bt=Bt.concat(Gg(dt).map(function($n){return $n.query}))),Ee(wt,function($n,In){Bt=Bt.concat(In)}),Bt}),fe=0;fe<ie.length;++fe){var _e=ie[fe];m.listenProvider_.stopListening(du(_e),Oo(m,_e))}return q}(m,g,Bt))}return wt}function sc(m,g,_){var P=m.pendingWriteTree_,L=m.syncPointTree_.findOnPath(g,function(q,re){var fe=oc(re,Ei(q,g));if(fe)return fe});return ge(P,g,L,_,!0)}function Cr(m,g){return cu(g,m.syncPointTree_,null,pa(m.pendingWriteTree_,fr()))}function cu(m,g,_,T){if(Bn(m.path))return dn(m,g,_,T);var P=g.get(fr());null==_&&null!=P&&(_=oc(P,fr()));var L=[],q=Jt(m.path),re=m.operationForChild(q),ie=g.children.get(q);if(ie&&re){var fe=_?_.getImmediateChild(q):null,_e=hl(T,q);L=L.concat(cu(re,ie,fe,_e))}return P&&(L=L.concat(Wv(P,m,T,_))),L}function dn(m,g,_,T){var P=g.get(fr());null==_&&null!=P&&(_=oc(P,fr()));var L=[];return g.children.inorderTraversal(function(q,re){var ie=_?_.getImmediateChild(q):null,fe=hl(T,q),_e=m.operationForChild(q);_e&&(L=L.concat(dn(_e,re,ie,fe)))}),P&&(L=L.concat(Wv(P,m,T,_))),L}function zr(m,g){var _=g.query,T=Oo(m,_);return{hashFn:function(){var P=function If(m){return m.viewCache_.serverCache.getNode()}(g)||j.EMPTY_NODE;return P.hash()},onComplete:function(P){if("ok"===P)return T?function Kv(m,g,_){var T=Fc(m,_);if(T){var P=Cs(T),L=P.path,q=P.queryId,re=Ei(L,g);return Dd(m,L,new ec(Ra(q),re))}return[]}(m,_._path,T):function d_(m,g){return Cr(m,new ec({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},g))}(m,_._path);var L=function Xe(m,g){var _="Unknown Error";"too_big"===m?_="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===m?_="Client doesn't have permission to access the desired data.":"unavailable"===m&&(_="The service is unavailable");var T=new Error(m+" at "+g._path.toString()+": "+_);return T.code=m.toUpperCase(),T}(P,_);return xp(m,_,null,L)}}}function Oo(m,g){var _=Ou(g);return m.queryToTagMap.get(_)}function Ou(m){return m._path.toString()+"$"+m._queryIdentifier}function Fc(m,g){return m.tagToQueryMap.get(g)}function Cs(m){var g=m.indexOf("$");return(0,Y.hu)(-1!==g&&g<m.length-1,"Bad queryKey."),{queryId:m.substr(g+1),path:new sr(m.substr(0,g))}}function Dd(m,g,_){var T=m.syncPointTree_.get(g);return(0,Y.hu)(T,"Missing sync point for query tag that we're tracking"),Wv(T,_,pa(m.pendingWriteTree_,g),null)}function du(m){return m._queryParams.loadsAllData()&&!m._queryParams.isDefault()?new(function Yv(){return(0,Y.hu)(Nc,"Reference.ts has not been loaded"),Nc}())(m._repo,m._path):m}var yl=function(){function m(g){this.node_=g}return m.prototype.getImmediateChild=function(g){return new m(this.node_.getImmediateChild(g))},m.prototype.node=function(){return this.node_},m}(),Kt=function(){function m(g,_){this.syncTree_=g,this.path_=_}return m.prototype.getImmediateChild=function(g){var _=kr(this.path_,g);return new m(this.syncTree_,_)},m.prototype.node=function(){return sc(this.syncTree_,this.path_)},m}(),Uc=function(m,g,_){return m&&"object"==typeof m?((0,Y.hu)(".sv"in m,"Unexpected leaf node or priority contents"),"string"==typeof m[".sv"]?Mh(m[".sv"],g,_):"object"==typeof m[".sv"]?Mp(m[".sv"],g):void(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(m,null,2))):m},Mh=function(m,g,_){if("timestamp"===m)return _.timestamp;(0,Y.hu)(!1,"Unexpected server value: "+m)},Mp=function(m,g,_){m.hasOwnProperty("increment")||(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(m,null,2));var T=m.increment;"number"!=typeof T&&(0,Y.hu)(!1,"Unexpected increment value: "+T);var P=g.node();if((0,Y.hu)(null!==P&&typeof P<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!P.isLeafNode())return T;var q=P.getValue();return"number"!=typeof q?T:q+T},Mi=function(m,g,_,T){return La(g,new Kt(_,m),T)},ac=function(m,g,_){return La(m,new yl(g),_)};function La(m,g,_){var L,T=m.getPriority().val(),P=Uc(T,g.getImmediateChild(".priority"),_);if(m.isLeafNode()){var q=m,re=Uc(q.getValue(),g,_);return re!==q.getValue()||P!==q.getPriority().val()?new Pa(re,me(P)):m}var ie=m;return L=ie,P!==ie.getPriority().val()&&(L=L.updatePriority(new Pa(P))),ie.forEachChild($r,function(fe,_e){var Be=La(_e,g.getImmediateChild(fe),_);Be!==_e&&(L=L.updateImmediateChild(fe,Be))}),L}var Bc=function m(g,_,T){void 0===g&&(g=""),void 0===_&&(_=null),void 0===T&&(T={children:{},childCount:0}),this.name=g,this.parent=_,this.node=T};function qs(m,g){for(var _=g instanceof sr?g:new sr(g),T=m,P=Jt(_);null!==P;){var L=(0,Y.DV)(T.node.children,P)||{children:{},childCount:0};T=new Bc(P,T,L),P=Jt(_=jn(_))}return T}function rs(m){return m.node.value}function Nu(m,g){m.node.value=g,Gs(m)}function ku(m){return m.node.childCount>0}function Zs(m,g){Ee(m.node.children,function(_,T){g(new Bc(_,m,T))})}function Oh(m,g,_,T){_&&!T&&g(m),Zs(m,function(P){Oh(P,g,!0,T)}),_&&T&&g(m)}function vo(m){return new sr(null===m.parent?m.name:vo(m.parent)+"/"+m.name)}function Gs(m){null!==m.parent&&function Ts(m,g,_){var T=function fu(m){return void 0===rs(m)&&!ku(m)}(_),P=(0,Y.r3)(m.node.children,g);T&&P?(delete m.node.children[g],m.node.childCount--,Gs(m)):!T&&!P&&(m.node.children[g]=_.node,m.node.childCount++,Gs(m))}(m.parent,m.name,m)}var Oi=/[\[\].#$\/\u0000-\u001F\u007F]/,Rf=/[\[\].#$\u0000-\u001F\u007F]/,Fu=10485760,Ui=function(m){return"string"==typeof m&&0!==m.length&&!Oi.test(m)},Ua=function(m){return"string"==typeof m&&0!==m.length&&!Rf.test(m)},io=function(m){return null===m||"string"==typeof m||"number"==typeof m&&!br(m)||m&&"object"==typeof m&&(0,Y.r3)(m,".sv")},si=function(m,g,_,T){T&&void 0===g||is((0,Y.gK)(m,"value"),g,_)},is=function(m,g,_){var T=_ instanceof sr?new fo(_,m):_;if(void 0===g)throw new Error(m+"contains undefined "+ks(T));if("function"==typeof g)throw new Error(m+"contains a function "+ks(T)+" with contents = "+g.toString());if(br(g))throw new Error(m+"contains "+g.toString()+" "+ks(T));if("string"==typeof g&&g.length>Fu/3&&(0,Y.ug)(g)>Fu)throw new Error(m+"contains a string greater than "+Fu+" utf8 bytes "+ks(T)+" ('"+g.substring(0,50)+"...')");if(g&&"object"==typeof g){var P=!1,L=!1;if(Ee(g,function(q,re){if(".value"===q)P=!0;else if(".priority"!==q&&".sv"!==q&&(L=!0,!Ui(q)))throw new Error(m+" contains an invalid key ("+q+") "+ks(T)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ua(m,g){m.parts_.length>0&&(m.byteLength_+=1),m.parts_.push(g),m.byteLength_+=(0,Y.ug)(g),Jo(m)})(T,q),is(m,re,T),function al(m){var g=m.parts_.pop();m.byteLength_-=(0,Y.ug)(g),m.parts_.length>0&&(m.byteLength_-=1)}(T)}),P&&L)throw new Error(m+' contains ".value" child '+ks(T)+" in addition to actual children.")}},$s=function(m,g,_,T){if(!T||void 0!==g){var P=(0,Y.gK)(m,"values");if(!g||"object"!=typeof g||Array.isArray(g))throw new Error(P+" must be an object containing the children to replace.");var L=[];Ee(g,function(q,re){var ie=new sr(q);if(is(P,re,kr(_,ie)),".priority"===Sn(ie)&&!io(re))throw new Error(P+"contains an invalid value for '"+ie.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");L.push(ie)}),function(m,g){var _,T;for(_=0;_<g.length;_++)for(var P=Li(T=g[_]),L=0;L<P.length;L++)if((".priority"!==P[L]||L!==P.length-1)&&!Ui(P[L]))throw new Error(m+"contains an invalid key ("+P[L]+") in path "+T.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');g.sort(Qo);var q=null;for(_=0;_<g.length;_++){if(T=g[_],null!==q&&ys(q,T))throw new Error(m+"contains a path "+q.toString()+" that is ancestor of another path "+T.toString());q=T}}(P,L)}},hu=function(m,g,_){if(!_||void 0!==g){if(br(g))throw new Error((0,Y.gK)(m,"priority")+"is "+g.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!io(g))throw new Error((0,Y.gK)(m,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Lu=function(m,g,_){if(!_||void 0!==g)switch(g){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Y.gK)(m,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ci=function(m,g,_,T){if(!(T&&void 0===_||Ui(_)))throw new Error((0,Y.gK)(m,g)+'was an invalid key = "'+_+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ba=function(m,g,_,T){if(!(T&&void 0===_||Ua(_)))throw new Error((0,Y.gK)(m,g)+'was an invalid path = "'+_+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pi=function(m,g){if(".info"===Jt(g))throw new Error(m+" failed = Can't modify data under /.info/")},Nh=function(m,g){var _=g.path.toString();if("string"!=typeof g.repoInfo.host||0===g.repoInfo.host.length||!Ui(g.repoInfo.namespace)&&"localhost"!==g.repoInfo.host.split(":")[0]||0!==_.length&&!function(m){return m&&(m=m.replace(/^\/*\.info(\/|$)/,"/")),Ua(m)}(_))throw new Error((0,Y.gK)(m,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Op=function(m,g,_,T){if((!T||void 0!==_)&&"boolean"!=typeof _)throw new Error((0,Y.gK)(m,g)+"must be a boolean.")},Lf=function m(){this.eventLists_=[],this.recursionDepth_=0};function ma(m,g){for(var _=null,T=0;T<g.length;T++){var P=g[T],L=P.getPath();null!==_&&!$l(L,_.path)&&(m.eventLists_.push(_),_=null),null===_&&(_={events:[],path:L}),_.events.push(P)}_&&m.eventLists_.push(_)}function Vc(m,g,_){ma(m,_),jc(m,function(T){return $l(T,g)})}function Gn(m,g,_){ma(m,_),jc(m,function(T){return ys(T,g)||ys(g,T)})}function jc(m,g){m.recursionDepth_++;for(var _=!0,T=0;T<m.eventLists_.length;T++){var P=m.eventLists_[T];P&&(g(P.path)?(h_(m.eventLists_[T]),m.eventLists_[T]=null):_=!1)}_&&(m.eventLists_=[]),m.recursionDepth_--}function h_(m){for(var g=0;g<m.events.length;g++){var _=m.events[g];if(null!==_){m.events[g]=null;var T=_.getEventRunner();bn&&Ye("event: "+_.toString()),zn(T)}}}var _l="repo_interrupt",xd=function(){function m(g,_,T,P){this.repoInfo_=g,this.forceRestClient_=_,this.authTokenProvider_=T,this.appCheckProvider_=P,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pr(),this.transactionQueueTree_=new Bc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return m.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},m}();function Uf(m){var _=m.infoData_.getNode(new sr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+_}function bl(m){return function(m){return(m=m||{}).timestamp=m.timestamp||(new Date).getTime(),m}({timestamp:Uf(m)})}function As(m,g,_,T,P){m.dataUpdateCount++;var L=new sr(g);_=m.interceptServerDataCallback_?m.interceptServerDataCallback_(g,_):_;var q=[];if(P)if(T){var re=(0,Y.UI)(_,function(dt){return me(dt)});q=function kf(m,g,_,T){var P=Fc(m,T);if(P){var L=Cs(P),q=L.path,re=L.queryId,ie=Ei(q,g),fe=tn.fromObject(_);return Dd(m,q,new fi(Ra(re),ie,fe))}return[]}(m.serverSyncTree_,L,re,P)}else{var ie=me(_);q=function Qv(m,g,_,T){var P=Fc(m,T);if(null!=P){var L=Cs(P),q=L.path,re=L.queryId,ie=Ei(q,g);return Dd(m,q,new cl(Ra(re),ie,_))}return[]}(m.serverSyncTree_,L,ie,P)}else if(T){var fe=(0,Y.UI)(_,function(dt){return me(dt)});q=function Rc(m,g,_){var T=tn.fromObject(_);return Cr(m,new fi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},g,T))}(m.serverSyncTree_,L,fe)}else{var _e=me(_);q=kc(m.serverSyncTree_,L,_e)}var Be=L;q.length>0&&(Be=Gc(m,L)),Gn(m.eventQueue_,Be,q)}function oo(m,g){uc(m,"connected",g),!1===g&&function Np(m){cc(m,"onDisconnectEvents");var g=bl(m),_=Pr();jo(m.onDisconnect_,fr(),function(P,L){var q=Mi(P,L,m.serverSyncTree_,g);fa(_,P,q)});var T=[];jo(_,fr(),function(P,L){T=T.concat(kc(m.serverSyncTree_,P,L));var q=Hf(m,P);Gc(m,q)}),m.onDisconnect_=Pr(),Gn(m.eventQueue_,fr(),T)}(m)}function uc(m,g,_){var T=new sr("/.info/"+g),P=me(_);m.infoData_.updateSnapshot(T,P);var L=kc(m.infoSyncTree_,T,P);Gn(m.eventQueue_,T,L)}function lc(m){return m.nextWriteId_++}function Pd(m,g,_,T,P){cc(m,"set",{path:g.toString(),value:_,priority:T});var L=bl(m),q=me(_,T),re=sc(m.serverSyncTree_,g),ie=ac(q,re,L),fe=lc(m),_e=zg(m.serverSyncTree_,g,ie,fe,!0);ma(m.eventQueue_,_e),m.server_.put(g.toString(),q.val(!0),function(dt,wt){var Bt="ok"===dt;Bt||yt("set at "+g+" failed: "+dt);var $n=no(m.serverSyncTree_,fe,!Bt);Gn(m.eventQueue_,g,$n),pu(0,P,dt,wt)});var Be=Hf(m,g);Gc(m,Be),Gn(m.eventQueue_,Be,[])}function kh(m,g,_){m.server_.onDisconnectCancel(g.toString(),function(T,P){"ok"===T&&Gi(m.onDisconnect_,g),pu(0,_,T,P)})}function Yg(m,g,_,T){var P=me(_);m.server_.onDisconnectPut(g.toString(),P.val(!0),function(L,q){"ok"===L&&fa(m.onDisconnect_,g,P),pu(0,T,L,q)})}function zs(m,g,_){var T;T=".info"===Jt(g._path)?xp(m.infoSyncTree_,g,_):xp(m.serverSyncTree_,g,_),Vc(m.eventQueue_,g._path,T)}function An(m){m.persistentConnection_&&m.persistentConnection_.interrupt(_l)}function cc(m){for(var g=[],_=1;_<arguments.length;_++)g[_-1]=arguments[_];var T="";m.persistentConnection_&&(T=m.persistentConnection_.id+":"),Ye.apply(void 0,(0,De.ev)([T],(0,De.CR)(g)))}function pu(m,g,_,T){g&&zn(function(){if("ok"===_)g(null);else{var P=(_||"error").toUpperCase(),L=P;T&&(L+=": "+T);var q=new Error(L);q.code=P,g(q)}})}function dc(m,g,_){return sc(m.serverSyncTree_,g,_)||j.EMPTY_NODE}function gu(m,g){if(void 0===g&&(g=m.transactionQueueTree_),g||$c(m,g),rs(g)){var _=Od(m,g);(0,Y.hu)(_.length>0,"Sending zero length transaction queue"),_.every(function(P){return 0===P.status})&&function Zc(m,g,_){for(var T=_.map(function(dt){return dt.currentWriteId}),P=dc(m,g,T),L=P,q=P.hash(),re=0;re<_.length;re++){var ie=_[re];(0,Y.hu)(0===ie.status,"tryToSendTransactionQueue_: items in queue should all be run."),ie.status=1,ie.retryCount++;var fe=Ei(g,ie.path);L=L.updateChild(fe,ie.currentOutputSnapshotRaw)}var _e=L.val(!0),Be=g;m.server_.put(Be.toString(),_e,function(dt){cc(m,"transaction put response",{path:Be.toString(),status:dt});var wt=[];if("ok"===dt){for(var Bt=[],$n=function(cr){_[cr].status=2,wt=wt.concat(no(m.serverSyncTree_,_[cr].currentWriteId)),_[cr].onComplete&&Bt.push(function(){return _[cr].onComplete(null,!0,_[cr].currentOutputSnapshotResolved)}),_[cr].unwatcher()},In=0;In<_.length;In++)$n(In);for($c(m,qs(m.transactionQueueTree_,g)),gu(m,m.transactionQueueTree_),Gn(m.eventQueue_,g,wt),In=0;In<Bt.length;In++)zn(Bt[In])}else{if("datastale"===dt)for(In=0;In<_.length;In++)_[In].status=3===_[In].status?4:0;else for(yt("transaction at "+Be.toString()+" failed: "+dt),In=0;In<_.length;In++)_[In].status=4,_[In].abortReason=dt;Gc(m,g)}},q)}(m,vo(g),_)}else ku(g)&&Zs(g,function(P){gu(m,P)})}function Gc(m,g){var _=Fh(m,g),T=vo(_);return function Rh(m,g,_){if(0!==g.length){for(var T=[],P=[],q=g.filter(function(fe){return 0===fe.status}).map(function(fe){return fe.currentWriteId}),re=function(fe){var wt,_e=g[fe],Be=Ei(_,_e.path),dt=!1;if((0,Y.hu)(null!==Be,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_e.status)dt=!0,wt=_e.abortReason,P=P.concat(no(m.serverSyncTree_,_e.currentWriteId,!0));else if(0===_e.status)if(_e.retryCount>=25)dt=!0,wt="maxretry",P=P.concat(no(m.serverSyncTree_,_e.currentWriteId,!0));else{var Bt=dc(m,_e.path,q);_e.currentInputSnapshot=Bt;var $n=g[fe].update(Bt.val());if(void 0!==$n){is("transaction failed: Data returned ",$n,_e.path);var In=me($n);"object"==typeof $n&&null!=$n&&(0,Y.r3)($n,".priority")||(In=In.updatePriority(Bt.getPriority()));var Go=_e.currentWriteId,Hu=bl(m),qu=ac(In,Bt,Hu);_e.currentOutputSnapshotRaw=In,_e.currentOutputSnapshotResolved=qu,_e.currentWriteId=lc(m),q.splice(q.indexOf(Go),1),P=(P=P.concat(zg(m.serverSyncTree_,_e.path,qu,_e.currentWriteId,_e.applyLocally))).concat(no(m.serverSyncTree_,Go,!0))}else dt=!0,wt="nodata",P=P.concat(no(m.serverSyncTree_,_e.currentWriteId,!0))}Gn(m.eventQueue_,_,P),P=[],dt&&(g[fe].status=2,setTimeout(g[fe].unwatcher,Math.floor(0)),g[fe].onComplete&&T.push("nodata"===wt?function(){return g[fe].onComplete(null,!1,g[fe].currentInputSnapshot)}:function(){return g[fe].onComplete(new Error(wt),!1,null)}))},ie=0;ie<g.length;ie++)re(ie);for($c(m,m.transactionQueueTree_),ie=0;ie<T.length;ie++)zn(T[ie]);gu(m,m.transactionQueueTree_)}}(m,Od(m,_),T),T}function Fh(m,g){var _,T=m.transactionQueueTree_;for(_=Jt(g);null!==_&&void 0===rs(T);)T=qs(T,_),_=Jt(g=jn(g));return T}function Od(m,g){var _=[];return jf(m,g,_),_.sort(function(T,P){return T.order-P.order}),_}function jf(m,g,_){var T=rs(g);if(T)for(var P=0;P<T.length;P++)_.push(T[P]);Zs(g,function(L){jf(m,L,_)})}function $c(m,g){var _=rs(g);if(_){for(var T=0,P=0;P<_.length;P++)2!==_[P].status&&(_[T]=_[P],T++);_.length=T,Nu(g,_.length>0?_:void 0)}Zs(g,function(L){$c(m,L)})}function Hf(m,g){var _=vo(Fh(m,g)),T=qs(m.transactionQueueTree_,g);return function Ru(m,g,_){for(var T=_?m:m.parent;null!==T;){if(g(T))return!0;T=T.parent}}(T,function(P){fc(m,P)}),fc(m,T),Oh(T,function(P){fc(m,P)}),_}function fc(m,g){var _=rs(g);if(_){for(var T=[],P=[],L=-1,q=0;q<_.length;q++)3===_[q].status||(1===_[q].status?((0,Y.hu)(L===q-1,"All SENT items should be at beginning of queue."),L=q,_[q].status=3,_[q].abortReason="set"):((0,Y.hu)(0===_[q].status,"Unexpected transaction status in abort"),_[q].unwatcher(),P=P.concat(no(m.serverSyncTree_,_[q].currentWriteId,!0)),_[q].onComplete&&T.push(_[q].onComplete.bind(null,new Error("set"),!1,null))));for(-1===L?Nu(g,void 0):_.length=L+1,Gn(m.eventQueue_,vo(g),P),q=0;q<T.length;q++)zn(T[q])}}var Va=function(m,g){var _=Nd(m),T=_.namespace;return"firebase.com"===_.domain&&Lt(_.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!T||"undefined"===T)&&"localhost"!==_.domain&&Lt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),_.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Wt(_.host,_.secure,T,g,"ws"===_.scheme||"wss"===_.scheme,"",T!==_.subdomain),path:new sr(_.pathString)}},Nd=function(m){var g="",_="",T="",P="",L="",q=!0,re="https",ie=443;if("string"==typeof m){var fe=m.indexOf("//");fe>=0&&(re=m.substring(0,fe-1),m=m.substring(fe+2));var _e=m.indexOf("/");-1===_e&&(_e=m.length);var Be=m.indexOf("?");-1===Be&&(Be=m.length),g=m.substring(0,Math.min(_e,Be)),_e<Be&&(P=function Lh(m){for(var g="",_=m.split("/"),T=0;T<_.length;T++)if(_[T].length>0){var P=_[T];try{P=decodeURIComponent(P.replace(/\+/g," "))}catch{}g+="/"+P}return g}(m.substring(_e,Be)));var dt=function Kg(m){var g,_,T={};"?"===m.charAt(0)&&(m=m.substring(1));try{for(var P=(0,De.XA)(m.split("&")),L=P.next();!L.done;L=P.next()){var q=L.value;if(0!==q.length){var re=q.split("=");2===re.length?T[decodeURIComponent(re[0])]=decodeURIComponent(re[1]):yt("Invalid query segment '"+q+"' in query '"+m+"'")}}}catch(ie){g={error:ie}}finally{try{L&&!L.done&&(_=P.return)&&_.call(P)}finally{if(g)throw g.error}}return T}(m.substring(Math.min(m.length,Be)));(fe=g.indexOf(":"))>=0?(q="https"===re||"wss"===re,ie=parseInt(g.substring(fe+1),10)):fe=g.length;var wt=g.slice(0,fe);if("localhost"===wt.toLowerCase())_="localhost";else if(wt.split(".").length<=2)_=wt;else{var Bt=g.indexOf(".");T=g.substring(0,Bt).toLowerCase(),_=g.substring(Bt+1),L=T}"ns"in dt&&(L=dt.ns)}return{host:g,port:ie,domain:_,subdomain:T,secure:q,scheme:re,pathString:P,namespace:L}},kp=function(){function m(g,_,T,P){this.eventType=g,this.eventRegistration=_,this.snapshot=T,this.prevName=P}return m.prototype.getPath=function(){var g=this.snapshot.ref;return"value"===this.eventType?g._path:g.parent._path},m.prototype.getEventType=function(){return this.eventType},m.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},m.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,Y.Pz)(this.snapshot.exportVal())},m}(),Cl=function(){function m(g,_,T){this.eventRegistration=g,this.error=_,this.path=T}return m.prototype.getPath=function(){return this.path},m.prototype.getEventType=function(){return"cancel"},m.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},m.prototype.toString=function(){return this.path.toString()+":cancel"},m}(),va=function(){function m(g,_){this.snapshotCallback=g,this.cancelCallback=_}return m.prototype.onValue=function(g,_){this.snapshotCallback.call(null,g,_)},m.prototype.onCancel=function(g){return(0,Y.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,g)},Object.defineProperty(m.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),m.prototype.matches=function(g){return this.snapshotCallback===g.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===g.snapshotCallback.userCallback&&this.snapshotCallback.context===g.snapshotCallback.context},m}(),zc=function(){function m(g,_){this._repo=g,this._path=_}return m.prototype.cancel=function(){var g=new Y.BH;return kh(this._repo,this._path,g.wrapCallback(function(){})),g.promise},m.prototype.remove=function(){pi("OnDisconnect.remove",this._path);var g=new Y.BH;return Yg(this._repo,this._path,null,g.wrapCallback(function(){})),g.promise},m.prototype.set=function(g){pi("OnDisconnect.set",this._path),si("OnDisconnect.set",g,this._path,!1);var _=new Y.BH;return Yg(this._repo,this._path,g,_.wrapCallback(function(){})),_.promise},m.prototype.setWithPriority=function(g,_){pi("OnDisconnect.setWithPriority",this._path),si("OnDisconnect.setWithPriority",g,this._path,!1),hu("OnDisconnect.setWithPriority",_,!1);var T=new Y.BH;return function os(m,g,_,T,P){var L=me(_,T);m.server_.onDisconnectPut(g.toString(),L.val(!0),function(q,re){"ok"===q&&fa(m.onDisconnect_,g,L),pu(0,P,q,re)})}(this._repo,this._path,g,_,T.wrapCallback(function(){})),T.promise},m.prototype.update=function(g){pi("OnDisconnect.update",this._path),$s("OnDisconnect.update",g,this._path,!1);var _=new Y.BH;return function Bf(m,g,_,T){if((0,Y.xb)(_))return Ye("onDisconnect().update() called with empty data.  Don't do anything."),void pu(0,T,"ok",void 0);m.server_.onDisconnectMerge(g.toString(),_,function(P,L){"ok"===P&&Ee(_,function(q,re){var ie=me(re);fa(m.onDisconnect_,kr(g,q),ie)}),pu(0,T,P,L)})}(this._repo,this._path,g,_.wrapCallback(function(){})),_.promise},m}(),qo=function(){function m(g,_,T,P){this._repo=g,this._path=_,this._queryParams=T,this._orderByCalled=P}return Object.defineProperty(m.prototype,"key",{get:function(){return Bn(this._path)?null:Sn(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"ref",{get:function(){return new ya(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"_queryIdentifier",{get:function(){var g=su(this._queryParams),_=kn(g);return"{}"===_?"default":_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"_queryObject",{get:function(){return su(this._queryParams)},enumerable:!1,configurable:!0}),m.prototype.isEqual=function(g){if(!((g=(0,Y.m9)(g))instanceof m))return!1;var _=this._repo===g._repo,T=$l(this._path,g._path);return _&&T&&this._queryIdentifier===g._queryIdentifier},m.prototype.toJSON=function(){return this.toString()},m.prototype.toString=function(){return this._repo.toString()+function tu(m){for(var g="",_=m.pieceNum_;_<m.pieces_.length;_++)""!==m.pieces_[_]&&(g+="/"+encodeURIComponent(String(m.pieces_[_])));return g||"/"}(this._path)},m}();function Wc(m,g){if(!0===m._orderByCalled)throw new Error(g+": You can't combine multiple orderBy calls.")}function ja(m){var g=null,_=null;if(m.hasStart()&&(g=m.getIndexStartValue()),m.hasEnd()&&(_=m.getIndexEndValue()),m.getIndex()===bs){var T="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",P="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(m.hasStart()){if(m.getIndexStartName()!==qt)throw new Error(T);if("string"!=typeof g)throw new Error(P)}if(m.hasEnd()){if(m.getIndexEndName()!==xt)throw new Error(T);if("string"!=typeof _)throw new Error(P)}}else if(m.getIndex()===$r){if(null!=g&&!io(g)||null!=_&&!io(_))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Y.hu)(m.getIndex()instanceof pe||m.getIndex()===Ke,"unknown index type."),null!=g&&"object"==typeof g||null!=_&&"object"==typeof _)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function mu(m){if(m.hasStart()&&m.hasEnd()&&m.hasLimit()&&!m.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ya=function(m){function g(_,T){return m.call(this,_,T,new Vs,!1)||this}return(0,De.ZT)(g,m),Object.defineProperty(g.prototype,"parent",{get:function(){var _=bi(this._path);return null===_?null:new g(this._repo,_)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"root",{get:function(){for(var _=this;null!==_.parent;)_=_.parent;return _},enumerable:!1,configurable:!0}),g}(qo),kd=function(){function m(g,_,T){this._node=g,this.ref=_,this._index=T}return Object.defineProperty(m.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),m.prototype.child=function(g){var _=new sr(g),T=Bu(this.ref,g);return new m(this._node.getChild(_),T,$r)},m.prototype.exists=function(){return!this._node.isEmpty()},m.prototype.exportVal=function(){return this._node.val(!0)},m.prototype.forEach=function(g){var _=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(P,L){return g(new m(L,Bu(_.ref,P),$r))})},m.prototype.hasChild=function(g){var _=new sr(g);return!this._node.getChild(_).isEmpty()},m.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},m.prototype.toJSON=function(){return this.exportVal()},m.prototype.val=function(){return this._node.val()},m}();function Rd(m,g){return(m=(0,Y.m9)(m))._checkNotDeleted("ref"),void 0!==g?Bu(m._root,g):m._root}function Rp(m,g){(m=(0,Y.m9)(m))._checkNotDeleted("refFromURL");var _=Va(g,m._repo.repoInfo_.nodeAdmin);Nh("refFromURL",_);var T=_.repoInfo;return!m._repo.repoInfo_.isCustomHost()&&T.host!==m._repo.repoInfo_.host&&Lt("refFromURL: Host name does not match the current database: (found "+T.host+" but expected "+m._repo.repoInfo_.host+")"),Rd(m,_.path.toString())}function Bu(m,g){return null===Jt((m=(0,Y.m9)(m))._path)?(_=g,_&&(_=_.replace(/^\/*\.info(\/|$)/,"/")),Ba("child","path",_,!1)):Ba("child","path",g,!1),new ya(m._repo,kr(m._path,g));var _}function hc(m,g){m=(0,Y.m9)(m),pi("push",m._path),si("push",g,m._path,!0);var q,_=Uf(m._repo),T=vr(_),P=Bu(m,T),L=Bu(m,T);return q=null!=g?Tl(L,g).then(function(){return L}):Promise.resolve(L),P.then=q.then.bind(q),P.catch=q.then.bind(q,void 0),P}function Yc(m){return pi("remove",m._path),Tl(m,null)}function Tl(m,g){m=(0,Y.m9)(m),pi("set",m._path),si("set",g,m._path,!1);var _=new Y.BH;return Pd(m._repo,m._path,g,null,_.wrapCallback(function(){})),_.promise}function Kc(m,g){m=(0,Y.m9)(m),pi("setPriority",m._path),hu("setPriority",g,!1);var _=new Y.BH;return Pd(m._repo,kr(m._path,".priority"),g,null,_.wrapCallback(function(){})),_.promise}function Qg(m,g,_){if(pi("setWithPriority",m._path),si("setWithPriority",g,m._path,!1),hu("setWithPriority",_,!1),".length"===m.key||".keys"===m.key)throw"setWithPriority failed: "+m.key+" is a read-only object.";var T=new Y.BH;return Pd(m._repo,m._path,g,_,T.wrapCallback(function(){})),T.promise}function Jg(m,g){$s("update",g,m._path,!1);var _=new Y.BH;return function Md(m,g,_,T){cc(m,"update",{path:g.toString(),value:_});var P=!0,L=bl(m),q={};if(Ee(_,function(fe,_e){P=!1,q[fe]=Mi(kr(g,fe),me(_e),m.serverSyncTree_,L)}),P)Ye("update() called with empty data.  Don't do anything."),pu(0,T,"ok",void 0);else{var re=lc(m),ie=function Sh(m,g,_,T){!function dl(m,g,_,T){(0,Y.hu)(T>m.lastWriteId,"Stacking an older merge on top of newer ones"),m.allWrites.push({path:g,children:_,writeId:T,visible:!0}),m.visibleWrites=gn(m.visibleWrites,g,_),m.lastWriteId=T}(m.pendingWriteTree_,g,_,T);var P=tn.fromObject(_);return Cr(m,new fi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},g,P))}(m.serverSyncTree_,g,q,re);ma(m.eventQueue_,ie),m.server_.merge(g.toString(),_,function(fe,_e){var Be="ok"===fe;Be||yt("update at "+g+" failed: "+fe);var dt=no(m.serverSyncTree_,re,!Be),wt=dt.length>0?Gc(m,g):g;Gn(m.eventQueue_,wt,dt),pu(0,T,fe,_e)}),Ee(_,function(fe){var _e=Hf(m,kr(g,fe));Gc(m,_e)}),Gn(m.eventQueue_,g,[])}}(m._repo,m._path,g,_.wrapCallback(function(){})),_.promise}function El(m){return function Xv(m,g){var _=function f_(m,g){var _=g._path,T=null;m.syncPointTree_.foreachOnPath(_,function(fe,_e){var Be=Ei(fe,_);T=T||oc(_e,Be)});var P=m.syncPointTree_.get(_);P?T=T||oc(P,fr()):(P=new Mf,m.syncPointTree_=m.syncPointTree_.set(_,P));var L=null!=T,q=L?new Si(T,!0,!1):null;return function ml(m){return kt(m.viewCache_)}(mo(P,g,pa(m.pendingWriteTree_,g._path),L?q.getNode():j.EMPTY_NODE,L))}(m.serverSyncTree_,g);return null!=_?Promise.resolve(_):m.server_.get(g).then(function(T){var P=me(T).withIndex(g._queryParams.getIndex()),L=kc(m.serverSyncTree_,g._path,P);return Vc(m.eventQueue_,g._path,L),Promise.resolve(P)},function(T){return cc(m,"get for query "+(0,Y.Pz)(g)+" failed: "+T),Promise.reject(new Error(T))})}((m=(0,Y.m9)(m))._repo,m).then(function(g){return new kd(g,new ya(m._repo,m._path),m._queryParams.getIndex())})}var Fd=function(){function m(g){this.callbackContext=g}return m.prototype.respondsTo=function(g){return"value"===g},m.prototype.createEvent=function(g,_){var T=_._queryParams.getIndex();return new kp("value",this,new kd(g.snapshotNode,new ya(_._repo,_._path),T))},m.prototype.getEventRunner=function(g){var _=this;return"cancel"===g.getEventType()?function(){return _.callbackContext.onCancel(g.error)}:function(){return _.callbackContext.onValue(g.snapshot,null)}},m.prototype.createCancelEvent=function(g,_){return this.callbackContext.hasCancelCallback?new Cl(this,g,_):null},m.prototype.matches=function(g){return g instanceof m&&(!g.callbackContext||!this.callbackContext||g.callbackContext.matches(this.callbackContext))},m.prototype.hasAnyCallback=function(){return null!==this.callbackContext},m}(),Zo=function(){function m(g,_){this.eventType=g,this.callbackContext=_}return m.prototype.respondsTo=function(g){var _="children_added"===g?"child_added":g;return this.eventType===("children_removed"===_?"child_removed":_)},m.prototype.createCancelEvent=function(g,_){return this.callbackContext.hasCancelCallback?new Cl(this,g,_):null},m.prototype.createEvent=function(g,_){(0,Y.hu)(null!=g.childName,"Child events should have a childName.");var T=Bu(new ya(_._repo,_._path),g.childName),P=_._queryParams.getIndex();return new kp(g.type,this,new kd(g.snapshotNode,T,P),g.prevName)},m.prototype.getEventRunner=function(g){var _=this;return"cancel"===g.getEventType()?function(){return _.callbackContext.onCancel(g.error)}:function(){return _.callbackContext.onValue(g.snapshot,g.prevName)}},m.prototype.matches=function(g){return g instanceof m&&this.eventType===g.eventType&&(!this.callbackContext||!g.callbackContext||this.callbackContext.matches(g.callbackContext))},m.prototype.hasAnyCallback=function(){return!!this.callbackContext},m}();function Al(m,g,_,T,P){var L;if("object"==typeof T&&(L=void 0,P=T),"function"==typeof T&&(L=T),P&&P.onlyOnce){var q=_,re=function(_e,Be){zs(m._repo,m,fe),q(_e,Be)};re.userCallback=_.userCallback,re.context=_.context,_=re}var ie=new va(_,L||void 0),fe="value"===g?new Fd(ie):new Zo(g,ie);return function Hc(m,g,_){var T;T=".info"===Jt(g._path)?Pp(m.infoSyncTree_,g,_):Pp(m.serverSyncTree_,g,_),Vc(m.eventQueue_,g._path,T)}(m._repo,m,fe),function(){return zs(m._repo,m,fe)}}function Ws(m,g,_,T){return Al(m,"value",g,_,T)}function Uh(m,g,_,T){return Al(m,"child_added",g,_,T)}function qf(m,g,_,T){return Al(m,"child_changed",g,_,T)}function Zf(m,g,_,T){return Al(m,"child_moved",g,_,T)}function Bh(m,g,_,T){return Al(m,"child_removed",g,_,T)}function Vh(m,g,_){var T=null,P=_?new va(_):null;"value"===g?T=new Fd(P):g&&(T=new Zo(g,P)),zs(m._repo,m,T)}var ss=function m(){},Ld=function(m){function g(_,T){var P=m.call(this)||this;return P._value=_,P._key=T,P}return(0,De.ZT)(g,m),g.prototype._apply=function(_){si("endAt",this._value,_._path,!0);var T=Zi(_._queryParams,this._value,this._key);if(mu(T),ja(T),_._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qo(_._repo,_._path,T,_._orderByCalled)},g}(ss);function Ha(m,g){return Ci("endAt","key",g,!0),new Ld(m,g)}var Gf=function(m){function g(_,T){var P=m.call(this)||this;return P._value=_,P._key=T,P}return(0,De.ZT)(g,m),g.prototype._apply=function(_){si("endBefore",this._value,_._path,!1);var T=function Jl(m,g,_){var P;return m.index_===bs?("string"==typeof g&&(g=Pi(g)),P=Zi(m,g,_)):P=Zi(m,g,null==_?qt:Pi(_)),P.endBeforeSet_=!0,P}(_._queryParams,this._value,this._key);if(mu(T),ja(T),_._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qo(_._repo,_._path,T,_._orderByCalled)},g}(ss);function Vu(m,g){return Ci("endBefore","key",g,!0),new Gf(m,g)}var Dl=function(m){function g(_,T){var P=m.call(this)||this;return P._value=_,P._key=T,P}return(0,De.ZT)(g,m),g.prototype._apply=function(_){si("startAt",this._value,_._path,!0);var T=Xo(_._queryParams,this._value,this._key);if(mu(T),ja(T),_._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qo(_._repo,_._path,T,_._orderByCalled)},g}(ss);function Fp(m,g){return void 0===m&&(m=null),Ci("startAt","key",g,!0),new Dl(m,g)}var Lp=function(m){function g(_,T){var P=m.call(this)||this;return P._value=_,P._key=T,P}return(0,De.ZT)(g,m),g.prototype._apply=function(_){si("startAfter",this._value,_._path,!1);var T=function Rr(m,g,_){var T;return m.index_===bs?("string"==typeof g&&(g=Hn(g)),T=Xo(m,g,_)):T=Xo(m,g,null==_?xt:Hn(_)),T.startAfterSet_=!0,T}(_._queryParams,this._value,this._key);if(mu(T),ja(T),_._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new qo(_._repo,_._path,T,_._orderByCalled)},g}(ss);function jh(m,g){return Ci("startAfter","key",g,!0),new Lp(m,g)}var Sl=function(m){function g(_){var T=m.call(this)||this;return T._limit=_,T}return(0,De.ZT)(g,m),g.prototype._apply=function(_){if(_._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qo(_._repo,_._path,function Na(m,g){var _=m.copy();return _.limitSet_=!0,_.limit_=g,_.viewFrom_="l",_}(_._queryParams,this._limit),_._orderByCalled)},g}(ss);function Ud(m){if("number"!=typeof m||Math.floor(m)!==m||m<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Sl(m)}var ey=function(m){function g(_){var T=m.call(this)||this;return T._limit=_,T}return(0,De.ZT)(g,m),g.prototype._apply=function(_){if(_._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new qo(_._repo,_._path,function Vo(m,g){var _=m.copy();return _.limitSet_=!0,_.limit_=g,_.viewFrom_="r",_}(_._queryParams,this._limit),_._orderByCalled)},g}(ss);function Xg(m){if("number"!=typeof m||Math.floor(m)!==m||m<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ey(m)}var Ys=function(m){function g(_){var T=m.call(this)||this;return T._path=_,T}return(0,De.ZT)(g,m),g.prototype._apply=function(_){Wc(_,"orderByChild");var T=new sr(this._path);if(Bn(T))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var P=new pe(T),L=Yr(_._queryParams,P);return ja(L),new qo(_._repo,_._path,L,!0)},g}(ss);function Up(m){if("$key"===m)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===m)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===m)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ba("orderByChild","path",m,!1),new Ys(m)}var em=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return(0,De.ZT)(g,m),g.prototype._apply=function(_){Wc(_,"orderByKey");var T=Yr(_._queryParams,bs);return ja(T),new qo(_._repo,_._path,T,!0)},g}(ss);function Bp(){return new em}var Hh=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return(0,De.ZT)(g,m),g.prototype._apply=function(_){Wc(_,"orderByPriority");var T=Yr(_._queryParams,$r);return ja(T),new qo(_._repo,_._path,T,!0)},g}(ss);function $f(){return new Hh}var Qc=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return(0,De.ZT)(g,m),g.prototype._apply=function(_){Wc(_,"orderByValue");var T=Yr(_._queryParams,Ke);return ja(T),new qo(_._repo,_._path,T,!0)},g}(ss);function tm(){return new Qc}var zf=function(m){function g(_,T){var P=m.call(this)||this;return P._value=_,P._key=T,P}return(0,De.ZT)(g,m),g.prototype._apply=function(_){if(si("equalTo",this._value,_._path,!1),_._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(_._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ld(this._value,this._key)._apply(new Dl(this._value,this._key)._apply(_))},g}(ss);function qh(m,g){return Ci("equalTo","key",g,!0),new zf(m,g)}function _o(m){for(var g,_,T=[],P=1;P<arguments.length;P++)T[P-1]=arguments[P];var L=(0,Y.m9)(m);try{for(var q=(0,De.XA)(T),re=q.next();!re.done;re=q.next()){var ie=re.value;L=ie._apply(L)}}catch(fe){g={error:fe}}finally{try{re&&!re.done&&(_=q.return)&&_.call(q)}finally{if(g)throw g.error}}return L}(function zv(m){(0,Y.hu)(!Pf,"__referenceConstructor has already been defined"),Pf=m})(ya),function $g(m){(0,Y.hu)(!Nc,"__referenceConstructor has already been defined"),Nc=m}(ya);var Bd={},Vd=!1;function as(m,g,_,T,P){var L=T||m.options.databaseURL;void 0===L&&(m.options.projectId||Lt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ye("Using default host for project ",m.options.projectId),L=m.options.projectId+"-default-rtdb.firebaseio.com");var ie,q=Va(L,P),re=q.repoInfo,fe=void 0;typeof process<"u"&&(fe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),fe?(ie=!0,re=(q=Va(L="http://"+fe+"?ns="+re.namespace,P)).repoInfo):ie=!q.repoInfo.secure;var _e=P&&ie?new Mn(Mn.OWNER):new Tn(m.name,m.options,g);Nh("Invalid Firebase Database URL",q),Bn(q.path)||Lt("Database URL must point to the root of a Firebase Database (not including a child path).");var Be=function nm(m,g,_,T){var P=Bd[g.name];P||(Bd[g.name]=P={});var L=P[m.toURLString()];return L&&Lt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),L=new xd(m,Vd,_,T),P[m.toURLString()]=L,L}(re,m,_e,new ci(m.name,_));return new pc(Be,m)}var pc=function(){function m(g,_){this._repoInternal=g,this.app=_,this.type="database",this._instanceStarted=!1}return Object.defineProperty(m.prototype,"_repo",{get:function(){return this._instanceStarted||(function Es(m,g,_){if(m.stats_=hn(m.repoInfo_),m.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)m.server_=new js(m.repoInfo_,function(T,P,L,q){As(m,T,P,L,q)},m.authTokenProvider_,m.appCheckProvider_),setTimeout(function(){return oo(m,!0)},0);else{if(typeof _<"u"&&null!==_){if("object"!=typeof _)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Y.Pz)(_)}catch(T){throw new Error("Invalid authOverride provided: "+T)}}m.persistentConnection_=new _s(m.repoInfo_,g,function(T,P,L,q){As(m,T,P,L,q)},function(T){oo(m,T)},function(T){!function wl(m,g){Ee(g,function(_,T){uc(m,_,T)})}(m,T)},m.authTokenProvider_,m.appCheckProvider_,_),m.server_=m.persistentConnection_}m.authTokenProvider_.addTokenChangeListener(function(T){m.server_.refreshAuthToken(T)}),m.appCheckProvider_.addTokenChangeListener(function(T){m.server_.refreshAppCheckToken(T.token)}),m.statsReporter_=function Bo(m,g){var _=m.toString();return ji[_]||(ji[_]=g()),ji[_]}(m.repoInfo_,function(){return new es(m.stats_,m.server_)}),m.infoData_=new Po,m.infoSyncTree_=new c_({startListening:function(T,P,L,q){var re=[],ie=m.infoData_.getNode(T._path);return ie.isEmpty()||(re=kc(m.infoSyncTree_,T._path,ie),setTimeout(function(){q("ok")},0)),re},stopListening:function(){}}),uc(m,"connected",!1),m.serverSyncTree_=new c_({startListening:function(T,P,L,q){return m.server_.listen(T,L,P,function(re,ie){var fe=q(re,ie);Gn(m.eventQueue_,T._path,fe)}),[]},stopListening:function(T,P){m.server_.unlisten(T,P)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new ya(this._repo,fr())),this._rootInternal},enumerable:!1,configurable:!0}),m.prototype._delete=function(){return null!==this._rootInternal&&(function Vp(m,g){var _=Bd[g];(!_||_[m.key]!==m)&&Lt("Database "+g+"("+m.repoInfo_+") has already been deleted."),An(m),delete _[m.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},m.prototype._checkNotDeleted=function(g){null===this._rootInternal&&Lt("Cannot call "+g+" on a deleted database.")},m}();function rm(m){(m=(0,Y.m9)(m))._checkNotDeleted("goOffline"),An(m._repo)}function Hp(m){(m=(0,Y.m9)(m))._checkNotDeleted("goOnline"),function yo(m){m.persistentConnection_&&m.persistentConnection_.resume(_l)}(m._repo)}var qp={".sv":"timestamp"},Hd=function(){function m(g,_){this.committed=g,this.snapshot=_}return m.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},m}();function ny(m,g,_){var T;if(m=(0,Y.m9)(m),pi("Reference.transaction",m._path),".length"===m.key||".keys"===m.key)throw"Reference.transaction failed: "+m.key+" is a read-only object.";var P=null===(T=_?.applyLocally)||void 0===T||T,L=new Y.BH,re=Ws(m,function(){});return function qc(m,g,_,T,P,L){cc(m,"transaction on "+g);var q={path:g,update:_,onComplete:T,status:null,order:ht(),applyLocally:L,retryCount:0,unwatcher:P,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},re=dc(m,g,void 0);q.currentInputSnapshot=re;var ie=q.update(re.val());if(void 0===ie)q.unwatcher(),q.currentOutputSnapshotRaw=null,q.currentOutputSnapshotResolved=null,q.onComplete&&q.onComplete(null,!1,q.currentInputSnapshot);else{is("transaction failed: Data returned ",ie,q.path),q.status=0;var fe=qs(m.transactionQueueTree_,g),_e=rs(fe)||[];_e.push(q),Nu(fe,_e);var Be=void 0;"object"==typeof ie&&null!==ie&&(0,Y.r3)(ie,".priority")?(Be=(0,Y.DV)(ie,".priority"),(0,Y.hu)(io(Be),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Be=(sc(m.serverSyncTree_,g)||j.EMPTY_NODE).getPriority().val();var wt=bl(m),Bt=me(ie,Be),$n=ac(Bt,re,wt);q.currentOutputSnapshotRaw=Bt,q.currentOutputSnapshotResolved=$n,q.currentWriteId=lc(m);var In=zg(m.serverSyncTree_,g,$n,q.currentWriteId,q.applyLocally);Gn(m.eventQueue_,g,In),gu(m,m.transactionQueueTree_)}}(m._repo,m._path,g,function(ie,fe,_e){var Be=null;ie?L.reject(ie):(Be=new kd(_e,new ya(m._repo,m._path),$r),L.resolve(new Hd(fe,Be)))},re,P),L.promise}var Zp=function(){function m(g){this._delegate=g}return m.prototype.cancel=function(g){(0,Y.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.cancel","onComplete",g,!0);var _=this._delegate.cancel();return g&&_.then(function(){return g(null)},function(T){return g(T)}),_},m.prototype.remove=function(g){(0,Y.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.remove","onComplete",g,!0);var _=this._delegate.remove();return g&&_.then(function(){return g(null)},function(T){return g(T)}),_},m.prototype.set=function(g,_){(0,Y.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Y.Wj)("OnDisconnect.set","onComplete",_,!0);var T=this._delegate.set(g);return _&&T.then(function(){return _(null)},function(P){return _(P)}),T},m.prototype.setWithPriority=function(g,_,T){(0,Y.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Y.Wj)("OnDisconnect.setWithPriority","onComplete",T,!0);var P=this._delegate.setWithPriority(g,_);return T&&P.then(function(){return T(null)},function(L){return T(L)}),P},m.prototype.update=function(g,_){if((0,Y.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(g)){for(var T={},P=0;P<g.length;++P)T[""+P]=g[P];g=T,yt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Y.Wj)("OnDisconnect.update","onComplete",_,!0);var L=this._delegate.update(g);return _&&L.then(function(){return _(null)},function(q){return _(q)}),L},m}(),im=function(){function m(g,_){this.committed=g,this.snapshot=_}return m.prototype.toJSON=function(){return(0,Y.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},m}(),qd=function(){function m(g,_){this._database=g,this._delegate=_}return m.prototype.val=function(){return(0,Y.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},m.prototype.exportVal=function(){return(0,Y.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},m.prototype.toJSON=function(){return(0,Y.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},m.prototype.exists=function(){return(0,Y.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},m.prototype.child=function(g){return(0,Y.Dv)("DataSnapshot.child",0,1,arguments.length),g=String(g),Ba("DataSnapshot.child","path",g,!1),new m(this._database,this._delegate.child(g))},m.prototype.hasChild=function(g){return(0,Y.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ba("DataSnapshot.hasChild","path",g,!1),this._delegate.hasChild(g)},m.prototype.getPriority=function(){return(0,Y.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},m.prototype.forEach=function(g){var _=this;return(0,Y.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Y.Wj)("DataSnapshot.forEach","action",g,!1),this._delegate.forEach(function(T){return g(new m(_._database,T))})},m.prototype.hasChildren=function(){return(0,Y.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(m.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),m.prototype.numChildren=function(){return(0,Y.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},m.prototype.getRef=function(){return(0,Y.Dv)("DataSnapshot.ref",0,0,arguments.length),new gc(this._database,this._delegate.ref)},Object.defineProperty(m.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),m}(),Gp=function(){function m(g,_){this.database=g,this._delegate=_}return m.prototype.on=function(g,_,T,P){var q,L=this;(0,Y.Dv)("Query.on",2,4,arguments.length),(0,Y.Wj)("Query.on","callback",_,!1);var re=m.getCancelAndContextArgs_("Query.on",T,P),ie=function(_e,Be){_.call(re.context,new qd(L.database,_e),Be)};ie.userCallback=_,ie.context=re.context;var fe=null===(q=re.cancel)||void 0===q?void 0:q.bind(re.context);switch(g){case"value":return Ws(this._delegate,ie,fe),_;case"child_added":return Uh(this._delegate,ie,fe),_;case"child_removed":return Bh(this._delegate,ie,fe),_;case"child_changed":return qf(this._delegate,ie,fe),_;case"child_moved":return Zf(this._delegate,ie,fe),_;default:throw new Error((0,Y.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},m.prototype.off=function(g,_,T){if((0,Y.Dv)("Query.off",0,3,arguments.length),Lu("Query.off",g,!0),(0,Y.Wj)("Query.off","callback",_,!0),(0,Y.lb)("Query.off","context",T,!0),_){var P=function(){};P.userCallback=_,P.context=T,Vh(this._delegate,g,P)}else Vh(this._delegate,g)},m.prototype.get=function(){var g=this;return El(this._delegate).then(function(_){return new qd(g.database,_)})},m.prototype.once=function(g,_,T,P){var L=this;(0,Y.Dv)("Query.once",1,4,arguments.length),(0,Y.Wj)("Query.once","callback",_,!0);var q=m.getCancelAndContextArgs_("Query.once",T,P),re=new Y.BH,ie=function(_e,Be){var dt=new qd(L.database,_e);_&&_.call(q.context,dt,Be),re.resolve(dt)};ie.userCallback=_,ie.context=q.context;var fe=function(_e){q.cancel&&q.cancel.call(q.context,_e),re.reject(_e)};switch(g){case"value":Ws(this._delegate,ie,fe,{onlyOnce:!0});break;case"child_added":Uh(this._delegate,ie,fe,{onlyOnce:!0});break;case"child_removed":Bh(this._delegate,ie,fe,{onlyOnce:!0});break;case"child_changed":qf(this._delegate,ie,fe,{onlyOnce:!0});break;case"child_moved":Zf(this._delegate,ie,fe,{onlyOnce:!0});break;default:throw new Error((0,Y.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return re.promise},m.prototype.limitToFirst=function(g){return(0,Y.Dv)("Query.limitToFirst",1,1,arguments.length),new m(this.database,_o(this._delegate,Ud(g)))},m.prototype.limitToLast=function(g){return(0,Y.Dv)("Query.limitToLast",1,1,arguments.length),new m(this.database,_o(this._delegate,Xg(g)))},m.prototype.orderByChild=function(g){return(0,Y.Dv)("Query.orderByChild",1,1,arguments.length),new m(this.database,_o(this._delegate,Up(g)))},m.prototype.orderByKey=function(){return(0,Y.Dv)("Query.orderByKey",0,0,arguments.length),new m(this.database,_o(this._delegate,Bp()))},m.prototype.orderByPriority=function(){return(0,Y.Dv)("Query.orderByPriority",0,0,arguments.length),new m(this.database,_o(this._delegate,$f()))},m.prototype.orderByValue=function(){return(0,Y.Dv)("Query.orderByValue",0,0,arguments.length),new m(this.database,_o(this._delegate,tm()))},m.prototype.startAt=function(g,_){return void 0===g&&(g=null),(0,Y.Dv)("Query.startAt",0,2,arguments.length),new m(this.database,_o(this._delegate,Fp(g,_)))},m.prototype.startAfter=function(g,_){return void 0===g&&(g=null),(0,Y.Dv)("Query.startAfter",0,2,arguments.length),new m(this.database,_o(this._delegate,jh(g,_)))},m.prototype.endAt=function(g,_){return void 0===g&&(g=null),(0,Y.Dv)("Query.endAt",0,2,arguments.length),new m(this.database,_o(this._delegate,Ha(g,_)))},m.prototype.endBefore=function(g,_){return void 0===g&&(g=null),(0,Y.Dv)("Query.endBefore",0,2,arguments.length),new m(this.database,_o(this._delegate,Vu(g,_)))},m.prototype.equalTo=function(g,_){return(0,Y.Dv)("Query.equalTo",1,2,arguments.length),new m(this.database,_o(this._delegate,qh(g,_)))},m.prototype.toString=function(){return(0,Y.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},m.prototype.toJSON=function(){return(0,Y.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},m.prototype.isEqual=function(g){if((0,Y.Dv)("Query.isEqual",1,1,arguments.length),!(g instanceof m)){var _="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(_)}return this._delegate.isEqual(g._delegate)},m.getCancelAndContextArgs_=function(g,_,T){var P={cancel:void 0,context:void 0};if(_&&T)P.cancel=_,(0,Y.Wj)(g,"cancel",P.cancel,!0),P.context=T,(0,Y.lb)(g,"context",P.context,!0);else if(_)if("object"==typeof _&&null!==_)P.context=_;else{if("function"!=typeof _)throw new Error((0,Y.gK)(g,"cancelOrContext")+" must either be a cancel callback or a context object.");P.cancel=_}return P},Object.defineProperty(m.prototype,"ref",{get:function(){return new gc(this.database,new ya(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),m}(),gc=function(m){function g(_,T){var P=m.call(this,_,new qo(T._repo,T._path,new Vs,!1))||this;return P.database=_,P._delegate=T,P}return(0,De.ZT)(g,m),g.prototype.getKey=function(){return(0,Y.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},g.prototype.child=function(_){return(0,Y.Dv)("Reference.child",1,1,arguments.length),"number"==typeof _&&(_=String(_)),new g(this.database,Bu(this._delegate,_))},g.prototype.getParent=function(){(0,Y.Dv)("Reference.parent",0,0,arguments.length);var _=this._delegate.parent;return _?new g(this.database,_):null},g.prototype.getRoot=function(){return(0,Y.Dv)("Reference.root",0,0,arguments.length),new g(this.database,this._delegate.root)},g.prototype.set=function(_,T){(0,Y.Dv)("Reference.set",1,2,arguments.length),(0,Y.Wj)("Reference.set","onComplete",T,!0);var P=Tl(this._delegate,_);return T&&P.then(function(){return T(null)},function(L){return T(L)}),P},g.prototype.update=function(_,T){if((0,Y.Dv)("Reference.update",1,2,arguments.length),Array.isArray(_)){for(var P={},L=0;L<_.length;++L)P[""+L]=_[L];_=P,yt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pi("Reference.update",this._delegate._path),(0,Y.Wj)("Reference.update","onComplete",T,!0);var q=Jg(this._delegate,_);return T&&q.then(function(){return T(null)},function(re){return T(re)}),q},g.prototype.setWithPriority=function(_,T,P){(0,Y.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Y.Wj)("Reference.setWithPriority","onComplete",P,!0);var L=Qg(this._delegate,_,T);return P&&L.then(function(){return P(null)},function(q){return P(q)}),L},g.prototype.remove=function(_){(0,Y.Dv)("Reference.remove",0,1,arguments.length),(0,Y.Wj)("Reference.remove","onComplete",_,!0);var T=Yc(this._delegate);return _&&T.then(function(){return _(null)},function(P){return _(P)}),T},g.prototype.transaction=function(_,T,P){var L=this;(0,Y.Dv)("Reference.transaction",1,3,arguments.length),(0,Y.Wj)("Reference.transaction","transactionUpdate",_,!1),(0,Y.Wj)("Reference.transaction","onComplete",T,!0),Op("Reference.transaction","applyLocally",P,!0);var q=ny(this._delegate,_,{applyLocally:P}).then(function(re){return new im(re.committed,new qd(L.database,re.snapshot))});return T&&q.then(function(re){return T(null,re.committed,re.snapshot)},function(re){return T(re,!1,null)}),q},g.prototype.setPriority=function(_,T){(0,Y.Dv)("Reference.setPriority",1,2,arguments.length),(0,Y.Wj)("Reference.setPriority","onComplete",T,!0);var P=Kc(this._delegate,_);return T&&P.then(function(){return T(null)},function(L){return T(L)}),P},g.prototype.push=function(_,T){var P=this;(0,Y.Dv)("Reference.push",0,2,arguments.length),(0,Y.Wj)("Reference.push","onComplete",T,!0);var L=hc(this._delegate,_),q=L.then(function(ie){return new g(P.database,ie)});T&&q.then(function(){return T(null)},function(ie){return T(ie)});var re=new g(this.database,L);return re.then=q.then.bind(q),re.catch=q.catch.bind(q,void 0),re},g.prototype.onDisconnect=function(){return pi("Reference.onDisconnect",this._delegate._path),new Zp(new zc(this._delegate._repo,this._delegate._path))},Object.defineProperty(g.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),g}(Gp),Yf=function(){function m(g,_){var T=this;this._delegate=g,this.app=_,this.INTERNAL={delete:function(){return T._delegate._delete()}}}return m.prototype.useEmulator=function(g,_,T){void 0===T&&(T={}),function jp(m,g,_,T){void 0===T&&(T={}),(m=(0,Y.m9)(m))._checkNotDeleted("useEmulator"),m._instanceStarted&&Lt("Cannot call useEmulator() after instance has already been initialized.");var P=m._repoInternal,L=void 0;if(P.repoInfo_.nodeAdmin)T.mockUserToken&&Lt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),L=new Mn(Mn.OWNER);else if(T.mockUserToken){var q="string"==typeof T.mockUserToken?T.mockUserToken:(0,Y.Sg)(T.mockUserToken,m.app.options.projectId);L=new Mn(q)}!function jd(m,g,_,T){m.repoInfo_=new Wt(g+":"+_,!1,m.repoInfo_.namespace,m.repoInfo_.webSocketOnly,m.repoInfo_.nodeAdmin,m.repoInfo_.persistenceKey,m.repoInfo_.includeNamespaceInQueryParams),T&&(m.authTokenProvider_=T)}(P,g,_,L)}(this._delegate,g,_,T)},m.prototype.ref=function(g){if((0,Y.Dv)("database.ref",0,1,arguments.length),g instanceof gc){var _=Rp(this._delegate,g.toString());return new gc(this,_)}return _=Rd(this._delegate,g),new gc(this,_)},m.prototype.refFromURL=function(g){var _="database.refFromURL";(0,Y.Dv)(_,1,1,arguments.length);var T=Rp(this._delegate,g);return new gc(this,T)},m.prototype.goOffline=function(){return(0,Y.Dv)("database.goOffline",0,0,arguments.length),rm(this._delegate)},m.prototype.goOnline=function(){return(0,Y.Dv)("database.goOnline",0,0,arguments.length),Hp(this._delegate)},m.ServerValue={TIMESTAMP:qp,increment:function(g){return function _a(m){return{".sv":{increment:m}}}(g)}},m}(),om=Object.freeze({__proto__:null,forceLongPolling:function(){Ir.forceDisallow(),Ao.forceAllow()},forceWebSockets:function(){Ao.forceDisallow()},isWebSocketsAvailable:function(){return Ir.isAvailable()},setSecurityDebugCallback:function(m,g){m._delegate._repo.persistentConnection_.securityDebugCallback_=g},stats:function(m,g){!function Vf(m,g){if(void 0===g&&(g=!1),!(typeof console>"u")){var _;g?(m.statsListener_||(m.statsListener_=new Pu(m.stats_)),_=m.statsListener_.get()):_=m.stats_.get();var T=Object.keys(_).reduce(function(P,L){return Math.max(L.length,P)},0);Ee(_,function(P,L){for(var q=P,re=P.length;re<T+2;re++)q+=" ";console.log(q+L)})}}(m._delegate._repo,g)},statsIncrementCounter:function(m,g){!function Uu(m,g){m.stats_.incrementCounter(g),function ha(m,g){m.statsToReport_[g]=!0}(m.statsReporter_,g)}(m._delegate._repo,g)},dataUpdateCount:function(m){return m._delegate._repo.dataUpdateCount},interceptServerData:function(m,g){return function Jv(m,g){m.interceptServerDataCallback_=g}(m._delegate._repo,g)},initStandalone:function oy(m){var g=m.app,_=m.url,P=m.customAuthImpl,L=m.namespace,q=m.nodeAdmin,re=void 0!==q&&q;ze(m.version);var ie=new Q.zt("auth-internal",new Q.H0("database-standalone"));return ie.setComponent(new Q.wA("auth-internal",function(){return P},"PRIVATE")),{instance:new Yf(as(g,ie,void 0,_,re),g),namespace:L}}}),Cw=_s;_s.prototype.simpleListen=function(m,g){this.sendRequest("q",{p:m},g)},_s.prototype.echo=function(m,g){this.sendRequest("echo",{d:m},g)};var ba=Object.freeze({__proto__:null,DataConnection:Cw,RealTimeConnection:_i,hijackHash:function(m){var g=_s.prototype.put;return _s.prototype.put=function(_,T,P,L){void 0!==L&&(L=m()),g.call(this,_,T,P,L)},function(){_s.prototype.put=g}},ConnectionTarget:Wt,queryIdentifier:function(m){return m._delegate._queryIdentifier},forceRestClient:function(m){!function Wf(m){Vd=m}(m)}}),Wp=Yf.ServerValue;!function Qf(m){ze(m.SDK_VERSION);var g=m.INTERNAL.registerComponent(new Q.wA("database",function(_,T){var P=T.instanceIdentifier,L=_.getProvider("app").getImmediate(),q=_.getProvider("auth-internal"),re=_.getProvider("app-check-internal");return new Yf(as(L,q,re,P),L)},"PUBLIC").setServiceProps({Reference:gc,Query:Gp,Database:Yf,DataSnapshot:qd,enableLogging:Tt,INTERNAL:om,ServerValue:Wp,TEST_ACCESS:ba}).setMultipleInstances(!0));m.registerVersion("@firebase/database","0.11.0"),(0,Y.Yr)()&&(an.exports=g)}(a.Z)},4003:(an,pt,ae)=>{"use strict";function a(){for(var Ce=0,Qe=0,Ge=arguments.length;Qe<Ge;Qe++)Ce+=arguments[Qe].length;var Me=Array(Ce),ht=0;for(Qe=0;Qe<Ge;Qe++)for(var ut=arguments[Qe],qe=0,bn=ut.length;qe<bn;qe++,ht++)Me[ht]=ut[qe];return Me}ae.d(pt,{Am:()=>Ie,Ub:()=>oe,Yd:()=>ze,in:()=>De});var Q,Y=[],De=(()=>{return(Ce=De||(De={}))[Ce.DEBUG=0]="DEBUG",Ce[Ce.VERBOSE=1]="VERBOSE",Ce[Ce.INFO=2]="INFO",Ce[Ce.WARN=3]="WARN",Ce[Ce.ERROR=4]="ERROR",Ce[Ce.SILENT=5]="SILENT",De;var Ce})(),ot={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},he=De.INFO,rt=((Q={})[De.DEBUG]="log",Q[De.VERBOSE]="log",Q[De.INFO]="info",Q[De.WARN]="warn",Q[De.ERROR]="error",Q),at=function(Ce,Qe){for(var Ge=[],Me=2;Me<arguments.length;Me++)Ge[Me-2]=arguments[Me];if(!(Qe<Ce.logLevel)){var ht=(new Date).toISOString(),ut=rt[Qe];if(!ut)throw new Error("Attempted to log a message with an invalid logType (value: "+Qe+")");console[ut].apply(console,a(["["+ht+"]  "+Ce.name+":"],Ge))}},ze=function(){function Ce(Qe){this.name=Qe,this._logLevel=he,this._logHandler=at,this._userLogHandler=null,Y.push(this)}return Object.defineProperty(Ce.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Qe){if(!(Qe in De))throw new TypeError('Invalid value "'+Qe+'" assigned to `logLevel`');this._logLevel=Qe},enumerable:!1,configurable:!0}),Ce.prototype.setLogLevel=function(Qe){this._logLevel="string"==typeof Qe?ot[Qe]:Qe},Object.defineProperty(Ce.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Qe){if("function"!=typeof Qe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Qe},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Qe){this._userLogHandler=Qe},enumerable:!1,configurable:!0}),Ce.prototype.debug=function(){for(var Qe=[],Ge=0;Ge<arguments.length;Ge++)Qe[Ge]=arguments[Ge];this._userLogHandler&&this._userLogHandler.apply(this,a([this,De.DEBUG],Qe)),this._logHandler.apply(this,a([this,De.DEBUG],Qe))},Ce.prototype.log=function(){for(var Qe=[],Ge=0;Ge<arguments.length;Ge++)Qe[Ge]=arguments[Ge];this._userLogHandler&&this._userLogHandler.apply(this,a([this,De.VERBOSE],Qe)),this._logHandler.apply(this,a([this,De.VERBOSE],Qe))},Ce.prototype.info=function(){for(var Qe=[],Ge=0;Ge<arguments.length;Ge++)Qe[Ge]=arguments[Ge];this._userLogHandler&&this._userLogHandler.apply(this,a([this,De.INFO],Qe)),this._logHandler.apply(this,a([this,De.INFO],Qe))},Ce.prototype.warn=function(){for(var Qe=[],Ge=0;Ge<arguments.length;Ge++)Qe[Ge]=arguments[Ge];this._userLogHandler&&this._userLogHandler.apply(this,a([this,De.WARN],Qe)),this._logHandler.apply(this,a([this,De.WARN],Qe))},Ce.prototype.error=function(){for(var Qe=[],Ge=0;Ge<arguments.length;Ge++)Qe[Ge]=arguments[Ge];this._userLogHandler&&this._userLogHandler.apply(this,a([this,De.ERROR],Qe)),this._logHandler.apply(this,a([this,De.ERROR],Qe))},Ce}();function oe(Ce){Y.forEach(function(Qe){Qe.setLogLevel(Ce)})}function Ie(Ce,Qe){for(var Ge=function(qe){var bn=null;Qe&&Qe.level&&(bn=ot[Qe.level]),qe.userLogHandler=null===Ce?null:function(Dn,Tt){for(var Ye=[],Je=2;Je<arguments.length;Je++)Ye[Je-2]=arguments[Je];var F=Ye.map(function(Lt){if(null==Lt)return null;if("string"==typeof Lt)return Lt;if("number"==typeof Lt||"boolean"==typeof Lt)return Lt.toString();if(Lt instanceof Error)return Lt.message;try{return JSON.stringify(Lt)}catch{return null}}).filter(function(Lt){return Lt}).join(" ");Tt>=(bn??Dn.logLevel)&&Ce({level:De[Tt].toLowerCase(),message:F,args:Ye,type:Dn.name})}},Me=0,ht=Y;Me<ht.length;Me++)Ge(ht[Me])}},492:(an,pt,ae)=>{"use strict";ae.d(pt,{BH:()=>Ge,DV:()=>Lr,Dv:()=>sa,G6:()=>yt,GJ:()=>$t,LL:()=>wn,Mn:()=>F,Pz:()=>Ee,Sg:()=>Me,UG:()=>qe,UI:()=>zn,US:()=>rt,Wj:()=>Wi,Yr:()=>Lt,ZB:()=>Ce,ZR:()=>yn,b$:()=>Tt,cI:()=>Oe,d:()=>Ye,dS:()=>Wt,g5:()=>De,gK:()=>Xi,gQ:()=>cn,h$:()=>at,hu:()=>Y,jU:()=>bn,lb:()=>Nt,m9:()=>Ko,ne:()=>tr,p$:()=>Ie,r3:()=>on,ru:()=>Dn,uI:()=>ut,ug:()=>_n,w1:()=>Je,w9:()=>Xe,xO:()=>ci,xb:()=>zt,z$:()=>ht});var a=ae(7582),Y=function(be,we){if(!be)throw De(we)},De=function(be){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+be)},ot=function(be){for(var we=[],ke=0,$e=0;$e<be.length;$e++){var Fe=be.charCodeAt($e);Fe<128?we[ke++]=Fe:Fe<2048?(we[ke++]=Fe>>6|192,we[ke++]=63&Fe|128):55296==(64512&Fe)&&$e+1<be.length&&56320==(64512&be.charCodeAt($e+1))?(Fe=65536+((1023&Fe)<<10)+(1023&be.charCodeAt(++$e)),we[ke++]=Fe>>18|240,we[ke++]=Fe>>12&63|128,we[ke++]=Fe>>6&63|128,we[ke++]=63&Fe|128):(we[ke++]=Fe>>12|224,we[ke++]=Fe>>6&63|128,we[ke++]=63&Fe|128)}return we},rt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(be,we){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ke=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,$e=[],Fe=0;Fe<be.length;Fe+=3){var bt=be[Fe],pn=Fe+1<be.length,gr=pn?be[Fe+1]:0,mr=Fe+2<be.length,Un=mr?be[Fe+2]:0,Eo=(15&gr)<<2|Un>>6,dr=63&Un;mr||(dr=64,pn||(Eo=64)),$e.push(ke[bt>>2],ke[(3&bt)<<4|gr>>4],ke[Eo],ke[dr])}return $e.join("")},encodeString:function(be,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(be):this.encodeByteArray(ot(be),we)},decodeString:function(be,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(be):function(be){for(var we=[],ke=0,$e=0;ke<be.length;){var Fe=be[ke++];if(Fe<128)we[$e++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){var bt=be[ke++];we[$e++]=String.fromCharCode((31&Fe)<<6|63&bt)}else if(Fe>239&&Fe<365){var mr=((7&Fe)<<18|(63&(bt=be[ke++]))<<12|(63&(pn=be[ke++]))<<6|63&be[ke++])-65536;we[$e++]=String.fromCharCode(55296+(mr>>10)),we[$e++]=String.fromCharCode(56320+(1023&mr))}else{bt=be[ke++];var pn=be[ke++];we[$e++]=String.fromCharCode((15&Fe)<<12|(63&bt)<<6|63&pn)}}return we.join("")}(this.decodeStringToByteArray(be,we))},decodeStringToByteArray:function(be,we){this.init_();for(var ke=we?this.charToByteMapWebSafe_:this.charToByteMap_,$e=[],Fe=0;Fe<be.length;){var bt=ke[be.charAt(Fe++)],gr=Fe<be.length?ke[be.charAt(Fe)]:0,Un=++Fe<be.length?ke[be.charAt(Fe)]:64,vi=++Fe<be.length?ke[be.charAt(Fe)]:64;if(++Fe,null==bt||null==gr||null==Un||null==vi)throw Error();$e.push(bt<<2|gr>>4),64!==Un&&($e.push(gr<<4&240|Un>>2),64!==vi&&$e.push(Un<<6&192|vi))}return $e},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}},at=function(be){var we=ot(be);return rt.encodeByteArray(we,!0)},ze=function(be){return at(be).replace(/\./g,"")},oe=function(be){try{return rt.decodeString(be,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function Ie(be){return Ce(void 0,be)}function Ce(be,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return we}for(var $e in we)!we.hasOwnProperty($e)||!Qe($e)||(be[$e]=Ce(be[$e],we[$e]));return be}function Qe(be){return"__proto__"!==be}var Ge=function(){function be(){var we=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ke,$e){we.resolve=ke,we.reject=$e})}return be.prototype.wrapCallback=function(we){var ke=this;return function($e,Fe){$e?ke.reject($e):ke.resolve(Fe),"function"==typeof we&&(ke.promise.catch(function(){}),1===we.length?we($e):we($e,Fe))}},be}();function Me(be,we){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var $e=we||"demo-project",Fe=be.iat||0,bt=be.sub||be.user_id;if(!bt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var pn=(0,a.pi)({iss:"https://securetoken.google.com/"+$e,aud:$e,iat:Fe,exp:Fe+3600,auth_time:Fe,sub:bt,user_id:bt,firebase:{sign_in_provider:"custom",identities:{}}},be);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(pn)),""].join(".")}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function qe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function bn(){return"object"==typeof self&&self.self===self}function Dn(){var be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function Tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){return ht().indexOf("Electron/")>=0}function Je(){var be=ht();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function F(){return ht().indexOf("MSAppHost/")>=0}function Lt(){return!1}function yt(){return!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var yn=function(be){function we(ke,$e,Fe){var bt=be.call(this,$e)||this;return bt.code=ke,bt.customData=Fe,bt.name="FirebaseError",Object.setPrototypeOf(bt,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(bt,wn.prototype.create),bt}return(0,a.ZT)(we,be),we}(Error),wn=function(){function be(we,ke,$e){this.service=we,this.serviceName=ke,this.errors=$e}return be.prototype.create=function(we){for(var ke=[],$e=1;$e<arguments.length;$e++)ke[$e-1]=arguments[$e];var Fe=ke[0]||{},bt=this.service+"/"+we,pn=this.errors[we],gr=pn?Gt(pn,Fe):"Error",mr=this.serviceName+": "+gr+" ("+bt+").",Un=new yn(bt,mr,Fe);return Un},be}();function Gt(be,we){return be.replace(kn,function(ke,$e){var Fe=we[$e];return null!=Fe?String(Fe):"<"+$e+"?>"})}var kn=/\{\$([^}]+)}/g;function Oe(be){return JSON.parse(be)}function Ee(be){return JSON.stringify(be)}var Le=function(be){var we={},ke={},$e={},Fe="";try{var bt=be.split(".");we=Oe(oe(bt[0])||""),ke=Oe(oe(bt[1])||""),Fe=bt[2],$e=ke.d||{},delete ke.d}catch{}return{header:we,claims:ke,data:$e,signature:Fe}},Xe=function(be){var ke=Le(be).claims;return!!ke&&"object"==typeof ke&&ke.hasOwnProperty("iat")},$t=function(be){var we=Le(be).claims;return"object"==typeof we&&!0===we.admin};function on(be,we){return Object.prototype.hasOwnProperty.call(be,we)}function Lr(be,we){if(Object.prototype.hasOwnProperty.call(be,we))return be[we]}function zt(be){for(var we in be)if(Object.prototype.hasOwnProperty.call(be,we))return!1;return!0}function zn(be,we,ke){var $e={};for(var Fe in be)Object.prototype.hasOwnProperty.call(be,Fe)&&($e[Fe]=we.call(ke,be[Fe],Fe,be));return $e}function ci(be){for(var we=[],ke=function(mr,Un){Array.isArray(Un)?Un.forEach(function(Ur){we.push(encodeURIComponent(mr)+"="+encodeURIComponent(Ur))}):we.push(encodeURIComponent(mr)+"="+encodeURIComponent(Un))},$e=0,Fe=Object.entries(be);$e<Fe.length;$e++){var bt=Fe[$e];ke(bt[0],bt[1])}return we.length?"&"+we.join("&"):""}var cn=function(){function be(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var we=1;we<this.blockSize;++we)this.pad_[we]=0;this.reset()}return be.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},be.prototype.compress_=function(we,ke){ke||(ke=0);var $e=this.W_;if("string"==typeof we)for(var Fe=0;Fe<16;Fe++)$e[Fe]=we.charCodeAt(ke)<<24|we.charCodeAt(ke+1)<<16|we.charCodeAt(ke+2)<<8|we.charCodeAt(ke+3),ke+=4;else for(Fe=0;Fe<16;Fe++)$e[Fe]=we[ke]<<24|we[ke+1]<<16|we[ke+2]<<8|we[ke+3],ke+=4;for(Fe=16;Fe<80;Fe++)$e[Fe]=4294967295&((bt=$e[Fe-3]^$e[Fe-8]^$e[Fe-14]^$e[Fe-16])<<1|bt>>>31);var vi,Eo,pn=this.chain_[0],gr=this.chain_[1],mr=this.chain_[2],Un=this.chain_[3],Ur=this.chain_[4];for(Fe=0;Fe<80;Fe++){Fe<40?Fe<20?(vi=Un^gr&(mr^Un),Eo=1518500249):(vi=gr^mr^Un,Eo=1859775393):Fe<60?(vi=gr&mr|Un&(gr|mr),Eo=2400959708):(vi=gr^mr^Un,Eo=3395469782);var bt=(pn<<5|pn>>>27)+vi+Ur+Eo+$e[Fe]&4294967295;Ur=Un,Un=mr,mr=4294967295&(gr<<30|gr>>>2),gr=pn,pn=bt}this.chain_[0]=this.chain_[0]+pn&4294967295,this.chain_[1]=this.chain_[1]+gr&4294967295,this.chain_[2]=this.chain_[2]+mr&4294967295,this.chain_[3]=this.chain_[3]+Un&4294967295,this.chain_[4]=this.chain_[4]+Ur&4294967295},be.prototype.update=function(we,ke){if(null!=we){void 0===ke&&(ke=we.length);for(var $e=ke-this.blockSize,Fe=0,bt=this.buf_,pn=this.inbuf_;Fe<ke;){if(0===pn)for(;Fe<=$e;)this.compress_(we,Fe),Fe+=this.blockSize;if("string"==typeof we){for(;Fe<ke;)if(bt[pn]=we.charCodeAt(Fe),++Fe,++pn===this.blockSize){this.compress_(bt),pn=0;break}}else for(;Fe<ke;)if(bt[pn]=we[Fe],++Fe,++pn===this.blockSize){this.compress_(bt),pn=0;break}}this.inbuf_=pn,this.total_+=ke}},be.prototype.digest=function(){var we=[],ke=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var $e=this.blockSize-1;$e>=56;$e--)this.buf_[$e]=255&ke,ke/=256;this.compress_(this.buf_);var Fe=0;for($e=0;$e<5;$e++)for(var bt=24;bt>=0;bt-=8)we[Fe]=this.chain_[$e]>>bt&255,++Fe;return we},be}();function tr(be,we){var ke=new Et(be,we);return ke.subscribe.bind(ke)}var Et=function(){function be(we,ke){var $e=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ke,this.task.then(function(){we($e)}).catch(function(Fe){$e.error(Fe)})}return be.prototype.next=function(we){this.forEachObserver(function(ke){ke.next(we)})},be.prototype.error=function(we){this.forEachObserver(function(ke){ke.error(we)}),this.close(we)},be.prototype.complete=function(){this.forEachObserver(function(we){we.complete()}),this.close()},be.prototype.subscribe=function(we,ke,$e){var bt,Fe=this;if(void 0===we&&void 0===ke&&void 0===$e)throw new Error("Missing Observer.");bt=function Tr(be,we){if("object"!=typeof be||null===be)return!1;for(var ke=0,$e=we;ke<$e.length;ke++){var Fe=$e[ke];if(Fe in be&&"function"==typeof be[Fe])return!0}return!1}(we,["next","error","complete"])?we:{next:we,error:ke,complete:$e},void 0===bt.next&&(bt.next=Rn),void 0===bt.error&&(bt.error=Rn),void 0===bt.complete&&(bt.complete=Rn);var pn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Fe.finalError?bt.error(Fe.finalError):bt.complete()}catch{}}),this.observers.push(bt),pn},be.prototype.unsubscribeOne=function(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},be.prototype.forEachObserver=function(we){if(!this.finalized)for(var ke=0;ke<this.observers.length;ke++)this.sendOne(ke,we)},be.prototype.sendOne=function(we,ke){var $e=this;this.task.then(function(){if(void 0!==$e.observers&&void 0!==$e.observers[we])try{ke($e.observers[we])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})},be.prototype.close=function(we){var ke=this;this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(function(){ke.observers=void 0,ke.onNoObservers=void 0}))},be}();function Rn(){}var sa=function(be,we,ke,$e){var Fe;if($e<we?Fe="at least "+we:$e>ke&&(Fe=0===ke?"none":"no more than "+ke),Fe)throw new Error(be+" failed: Was called with "+$e+(1===$e?" argument.":" arguments.")+" Expects "+Fe+".")};function Xi(be,we){return be+" failed: "+we+" argument "}function Wi(be,we,ke,$e){if((!$e||ke)&&"function"!=typeof ke)throw new Error(Xi(be,we)+"must be a valid function.")}function Nt(be,we,ke,$e){if((!$e||ke)&&("object"!=typeof ke||null===ke))throw new Error(Xi(be,we)+"must be a valid context object.")}var Wt=function(be){for(var we=[],ke=0,$e=0;$e<be.length;$e++){var Fe=be.charCodeAt($e);if(Fe>=55296&&Fe<=56319){var bt=Fe-55296;$e++,Y($e<be.length,"Surrogate pair missing trail surrogate."),Fe=65536+(bt<<10)+(be.charCodeAt($e)-56320)}Fe<128?we[ke++]=Fe:Fe<2048?(we[ke++]=Fe>>6|192,we[ke++]=63&Fe|128):Fe<65536?(we[ke++]=Fe>>12|224,we[ke++]=Fe>>6&63|128,we[ke++]=63&Fe|128):(we[ke++]=Fe>>18|240,we[ke++]=Fe>>12&63|128,we[ke++]=Fe>>6&63|128,we[ke++]=63&Fe|128)}return we},_n=function(be){for(var we=0,ke=0;ke<be.length;ke++){var $e=be.charCodeAt(ke);$e<128?we++:$e<2048?we+=2:$e>=55296&&$e<=56319?(we+=4,ke++):we+=3}return we};function Ko(be){return be&&be._delegate?be._delegate:be}},7587:(an,pt,ae)=>{"use strict";var a=ae(4650);let Q=null;function Y(){return Q}const rt=new a.OlP("DocumentToken");let at=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:function(){return function ze(){return(0,a.LFG)(Ie)}()},providedIn:"platform"}),e})();const oe=new a.OlP("Location Initialized");let Ie=(()=>{class e extends at{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(t){const o=Y().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=Y().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,s){Ce()?this._history.pushState(t,o,s):this.location.hash=s}replaceState(t,o,s){Ce()?this._history.replaceState(t,o,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(rt))},e.\u0275prov=a.Yz7({token:e,factory:function(){return function Qe(){return new Ie((0,a.LFG)(rt))}()},providedIn:"platform"}),e})();function Ce(){return!!window.history.pushState}function Ge(e,i){if(0==e.length)return i;if(0==i.length)return e;let t=0;return e.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?e+i.substring(1):1==t?e+i:e+"/"+i}function Me(e){const i=e.match(/#|\?|$/),t=i&&i.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function ht(e){return e&&"?"!==e[0]?"?"+e:e}let ut=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:function(){return(0,a.f3M)(bn)},providedIn:"root"}),e})();const qe=new a.OlP("appBaseHref");let bn=(()=>{class e extends ut{constructor(t,o){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ge(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+ht(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${o}${s}`:o}pushState(t,o,s,l){const h=this.prepareExternalUrl(s+ht(l));this._platformLocation.pushState(t,o,h)}replaceState(t,o,s,l){const h=this.prepareExternalUrl(s+ht(l));this._platformLocation.replaceState(t,o,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(at),a.LFG(qe,8))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Dn=(()=>{class e extends ut{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=Ge(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,s,l){let h=this.prepareExternalUrl(s+ht(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,o,h)}replaceState(t,o,s,l){let h=this.prepareExternalUrl(s+ht(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(at),a.LFG(qe,8))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})(),Tt=(()=>{class e{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._baseHref=Me(F(o)),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+ht(o))}normalize(t){return e.stripTrailingSlash(function Je(e,i){return e&&i.startsWith(e)?i.substring(e.length):i}(this._baseHref,F(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",s=null){this._locationStrategy.pushState(s,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ht(o)),s)}replaceState(t,o="",s=null){this._locationStrategy.replaceState(s,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ht(o)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(s=>s(t,o))}subscribe(t,o,s){return this._subject.subscribe({next:t,error:o,complete:s})}}return e.normalizeQueryParams=ht,e.joinWithSlash=Ge,e.stripTrailingSlash=Me,e.\u0275fac=function(t){return new(t||e)(a.LFG(ut))},e.\u0275prov=a.Yz7({token:e,factory:function(){return function Ye(){return new Tt((0,a.LFG)(ut))}()},providedIn:"root"}),e})();function F(e){return e.replace(/\/index.html$/,"")}var br=(()=>((br=br||{})[br.Format=0]="Format",br[br.Standalone=1]="Standalone",br))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.Medium=1]="Medium",qt[qt.Long=2]="Long",qt[qt.Full=3]="Full",qt))(),xt=(()=>((xt=xt||{})[xt.Decimal=0]="Decimal",xt[xt.Group=1]="Group",xt[xt.List=2]="List",xt[xt.PercentSign=3]="PercentSign",xt[xt.PlusSign=4]="PlusSign",xt[xt.MinusSign=5]="MinusSign",xt[xt.Exponential=6]="Exponential",xt[xt.SuperscriptingExponent=7]="SuperscriptingExponent",xt[xt.PerMille=8]="PerMille",xt[xt.Infinity=9]="Infinity",xt[xt.NaN=10]="NaN",xt[xt.TimeSeparator=11]="TimeSeparator",xt[xt.CurrencyDecimal=12]="CurrencyDecimal",xt[xt.CurrencyGroup=13]="CurrencyGroup",xt))();function lt(e,i){return Et((0,a.cg1)(e)[a.wAp.DateFormat],i)}function Xe(e,i){return Et((0,a.cg1)(e)[a.wAp.TimeFormat],i)}function $t(e,i){return Et((0,a.cg1)(e)[a.wAp.DateTimeFormat],i)}function on(e,i){const t=(0,a.cg1)(e),o=t[a.wAp.NumberSymbols][i];if(typeof o>"u"){if(i===xt.CurrencyDecimal)return t[a.wAp.NumberSymbols][xt.Decimal];if(i===xt.CurrencyGroup)return t[a.wAp.NumberSymbols][xt.Group]}return o}function Tn(e){if(!e[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Et(e,i){for(let t=i;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function ir(e){const[i,t]=e.split(":");return{hours:+i,minutes:+t}}const Xi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mr={},Wi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Nt=(()=>((Nt=Nt||{})[Nt.Short=0]="Short",Nt[Nt.ShortGMT=1]="ShortGMT",Nt[Nt.Long=2]="Long",Nt[Nt.Extended=3]="Extended",Nt))(),Wt=(()=>((Wt=Wt||{})[Wt.FullYear=0]="FullYear",Wt[Wt.Month=1]="Month",Wt[Wt.Date=2]="Date",Wt[Wt.Hours=3]="Hours",Wt[Wt.Minutes=4]="Minutes",Wt[Wt.Seconds=5]="Seconds",Wt[Wt.FractionalSeconds=6]="FractionalSeconds",Wt[Wt.Day=7]="Day",Wt))(),_n=(()=>((_n=_n||{})[_n.DayPeriods=0]="DayPeriods",_n[_n.Days=1]="Days",_n[_n.Months=2]="Months",_n[_n.Eras=3]="Eras",_n))();function mi(e,i,t,o){let s=function Yi(e){if(Ao(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[s,l=1,h=1]=e.split("-").map(v=>+v);return Or(s,l-1,h)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let o;if(o=e.match(Xi))return function Fi(e){const i=new Date(0);let t=0,o=0;const s=e[8]?i.setUTCFullYear:i.setFullYear,l=e[8]?i.setUTCHours:i.setHours;e[9]&&(t=Number(e[9]+e[10]),o=Number(e[9]+e[11])),s.call(i,Number(e[1]),Number(e[2])-1,Number(e[3]));const h=Number(e[4]||0)-t,v=Number(e[5]||0)-o,w=Number(e[6]||0),D=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return l.call(i,h,v,w,D),i}(o)}const i=new Date(e);if(!Ao(i))throw new Error(`Unable to convert "${e}" into a date`);return i}(e);i=To(t,i)||i;let v,h=[];for(;i;){if(v=Wi.exec(i),!v){h.push(i);break}{h=h.concat(v.slice(1));const M=h.pop();if(!M)break;i=M}}let w=s.getTimezoneOffset();o&&(w=vi(o,w),s=function dr(e,i,t){const o=t?-1:1,s=e.getTimezoneOffset();return function Eo(e,i){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+i),e}(e,o*(vi(i,s)-s))}(s,o,!0));let D="";return h.forEach(M=>{const k=function Ur(e){if(Un[e])return Un[e];let i;switch(e){case"G":case"GG":case"GGG":i=be(_n.Eras,Te.Abbreviated);break;case"GGGG":i=be(_n.Eras,Te.Wide);break;case"GGGGG":i=be(_n.Eras,Te.Narrow);break;case"y":i=Fn(Wt.FullYear,1,0,!1,!0);break;case"yy":i=Fn(Wt.FullYear,2,0,!0,!0);break;case"yyy":i=Fn(Wt.FullYear,3,0,!1,!0);break;case"yyyy":i=Fn(Wt.FullYear,4,0,!1,!0);break;case"Y":i=mr(1);break;case"YY":i=mr(2,!0);break;case"YYY":i=mr(3);break;case"YYYY":i=mr(4);break;case"M":case"L":i=Fn(Wt.Month,1,1);break;case"MM":case"LL":i=Fn(Wt.Month,2,1);break;case"MMM":i=be(_n.Months,Te.Abbreviated);break;case"MMMM":i=be(_n.Months,Te.Wide);break;case"MMMMM":i=be(_n.Months,Te.Narrow);break;case"LLL":i=be(_n.Months,Te.Abbreviated,br.Standalone);break;case"LLLL":i=be(_n.Months,Te.Wide,br.Standalone);break;case"LLLLL":i=be(_n.Months,Te.Narrow,br.Standalone);break;case"w":i=gr(1);break;case"ww":i=gr(2);break;case"W":i=gr(1,!0);break;case"d":i=Fn(Wt.Date,1);break;case"dd":i=Fn(Wt.Date,2);break;case"c":case"cc":i=Fn(Wt.Day,1);break;case"ccc":i=be(_n.Days,Te.Abbreviated,br.Standalone);break;case"cccc":i=be(_n.Days,Te.Wide,br.Standalone);break;case"ccccc":i=be(_n.Days,Te.Narrow,br.Standalone);break;case"cccccc":i=be(_n.Days,Te.Short,br.Standalone);break;case"E":case"EE":case"EEE":i=be(_n.Days,Te.Abbreviated);break;case"EEEE":i=be(_n.Days,Te.Wide);break;case"EEEEE":i=be(_n.Days,Te.Narrow);break;case"EEEEEE":i=be(_n.Days,Te.Short);break;case"a":case"aa":case"aaa":i=be(_n.DayPeriods,Te.Abbreviated);break;case"aaaa":i=be(_n.DayPeriods,Te.Wide);break;case"aaaaa":i=be(_n.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":i=be(_n.DayPeriods,Te.Abbreviated,br.Standalone,!0);break;case"bbbb":i=be(_n.DayPeriods,Te.Wide,br.Standalone,!0);break;case"bbbbb":i=be(_n.DayPeriods,Te.Narrow,br.Standalone,!0);break;case"B":case"BB":case"BBB":i=be(_n.DayPeriods,Te.Abbreviated,br.Format,!0);break;case"BBBB":i=be(_n.DayPeriods,Te.Wide,br.Format,!0);break;case"BBBBB":i=be(_n.DayPeriods,Te.Narrow,br.Format,!0);break;case"h":i=Fn(Wt.Hours,1,-12);break;case"hh":i=Fn(Wt.Hours,2,-12);break;case"H":i=Fn(Wt.Hours,1);break;case"HH":i=Fn(Wt.Hours,2);break;case"m":i=Fn(Wt.Minutes,1);break;case"mm":i=Fn(Wt.Minutes,2);break;case"s":i=Fn(Wt.Seconds,1);break;case"ss":i=Fn(Wt.Seconds,2);break;case"S":i=Fn(Wt.FractionalSeconds,1);break;case"SS":i=Fn(Wt.FractionalSeconds,2);break;case"SSS":i=Fn(Wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":i=ke(Nt.Short);break;case"ZZZZZ":i=ke(Nt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=ke(Nt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":i=ke(Nt.Long);break;default:return null}return Un[e]=i,i}(M);D+=k?k(s,t,w):"''"===M?"'":M.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function Or(e,i,t){const o=new Date(0);return o.setFullYear(e,i,t),o.setHours(0,0,0),o}function To(e,i){const t=function wn(e){return(0,a.cg1)(e)[a.wAp.LocaleId]}(e);if(Mr[t]=Mr[t]||{},Mr[t][i])return Mr[t][i];let o="";switch(i){case"shortDate":o=lt(e,qt.Short);break;case"mediumDate":o=lt(e,qt.Medium);break;case"longDate":o=lt(e,qt.Long);break;case"fullDate":o=lt(e,qt.Full);break;case"shortTime":o=Xe(e,qt.Short);break;case"mediumTime":o=Xe(e,qt.Medium);break;case"longTime":o=Xe(e,qt.Long);break;case"fullTime":o=Xe(e,qt.Full);break;case"short":const s=To(e,"shortTime"),l=To(e,"shortDate");o=ji($t(e,qt.Short),[s,l]);break;case"medium":const h=To(e,"mediumTime"),v=To(e,"mediumDate");o=ji($t(e,qt.Medium),[h,v]);break;case"long":const w=To(e,"longTime"),D=To(e,"longDate");o=ji($t(e,qt.Long),[w,D]);break;case"full":const M=To(e,"fullTime"),k=To(e,"fullDate");o=ji($t(e,qt.Full),[M,k])}return o&&(Mr[t][i]=o),o}function ji(e,i){return i&&(e=e.replace(/\{([^}]+)}/g,function(t,o){return null!=i&&o in i?i[o]:t})),e}function hn(e,i,t="-",o,s){let l="";(e<0||s&&e<=0)&&(s?e=1-e:(e=-e,l=t));let h=String(e);for(;h.length<i;)h="0"+h;return o&&(h=h.slice(h.length-i)),l+h}function Fn(e,i,t=0,o=!1,s=!1){return function(l,h){let v=function Ko(e,i){switch(e){case Wt.FullYear:return i.getFullYear();case Wt.Month:return i.getMonth();case Wt.Date:return i.getDate();case Wt.Hours:return i.getHours();case Wt.Minutes:return i.getMinutes();case Wt.Seconds:return i.getSeconds();case Wt.FractionalSeconds:return i.getMilliseconds();case Wt.Day:return i.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,l);if((t>0||v>-t)&&(v+=t),e===Wt.Hours)0===v&&-12===t&&(v=12);else if(e===Wt.FractionalSeconds)return function Bo(e,i){return hn(e,3).substring(0,i)}(v,i);const w=on(h,xt.MinusSign);return hn(v,i,w,o,s)}}function be(e,i,t=br.Format,o=!1){return function(s,l){return function we(e,i,t,o,s,l){switch(t){case _n.Months:return function Oe(e,i,t){const o=(0,a.cg1)(e),l=Et([o[a.wAp.MonthsFormat],o[a.wAp.MonthsStandalone]],i);return Et(l,t)}(i,s,o)[e.getMonth()];case _n.Days:return function kn(e,i,t){const o=(0,a.cg1)(e),l=Et([o[a.wAp.DaysFormat],o[a.wAp.DaysStandalone]],i);return Et(l,t)}(i,s,o)[e.getDay()];case _n.DayPeriods:const h=e.getHours(),v=e.getMinutes();if(l){const D=function Mn(e){const i=(0,a.cg1)(e);return Tn(i),(i[a.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?ir(o):[ir(o[0]),ir(o[1])])}(i),M=function cn(e,i,t){const o=(0,a.cg1)(e);Tn(o);const l=Et([o[a.wAp.ExtraData][0],o[a.wAp.ExtraData][1]],i)||[];return Et(l,t)||[]}(i,s,o),k=D.findIndex(H=>{if(Array.isArray(H)){const[J,X]=H,ue=h>=J.hours&&v>=J.minutes,ve=h<X.hours||h===X.hours&&v<X.minutes;if(J.hours<X.hours){if(ue&&ve)return!0}else if(ue||ve)return!0}else if(H.hours===h&&H.minutes===v)return!0;return!1});if(-1!==k)return M[k]}return function Gt(e,i,t){const o=(0,a.cg1)(e),l=Et([o[a.wAp.DayPeriodsFormat],o[a.wAp.DayPeriodsStandalone]],i);return Et(l,t)}(i,s,o)[h<12?0:1];case _n.Eras:return function Ee(e,i){return Et((0,a.cg1)(e)[a.wAp.Eras],i)}(i,o)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(s,l,e,i,t,o)}}function ke(e){return function(i,t,o){const s=-1*o,l=on(t,xt.MinusSign),h=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case Nt.Short:return(s>=0?"+":"")+hn(h,2,l)+hn(Math.abs(s%60),2,l);case Nt.ShortGMT:return"GMT"+(s>=0?"+":"")+hn(h,1,l);case Nt.Long:return"GMT"+(s>=0?"+":"")+hn(h,2,l)+":"+hn(Math.abs(s%60),2,l);case Nt.Extended:return 0===o?"Z":(s>=0?"+":"")+hn(h,2,l)+":"+hn(Math.abs(s%60),2,l);default:throw new Error(`Unknown zone width "${e}"`)}}}function pn(e){return Or(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function gr(e,i=!1){return function(t,o){let s;if(i){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,h=t.getDate();s=1+Math.floor((h+l)/7)}else{const l=pn(t),h=function bt(e){const i=Or(e,0,1).getDay();return Or(e,0,1+(i<=4?4:11)-i)}(l.getFullYear()),v=l.getTime()-h.getTime();s=1+Math.round(v/6048e5)}return hn(s,e,on(o,xt.MinusSign))}}function mr(e,i=!1){return function(t,o){return hn(pn(t).getFullYear(),e,on(o,xt.MinusSign),i)}}const Un={};function vi(e,i){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?i:t}function Ao(e){return e instanceof Date&&!isNaN(e.valueOf())}let Nr=(()=>{class e{constructor(t,o,s,l){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=s,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{o?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},e.\u0275dir=a.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class fr{constructor(i,t,o,s){this.$implicit=i,this.ngForOf=t,this.index=o,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jt=(()=>{class e{constructor(t,o,s){this._viewContainer=t,this._template=o,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((s,l,h)=>{if(null==s.previousIndex)o.createEmbeddedView(this._template,new fr(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)o.remove(null===l?void 0:l);else if(null!==l){const v=o.get(l);o.move(v,h),So(v,s)}});for(let s=0,l=o.length;s<l;s++){const v=o.get(s).context;v.index=s,v.count=l,v.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{So(o.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,o){return!0}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},e.\u0275dir=a.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function So(e,i){e.context.$implicit=i.item}let Sn=(()=>{class e{constructor(t,o){this._viewContainer=t,this._context=new tu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Li("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Li("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.s_b),a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class tu{constructor(){this.$implicit=null,this.ngIf=null}}function Li(e,i){if(i&&!i.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,a.AaK)(i)}'.`)}let fo=(()=>{class e{constructor(t,o,s){this._ngEl=t,this._differs=o,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,o){const[s,l]=t.split("."),h=-1===s.indexOf("-")?void 0:a.JOm.DashCase;null!=o?this._renderer.setStyle(this._ngEl.nativeElement,s,l?`${o}${l}`:o,h):this._renderer.removeStyle(this._ngEl.nativeElement,s,h)}_applyChanges(t){t.forEachRemovedItem(o=>this._setStyle(o.key,null)),t.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),t.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},e.\u0275dir=a.lG2({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),ua=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const o=this._viewContainerRef;if(this._viewRef&&o.remove(o.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:l,ngTemplateOutletInjector:h}=this;this._viewRef=o.createEmbeddedView(s,l,h?{injector:h}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.s_b))},e.\u0275dir=a.lG2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),e})();const Ls=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let _s=(()=>{class e{constructor(t,o){this.locale=t,this.defaultTimezone=o}transform(t,o="mediumDate",s,l){if(null==t||""===t||t!=t)return null;try{return mi(t,o,l||this.locale,s??this.defaultTimezone??void 0)}catch(h){throw function Jo(e,i){return new a.vHH(2100,!1)}()}}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.soG,16),a.Y36(Ls,24))},e.\u0275pipe=a.Yjl({name:"date",type:e,pure:!0,standalone:!0}),e})(),Us=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({}),e})();function ca(e){return"server"===e}let Cf=(()=>{class e{}return e.\u0275prov=(0,a.Yz7)({token:e,providedIn:"root",factory:()=>new Ql((0,a.LFG)(rt),window)}),e})();class Ql{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const t=function E(e,i){const t=e.getElementById(i)||e.getElementsByName(i)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const o=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=o.currentNode;for(;s;){const l=s.shadowRoot;if(l){const h=l.getElementById(i)||l.querySelector(`[name="${i}"]`);if(h)return h}s=o.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=i)}}scrollToElement(i){const t=i.getBoundingClientRect(),o=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(o-l[0],s-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=Ma(this.window.history)||Ma(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ma(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Vr extends class Zr extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ot(e){Q||(Q=e)}(new Vr)}onAndCancel(i,t,o){return i.addEventListener(t,o,!1),()=>{i.removeEventListener(t,o,!1)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function Pc(){return wi=wi||document.querySelector("base"),wi?wi.getAttribute("href"):null}();return null==t?null:function Eh(e){pa=pa||document.createElement("a"),pa.setAttribute("href",e);const i=pa.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){wi=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function xc(e,i){i=encodeURIComponent(i);for(const t of e.split(";")){const o=t.indexOf("="),[s,l]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(s.trim()===i)return decodeURIComponent(l)}return null}(document.cookie,i)}}let pa,wi=null;const dl=new a.OlP("TRANSITION_ID"),Hs=[{provide:a.ip1,useFactory:function _d(e,i,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const o=Y(),s=i.querySelectorAll(`style[ng-transition="${e}"]`);for(let l=0;l<s.length;l++)o.remove(s[l])})}},deps:[dl,rt,a.zs3],multi:!0}];let N=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();const U=new a.OlP("EventManagerPlugins");let K=(()=>{class e{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,s){return this._findPluginFor(o).addEventListener(t,o,s)}addGlobalEventListener(t,o,s){return this._findPluginFor(o).addGlobalEventListener(t,o,s)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const s=this._plugins;for(let l=0;l<s.length;l++){const h=s[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(U),a.LFG(a.R0b))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();class ge{constructor(i){this._doc=i}addGlobalEventListener(i,t,o){const s=Y().getGlobalEventTarget(this._doc,i);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,o)}}let nt=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),o.add(s))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})(),Xt=(()=>{class e extends nt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,s){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,s.push(o.appendChild(h))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(Jn),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,s)=>{this._addStylesToHost(t,s,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Jn))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(rt))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();function Jn(e){Y().remove(e)}const wr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},En=/%COMP%/g;function Mc(e,i,t){for(let o=0;o<i.length;o++){let s=i[o];Array.isArray(s)?Mc(e,s,t):(s=s.replace(En,e),t.push(s))}return t}function hl(e){return i=>{if("__ngUnwrap__"===i)return e;!1===e(i)&&(i.preventDefault(),i.returnValue=!1)}}let bd=(()=>{class e{constructor(t,o,s){this.eventManager=t,this.sharedStylesHost=o,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Tf(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case a.ifc.Emulated:{let s=this.rendererByCompId.get(o.id);return s||(s=new Ef(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,s)),s.applyToHost(t),s}case 1:case a.ifc.ShadowDom:return new Sp(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const s=Mc(o.id,o.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(K),a.LFG(Xt),a.LFG(a.AFp))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();class Tf{constructor(i){this.eventManager=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?document.createElementNS(wr[t]||t,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,t){(wd(i)?i.content:i).appendChild(t)}insertBefore(i,t,o){i&&(wd(i)?i.content:i).insertBefore(t,o)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let o="string"==typeof i?document.querySelector(i):i;if(!o)throw new Error(`The selector "${i}" did not match any elements`);return t||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,o,s){if(s){t=s+":"+t;const l=wr[s];l?i.setAttributeNS(l,t,o):i.setAttribute(t,o)}else i.setAttribute(t,o)}removeAttribute(i,t,o){if(o){const s=wr[o];s?i.removeAttributeNS(s,t):i.removeAttribute(`${o}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,o,s){s&(a.JOm.DashCase|a.JOm.Important)?i.style.setProperty(t,o,s&a.JOm.Important?"important":""):i.style[t]=o}removeStyle(i,t,o){o&a.JOm.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,o){i[t]=o}setValue(i,t){i.nodeValue=t}listen(i,t,o){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,t,hl(o)):this.eventManager.addEventListener(i,t,hl(o))}}function wd(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Ef extends Tf{constructor(i,t,o,s){super(i),this.component=o;const l=Mc(s+"-"+o.id,o.styles,[]);t.addStyles(l),this.contentAttr=function lu(e){return"_ngcontent-%COMP%".replace(En,e)}(s+"-"+o.id),this.hostAttr=function nc(e){return"_nghost-%COMP%".replace(En,e)}(s+"-"+o.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,t){const o=super.createElement(i,t);return super.setAttribute(o,this.contentAttr,""),o}}class Sp extends Tf{constructor(i,t,o,s){super(i),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Mc(s.id,s.styles,[]);for(let h=0;h<l.length;h++){const v=document.createElement("style");v.textContent=l[h],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,o){return super.insertBefore(this.nodeOrShadowRoot(i),t,o)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let qg=(()=>{class e extends ge{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,s){return t.addEventListener(o,s,!1),()=>this.removeEventListener(t,o,s)}removeEventListener(t,o,s){return t.removeEventListener(o,s)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(rt))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();const ic=["alt","control","meta","shift"],Af={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cd={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Td=(()=>{class e extends ge{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,o,s){const l=e.parseEventName(o),h=e.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Y().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const o=t.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;const l=e._normalizeKey(o.pop());let h="",v=o.indexOf("code");if(v>-1&&(o.splice(v,1),h="code."),ic.forEach(D=>{const M=o.indexOf(D);M>-1&&(o.splice(M,1),h+=D+".")}),h+=l,0!=o.length||0===l.length)return null;const w={};return w.domEventName=s,w.fullKey=h,w}static matchEventFullKeyCode(t,o){let s=Af[t.key]||t.key,l="";return o.indexOf("code.")>-1&&(s=t.code,l="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),ic.forEach(h=>{h!==s&&(0,Cd[h])(t)&&(l+=h+".")}),l+=s,l===o)}static eventCallback(t,o,s){return l=>{e.matchEventFullKeyCode(l,t)&&s.runGuarded(()=>o(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(rt))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();const Zg=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function Ed(){Vr.makeCurrent()},multi:!0},{provide:rt,useFactory:function If(){return(0,a.RDi)(document),document},deps:[]}]),xf=new a.OlP(""),Qr=[{provide:a.rWj,useClass:class go{addToWindow(i){a.dqk.getAngularTestability=(o,s=!0)=>{const l=i.findTestabilityInTree(o,s);if(null==l)throw new Error("Could not find testability for element.");return l},a.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(o=>{const s=a.dqk.getAllAngularTestabilities();let l=s.length,h=!1;const v=function(w){h=h||w,l--,0==l&&o(h)};s.forEach(function(w){w.whenStable(v)})})}findTestabilityInTree(i,t,o){return null==t?null:i.getTestability(t)??(o?Y().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Dh=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Ah(){return new a.qLn},deps:[]},{provide:U,useClass:qg,multi:!0,deps:[rt,a.R0b,a.Lbi]},{provide:U,useClass:Td,multi:!0,deps:[rt]},{provide:bd,useClass:bd,deps:[K,Xt,a.AFp]},{provide:a.FYo,useExisting:bd},{provide:nt,useExisting:Xt},{provide:Xt,useClass:Xt,deps:[rt]},{provide:K,useClass:K,deps:[U,a.R0b]},{provide:class R{},useClass:N,deps:[]},[]];let Ad=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:a.AFp,useValue:t.appId},{provide:dl,useExisting:a.AFp},Hs]}}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(xf,12))},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[...Dh,...Qr],imports:[Us,a.hGG]}),e})(),zv=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(rt))},e.\u0275prov=a.Yz7({token:e,factory:function(t){let o=null;return o=t?new t:function Mf(){return new zv((0,a.LFG)(rt))}(),o},providedIn:"root"}),e})();typeof window<"u"&&window;let kf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:function(t){let o=null;return o=t?new(t||e):a.LFG(sc),o},providedIn:"root"}),e})(),sc=(()=>{class e extends kf{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case a.q3G.NONE:return o;case a.q3G.HTML:return(0,a.qzn)(o,"HTML")?(0,a.z3N)(o):(0,a.EiD)(this._doc,String(o)).toString();case a.q3G.STYLE:return(0,a.qzn)(o,"Style")?(0,a.z3N)(o):o;case a.q3G.SCRIPT:if((0,a.qzn)(o,"Script"))return(0,a.z3N)(o);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(o,"URL")?(0,a.z3N)(o):(0,a.mCW)(String(o));case a.q3G.RESOURCE_URL:if((0,a.qzn)(o,"ResourceURL"))return(0,a.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(rt))},e.\u0275prov=a.Yz7({token:e,factory:function(t){let o=null;return o=t?new t:function Pp(e){return new sc(e.get(rt))}(a.LFG(a.zs3)),o},providedIn:"root"}),e})();var Cr=ae(8996),cu=ae(3269);function dn(...e){const i=(0,cu.yG)(e);return(0,Cr.D)(e,i)}var zr=ae(7579);class Oo extends zr.x{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const t=super._subscribe(i);return!t.closed&&i.next(this._value),t}getValue(){const{hasError:i,thrownError:t,_value:o}=this;if(i)throw t;return this._throwIfClosed(),o}next(i){super.next(this._value=i)}}const Fc=(0,ae(3888).d)(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});var Cs=ae(9751);const{isArray:Dd}=Array,{getPrototypeOf:Ih,prototype:du,keys:Lc}=Object;function xh(e){if(1===e.length){const i=e[0];if(Dd(i))return{args:i,keys:null};if(function ro(e){return e&&"object"==typeof e&&Ih(e)===du}(i)){const t=Lc(i);return{args:t.map(o=>i[o]),keys:t}}}return{args:e,keys:null}}var yl=ae(4671),Kt=ae(4004);const{isArray:Ph}=Array;function Mh(e){return(0,Kt.U)(i=>function Uc(e,i){return Ph(i)?e(...i):e(i)}(e,i))}function Mp(e,i){return e.reduce((t,o,s)=>(t[o]=i[s],t),{})}var Mi=ae(5403),ac=ae(9672);function La(...e){const i=(0,cu.yG)(e),t=(0,cu.jO)(e),{args:o,keys:s}=xh(e);if(0===o.length)return(0,Cr.D)([],i);const l=new Cs.y(function Bc(e,i,t=yl.y){return o=>{qs(i,()=>{const{length:s}=e,l=new Array(s);let h=s,v=s;for(let w=0;w<s;w++)qs(i,()=>{const D=(0,Cr.D)(e[w],i);let M=!1;D.subscribe((0,Mi.x)(o,k=>{l[w]=k,M||(M=!0,v--),v||o.next(t(l.slice()))},()=>{--h||o.complete()}))},o)},o)}}(o,i,s?h=>Mp(s,h):yl.y));return t?l.pipe(Mh(t)):l}function qs(e,i,t){e?(0,ac.f)(t,e,i):i()}var rs=ae(8189);function ku(...e){return function Nu(){return(0,rs.J)(1)}()((0,Cr.D)(e,(0,cu.yG)(e)))}var fu=ae(8421);function Zs(e){return new Cs.y(i=>{(0,fu.Xf)(e()).subscribe(i)})}var Oh=ae(9635),Ru=ae(576);function vo(e,i){const t=(0,Ru.m)(e)?e:()=>e,o=s=>s.error(t());return new Cs.y(i?s=>i.schedule(o,0,s):o)}var Gs=ae(515),Ts=ae(727),Oi=ae(4482);function Rf(){return(0,Oi.e)((e,i)=>{let t=null;e._refCount++;const o=(0,Mi.x)(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const s=e._connection,l=t;t=null,s&&(!l||s===l)&&s.unsubscribe(),i.unsubscribe()});e.subscribe(o),o.closed||(t=e.connect())})}class Fu extends Cs.y{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Oi.A)(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Ts.w0;const t=this.getSubject();i.add(this.source.subscribe((0,Mi.x)(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Ts.w0.EMPTY)}return i}refCount(){return Rf()(this)}}function Ui(e,i){return(0,Oi.e)((t,o)=>{let s=null,l=0,h=!1;const v=()=>h&&!s&&o.complete();t.subscribe((0,Mi.x)(o,w=>{s?.unsubscribe();let D=0;const M=l++;(0,fu.Xf)(e(w,M)).subscribe(s=(0,Mi.x)(o,k=>o.next(i?i(w,k,M,D++):k),()=>{s=null,v()}))},()=>{h=!0,v()}))})}function Ua(e){return e<=0?()=>Gs.E:(0,Oi.e)((i,t)=>{let o=0;i.subscribe((0,Mi.x)(t,s=>{++o<=e&&(t.next(s),e<=o&&t.complete())}))})}function Sd(...e){const i=(0,cu.yG)(e);return(0,Oi.e)((t,o)=>{(i?ku(e,t,i):ku(e,t)).subscribe(o)})}function io(e,i){return(0,Oi.e)((t,o)=>{let s=0;t.subscribe((0,Mi.x)(o,l=>e.call(i,l,s++)&&o.next(l)))})}var si=ae(5577);function is(e){return(0,Oi.e)((i,t)=>{let o=!1;i.subscribe((0,Mi.x)(t,s=>{o=!0,t.next(s)},()=>{o||t.next(e),t.complete()}))})}function Wg(e=$s){return(0,Oi.e)((i,t)=>{let o=!1;i.subscribe((0,Mi.x)(t,s=>{o=!0,t.next(s)},()=>o?t.complete():t.error(e())))})}function $s(){return new Fc}function hu(e,i){const t=arguments.length>=2;return o=>o.pipe(e?io((s,l)=>e(s,l,o)):yl.y,Ua(1),t?is(i):Wg(()=>new Fc))}function Lu(e,i){return(0,Ru.m)(i)?(0,si.z)(e,i,1):(0,si.z)(e,1)}var Ci=ae(8505);function Ba(e){return(0,Oi.e)((i,t)=>{let l,o=null,s=!1;o=i.subscribe((0,Mi.x)(t,void 0,void 0,h=>{l=(0,fu.Xf)(e(h,Ba(e)(i))),o?(o.unsubscribe(),o=null,l.subscribe(t)):s=!0})),s&&(o.unsubscribe(),o=null,l.subscribe(t))})}function Ff(e,i,t,o,s){return(l,h)=>{let v=t,w=i,D=0;l.subscribe((0,Mi.x)(h,M=>{const k=D++;w=v?e(w,M,k):(v=!0,M),o&&h.next(w)},s&&(()=>{v&&h.next(w),h.complete()})))}}function pi(e,i){return(0,Oi.e)(Ff(e,i,arguments.length>=2,!0))}function Nh(e){return e<=0?()=>Gs.E:(0,Oi.e)((i,t)=>{let o=[];i.subscribe((0,Mi.x)(t,s=>{o.push(s),e<o.length&&o.shift()},()=>{for(const s of o)t.next(s);t.complete()},void 0,()=>{o=null}))})}function Op(e,i){const t=arguments.length>=2;return o=>o.pipe(e?io((s,l)=>e(s,l,o)):yl.y,Nh(1),t?is(i):Wg(()=>new Fc))}function Vc(e){return(0,Oi.e)((i,t)=>{try{i.subscribe(t)}finally{t.add(e)}})}const Gn="primary",jc=Symbol("RouteTitle");class h_{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _l(e){return new h_(e)}function Id(e,i,t){const o=t.path.split("/");if(o.length>e.length||"full"===t.pathMatch&&(i.hasChildren()||o.length<e.length))return null;const s={};for(let l=0;l<o.length;l++){const h=o[l],v=e[l];if(h.startsWith(":"))s[h.substring(1)]=v;else if(h!==v.path)return null}return{consumed:e.slice(0,o.length),posParams:s}}function Es(e,i){const t=e?Object.keys(e):void 0,o=i?Object.keys(i):void 0;if(!t||!o||t.length!=o.length)return!1;let s;for(let l=0;l<t.length;l++)if(s=t[l],!Uf(e[s],i[s]))return!1;return!0}function Uf(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;const t=[...e].sort(),o=[...i].sort();return t.every((s,l)=>o[l]===s)}return e===i}function bl(e){return Array.prototype.concat.apply([],e)}function As(e){return e.length>0?e[e.length-1]:null}function oo(e,i){for(const t in e)e.hasOwnProperty(t)&&i(e[t],t)}function wl(e){return(0,a.CqO)(e)?e:(0,a.QGY)(e)?(0,Cr.D)(Promise.resolve(e)):dn(e)}const Xv={exact:function kh(e,i,t){if(!Uu(e.segments,i.segments)||!Hc(e.segments,i.segments,t)||e.numberOfChildren!==i.numberOfChildren)return!1;for(const o in i.children)if(!e.children[o]||!kh(e.children[o],i.children[o],t))return!1;return!0},subset:os},Pd={exact:function Np(e,i){return Es(e,i)},subset:function Yg(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(t=>Uf(e[t],i[t]))},ignored:()=>!0};function Md(e,i,t){return Xv[t.paths](e.root,i.root,t.matrixParams)&&Pd[t.queryParams](e.queryParams,i.queryParams)&&!("exact"===t.fragment&&e.fragment!==i.fragment)}function os(e,i,t){return Bf(e,i,i.segments,t)}function Bf(e,i,t,o){if(e.segments.length>t.length){const s=e.segments.slice(0,t.length);return!(!Uu(s,t)||i.hasChildren()||!Hc(s,t,o))}if(e.segments.length===t.length){if(!Uu(e.segments,t)||!Hc(e.segments,t,o))return!1;for(const s in i.children)if(!e.children[s]||!os(e.children[s],i.children[s],o))return!1;return!0}{const s=t.slice(0,e.segments.length),l=t.slice(e.segments.length);return!!(Uu(e.segments,s)&&Hc(e.segments,s,o)&&e.children[Gn])&&Bf(e.children[Gn],i,l,o)}}function Hc(e,i,t){return i.every((o,s)=>Pd[t](e[s].parameters,o.parameters))}class zs{constructor(i,t,o){this.root=i,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_l(this.queryParams)),this._queryParamMap}toString(){return dc.serialize(this)}}class An{constructor(i,t){this.segments=i,this.children=t,this.parent=null,oo(t,(o,s)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gu(this)}}class yo{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_l(this.parameters)),this._parameterMap}toString(){return Hf(this)}}function Uu(e,i){return e.length===i.length&&e.every((t,o)=>t.path===i[o].path)}let pu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:function(){return new qc},providedIn:"root"}),e})();class qc{parse(i){const t=new zc(i);return new zs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${Zc(i.root,!0)}`,o=function Lh(e){const i=Object.keys(e).map(t=>{const o=e[t];return Array.isArray(o)?o.map(s=>`${Rh(t)}=${Rh(s)}`).join("&"):`${Rh(t)}=${Rh(o)}`}).filter(t=>!!t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${o}${"string"==typeof i.fragment?`#${function Fh(e){return encodeURI(e)}(i.fragment)}`:""}`}}const dc=new qc;function gu(e){return e.segments.map(i=>Hf(i)).join("/")}function Zc(e,i){if(!e.hasChildren())return gu(e);if(i){const t=e.children[Gn]?Zc(e.children[Gn],!1):"",o=[];return oo(e.children,(s,l)=>{l!==Gn&&o.push(`${l}:${Zc(s,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function cc(e,i){let t=[];return oo(e.children,(o,s)=>{s===Gn&&(t=t.concat(i(o,s)))}),oo(e.children,(o,s)=>{s!==Gn&&(t=t.concat(i(o,s)))}),t}(e,(o,s)=>s===Gn?[Zc(e.children[Gn],!1)]:[`${s}:${Zc(o,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Gn]?`${gu(e)}/${t[0]}`:`${gu(e)}/(${t.join("//")})`}}function Gc(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rh(e){return Gc(e).replace(/%3B/gi,";")}function Od(e){return Gc(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jf(e){return decodeURIComponent(e)}function $c(e){return jf(e.replace(/\+/g,"%20"))}function Hf(e){return`${Od(e.path)}${function fc(e){return Object.keys(e).map(i=>`;${Od(i)}=${Od(e[i])}`).join("")}(e.parameters)}`}const Kg=/^[^\/()?;=#]+/;function Va(e){const i=e.match(Kg);return i?i[0]:""}const Nd=/^[^=?&#]+/,Cl=/^[^&#]+/;class zc{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new An([],{}):new An([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(o[Gn]=new An(i,t)),o}parseSegment(){const i=Va(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(i),new yo(jf(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=Va(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const s=Va(this.remaining);s&&(o=s,this.capture(o))}i[jf(t)]=jf(o)}parseQueryParam(i){const t=function kp(e){const i=e.match(Nd);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const h=function va(e){const i=e.match(Cl);return i?i[0]:""}(this.remaining);h&&(o=h,this.capture(o))}const s=$c(t),l=$c(o);if(i.hasOwnProperty(s)){let h=i[s];Array.isArray(h)||(h=[h],i[s]=h),h.push(l)}else i[s]=l}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Va(this.remaining),s=this.remaining[o.length];if("/"!==s&&")"!==s&&";"!==s)throw new a.vHH(4010,!1);let l;o.indexOf(":")>-1?(l=o.slice(0,o.indexOf(":")),this.capture(l),this.capture(":")):i&&(l=Gn);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Gn]:new An([],h),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new a.vHH(4011,!1)}}function qo(e){return e.segments.length>0?new An([],{[Gn]:e}):e}function Wc(e){const i={};for(const o of Object.keys(e.children)){const l=Wc(e.children[o]);(l.segments.length>0||l.hasChildren())&&(i[o]=l)}return function ja(e){if(1===e.numberOfChildren&&e.children[Gn]){const i=e.children[Gn];return new An(e.segments.concat(i.segments),i.children)}return e}(new An(e.segments,i))}function mu(e){return e instanceof zs}function Bu(e,i,t,o,s){if(0===t.length)return Tl(i.root,i.root,i.root,o,s);const l=function Jg(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Qg(!0,0,e);let i=0,t=!1;const o=e.reduce((s,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const v={};return oo(l.outlets,(w,D)=>{v[D]="string"==typeof w?w.split("/"):w}),[...s,{outlets:v}]}if(l.segmentPath)return[...s,l.segmentPath]}return"string"!=typeof l?[...s,l]:0===h?(l.split("/").forEach((v,w)=>{0==w&&"."===v||(0==w&&""===v?t=!0:".."===v?i++:""!=v&&s.push(v))}),s):[...s,l]},[]);return new Qg(t,i,o)}(t);return l.toRoot()?Tl(i.root,i.root,new An([],{}),o,s):function h(w){const D=function Zo(e,i,t,o){if(e.isAbsolute)return new El(i.root,!0,0);if(-1===o)return new El(t,t===i.root,0);return function Al(e,i,t){let o=e,s=i,l=t;for(;l>s;){if(l-=s,o=o.parent,!o)throw new a.vHH(4005,!1);s=o.segments.length}return new El(o,!1,s-l)}(t,o+(hc(e.commands[0])?0:1),e.numberOfDoubleDots)}(l,i,e.snapshot?._urlSegment,w),M=D.processChildren?qf(D.segmentGroup,D.index,l.commands):Uh(D.segmentGroup,D.index,l.commands);return Tl(i.root,D.segmentGroup,M,o,s)}(e.snapshot?._lastPathIndex)}function hc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Yc(e){return"object"==typeof e&&null!=e&&e.outlets}function Tl(e,i,t,o,s){let h,l={};o&&oo(o,(w,D)=>{l[D]=Array.isArray(w)?w.map(M=>`${M}`):`${w}`}),h=e===i?t:Kc(e,i,t);const v=qo(Wc(h));return new zs(v,l,s)}function Kc(e,i,t){const o={};return oo(e.children,(s,l)=>{o[l]=s===i?t:Kc(s,i,t)}),new An(e.segments,o)}class Qg{constructor(i,t,o){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=o,i&&o.length>0&&hc(o[0]))throw new a.vHH(4003,!1);const s=o.find(Yc);if(s&&s!==As(o))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class El{constructor(i,t,o){this.segmentGroup=i,this.processChildren=t,this.index=o}}function Uh(e,i,t){if(e||(e=new An([],{})),0===e.segments.length&&e.hasChildren())return qf(e,i,t);const o=function Zf(e,i,t){let o=0,s=i;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(o>=t.length)return l;const h=e.segments[s],v=t[o];if(Yc(v))break;const w=`${v}`,D=o<t.length-1?t[o+1]:null;if(s>0&&void 0===w)break;if(w&&D&&"object"==typeof D&&void 0===D.outlets){if(!Ld(w,D,h))return l;o+=2}else{if(!Ld(w,{},h))return l;o++}s++}return{match:!0,pathIndex:s,commandIndex:o}}(e,i,t),s=t.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){const l=new An(e.segments.slice(0,o.pathIndex),{});return l.children[Gn]=new An(e.segments.slice(o.pathIndex),e.children),qf(l,0,s)}return o.match&&0===s.length?new An(e.segments,{}):o.match&&!e.hasChildren()?Bh(e,i,t):o.match?qf(e,0,s):Bh(e,i,t)}function qf(e,i,t){if(0===t.length)return new An(e.segments,{});{const o=function Ws(e){return Yc(e[0])?e[0].outlets:{[Gn]:e}}(t),s={};return oo(o,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(s[h]=Uh(e.children[h],i,l))}),oo(e.children,(l,h)=>{void 0===o[h]&&(s[h]=l)}),new An(e.segments,s)}}function Bh(e,i,t){const o=e.segments.slice(0,i);let s=0;for(;s<t.length;){const l=t[s];if(Yc(l)){const w=Vh(l.outlets);return new An(o,w)}if(0===s&&hc(t[0])){o.push(new yo(e.segments[i].path,ss(t[0]))),s++;continue}const h=Yc(l)?l.outlets[Gn]:`${l}`,v=s<t.length-1?t[s+1]:null;h&&v&&hc(v)?(o.push(new yo(h,ss(v))),s+=2):(o.push(new yo(h,{})),s++)}return new An(o,{})}function Vh(e){const i={};return oo(e,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(i[o]=Bh(new An([],{}),0,t))}),i}function ss(e){const i={};return oo(e,(t,o)=>i[o]=`${t}`),i}function Ld(e,i,t){return e==t.path&&Es(i,t.parameters)}class Ha{constructor(i,t){this.id=i,this.url=t}}class Gf extends Ha{constructor(i,t,o="imperative",s=null){super(i,t),this.type=0,this.navigationTrigger=o,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends Ha{constructor(i,t,o){super(i,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dl extends Ha{constructor(i,t,o,s){super(i,t),this.reason=o,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fp extends Ha{constructor(i,t,o,s){super(i,t),this.error=o,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lp extends Ha{constructor(i,t,o,s){super(i,t),this.urlAfterRedirects=o,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jh extends Ha{constructor(i,t,o,s){super(i,t),this.urlAfterRedirects=o,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sl extends Ha{constructor(i,t,o,s,l){super(i,t),this.urlAfterRedirects=o,this.state=s,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ud extends Ha{constructor(i,t,o,s){super(i,t),this.urlAfterRedirects=o,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ey extends Ha{constructor(i,t,o,s){super(i,t),this.urlAfterRedirects=o,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xg{constructor(i){this.route=i,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ys{constructor(i){this.route=i,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Up{constructor(i){this.snapshot=i,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class em{constructor(i){this.snapshot=i,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bp{constructor(i){this.snapshot=i,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hh{constructor(i){this.snapshot=i,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $f{constructor(i,t,o){this.routerEvent=i,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class tm{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=zf(i,this._root);return t?t.children.map(o=>o.value):[]}firstChild(i){const t=zf(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=qh(i,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==i)}pathFromRoot(i){return qh(i,this._root).map(t=>t.value)}}function zf(e,i){if(e===i.value)return i;for(const t of i.children){const o=zf(e,t);if(o)return o}return null}function qh(e,i){if(e===i.value)return[i];for(const t of i.children){const o=qh(e,t);if(o.length)return o.unshift(i),o}return[]}class _o{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function ju(e){const i={};return e&&e.children.forEach(t=>i[t.value.outlet]=t),i}class Bd extends tm{constructor(i,t){super(i),this.snapshot=t,jp(this,i)}toString(){return this.snapshot.toString()}}function Vd(e,i){const t=function jd(e,i){const h=new Wf([],{},{},"",{},Gn,i,null,e.root,-1,{});return new pc("",new _o(h,[]))}(e,i),o=new Oo([new yo("",{})]),s=new Oo({}),l=new Oo({}),h=new Oo({}),v=new Oo(""),w=new as(o,s,h,v,l,Gn,i,t.root);return w.snapshot=t.root,new Bd(new _o(w,[]),t)}class as{constructor(i,t,o,s,l,h,v,w){this.url=i,this.params=t,this.queryParams=o,this.fragment=s,this.data=l,this.outlet=h,this.component=v,this.title=this.data?.pipe((0,Kt.U)(D=>D[jc]))??dn(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Kt.U)(i=>_l(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Kt.U)(i=>_l(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vp(e,i="emptyOnly"){const t=e.pathFromRoot;let o=0;if("always"!==i)for(o=t.length-1;o>=1;){const s=t[o],l=t[o-1];if(s.routeConfig&&""===s.routeConfig.path)o--;else{if(l.component)break;o--}}return function nm(e){return e.reduce((i,t)=>({params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(o))}class Wf{constructor(i,t,o,s,l,h,v,w,D,M,k,H){this.url=i,this.params=t,this.queryParams=o,this.fragment=s,this.data=l,this.outlet=h,this.component=v,this.title=this.data?.[jc],this.routeConfig=w,this._urlSegment=D,this._lastPathIndex=M,this._correctedLastPathIndex=H??M,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_l(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_l(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pc extends tm{constructor(i,t){super(t),this.url=i,jp(this,t)}toString(){return rm(this._root)}}function jp(e,i){i.value._routerState=e,i.children.forEach(t=>jp(e,t))}function rm(e){const i=e.children.length>0?` { ${e.children.map(rm).join(", ")} } `:"";return`${e.value}${i}`}function Hp(e){if(e.snapshot){const i=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Es(i.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),i.fragment!==t.fragment&&e.fragment.next(t.fragment),Es(i.params,t.params)||e.params.next(t.params),function xd(e,i){if(e.length!==i.length)return!1;for(let t=0;t<e.length;++t)if(!Es(e[t],i[t]))return!1;return!0}(i.url,t.url)||e.url.next(t.url),Es(i.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function qp(e,i){const t=Es(e.params,i.params)&&function Vf(e,i){return Uu(e,i)&&e.every((t,o)=>Es(t.parameters,i[o].parameters))}(e.url,i.url);return t&&!(!e.parent!=!i.parent)&&(!e.parent||qp(e.parent,i.parent))}function _a(e,i,t){if(t&&e.shouldReuseRoute(i.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=i.value;const s=function Hd(e,i,t){return i.children.map(o=>{for(const s of t.children)if(e.shouldReuseRoute(o.value,s.value.snapshot))return _a(e,o,s);return _a(e,o)})}(e,i,t);return new _o(o,s)}{if(e.shouldAttach(i.value)){const l=e.retrieve(i.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=i.value,h.children=i.children.map(v=>_a(e,v)),h}}const o=function ny(e){return new as(new Oo(e.url),new Oo(e.params),new Oo(e.queryParams),new Oo(e.fragment),new Oo(e.data),e.outlet,e.component,e)}(i.value),s=i.children.map(l=>_a(e,l));return new _o(o,s)}}const Zp="ngNavigationCancelingError";function im(e,i){const{redirectTo:t,navigationBehaviorOptions:o}=mu(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,s=qd(!1,0,i);return s.url=t,s.navigationBehaviorOptions=o,s}function qd(e,i,t){const o=new Error("NavigationCancelingError: "+(e||""));return o[Zp]=!0,o.cancellationCode=i,t&&(o.url=t),o}function Gp(e){return gc(e)&&mu(e.url)}function gc(e){return e&&e[Zp]}class Yf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Zd,this.attachRef=null}}let Zd=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,o){const s=this.getOrCreateContext(t);s.outlet=o,this.contexts.set(t,s)}onChildOutletDestroyed(t){const o=this.getContext(t);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let o=this.getContext(t);return o||(o=new Yf,this.contexts.set(t,o)),o}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Kf=!1;let Zh=(()=>{class e{constructor(t,o,s,l,h){this.parentContexts=t,this.location=o,this.changeDetector=l,this.environmentInjector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=s||Gn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Kf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Kf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Kf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new a.vHH(4013,Kf);this._activatedRoute=t;const s=this.location,h=t._futureSnapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,w=new ry(t,v,s.injector);if(o&&function Gh(e){return!!e.resolveComponentFactory}(o)){const D=o.resolveComponentFactory(h);this.activated=s.createComponent(D,s.length,w)}else this.activated=s.createComponent(h,{index:s.length,injector:w,environmentInjector:o??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Zd),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},e.\u0275dir=a.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),e})();class ry{constructor(i,t,o){this.route=i,this.childContexts=t,this.parent=o}get(i,t){return i===as?this.route:i===Zd?this.childContexts:this.parent.get(i,t)}}let vu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,o){1&t&&a._UZ(0,"router-outlet")},dependencies:[Zh],encapsulation:2}),e})();function Gd(e,i){return e.providers&&!e._injector&&(e._injector=(0,a.MMx)(e.providers,i,`Route: ${e.path}`)),e._injector??i}function zp(e){const i=e.children&&e.children.map(zp),t=i?{...e,children:i}:{...e};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==Gn&&(t.component=vu),t}function ba(e){return e.outlet||Gn}function Wp(e,i){const t=e.filter(o=>ba(o)===i);return t.push(...e.filter(o=>ba(o)!==i)),t}function Qf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class g{constructor(i,t,o,s){this.routeReuseStrategy=i,this.futureState=t,this.currState=o,this.forwardEvent=s}activate(i){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,i),Hp(this.futureState.root),this.activateChildRoutes(t,o,i)}deactivateChildRoutes(i,t,o){const s=ju(t);i.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,s[h],o),delete s[h]}),oo(s,(l,h)=>{this.deactivateRouteAndItsChildren(l,o)})}deactivateRoutes(i,t,o){const s=i.value,l=t?t.value:null;if(s===l)if(s.component){const h=o.getContext(s.outlet);h&&this.deactivateChildRoutes(i,t,h.children)}else this.deactivateChildRoutes(i,t,o);else l&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const o=t.getContext(i.value.outlet),s=o&&i.value.component?o.children:t,l=ju(i);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],s);if(o&&o.outlet){const h=o.outlet.detach(),v=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:h,route:i,contexts:v})}}deactivateRouteAndOutlet(i,t){const o=t.getContext(i.value.outlet),s=o&&i.value.component?o.children:t,l=ju(i);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],s);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(i,t,o){const s=ju(t);i.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],o),this.forwardEvent(new Hh(l.value.snapshot))}),i.children.length&&this.forwardEvent(new em(i.value.snapshot))}activateRoutes(i,t,o){const s=i.value,l=t?t.value:null;if(Hp(s),s===l)if(s.component){const h=o.getOrCreateContext(s.outlet);this.activateChildRoutes(i,t,h.children)}else this.activateChildRoutes(i,t,o);else if(s.component){const h=o.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const v=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),h.children.onOutletReAttached(v.contexts),h.attachRef=v.componentRef,h.route=v.route.value,h.outlet&&h.outlet.attach(v.componentRef,v.route.value),Hp(v.route.value),this.activateChildRoutes(i,null,h.children)}else{const v=Qf(s.snapshot),w=v?.get(a._Vd)??null;h.attachRef=null,h.route=s,h.resolver=w,h.injector=v,h.outlet&&h.outlet.activateWith(s,h.injector),this.activateChildRoutes(i,null,h.children)}}else this.activateChildRoutes(i,null,o)}}class _{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class T{constructor(i,t){this.component=i,this.route=t}}function P(e,i,t){const o=e._root;return re(o,i?i._root:null,t,[o.value])}function q(e,i){const t=Symbol(),o=i.get(e,t);return o===t?"function"!=typeof e||(0,a.Z0I)(e)?i.get(e):e:o}function re(e,i,t,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=ju(i);return e.children.forEach(h=>{(function ie(e,i,t,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=e.value,h=i?i.value:null,v=t?t.getContext(e.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const w=function fe(e,i,t){if("function"==typeof t)return t(e,i);switch(t){case"pathParamsChange":return!Uu(e.url,i.url);case"pathParamsOrQueryParamsChange":return!Uu(e.url,i.url)||!Es(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qp(e,i)||!Es(e.queryParams,i.queryParams);default:return!qp(e,i)}}(h,l,l.routeConfig.runGuardsAndResolvers);w?s.canActivateChecks.push(new _(o)):(l.data=h.data,l._resolvedData=h._resolvedData),re(e,i,l.component?v?v.children:null:t,o,s),w&&v&&v.outlet&&v.outlet.isActivated&&s.canDeactivateChecks.push(new T(v.outlet.component,h))}else h&&_e(i,v,s),s.canActivateChecks.push(new _(o)),re(e,null,l.component?v?v.children:null:t,o,s)})(h,l[h.value.outlet],t,o.concat([h.value]),s),delete l[h.value.outlet]}),oo(l,(h,v)=>_e(h,t.getContext(v),s)),s}function _e(e,i,t){const o=ju(e),s=e.value;oo(o,(l,h)=>{_e(l,s.component?i?i.children.getContext(h):null:i,t)}),t.canDeactivateChecks.push(new T(s.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,s))}function Be(e){return"function"==typeof e}function qu(e){return e instanceof Fc||"EmptyError"===e?.name}const Il=Symbol("INITIAL_VALUE");function Zu(){return Ui(e=>La(e.map(i=>i.pipe(Ua(1),Sd(Il)))).pipe((0,Kt.U)(i=>{for(const t of i)if(!0!==t){if(t===Il)return Il;if(!1===t||t instanceof zs)return t}return!0}),io(i=>i!==Il),Ua(1)))}function Kp(e){return(0,Oh.z)((0,Ci.b)(i=>{if(mu(i))throw im(0,i)}),(0,Kt.U)(i=>!0===i))}const yu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jf(e,i,t,o,s){const l=Wh(e,i,t);return l.matched?function zh(e,i,t,o){const s=i.canMatch;return s&&0!==s.length?dn(s.map(h=>{const v=q(h,e);return wl(function cr(e){return e&&Be(e.canMatch)}(v)?v.canMatch(i,t):e.runInContext(()=>v(i,t)))})).pipe(Zu(),Kp()):dn(!0)}(o=Gd(i,o),i,t).pipe((0,Kt.U)(h=>!0===h?l:{...yu})):dn(l)}function Wh(e,i,t){if(""===i.path)return"full"===i.pathMatch&&(e.hasChildren()||t.length>0)?{...yu}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(i.matcher||Id)(t,e,i);if(!s)return{...yu};const l={};oo(s.posParams,(v,w)=>{l[w]=v.path});const h=s.consumed.length>0?{...l,...s.consumed[s.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:s.posParams??{}}}function $d(e,i,t,o,s="corrected"){if(t.length>0&&function Qp(e,i,t){return t.some(o=>zd(e,i,o)&&ba(o)!==Gn)}(e,t,o)){const h=new An(i,function um(e,i,t,o){const s={};s[Gn]=o,o._sourceSegment=e,o._segmentIndexShift=i.length;for(const l of t)if(""===l.path&&ba(l)!==Gn){const h=new An([],{});h._sourceSegment=e,h._segmentIndexShift=i.length,s[ba(l)]=h}return s}(e,i,o,new An(t,e.children)));return h._sourceSegment=e,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function xl(e,i,t){return t.some(o=>zd(e,i,o))}(e,t,o)){const h=new An(e.segments,function Ew(e,i,t,o,s,l){const h={};for(const v of o)if(zd(e,t,v)&&!s[ba(v)]){const w=new An([],{});w._sourceSegment=e,w._segmentIndexShift="legacy"===l?e.segments.length:i.length,h[ba(v)]=w}return{...s,...h}}(e,i,t,o,e.children,s));return h._sourceSegment=e,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:t}}const l=new An(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=i.length,{segmentGroup:l,slicedSegments:t}}function zd(e,i,t){return(!(e.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}function Jp(e,i,t,o){return!!(ba(e)===o||o!==Gn&&zd(i,t,e))&&("**"===e.path||Wh(i,e,t).matched)}function g_(e,i,t){return 0===i.length&&!e.children[t]}const Yh=!1;class Xf{constructor(i){this.segmentGroup=i||null}}class Wd{constructor(i){this.urlTree=i}}function Xp(e){return vo(new Xf(e))}function m_(e){return vo(new Wd(e))}class Dw{constructor(i,t,o,s,l){this.injector=i,this.configLoader=t,this.urlSerializer=o,this.urlTree=s,this.config=l,this.allowRedirects=!0}apply(){const i=$d(this.urlTree.root,[],[],this.config).segmentGroup,t=new An(i.segments,i.children);return this.expandSegmentGroup(this.injector,this.config,t,Gn).pipe((0,Kt.U)(l=>this.createUrlTree(Wc(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ba(l=>{if(l instanceof Wd)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Xf?this.noMatchError(l):l}))}match(i){return this.expandSegmentGroup(this.injector,this.config,i.root,Gn).pipe((0,Kt.U)(s=>this.createUrlTree(Wc(s),i.queryParams,i.fragment))).pipe(Ba(s=>{throw s instanceof Xf?this.noMatchError(s):s}))}noMatchError(i){return new a.vHH(4002,Yh)}createUrlTree(i,t,o){const s=qo(i);return new zs(s,t,o)}expandSegmentGroup(i,t,o,s){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(i,t,o).pipe((0,Kt.U)(l=>new An([],l))):this.expandSegment(i,o,t,o.segments,s,!0)}expandChildren(i,t,o){const s=[];for(const l of Object.keys(o.children))"primary"===l?s.unshift(l):s.push(l);return(0,Cr.D)(s).pipe(Lu(l=>{const h=o.children[l],v=Wp(t,l);return this.expandSegmentGroup(i,v,h,l).pipe((0,Kt.U)(w=>({segment:w,outlet:l})))}),pi((l,h)=>(l[h.outlet]=h.segment,l),{}),Op())}expandSegment(i,t,o,s,l,h){return(0,Cr.D)(o).pipe(Lu(v=>this.expandSegmentAgainstRoute(i,t,o,v,s,l,h).pipe(Ba(D=>{if(D instanceof Xf)return dn(null);throw D}))),hu(v=>!!v),Ba((v,w)=>{if(qu(v))return g_(t,s,l)?dn(new An([],{})):Xp(t);throw v}))}expandSegmentAgainstRoute(i,t,o,s,l,h,v){return Jp(s,t,l,h)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(i,t,s,l,h):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,t,o,s,l,h):Xp(t):Xp(t)}expandSegmentAgainstRouteUsingRedirect(i,t,o,s,l,h){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,o,s,h):this.expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,s,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,t,o,s){const l=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?m_(l):this.lineralizeSegments(o,l).pipe((0,si.z)(h=>{const v=new An(h,{});return this.expandSegment(i,v,t,h,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,s,l,h){const{matched:v,consumedSegments:w,remainingSegments:D,positionalParamSegments:M}=Wh(t,s,l);if(!v)return Xp(t);const k=this.applyRedirectCommands(w,s.redirectTo,M);return s.redirectTo.startsWith("/")?m_(k):this.lineralizeSegments(s,k).pipe((0,si.z)(H=>this.expandSegment(i,t,o,H.concat(D),h,!1)))}matchSegmentAgainstRoute(i,t,o,s,l){return"**"===o.path?(i=Gd(o,i),o.loadChildren?(o._loadedRoutes?dn({routes:o._loadedRoutes,injector:o._loadedInjector}):this.configLoader.loadChildren(i,o)).pipe((0,Kt.U)(v=>(o._loadedRoutes=v.routes,o._loadedInjector=v.injector,new An(s,{})))):dn(new An(s,{}))):Jf(t,o,s,i).pipe(Ui(({matched:h,consumedSegments:v,remainingSegments:w})=>h?this.getChildConfig(i=o._injector??i,o,s).pipe((0,si.z)(M=>{const k=M.injector??i,H=M.routes,{segmentGroup:J,slicedSegments:X}=$d(t,v,w,H),ue=new An(J.segments,J.children);if(0===X.length&&ue.hasChildren())return this.expandChildren(k,H,ue).pipe((0,Kt.U)(et=>new An(v,et)));if(0===H.length&&0===X.length)return dn(new An(v,{}));const ve=ba(o)===l;return this.expandSegment(k,ue,H,X,ve?Gn:l,!0).pipe((0,Kt.U)(Ue=>new An(v.concat(Ue.segments),Ue.children)))})):Xp(t)))}getChildConfig(i,t,o){return t.children?dn({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?dn({routes:t._loadedRoutes,injector:t._loadedInjector}):function $h(e,i,t,o){const s=i.canLoad;return void 0===s||0===s.length?dn(!0):dn(s.map(h=>{const v=q(h,e);return wl(function wt(e){return e&&Be(e.canLoad)}(v)?v.canLoad(i,t):e.runInContext(()=>v(i,t)))})).pipe(Zu(),Kp())}(i,t,o).pipe((0,si.z)(s=>s?this.configLoader.loadChildren(i,t).pipe((0,Ci.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function Aw(e){return vo(qd(Yh,3))}())):dn({routes:[],injector:i})}lineralizeSegments(i,t){let o=[],s=t.root;for(;;){if(o=o.concat(s.segments),0===s.numberOfChildren)return dn(o);if(s.numberOfChildren>1||!s.children[Gn])return vo(new a.vHH(4e3,Yh));s=s.children[Gn]}}applyRedirectCommands(i,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,o)}applyRedirectCreateUrlTree(i,t,o,s){const l=this.createSegmentGroup(i,t.root,o,s);return new zs(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const o={};return oo(i,(s,l)=>{if("string"==typeof s&&s.startsWith(":")){const v=s.substring(1);o[l]=t[v]}else o[l]=s}),o}createSegmentGroup(i,t,o,s){const l=this.createSegments(i,t.segments,o,s);let h={};return oo(t.children,(v,w)=>{h[w]=this.createSegmentGroup(i,v,o,s)}),new An(l,h)}createSegments(i,t,o,s){return t.map(l=>l.path.startsWith(":")?this.findPosParam(i,l,s):this.findOrReturn(l,o))}findPosParam(i,t,o){const s=o[t.path.substring(1)];if(!s)throw new a.vHH(4001,Yh);return s}findOrReturn(i,t){let o=0;for(const s of t){if(s.path===i.path)return t.splice(o),s;o++}return i}}class y_{}class Xc{constructor(i,t,o,s,l,h,v,w){this.injector=i,this.rootComponentType=t,this.config=o,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=v,this.urlSerializer=w}recognize(){const i=$d(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,i,Gn).pipe((0,Kt.U)(t=>{if(null===t)return null;const o=new Wf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gn,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new _o(o,t),l=new pc(this.url,s);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(i){const t=i.value,o=Vp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),i.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(i,t,o,s){return 0===o.segments.length&&o.hasChildren()?this.processChildren(i,t,o):this.processSegment(i,t,o,o.segments,s)}processChildren(i,t,o){return(0,Cr.D)(Object.keys(o.children)).pipe(Lu(s=>{const l=o.children[s],h=Wp(t,s);return this.processSegmentGroup(i,h,l,s)}),pi((s,l)=>s&&l?(s.push(...l),s):null),function Lf(e,i=!1){return(0,Oi.e)((t,o)=>{let s=0;t.subscribe((0,Mi.x)(o,l=>{const h=e(l,s++);(h||i)&&o.next(l),!h&&o.complete()}))})}(s=>null!==s),is(null),Op(),(0,Kt.U)(s=>{if(null===s)return null;const l=th(s);return function eh(e){e.sort((i,t)=>i.value.outlet===Gn?-1:t.value.outlet===Gn?1:i.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(i,t,o,s,l){return(0,Cr.D)(t).pipe(Lu(h=>this.processSegmentAgainstRoute(h._injector??i,h,o,s,l)),hu(h=>!!h),Ba(h=>{if(qu(h))return g_(o,s,l)?dn([]):dn(null);throw h}))}processSegmentAgainstRoute(i,t,o,s,l){if(t.redirectTo||!Jp(t,o,s,l))return dn(null);let h;if("**"===t.path){const v=s.length>0?As(s).parameters:{},w=__(o)+s.length;h=dn({snapshot:new Wf(s,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,b_(t),ba(t),t.component??t._loadedComponent??null,t,tg(o),w,py(t),w),consumedSegments:[],remainingSegments:[]})}else h=Jf(o,t,s,i).pipe((0,Kt.U)(({matched:v,consumedSegments:w,remainingSegments:D,parameters:M})=>{if(!v)return null;const k=__(o)+w.length;return{snapshot:new Wf(w,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,b_(t),ba(t),t.component??t._loadedComponent??null,t,tg(o),k,py(t),k),consumedSegments:w,remainingSegments:D}}));return h.pipe(Ui(v=>{if(null===v)return dn(null);const{snapshot:w,consumedSegments:D,remainingSegments:M}=v;i=t._injector??i;const k=t._loadedInjector??i,H=function Pl(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(t),{segmentGroup:J,slicedSegments:X}=$d(o,D,M,H.filter(ve=>void 0===ve.redirectTo),this.relativeLinkResolution);if(0===X.length&&J.hasChildren())return this.processChildren(k,H,J).pipe((0,Kt.U)(ve=>null===ve?null:[new _o(w,ve)]));if(0===H.length&&0===X.length)return dn([new _o(w,[])]);const ue=ba(t)===l;return this.processSegment(k,H,J,X,ue?Gn:l).pipe((0,Kt.U)(ve=>null===ve?null:[new _o(w,ve)]))}))}}function eg(e){const i=e.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function th(e){const i=[],t=new Set;for(const o of e){if(!eg(o)){i.push(o);continue}const s=i.find(l=>o.value.routeConfig===l.value.routeConfig);void 0!==s?(s.children.push(...o.children),t.add(s)):i.push(o)}for(const o of t){const s=th(o.children);i.push(new _o(o.value,s))}return i.filter(o=>!t.has(o))}function tg(e){let i=e;for(;i._sourceSegment;)i=i._sourceSegment;return i}function __(e){let i=e,t=i._segmentIndexShift??0;for(;i._sourceSegment;)i=i._sourceSegment,t+=i._segmentIndexShift??0;return t-1}function b_(e){return e.data||{}}function py(e){return e.resolve||{}}function cm(e){return"string"==typeof e.title||null===e.title}function dm(e){return Ui(i=>{const t=e(i);return t?(0,Cr.D)(t).pipe((0,Kt.U)(()=>i)):dn(i)})}let fm=(()=>{class e{buildTitle(t){let o,s=t.root;for(;void 0!==s;)o=this.getResolvedTitleForRoute(s)??o,s=s.children.find(l=>l.outlet===Gn);return o}getResolvedTitleForRoute(t){return t.data[jc]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:function(){return(0,a.f3M)(hm)},providedIn:"root"}),e})(),hm=(()=>{class e extends fm{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(zv))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class T_{}class nh extends class xw{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}{}const pm=new a.OlP("",{providedIn:"root",factory:()=>({})}),A_=new a.OlP("ROUTES");let my=(()=>{class e{constructor(t,o){this.injector=t,this.compiler=o,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return dn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=wl(t.loadComponent()).pipe((0,Ci.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),Vc(()=>{this.componentLoaders.delete(t)})),s=new Fu(o,()=>new zr.x).pipe(Rf());return this.componentLoaders.set(t,s),s}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return dn({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const l=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe((0,Kt.U)(v=>{this.onLoadEndListener&&this.onLoadEndListener(o);let w,D,M=!1;Array.isArray(v)?D=v:(w=v.create(t).injector,D=bl(w.get(A_,[],a.XFs.Self|a.XFs.Optional)));return{routes:D.map(zp),injector:w}}),Vc(()=>{this.childrenLoaders.delete(o)})),h=new Fu(l,()=>new zr.x).pipe(Rf());return this.childrenLoaders.set(o,h),h}loadModuleFactoryOrRoutes(t){return wl(t()).pipe((0,si.z)(o=>o instanceof a.YKP||Array.isArray(o)?dn(o):(0,Cr.D)(this.compiler.compileModuleAsync(o))))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(a.zs3),a.LFG(a.Sil))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class vy{}class D_{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,t){return i}}function RT(e){throw e}function gm(e,i,t){return i.parse("/")}const Pw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function rg(){const e=(0,a.f3M)(pu),i=(0,a.f3M)(Zd),t=(0,a.f3M)(Tt),o=(0,a.f3M)(a.zs3),s=(0,a.f3M)(a.Sil),l=(0,a.f3M)(A_,{optional:!0})??[],h=(0,a.f3M)(pm,{optional:!0})??{},v=(0,a.f3M)(hm),w=(0,a.f3M)(fm,{optional:!0}),D=(0,a.f3M)(vy,{optional:!0}),M=(0,a.f3M)(T_,{optional:!0}),k=new _r(null,e,i,t,o,s,bl(l));return D&&(k.urlHandlingStrategy=D),M&&(k.routeReuseStrategy=M),k.titleStrategy=w??v,function Mw(e,i){e.errorHandler&&(i.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(i.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(i.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(i.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(i.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(i.canceledNavigationResolution=e.canceledNavigationResolution)}(h,k),k}let _r=(()=>{class e{constructor(t,o,s,l,h,v,w){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=s,this.location=l,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zr.x,this.errorHandler=RT,this.malformedUriErrorHandler=gm,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>dn(void 0),this.urlHandlingStrategy=new D_,this.routeReuseStrategy=new nh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=h.get(my),this.configLoader.onLoadEndListener=H=>this.triggerEvent(new Ys(H)),this.configLoader.onLoadStartListener=H=>this.triggerEvent(new Xg(H)),this.ngModule=h.get(a.h0i),this.console=h.get(a.c2e);const k=h.get(a.R0b);this.isNgZoneEnabled=k instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function lc(){return new zs(new An([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vd(this.currentUrlTree,this.rootComponentType),this.transitions=new Oo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(io(s=>0!==s.id),(0,Kt.U)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ui(s=>{let l=!1,h=!1;return dn(s).pipe((0,Ci.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ui(v=>{const w=this.browserUrlTree.toString(),D=!this.navigated||v.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return vm(v.source)&&(this.browserUrlTree=v.extractedUrl),dn(v).pipe(Ui(k=>{const H=this.transitions.getValue();return o.next(new Gf(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),H!==this.transitions.getValue()?Gs.E:Promise.resolve(k)}),function v_(e,i,t,o){return Ui(s=>function fy(e,i,t,o,s){return new Dw(e,i,t,o,s).apply()}(e,i,t,s.extractedUrl,o).pipe((0,Kt.U)(l=>({...s,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ci.b)(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},s.urlAfterRedirects=k.urlAfterRedirects}),function w_(e,i,t,o,s,l){return(0,si.z)(h=>function hy(e,i,t,o,s,l,h="emptyOnly",v="legacy"){return new Xc(e,i,t,o,s,h,v,l).recognize().pipe(Ui(w=>null===w?function Sw(e){return new Cs.y(i=>i.error(e))}(new y_):dn(w)))}(e,i,t,h.urlAfterRedirects,o.serialize(h.urlAfterRedirects),o,s,l).pipe((0,Kt.U)(v=>({...h,targetSnapshot:v}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ci.b)(k=>{if(s.targetSnapshot=k.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(J,k)}this.browserUrlTree=k.urlAfterRedirects}const H=new Lp(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);o.next(H)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:J,source:X,restoredState:ue,extras:ve}=v,Ne=new Gf(H,this.serializeUrl(J),X,ue);o.next(Ne);const Ue=Vd(J,this.rootComponentType).snapshot;return dn(s={...v,targetSnapshot:Ue,urlAfterRedirects:J,extras:{...ve,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=v.rawUrl,v.resolve(null),Gs.E}),(0,Ci.b)(v=>{const w=new jh(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),(0,Kt.U)(v=>s={...v,guards:P(v.targetSnapshot,v.currentSnapshot,this.rootContexts)}),function Yp(e,i){return(0,si.z)(t=>{const{targetSnapshot:o,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?dn({...t,guardsResult:!0}):function sy(e,i,t,o){return(0,Cr.D)(e).pipe((0,si.z)(s=>function cy(e,i,t,o,s){const l=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return l&&0!==l.length?dn(l.map(v=>{const w=Qf(i)??s,D=q(v,w);return wl(function In(e){return e&&Be(e.canDeactivate)}(D)?D.canDeactivate(e,i,t,o):w.runInContext(()=>D(e,i,t,o))).pipe(hu())})).pipe(Zu()):dn(!0)}(s.component,s.route,t,i,o)),hu(s=>!0!==s,!0))}(h,o,s,e).pipe((0,si.z)(v=>v&&function dt(e){return"boolean"==typeof e}(v)?function ay(e,i,t,o){return(0,Cr.D)(i).pipe(Lu(s=>ku(function am(e,i){return null!==e&&i&&i(new Up(e)),dn(!0)}(s.route.parent,o),function uy(e,i){return null!==e&&i&&i(new Bp(e)),dn(!0)}(s.route,o),function Tw(e,i,t){const o=i[i.length-1],l=i.slice(0,i.length-1).reverse().map(h=>function L(e){const i=e.routeConfig?e.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:e,guards:i}:null}(h)).filter(h=>null!==h).map(h=>Zs(()=>dn(h.guards.map(w=>{const D=Qf(h.node)??t,M=q(w,D);return wl(function $n(e){return e&&Be(e.canActivateChild)}(M)?M.canActivateChild(o,e):D.runInContext(()=>M(o,e))).pipe(hu())})).pipe(Zu())));return dn(l).pipe(Zu())}(e,s.path,t),function ly(e,i,t){const o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||0===o.length)return dn(!0);const s=o.map(l=>Zs(()=>{const h=Qf(i)??t,v=q(l,h);return wl(function Bt(e){return e&&Be(e.canActivate)}(v)?v.canActivate(i,e):h.runInContext(()=>v(i,e))).pipe(hu())}));return dn(s).pipe(Zu())}(e,s.route,t))),hu(s=>!0!==s,!0))}(o,l,e,i):dn(v)),(0,Kt.U)(v=>({...t,guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,Ci.b)(v=>{if(s.guardsResult=v.guardsResult,mu(v.guardsResult))throw im(0,v.guardsResult);const w=new Sl(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(w)}),io(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",3),!1)),dm(v=>{if(v.guards.canActivateChecks.length)return dn(v).pipe((0,Ci.b)(w=>{const D=new Ud(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}),Ui(w=>{let D=!1;return dn(w).pipe(function Kh(e,i){return(0,si.z)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:s}}=t;if(!s.length)return dn(t);let l=0;return(0,Cr.D)(s).pipe(Lu(h=>function Qh(e,i,t,o){const s=e.routeConfig,l=e._resolve;return void 0!==s?.title&&!cm(s)&&(l[jc]=s.title),function C_(e,i,t,o){const s=function gy(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===s.length)return dn({});const l={};return(0,Cr.D)(s).pipe((0,si.z)(h=>function Jh(e,i,t,o){const s=Qf(i)??o,l=q(e,s);return wl(l.resolve?l.resolve(i,t):s.runInContext(()=>l(i,t)))}(e[h],i,t,o).pipe(hu(),(0,Ci.b)(v=>{l[h]=v}))),Nh(1),function ma(e){return(0,Kt.U)(()=>e)}(l),Ba(h=>qu(h)?Gs.E:vo(h)))}(l,e,i,o).pipe((0,Kt.U)(h=>(e._resolvedData=h,e.data=Vp(e,t).resolve,s&&cm(s)&&(e.data[jc]=s.title),null)))}(h.route,o,e,i)),(0,Ci.b)(()=>l++),Nh(1),(0,si.z)(h=>l===s.length?dn(t):Gs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ci.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),(0,Ci.b)(w=>{const D=new ey(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}))}),dm(v=>{const w=D=>{const M=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,Ci.b)(k=>{D.component=k}),(0,Kt.U)(()=>{})));for(const k of D.children)M.push(...w(k));return M};return La(w(v.targetSnapshot.root)).pipe(is(),Ua(1))}),dm(()=>this.afterPreactivation()),(0,Kt.U)(v=>{const w=function ty(e,i,t){const o=_a(e,i._root,t?t._root:void 0);return new Bd(o,i)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return s={...v,targetRouterState:w}}),(0,Ci.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((e,i,t)=>(0,Kt.U)(o=>(new g(i,o.targetRouterState,o.currentRouterState,t).activate(e),o)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,Ci.b)({next(){l=!0},complete(){l=!0}}),Vc(()=>{l||h||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ba(v=>{if(h=!0,gc(v)){Gp(v)||(this.navigated=!0,this.restoreHistory(s,!0));const w=new Dl(s.id,this.serializeUrl(s.extractedUrl),v.message,v.cancellationCode);if(o.next(w),Gp(v)){const D=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),M={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vm(s.source)};this.scheduleNavigation(D,"imperative",null,M,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{this.restoreHistory(s,!0);const w=new Fp(s.id,this.serializeUrl(s.extractedUrl),v,s.targetSnapshot??void 0);o.next(w);try{s.resolve(this.errorHandler(v))}catch(D){s.reject(D)}}return Gs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{const s={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const v={...l};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(s.state=v)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,o,l,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(zp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:s,queryParams:l,fragment:h,queryParamsHandling:v,preserveFragment:w}=o,D=s||this.routerState.root,M=w?this.currentUrlTree.fragment:h;let k=null;switch(v){case"merge":k={...this.currentUrlTree.queryParams,...l};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=l||null}return null!==k&&(k=this.removeEmptyProps(k)),Bu(D,this.currentUrlTree,t,k,M??null)}navigateByUrl(t,o={skipLocationChange:!1}){const s=mu(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function S_(e){for(let i=0;i<e.length;i++){if(null==e[i])throw new a.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(s){o=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return o}isActive(t,o){let s;if(s=!0===o?{...Pw}:!1===o?{...mm}:o,mu(t))return Md(this.currentUrlTree,t,s);const l=this.parseUrl(t);return Md(this.currentUrlTree,l,s)}removeEmptyProps(t){return Object.keys(t).reduce((o,s)=>{const l=t[s];return null!=l&&(o[s]=l),o},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Vu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,s,l,h){if(this.disposed)return Promise.resolve(!1);let v,w,D;h?(v=h.resolve,w=h.reject,D=h.promise):D=new Promise((H,J)=>{v=H,w=J});const M=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),k=s&&s.\u0275routerPageId?s.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):k=0,this.setTransition({id:M,targetPageId:k,source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:v,reject:w,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(H=>Promise.reject(H))}setBrowserUrl(t,o){const s=this.urlSerializer.serialize(t),l={...o.extras.state,...this.generateNgRouterState(o.id,o.targetPageId)};this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl?this.location.replaceState(s,"",l):this.location.go(s,"",l)}restoreHistory(t,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===s?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o,s){const l=new Dl(t.id,this.serializeUrl(t.extractedUrl),o,s);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return e.\u0275fac=function(t){a.$Z()},e.\u0275prov=a.Yz7({token:e,factory:function(){return rg()},providedIn:"root"}),e})();function vm(e){return"imperative"!==e}let rh=(()=>{class e{constructor(t,o,s,l,h){this.router=t,this.route=o,this.tabIndexAttribute=s,this.renderer=l,this.el=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new zr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const o=this.renderer,s=this.el.nativeElement;null!==t?o.setAttribute(s,"tabindex",t):o.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(_r),a.Y36(as),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},e.\u0275dir=a.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,o){1&t&&a.NdJ("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),e})(),No=(()=>{class e{constructor(t,o,s){this.router=t,this.route=o,this.locationStrategy=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new zr.x,this.subscription=t.events.subscribe(l=>{l instanceof Vu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,o,s,l,h){return!!(0!==t||o||s||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(_r),a.Y36(as),a.Y36(ut))},e.\u0275dir=a.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,o){1&t&&a.NdJ("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&a.uIk("target",o.target)("href",o.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),e})();class ym{}let x_=(()=>{class e{constructor(t,o,s,l,h){this.router=t,this.injector=s,this.preloadingStrategy=l,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(io(t=>t instanceof Vu),Lu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const s=[];for(const l of o){l.providers&&!l._injector&&(l._injector=(0,a.MMx)(l.providers,t,`Route: ${l.path}`));const h=l._injector??t,v=l._loadedInjector??h;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?s.push(this.preloadConfig(h,l)):(l.children||l._loadedRoutes)&&s.push(this.processRoutes(v,l.children??l._loadedRoutes))}return(0,Cr.D)(s).pipe((0,rs.J)())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let s;s=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):dn(null);const l=s.pipe((0,si.z)(h=>null===h?dn(void 0):(o._loadedRoutes=h.routes,o._loadedInjector=h.injector,this.processRoutes(h.injector??t,h.routes))));if(o.loadComponent&&!o._loadedComponent){const h=this.loader.loadComponent(o);return(0,Cr.D)([l,h]).pipe((0,rs.J)())}return l})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(_r),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(ym),a.LFG(my))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Xn=new a.OlP("");let _m=(()=>{class e{constructor(t,o,s={}){this.router=t,this.viewportScroller=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $f&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new $f(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){a.$Z()},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();function ed(e,i){return{\u0275kind:e,\u0275providers:i}}function wm(e){return[{provide:A_,multi:!0,useValue:e}]}function Cm(){const e=(0,a.f3M)(a.zs3);return i=>{const t=e.get(a.z2F);if(i!==t.components[0])return;const o=e.get(_r),s=e.get(Yd);1===e.get(_y)&&o.initialNavigation(),e.get(mc,null,a.XFs.Optional)?.setUpPreloading(),e.get(Xn,null,a.XFs.Optional)?.init(),o.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.unsubscribe())}}const Yd=new a.OlP("",{factory:()=>new zr.x}),_y=new a.OlP("",{providedIn:"root",factory:()=>1});const mc=new a.OlP("");function wy(e){return ed(0,[{provide:mc,useExisting:x_},{provide:ym,useExisting:e}])}const O_=new a.OlP("ROUTER_FORROOT_GUARD"),N_=[Tt,{provide:pu,useClass:qc},{provide:_r,useFactory:rg},Zd,{provide:as,useFactory:function yy(e){return e.routerState.root},deps:[_r]},my];function Lw(){return new a.PXZ("Router",_r)}let Cy=(()=>{class e{constructor(t){}static forRoot(t,o){return{ngModule:e,providers:[N_,[],wm(t),{provide:O_,useFactory:oh,deps:[[_r,new a.FiY,new a.tp0]]},{provide:pm,useValue:o||{}},o?.useHash?{provide:ut,useClass:Dn}:{provide:ut,useClass:bn},{provide:Xn,useFactory:()=>{const e=(0,a.f3M)(_r),i=(0,a.f3M)(Cf),t=(0,a.f3M)(pm);return t.scrollOffset&&i.setOffset(t.scrollOffset),new _m(e,i,t)}},o?.preloadingStrategy?wy(o.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Lw},o?.initialNavigation?Xh(o):[],[{provide:ig,useFactory:Cm},{provide:a.tb,multi:!0,useExisting:ig}]]}}static forChild(t){return{ngModule:e,providers:[wm(t)]}}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(O_,8))},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[vu]}),e})();function oh(e){return"guarded"}function Xh(e){return["disabled"===e.initialNavigation?ed(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const i=(0,a.f3M)(_r);return()=>{i.setUpLocationChangeListener()}}},{provide:_y,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ed(2,[{provide:_y,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:i=>{const t=i.get(oe,Promise.resolve());let o=!1;return()=>t.then(()=>new Promise(l=>{const h=i.get(_r),v=i.get(Yd);(function s(l){i.get(_r).events.pipe(io(v=>v instanceof Vu||v instanceof Dl||v instanceof Fp),(0,Kt.U)(v=>v instanceof Vu||v instanceof Dl&&(0===v.code||1===v.code)&&null),io(v=>null!==v),Ua(1)).subscribe(()=>{l()})})(()=>{l(!0),o=!0}),h.afterPreactivation=()=>(l(!0),o||v.closed?dn(void 0):v),h.initialNavigation()}))}}]).\u0275providers:[]]}const ig=new a.OlP("");class Em{}class Am{constructor(){this.mount=0,this.price=0}}class Ay{constructor(i){this.file=i}}let Sy=(()=>{class e{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Qsj),a.Y36(a.SBq))},e.\u0275dir=a.lG2({type:e}),e})(),Qd=(()=>{class e extends Sy{}return e.\u0275fac=function(){let i;return function(o){return(i||(i=a.n5z(e)))(o||e)}}(),e.\u0275dir=a.lG2({type:e,features:[a.qOj]}),e})();const _u=new a.OlP("NgValueAccessor"),R_={provide:_u,useExisting:(0,a.Gpc)(()=>ko),multi:!0},$u=new a.OlP("CompositionEventMode");let ko=(()=>{class e extends Sy{constructor(t,o,s){super(t,o),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Iy(){const e=Y()?Y().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36($u,8))},e.\u0275dir=a.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&a.NdJ("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[a._Bn([R_]),a.qOj]}),e})();function td(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function Ml(e){return null!=e&&"number"==typeof e.length}const zo=new a.OlP("NgValidators"),Ol=new a.OlP("NgAsyncValidators"),Dm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jt{static min(i){return function og(e){return i=>{if(td(i.value)||td(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t<e?{min:{min:e,actual:i.value}}:null}}(i)}static max(i){return function Sm(e){return i=>{if(td(i.value)||td(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t>e?{max:{max:e,actual:i.value}}:null}}(i)}static required(i){return Im(i)}static requiredTrue(i){return function Ks(e){return!0===e.value?null:{required:!0}}(i)}static email(i){return function Jd(e){return td(e.value)||Dm.test(e.value)?null:{email:!0}}(i)}static minLength(i){return xm(i)}static maxLength(i){return function sg(e){return i=>Ml(i.value)&&i.value.length>e?{maxlength:{requiredLength:e,actualLength:i.value.length}}:null}(i)}static pattern(i){return function Py(e){if(!e)return sh;let i,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),i=new RegExp(t)):(t=e.toString(),i=e),o=>{if(td(o.value))return null;const s=o.value;return i.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(i)}static nullValidator(i){return null}static compose(i){return Bw(i)}static composeAsync(i){return ug(i)}}function Im(e){return td(e.value)?{required:!0}:null}function xm(e){return i=>td(i.value)||!Ml(i.value)?null:i.value.length<e?{minlength:{requiredLength:e,actualLength:i.value.length}}:null}function sh(e){return null}function My(e){return null!=e}function tp(e){return(0,a.QGY)(e)?(0,Cr.D)(e):e}function zu(e){let i={};return e.forEach(t=>{i=null!=t?{...i,...t}:i}),0===Object.keys(i).length?null:i}function ah(e,i){return i.map(t=>t(e))}function bu(e){return e.map(i=>function ag(e){return!e.validate}(i)?i:t=>i.validate(t))}function Bw(e){if(!e)return null;const i=e.filter(My);return 0==i.length?null:function(t){return zu(ah(t,i))}}function Oy(e){return null!=e?Bw(bu(e)):null}function ug(e){if(!e)return null;const i=e.filter(My);return 0==i.length?null:function(t){return function Dy(...e){const i=(0,cu.jO)(e),{args:t,keys:o}=xh(e),s=new Cs.y(l=>{const{length:h}=t;if(!h)return void l.complete();const v=new Array(h);let w=h,D=h;for(let M=0;M<h;M++){let k=!1;(0,fu.Xf)(t[M]).subscribe((0,Mi.x)(l,H=>{k||(k=!0,D--),v[M]=H},()=>w--,void 0,()=>{(!w||!k)&&(D||l.next(o?Mp(o,v):v),l.complete())}))}});return i?s.pipe(Mh(i)):s}(ah(t,i).map(tp)).pipe((0,Kt.U)(zu))}}function uh(e){return null!=e?ug(bu(e)):null}function Ny(e,i){return null===e?[i]:Array.isArray(e)?[...e,i]:[e,i]}function Pm(e){return e._rawValidators}function F_(e){return e._rawAsyncValidators}function Mm(e){return e?Array.isArray(e)?e:[e]:[]}function Ro(e,i){return Array.isArray(e)?e.includes(i):e===i}function ky(e,i){const t=Mm(i);return Mm(e).forEach(s=>{Ro(t,s)||t.push(s)}),t}function Om(e,i){return Mm(i).filter(t=>!Ro(e,t))}class L_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Oy(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=uh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class Ds extends L_{get formDirective(){return null}get path(){return null}}class lh extends L_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ry{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qs=(()=>{class e extends Ry{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(lh,2))},e.\u0275dir=a.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&a.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[a.qOj]}),e})(),wa=(()=>{class e extends Ry{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Ds,10))},e.\u0275dir=a.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&a.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[a.qOj]}),e})();const vc="VALID",ch="INVALID",Nl="PENDING",dh="DISABLED";function qa(e){return(id(e)?e.validators:e)||null}function ai(e){return Array.isArray(e)?Oy(e):e||null}function or(e,i){return(id(i)?i.asyncValidators:e)||null}function rp(e){return Array.isArray(e)?uh(e):e||null}function id(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function Nm(e,i,t){const o=e.controls;if(!(i?Object.keys(o):o).length)throw new a.vHH(1e3,"");if(!o[t])throw new a.vHH(1001,"")}function zi(e,i,t){e._forEachChild((o,s)=>{if(void 0===t[s])throw new a.vHH(1002,"")})}class od{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=t,this._composedValidatorFn=ai(this._rawValidators),this._composedAsyncValidatorFn=rp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===vc}get invalid(){return this.status===ch}get pending(){return this.status==Nl}get disabled(){return this.status===dh}get enabled(){return this.status!==dh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=ai(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=rp(i)}addValidators(i){this.setValidators(ky(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(ky(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(Om(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(Om(i,this._rawAsyncValidators))}hasValidator(i){return Ro(this._rawValidators,i)}hasAsyncValidator(i){return Ro(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=Nl,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=dh,this.errors=null,this._forEachChild(o=>{o.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:t}),this._onDisabledChange.forEach(o=>o(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=vc,this._forEachChild(o=>{o.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:t}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vc||this.status===Nl)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dh:vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=Nl,this._hasOwnPendingAsyncValidator=!0;const t=tp(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent)}get(i){let t=i;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((o,s)=>o&&o._find(s),this)}getError(i,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?dh:this.errors?ch:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nl)?Nl:this._anyControlsHaveStatus(ch)?ch:vc}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){id(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}}class Yu extends od{constructor(i,t,o){super(qa(t),or(o,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,t){return this.controls[i]?this.controls[i]:(this.controls[i]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(i,t,o={}){this.registerControl(i,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(i,t,o={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],t&&this.registerControl(i,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,t={}){zi(this,0,i),Object.keys(i).forEach(o=>{Nm(this,!0,o),this.controls[o].setValue(i[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(Object.keys(i).forEach(o=>{const s=this.controls[o];s&&s.patchValue(i[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i={},t={}){this._forEachChild((o,s)=>{o.reset(i[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(i,t,o)=>(i[o]=t.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&i(o,t)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const[t,o]of Object.entries(this.controls))if(this.contains(t)&&i(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,o,s)=>((o.enabled||this.disabled)&&(t[s]=o.value),t))}_reduceChildren(i,t){let o=i;return this._forEachChild((s,l)=>{o=t(o,s,l)}),o}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}}class Hy extends Yu{}function ip(e,i){return[...i.path,e]}function ef(e,i){Rm(e,i),i.valueAccessor.writeValue(e.value),e.disabled&&i.valueAccessor.setDisabledState?.(!0),function H_(e,i){i.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&cg(e,i)})}(e,i),function Zy(e,i){const t=(o,s)=>{i.valueAccessor.writeValue(o),s&&i.viewToModelUpdate(o)};e.registerOnChange(t),i._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,i),function qy(e,i){i.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&cg(e,i),"submit"!==e.updateOn&&e.markAsTouched()})}(e,i),function Ca(e,i){if(i.valueAccessor.setDisabledState){const t=o=>{i.valueAccessor.setDisabledState(o)};e.registerOnDisabledChange(t),i._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,i)}function fh(e,i,t=!0){const o=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(o),i.valueAccessor.registerOnTouched(o)),Fm(e,i),e&&(i._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function op(e,i){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function Rm(e,i){const t=Pm(e);null!==i.validator?e.setValidators(Ny(t,i.validator)):"function"==typeof t&&e.setValidators([t]);const o=F_(e);null!==i.asyncValidator?e.setAsyncValidators(Ny(o,i.asyncValidator)):"function"==typeof o&&e.setAsyncValidators([o]);const s=()=>e.updateValueAndValidity();op(i._rawValidators,s),op(i._rawAsyncValidators,s)}function Fm(e,i){let t=!1;if(null!==e){if(null!==i.validator){const s=Pm(e);if(Array.isArray(s)&&s.length>0){const l=s.filter(h=>h!==i.validator);l.length!==s.length&&(t=!0,e.setValidators(l))}}if(null!==i.asyncValidator){const s=F_(e);if(Array.isArray(s)&&s.length>0){const l=s.filter(h=>h!==i.asyncValidator);l.length!==s.length&&(t=!0,e.setAsyncValidators(l))}}}const o=()=>{};return op(i._rawValidators,o),op(i._rawAsyncValidators,o),t}function cg(e,i){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Gy(e,i){Rm(e,i)}function dg(e,i){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)}function Bm(e,i){e._syncPendingControls(),i.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function rn(e,i){if(!i)return null;let t,o,s;return Array.isArray(i),i.forEach(l=>{l.constructor===ko?t=l:function Z_(e){return Object.getPrototypeOf(e.constructor)===Qd}(l)?o=l:s=l}),s||o||t||null}const tf={provide:Ds,useExisting:(0,a.Gpc)(()=>fg)},Za=(()=>Promise.resolve())();let fg=(()=>{class e extends Ds{constructor(t,o){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new Yu({},Oy(t),uh(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Za.then(()=>{const o=this._findContainer(t.path);t.control=o.registerControl(t.name,t.control),ef(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Za.then(()=>{const o=this._findContainer(t.path);o&&o.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Za.then(()=>{const o=this._findContainer(t.path),s=new Yu({});Gy(s,t),o.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Za.then(()=>{const o=this._findContainer(t.path);o&&o.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,o){Za.then(()=>{this.form.get(t.path).setValue(o)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Bm(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(zo,10),a.Y36(Ol,10))},e.\u0275dir=a.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,o){1&t&&a.NdJ("submit",function(l){return o.onSubmit(l)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([tf]),a.qOj]}),e})();function $w(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function zy(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const mn=class extends od{constructor(i=null,t,o){super(qa(t),or(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),id(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=zy(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){$w(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){$w(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){zy(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};let ap=(()=>{class e extends Ds{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ip(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return e.\u0275fac=function(){let i;return function(o){return(i||(i=a.n5z(e)))(o||e)}}(),e.\u0275dir=a.lG2({type:e,features:[a.qOj]}),e})();const Vm={provide:lh,useExisting:(0,a.Gpc)(()=>u)},Yw=(()=>Promise.resolve())();let u=(()=>{class e extends lh{constructor(t,o,s,l,h){super(),this._changeDetectorRef=h,this.control=new mn,this._registered=!1,this.update=new a.vpe,this._parent=t,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=rn(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const o=t.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),dg(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ef(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Yw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const o=t.isDisabled.currentValue,s=0!==o&&(0,a.D6c)(o);Yw.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ip(t,this._parent):[t]}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Ds,9),a.Y36(zo,10),a.Y36(Ol,10),a.Y36(_u,10),a.Y36(a.sBO,8))},e.\u0275dir=a.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Vm]),a.qOj,a.TTD]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const C={provide:_u,useExisting:(0,a.Gpc)(()=>I),multi:!0};let I=(()=>{class e extends Qd{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=o=>{t(""==o?null:parseFloat(o))}}}return e.\u0275fac=function(){let i;return function(o){return(i||(i=a.n5z(e)))(o||e)}}(),e.\u0275dir=a.lG2({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,o){1&t&&a.NdJ("input",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},features:[a._Bn([C]),a.qOj]}),e})(),ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({}),e})();const Jr=new a.OlP("NgModelWithFormControlWarning"),wu={provide:Ds,useExisting:(0,a.Gpc)(()=>Js)};let Js=(()=>{class e extends Ds{constructor(t,o){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return ef(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){fh(t.control||null,t,!1),function $y(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,Bm(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,s=this.form.get(t.path);o!==s&&(fh(o||null,t),(e=>e instanceof mn)(s)&&(ef(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);Gy(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function Zw(e,i){return Fm(e,i)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rm(this.form,this),this._oldForm&&Fm(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(zo,10),a.Y36(Ol,10))},e.\u0275dir=a.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&a.NdJ("submit",function(l){return o.onSubmit(l)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([wu]),a.qOj,a.TTD]}),e})();const C2={provide:Ds,useExisting:(0,a.Gpc)(()=>pg)};let pg=(()=>{class e extends ap{constructor(t,o,s){super(),this._parent=t,this._setValidators(o),this._setAsyncValidators(s)}_checkParentType(){BT(this._parent)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Ds,13),a.Y36(zo,10),a.Y36(Ol,10))},e.\u0275dir=a.lG2({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a._Bn([C2]),a.qOj]}),e})();const T2={provide:Ds,useExisting:(0,a.Gpc)(()=>nf)};let nf=(()=>{class e extends Ds{constructor(t,o,s){super(),this._parent=t,this._setValidators(o),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ip(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){BT(this._parent)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Ds,13),a.Y36(zo,10),a.Y36(Ol,10))},e.\u0275dir=a.lG2({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a._Bn([T2]),a.qOj]}),e})();function BT(e){return!(e instanceof pg||e instanceof Js||e instanceof nf)}const YD={provide:lh,useExisting:(0,a.Gpc)(()=>Ku)};let Ku=(()=>{class e extends lh{constructor(t,o,s,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=rn(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),dg(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ip(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)(a.Y36(Ds,13),a.Y36(zo,10),a.Y36(Ol,10),a.Y36(_u,10),a.Y36(Jr,8))},e.\u0275dir=a.lG2({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([YD]),a.qOj,a.TTD]}),e})();let mg=(()=>{class e{constructor(){this._validator=sh}ngOnChanges(t){if(this.inputName in t){const o=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):sh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.lG2({type:e,features:[a.TTD]}),e})();const Yy={provide:zo,useExisting:(0,a.Gpc)(()=>$a),multi:!0};let $a=(()=>{class e extends mg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=t=>Im}enabled(t){return t}}return e.\u0275fac=function(){let i;return function(o){return(i||(i=a.n5z(e)))(o||e)}}(),e.\u0275dir=a.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,o){2&t&&a.uIk("required",o._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Yy]),a.qOj]}),e})();const qm={provide:zo,useExisting:(0,a.Gpc)(()=>up),multi:!0};let up=(()=>{class e extends mg{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function XD(e){return"number"==typeof e?e:parseInt(e,10)}(t),this.createValidator=t=>xm(t)}}return e.\u0275fac=function(){let i;return function(o){return(i||(i=a.n5z(e)))(o||e)}}(),e.\u0275dir=a.lG2({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&a.uIk("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[a._Bn([qm]),a.qOj]}),e})(),Xw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[ee]}),e})(),HT=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[Xw]}),e})(),eC=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Jr,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[Xw]}),e})();class tC extends od{constructor(i,t,o){super(qa(t),or(o,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[this._adjustIndex(i)]}push(i,t={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(i,t,o={}){this.controls.splice(i,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(i,t={}){let o=this._adjustIndex(i);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(i,t,o={}){let s=this._adjustIndex(i);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),t&&(this.controls.splice(s,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,t={}){zi(this,0,i),i.forEach((o,s)=>{Nm(this,!1,s),this.at(s).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(i.forEach((o,s)=>{this.at(s)&&this.at(s).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i=[],t={}){this._forEachChild((o,s)=>{o.reset(i[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((t,o)=>{i(t,o)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(t=>t.enabled&&i(t))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}}function nC(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let _c=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,o=null){const s=this._reduceControls(t);let l={};return nC(o)?l=o:null!==o&&(l.validators=o.validator,l.asyncValidators=o.asyncValidator),new Yu(s,l)}record(t,o=null){const s=this._reduceControls(t);return new Hy(s,o)}control(t,o,s){let l={};return this.useNonNullable?(nC(o)?l=o:(l.validators=o,l.asyncValidators=s),new mn(t,{...l,nonNullable:!0})):new mn(t,o,s)}array(t,o,s){const l=t.map(h=>this._createControl(h));return new tC(l,o,s)}_reduceControls(t){const o={};return Object.keys(t).forEach(s=>{o[s]=this._createControl(t[s])}),o}_createControl(t){return t instanceof mn||t instanceof od?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:eC}),e})();var $m=ae(4986);function rC(){return(0,Oi.e)((e,i)=>{let t,o=!1;e.subscribe((0,Mi.x)(i,s=>{const l=t;t=s,o&&i.next([l,s]),o=!0}))})}function iC(e,i=yl.y){return e=e??oC,(0,Oi.e)((t,o)=>{let s,l=!0;t.subscribe((0,Mi.x)(o,h=>{const v=i(h);(l||!e(s,v))&&(l=!1,s=v,o.next(h))}))})}function oC(e,i){return e===i}var ad=ae(5363),jr=ae(2816),zm=ae(5867),Wm=ae(8367),se=ae(7582),Dr=ae(492),rf=ae(4003),Ym=function(e,i){return(Ym=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])})(e,i)};function aC(e){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&e[i],o=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var un,uC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z_=z_||{},ar=uC||self;function e0(){}function lC(e){var i=typeof e;return"array"==(i="object"!=i?i:e?Array.isArray(e)?"array":i:"null")||"object"==i&&"number"==typeof e.length}function Km(e){var i=typeof e;return"object"==i&&null!=e||"function"==i}var W_="closure_uid_"+(1e9*Math.random()>>>0),ZT=0;function oS(e,i,t){return e.call.apply(e.bind,arguments)}function GT(e,i,t){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,o),e.apply(i,s)}}return function(){return e.apply(i,arguments)}}function Xs(e,i,t){return(Xs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oS:GT).apply(null,arguments)}function Qm(e,i){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),e.apply(this,o)}}function us(e,i){function t(){}t.prototype=i.prototype,e.Z=i.prototype,e.prototype=new t,e.prototype.constructor=e,e.Vb=function(o,s,l){for(var h=Array(arguments.length-2),v=2;v<arguments.length;v++)h[v-2]=arguments[v];return i.prototype[s].apply(o,h)}}function hh(){this.s=this.s,this.o=this.o}var zT={};hh.prototype.s=!1,hh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function qT(e){return Object.prototype.hasOwnProperty.call(e,W_)&&e[W_]||(e[W_]=++ZT)}(this);delete zT[e]}},hh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var cC=Array.prototype.indexOf?function(e,i){return Array.prototype.indexOf.call(e,i,void 0)}:function(e,i){if("string"==typeof e)return"string"!=typeof i||1!=i.length?-1:e.indexOf(i,0);for(var t=0;t<e.length;t++)if(t in e&&e[t]===i)return t;return-1},dC=Array.prototype.forEach?function(e,i,t){Array.prototype.forEach.call(e,i,t)}:function(e,i,t){for(var o=e.length,s="string"==typeof e?e.split(""):e,l=0;l<o;l++)l in s&&i.call(t,s[l],l,e)};function fC(e){return Array.prototype.concat.apply([],arguments)}function Y_(e){var i=e.length;if(0<i){for(var t=Array(i),o=0;o<i;o++)t[o]=e[o];return t}return[]}function hC(e){return/^[\s\xa0]*$/.test(e)}var Tu,YT=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Cu(e,i){return-1!=e.indexOf(i)}function K_(e,i){return e<i?-1:e>i?1:0}e:{var ls=ar.navigator;if(ls){var pC=ls.userAgent;if(pC){Tu=pC;break e}}Tu=""}function gC(e,i,t){for(var o in e)i.call(t,e[o],o,e)}function KT(e){var i={};for(var t in e)i[t]=e[t];return i}var mC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QT(e,i){for(var t,o,s=1;s<arguments.length;s++){for(t in o=arguments[s])e[t]=o[t];for(var l=0;l<mC.length;l++)t=mC[l],Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}}function Q_(e){return Q_[" "](e),e}Q_[" "]=e0;var ev,e,Jm=Cu(Tu,"Opera"),Xm=Cu(Tu,"Trident")||Cu(Tu,"MSIE"),XT=Cu(Tu,"Edge"),J_=XT||Xm,eE=Cu(Tu,"Gecko")&&!(Cu(Tu.toLowerCase(),"webkit")&&!Cu(Tu,"Edge"))&&!(Cu(Tu,"Trident")||Cu(Tu,"MSIE"))&&!Cu(Tu,"Edge"),tE=Cu(Tu.toLowerCase(),"webkit")&&!Cu(Tu,"Edge");function sS(){var e=ar.document;return e?e.documentMode:void 0}e:{var t0="",kl=(e=Tu,eE?/rv:([^\);]+)(\)|;)/.exec(e):XT?/Edge\/([\d\.]+)/.exec(e):Xm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):tE?/WebKit\/(\S+)/.exec(e):Jm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0);if(kl&&(t0=kl?kl[1]:""),Xm){var vC=sS();if(null!=vC&&vC>parseFloat(t0)){ev=String(vC);break e}}ev=t0}var nE={};var rE=ar.document&&Xm&&(sS()||parseInt(ev,10))||void 0,iE=function(){if(!ar.addEventListener||!Object.defineProperty)return!1;var e=!1,i=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ar.addEventListener("test",e0,i),ar.removeEventListener("test",e0,i)}catch{}return e}();function za(e,i){this.type=e,this.g=this.target=i,this.defaultPrevented=!1}function n0(e,i){if(za.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var t=this.type=e.type,o=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=i,i=e.relatedTarget){if(eE){e:{try{Q_(i.nodeName);var s=!0;break e}catch{}s=!1}s||(i=null)}}else"mouseover"==t?i=e.fromElement:"mouseout"==t&&(i=e.toElement);this.relatedTarget=i,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:aS[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&n0.Z.h.call(this)}}za.prototype.h=function(){this.defaultPrevented=!0},us(n0,za);var aS={2:"touch",3:"pen",4:"mouse"};n0.prototype.h=function(){n0.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var r0="closure_listenable_"+(1e6*Math.random()|0),yC=0;function o0(e,i,t,o,s){this.listener=e,this.proxy=null,this.src=i,this.type=t,this.capture=!!o,this.ia=s,this.key=++yC,this.ca=this.fa=!1}function X_(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function s0(e){this.src=e,this.g={},this.h=0}function _C(e,i){var t=i.type;if(t in e.g){var l,o=e.g[t],s=cC(o,i);(l=0<=s)&&Array.prototype.splice.call(o,s,1),l&&(X_(i),0==e.g[t].length&&(delete e.g[t],e.h--))}}function eb(e,i,t,o){for(var s=0;s<e.length;++s){var l=e[s];if(!l.ca&&l.listener==i&&l.capture==!!t&&l.ia==o)return s}return-1}s0.prototype.add=function(e,i,t,o,s){var l=e.toString();(e=this.g[l])||(e=this.g[l]=[],this.h++);var h=eb(e,i,o,s);return-1<h?(i=e[h],t||(i.fa=!1)):((i=new o0(i,this.src,l,!!o,s)).fa=t,e.push(i)),i};var tb="closure_lm_"+(1e6*Math.random()|0),tv={};function oE(e,i,t,o,s){if(o&&o.once)return nb(e,i,t,o,s);if(Array.isArray(i)){for(var l=0;l<i.length;l++)oE(e,i[l],t,o,s);return null}return t=ob(t),e&&e[r0]?e.N(i,t,Km(o)?!!o.capture:!!o,s):bC(e,i,t,!1,o,s)}function bC(e,i,t,o,s,l){if(!i)throw Error("Invalid event type");var h=Km(s)?!!s.capture:!!s,v=rb(e);if(v||(e[tb]=v=new s0(e)),(t=v.add(i,t,o,h,l)).proxy)return t;if(o=function sE(){var i=aE;return function e(t){return i.call(e.src,e.listener,t)}}(),t.proxy=o,o.src=e,o.listener=t,e.addEventListener)iE||(s=h),void 0===s&&(s=!1),e.addEventListener(i.toString(),o,s);else if(e.attachEvent)e.attachEvent(wC(i.toString()),o);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(o)}return t}function nb(e,i,t,o,s){if(Array.isArray(i)){for(var l=0;l<i.length;l++)nb(e,i[l],t,o,s);return null}return t=ob(t),e&&e[r0]?e.O(i,t,Km(o)?!!o.capture:!!o,s):bC(e,i,t,!0,o,s)}function a0(e,i,t,o,s){if(Array.isArray(i))for(var l=0;l<i.length;l++)a0(e,i[l],t,o,s);else o=Km(o)?!!o.capture:!!o,t=ob(t),e&&e[r0]?(e=e.i,(i=String(i).toString())in e.g&&-1<(t=eb(l=e.g[i],t,o,s))&&(X_(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete e.g[i],e.h--))):e&&(e=rb(e))&&(i=e.g[i.toString()],e=-1,i&&(e=eb(i,t,o,s)),(t=-1<e?i[e]:null)&&u0(t))}function u0(e){if("number"!=typeof e&&e&&!e.ca){var i=e.src;if(i&&i[r0])_C(i.i,e);else{var t=e.type,o=e.proxy;i.removeEventListener?i.removeEventListener(t,o,e.capture):i.detachEvent?i.detachEvent(wC(t),o):i.addListener&&i.removeListener&&i.removeListener(o),(t=rb(i))?(_C(t,e),0==t.h&&(t.src=null,i[tb]=null)):X_(e)}}}function wC(e){return e in tv?tv[e]:tv[e]="on"+e}function aE(e,i){if(e.ca)e=!0;else{i=new n0(i,this);var t=e.listener,o=e.ia||e.src;e.fa&&u0(e),e=t.call(o,i)}return e}function rb(e){return(e=e[tb])instanceof s0?e:null}var ib="__closure_events_fn_"+(1e9*Math.random()>>>0);function ob(e){return"function"==typeof e?e:(e[ib]||(e[ib]=function(i){return e.handleEvent(i)}),e[ib])}function Ss(){hh.call(this),this.i=new s0(this),this.P=this,this.I=null}function ea(e,i){var t,o=e.I;if(o)for(t=[];o;o=o.I)t.push(o);if(e=e.P,o=i.type||i,"string"==typeof i)i=new za(i,e);else if(i instanceof za)i.target=i.target||e;else{var s=i;QT(i=new za(o,e),s)}if(s=!0,t)for(var l=t.length-1;0<=l;l--){var h=i.g=t[l];s=sb(h,o,!0,i)&&s}if(s=sb(h=i.g=e,o,!0,i)&&s,s=sb(h,o,!1,i)&&s,t)for(l=0;l<t.length;l++)s=sb(h=i.g=t[l],o,!1,i)&&s}function sb(e,i,t,o){if(!(i=e.i.g[String(i)]))return!0;i=i.concat();for(var s=!0,l=0;l<i.length;++l){var h=i[l];if(h&&!h.ca&&h.capture==t){var v=h.listener,w=h.ia||h.src;h.fa&&_C(e.i,h),s=!1!==v.call(w,o)&&s}}return s&&!o.defaultPrevented}us(Ss,hh),Ss.prototype[r0]=!0,Ss.prototype.removeEventListener=function(e,i,t,o){a0(this,e,i,t,o)},Ss.prototype.M=function(){if(Ss.Z.M.call(this),this.i){var i,e=this.i;for(i in e.g){for(var t=e.g[i],o=0;o<t.length;o++)X_(t[o]);delete e.g[i],e.h--}}this.I=null},Ss.prototype.N=function(e,i,t,o){return this.i.add(String(e),i,!1,t,o)},Ss.prototype.O=function(e,i,t,o){return this.i.add(String(e),i,!0,t,o)};var CC=ar.JSON.stringify;function uS(){var e=lE,i=null;return e.g&&(i=e.g,e.g=e.g.next,e.g||(e.h=null),i.next=null),i}var EC,lS=function(){function e(){this.h=this.g=null}return e.prototype.add=function(i,t){var o=uE.get();o.set(i,t),this.h?this.h.next=o:this.g=o,this.h=o},e}(),uE=new(function(){function e(i,t){this.i=i,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},e}())(function(){return new cS},function(e){return e.reset()}),cS=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(i,t){this.h=i,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function dS(e){ar.setTimeout(function(){throw e},0)}function TC(e,i){EC||function fS(){var e=ar.Promise.resolve(void 0);EC=function(){e.then(hS)}}(),AC||(EC(),AC=!0),lE.add(e,i)}var AC=!1,lE=new lS;function hS(){for(var e;e=uS();){try{e.h.call(e.g)}catch(t){dS(t)}var i=uE;i.j(e),100>i.h&&(i.h++,e.next=i.g,i.g=e)}AC=!1}function ab(e,i){Ss.call(this),this.h=e||1,this.g=i||ar,this.j=Xs(this.kb,this),this.l=Date.now()}function DC(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function SC(e,i,t){if("function"==typeof e)t&&(e=Xs(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Xs(e.handleEvent,e)}return 2147483647<Number(i)?-1:ar.setTimeout(e,i||0)}function cE(e){e.g=SC(function(){e.g=null,e.i&&(e.i=!1,cE(e))},e.j);var i=e.h;e.h=null,e.m.apply(null,i)}us(ab,Ss),(un=ab.prototype).da=!1,un.S=null,un.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ea(this,"tick"),this.da&&(DC(this),this.start()))}},un.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},un.M=function(){ab.Z.M.call(this),DC(this),delete this.g};var pS=function(e){function i(t,o){var s=e.call(this)||this;return s.m=t,s.j=o,s.h=null,s.i=!1,s.g=null,s}return function sC(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function t(){this.constructor=e}Ym(e,i),e.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t)}(i,e),i.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:cE(this)},i.prototype.M=function(){e.prototype.M.call(this),this.g&&(ar.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(hh);function nv(e){hh.call(this),this.h=e,this.g={}}us(nv,hh);var IC=[];function xC(e,i,t,o){Array.isArray(t)||(t&&(IC[0]=t.toString()),t=IC);for(var s=0;s<t.length;s++){var l=oE(i,t[s],o||e.handleEvent,!1,e.h||e);if(!l)break;e.g[l.key]=l}}function PC(e){gC(e.g,function(i,t){this.g.hasOwnProperty(t)&&u0(i)},e),e.g={}}function l0(){this.g=!0}function _g(e,i,t,o){e.info(function(){return"XMLHTTP TEXT ("+i+"): "+function MC(e,i){if(!e.g)return i;if(!i)return null;try{var t=JSON.parse(i);if(t)for(e=0;e<t.length;e++)if(Array.isArray(t[e])){var o=t[e];if(!(2>o.length)){var s=o[1];if(Array.isArray(s)&&!(1>s.length)){var l=s[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<s.length;h++)s[h]=""}}}return CC(t)}catch{return i}}(e,t)+(o?" "+o:"")})}nv.prototype.M=function(){nv.Z.M.call(this),PC(this)},nv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},l0.prototype.Aa=function(){this.g=!1},l0.prototype.info=function(){};var ph={},lp=null;function ub(){return lp=lp||new Ss}function pE(e){za.call(this,ph.Ma,e)}function af(e){var i=ub();ea(i,new pE(i,e))}function gS(e,i){za.call(this,ph.STAT_EVENT,e),this.stat=i}function Ta(e){var i=ub();ea(i,new gS(i,e))}function mS(e,i){za.call(this,ph.Na,e),this.size=i}function rv(e,i){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return ar.setTimeout(function(){e()},i)}ph.Ma="serverreachability",us(pE,za),ph.STAT_EVENT="statevent",us(gS,za),ph.Na="timingevent",us(mS,za);var c0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qn(){}function mE(){}qn.prototype.h=null;var iv,d0={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cp(){za.call(this,"d")}function OC(){za.call(this,"c")}function bg(){}function Ji(e,i,t,o){this.l=e,this.j=i,this.m=t,this.X=o||1,this.V=new nv(this),this.P=vE,this.W=new ab(e=J_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yS}function yS(){this.i=null,this.g="",this.h=!1}us(cp,za),us(OC,za),us(bg,qn),bg.prototype.g=function(){return new XMLHttpRequest},bg.prototype.i=function(){return{}},iv=new bg;var vE=45e3,lb={},cb={};function db(e,i,t){e.K=1,e.v=v0(gh(i)),e.s=t,e.U=!0,NC(e,null)}function NC(e,i){e.F=Date.now(),f0(e),e.A=gh(e.v);var t=e.A,o=e.X;Array.isArray(o)||(o=[String(o)]),CE(t.h,"t",o),e.C=0,t=e.l.H,e.h=new yS,e.g=QC(e.l,t?i:null,!e.s),0<e.O&&(e.L=new pS(Xs(e.Ia,e,e.g),e.O)),xC(e.V,e.g,"readystatechange",e.gb),i=e.H?KT(e.H):{},e.s?(e.u||(e.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,i)):(e.u="GET",e.g.ea(e.A,e.u,null,i)),af(1),function dE(e,i,t,o,s,l){e.info(function(){if(e.g)if(l)for(var h="",v=l.split("&"),w=0;w<v.length;w++){var D=v[w].split("=");if(1<D.length){var M=D[0];D=D[1];var k=M.split("_");h=2<=k.length&&"type"==k[1]?h+(M+"=")+D+"&":h+(M+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+i+"\n"+t+"\n"+h})}(e.j,e.u,e.A,e.m,e.X,e.s)}function kC(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function RC(e,i,t){for(var s,o=!0;!e.I&&e.C<t.length;){if((s=_S(e,t))==cb){4==i&&(e.o=4,Ta(14),o=!1),_g(e.j,e.m,null,"[Incomplete Response]");break}if(s==lb){e.o=4,Ta(15),_g(e.j,e.m,t,"[Invalid Chunk]"),o=!1;break}_g(e.j,e.m,s,null),FC(e,s)}kC(e)&&s!=cb&&s!=lb&&(e.h.g="",e.C=0),4!=i||0!=t.length||e.h.h||(e.o=1,Ta(16),o=!1),e.i=e.i&&o,o?0<t.length&&!e.aa&&(e.aa=!0,(i=e.l).g==e&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),kE(i),i.L=!0,Ta(11))):(_g(e.j,e.m,t,"[Invalid Chunked Response]"),wg(e),h0(e))}function _S(e,i){var t=e.C,o=i.indexOf("\n",t);return-1==o?cb:(t=Number(i.substring(t,o)),isNaN(t)?lb:(o+=1)+t>i.length?cb:(i=i.substr(o,t),e.C=o+t,i))}function f0(e){e.Y=Date.now()+e.P,yE(e,e.P)}function yE(e,i){if(null!=e.B)throw Error("WatchDog timer not null");e.B=rv(Xs(e.eb,e),i)}function dp(e){e.B&&(ar.clearTimeout(e.B),e.B=null)}function h0(e){0==e.l.G||e.I||RE(e.l,e)}function wg(e){dp(e);var i=e.L;i&&"function"==typeof i.na&&i.na(),e.L=null,DC(e.W),PC(e.V),e.g&&(i=e.g,e.g=null,i.abort(),i.na())}function FC(e,i){try{var t=e.l;if(0!=t.G&&(t.g==e||_b(t.i,e)))if(t.I=e.N,!e.J&&_b(t.i,e)&&3==t.G){try{var o=t.Ca.g.parse(i)}catch{o=null}if(Array.isArray(o)&&3==o.length){var s=o;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<e.F))break e;dv(t),T0(t)}WC(t),Ta(18)}}else t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=rv(Xs(t.ab,t),6e3));if(1>=AE(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Sg(t,11)}else if((e.J||t.g==e)&&dv(t),!hC(i))for(s=t.Ca.g.parse(i),i=0;i<s.length;i++){var l=s[i];if(t.U=l[0],l=l[1],2==t.G)if("c"==l[0]){t.J=l[1],t.la=l[2];var h=l[3];null!=h&&(t.ma=h,t.h.info("VER="+t.ma));var v=l[4];null!=v&&(t.za=v,t.h.info("SVER="+t.za));var w=l[5];null!=w&&"number"==typeof w&&0<w&&(t.K=o=1.5*w,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;var D=e.g;if(D){var M=D.g?D.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var k=o.i;!k.g&&(Cu(M,"spdy")||Cu(M,"quic")||Cu(M,"h2"))&&(k.j=k.l,k.g=new Set,k.h&&(UC(k,k.h),k.h=null))}if(o.D){var H=D.g?D.g.getResponseHeader("X-HTTP-Session-Id"):null;H&&(o.sa=H,bo(o.F,o.D,H))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-e.F,t.h.info("Handshake RTT: "+t.O+"ms"));var J=e;if((o=t).oa=Db(o,o.H?o.la:null,o.W),J.J){BC(o.i,J);var X=J,ue=o.K;ue&&X.setTimeout(ue),X.B&&(dp(X),f0(X)),o.g=J}else zC(o);0<t.l.length&&Eb(t)}else"stop"!=l[0]&&"close"!=l[0]||Sg(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Sg(t,7):C0(t):"noop"!=l[0]&&t.j&&t.j.wa(l),t.A=0)}af(4)}catch{}}function hb(e,i){if(e.forEach&&"function"==typeof e.forEach)e.forEach(i,void 0);else if(lC(e)||"string"==typeof e)dC(e,i,void 0);else{if(e.T&&"function"==typeof e.T)var t=e.T();else if(e.R&&"function"==typeof e.R)t=void 0;else if(lC(e)||"string"==typeof e){t=[];for(var o=e.length,s=0;s<o;s++)t.push(s)}else for(s in t=[],o=0,e)t[o++]=s;o=function fb(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(lC(e)){for(var i=[],t=e.length,o=0;o<t;o++)i.push(e[o]);return i}for(o in i=[],t=0,e)i[t++]=e[o];return i}(e),s=o.length;for(var l=0;l<s;l++)i.call(void 0,o[l],t&&t[l],e)}}function Cg(e,i){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(e)if(e instanceof Cg)for(t=e.T(),o=0;o<t.length;o++)this.set(t[o],e.get(t[o]));else for(o in e)this.set(o,e[o])}function pb(e){if(e.i!=e.g.length){for(var i=0,t=0;i<e.g.length;){var o=e.g[i];Tg(e.h,o)&&(e.g[t++]=o),i++}e.g.length=t}if(e.i!=e.g.length){var s={};for(t=i=0;i<e.g.length;)Tg(s,o=e.g[i])||(e.g[t++]=o,s[o]=1),i++;e.g.length=t}}function Tg(e,i){return Object.prototype.hasOwnProperty.call(e,i)}(un=Ji.prototype).setTimeout=function(e){this.P=e},un.gb=function(e){e=e.target;var i=this.L;i&&3==mh(e)?i.l():this.Ia(e)},un.Ia=function(e){try{if(e==this.g)e:{var i=mh(this.g),t=this.g.Da(),o=this.g.ba();if(!(3>i)&&(3!=i||J_||this.g&&(this.h.h||this.g.ga()||qC(this.g)))){this.I||4!=i||7==t||af(8==t||0>=o?3:2),dp(this);var s=this.g.ba();this.N=s;t:if(kC(this)){var l=qC(this.g);e="";var h=l.length,v=4==mh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wg(this),h0(this);var w="";break t}this.h.i=new ar.TextDecoder}for(t=0;t<h;t++)this.h.h=!0,e+=this.h.i.decode(l[t],{stream:v&&t==h-1});l.splice(0,h),this.h.g+=e,this.C=0,w=this.h.g}else w=this.g.ga();if(this.i=200==s,function fE(e,i,t,o,s,l,h){e.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+s+"]: "+i+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,i,s),this.i){if(this.$&&!this.J){t:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hC(D)){var k=D;break t}}k=null}if(!(s=k)){this.i=!1,this.o=3,Ta(12),wg(this),h0(this);break e}_g(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,FC(this,s)}this.U?(RC(this,i,w),J_&&this.i&&3==i&&(xC(this.V,this.W,"tick",this.fb),this.W.start())):(_g(this.j,this.m,w,null),FC(this,w)),4==i&&wg(this),this.i&&!this.I&&(4==i?RE(this.l,this):(this.i=!1,f0(this)))}else 400==s&&0<w.indexOf("Unknown SID")?(this.o=3,Ta(12)):(this.o=0,Ta(13)),wg(this),h0(this)}}}catch{}},un.fb=function(){if(this.g){var e=mh(this.g),i=this.g.ga();this.C<i.length&&(dp(this),RC(this,e,i),this.i&&4!=e&&f0(this))}},un.cancel=function(){this.I=!0,wg(this)},un.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function hE(e,i){e.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(af(3),Ta(17)),wg(this),this.o=2,h0(this)):yE(this,this.Y-e)},(un=Cg.prototype).R=function(){pb(this);for(var e=[],i=0;i<this.g.length;i++)e.push(this.h[this.g[i]]);return e},un.T=function(){return pb(this),this.g.concat()},un.get=function(e,i){return Tg(this.h,e)?this.h[e]:i},un.set=function(e,i){Tg(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=i},un.forEach=function(e,i){for(var t=this.T(),o=0;o<t.length;o++){var s=t[o],l=this.get(s);e.call(i,l,s,this)}};var ov=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Eg(e,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Eg){this.g=void 0!==i?i:e.g,gb(this,e.j),this.s=e.s,g0(this,e.i),m0(this,e.m),this.l=e.l,i=e.h;var t=new sv;t.i=i.i,i.g&&(t.g=new Cg(i.g),t.h=i.h),LC(this,t),this.o=e.o}else e&&(t=String(e).match(ov))?(this.g=!!i,gb(this,t[1]||"",!0),this.s=mb(t[2]||""),g0(this,t[3]||"",!0),m0(this,t[4]),this.l=mb(t[5]||"",!0),LC(this,t[6]||"",!0),this.o=mb(t[7]||"")):(this.g=!!i,this.h=new sv(null,this.g))}function gh(e){return new Eg(e)}function gb(e,i,t){e.j=t?mb(i,!0):i,e.j&&(e.j=e.j.replace(/:$/,""))}function g0(e,i,t){e.i=t?mb(i,!0):i}function m0(e,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);e.m=i}else e.m=null}function LC(e,i,t){i instanceof sv?(e.h=i,function AS(e,i){i&&!e.j&&(wc(e),e.i=null,e.g.forEach(function(t,o){var s=o.toLowerCase();o!=s&&(bE(this,o),CE(this,s,t))},e)),e.j=i}(e.h,e.g)):(t||(i=vb(i,TS)),e.h=new sv(i,e.g))}function bo(e,i,t){e.h.set(i,t)}function v0(e){return bo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mb(e,i){return e?i?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function vb(e,i,t){return"string"==typeof e?(e=encodeURI(e).replace(i,S2),t&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function S2(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Eg.prototype.toString=function(){var e=[],i=this.j;i&&e.push(vb(i,CS,!0),":");var t=this.i;return(t||"file"==i)&&(e.push("//"),(i=this.s)&&e.push(vb(i,CS,!0),"@"),e.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&e.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&e.push("/"),e.push(vb(t,"/"==t.charAt(0)?yb:_E,!0))),(t=this.h.toString())&&e.push("?",t),(t=this.o)&&e.push("#",vb(t,ES)),e.join("")};var CS=/[#\/\?@]/g,_E=/[#\?:]/g,yb=/[#\?]/g,TS=/[#\?@]/g,ES=/#/g;function sv(e,i){this.h=this.g=null,this.i=e||null,this.j=!!i}function wc(e){e.g||(e.g=new Cg,e.h=0,e.i&&function p0(e,i){if(e){e=e.split("&");for(var t=0;t<e.length;t++){var o=e[t].indexOf("="),s=null;if(0<=o){var l=e[t].substring(0,o);s=e[t].substring(o+1)}else l=e[t];i(l,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(i,t){e.add(decodeURIComponent(i.replace(/\+/g," ")),t)}))}function bE(e,i){wc(e),i=av(e,i),Tg(e.g.h,i)&&(e.i=null,e.h-=e.g.get(i).length,Tg((e=e.g).h,i)&&(delete e.h[i],e.i--,e.g.length>2*e.i&&pb(e)))}function wE(e,i){return wc(e),i=av(e,i),Tg(e.g.h,i)}function CE(e,i,t){bE(e,i),0<t.length&&(e.i=null,e.g.set(av(e,i),Y_(t)),e.h+=t.length)}function av(e,i){return i=String(i),e.j&&(i=i.toLowerCase()),i}(un=sv.prototype).add=function(e,i){wc(this),this.i=null,e=av(this,e);var t=this.g.get(e);return t||this.g.set(e,t=[]),t.push(i),this.h+=1,this},un.forEach=function(e,i){wc(this),this.g.forEach(function(t,o){dC(t,function(s){e.call(i,s,o,this)},this)},this)},un.T=function(){wc(this);for(var e=this.g.R(),i=this.g.T(),t=[],o=0;o<i.length;o++)for(var s=e[o],l=0;l<s.length;l++)t.push(i[o]);return t},un.R=function(e){wc(this);var i=[];if("string"==typeof e)wE(this,e)&&(i=fC(i,this.g.get(av(this,e))));else{e=this.g.R();for(var t=0;t<e.length;t++)i=fC(i,e[t])}return i},un.set=function(e,i){return wc(this),this.i=null,wE(this,e=av(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[i]),this.h+=1,this},un.get=function(e,i){return e&&0<(e=this.R(e)).length?String(e[0]):i},un.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],i=this.g.T(),t=0;t<i.length;t++){var o=i[t],s=encodeURIComponent(String(o));o=this.R(o);for(var l=0;l<o.length;l++){var h=s;""!==o[l]&&(h+="="+encodeURIComponent(String(o[l]))),e.push(h)}}return this.i=e.join("&")};var TE=function e(i,t){this.h=i,this.g=t};function EE(e){this.l=e||DS,e=ar.PerformanceNavigationTiming?0<(e=ar.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(ar.g&&ar.g.Ea&&ar.g.Ea()&&ar.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var DS=10;function uv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function AE(e){return e.h?1:e.g?e.g.size:0}function _b(e,i){return e.h?e.h==i:!!e.g&&e.g.has(i)}function UC(e,i){e.g?e.g.add(i):e.h=i}function BC(e,i){e.h&&e.h==i?e.h=null:e.g&&e.g.has(i)&&e.g.delete(i)}function DE(e){var i,t;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var o=e.i;try{for(var s=aC(e.g.values()),l=s.next();!l.done;l=s.next())o=o.concat(l.value.D)}catch(v){i={error:v}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(i)throw i.error}}return o}return Y_(e.i)}function bb(){}function SS(){this.g=new bb}function VC(e,i,t){var o=t||"";try{hb(e,function(s,l){var h=s;Km(s)&&(h=CC(s)),i.push(o+l+"="+encodeURIComponent(h))})}catch(s){throw i.push(o+"type="+encodeURIComponent("_badmap")),s}}function y0(e,i,t,o,s){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,s(o)}catch{}}function lv(e){this.l=e.$b||null,this.j=e.ib||!1}function wb(e,i){Ss.call(this),this.D=e,this.u=i,this.m=void 0,this.readyState=jC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}EE.prototype.cancel=function(){var e,i;if(this.i=DE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var t=aC(this.g.values()),o=t.next();!o.done;o=t.next())o.value.cancel()}catch(l){e={error:l}}finally{try{o&&!o.done&&(i=t.return)&&i.call(t)}finally{if(e)throw e.error}}this.g.clear()}},bb.prototype.stringify=function(e){return ar.JSON.stringify(e,void 0)},bb.prototype.parse=function(e){return ar.JSON.parse(e,void 0)},us(lv,qn),lv.prototype.g=function(){return new wb(this.l,this.j)},lv.prototype.i=function(e){return function(){return e}}({}),us(wb,Ss);var jC=0;function SE(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ag(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_0(e)}function _0(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(un=wb.prototype).open=function(e,i){if(this.readyState!=jC)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=i,this.readyState=1,_0(this)},un.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(i.body=e),(this.D||ar).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},un.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ag(this)),this.readyState=jC},un.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_0(this)),this.g&&(this.readyState=3,_0(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ar.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SE(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},un.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var i=e.value?e.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!e.done}))&&(this.response=this.responseText+=i)}e.done?Ag(this):_0(this),3==this.readyState&&SE(this)}},un.Ua=function(e){this.g&&(this.response=this.responseText=e,Ag(this))},un.Ta=function(e){this.g&&(this.response=e,Ag(this))},un.ha=function(){this.g&&Ag(this)},un.setRequestHeader=function(e,i){this.v.append(e,i)},un.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},un.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],i=this.h.entries(),t=i.next();!t.done;)e.push((t=t.value)[0]+": "+t[1]),t=i.next();return e.join("\r\n")},Object.defineProperty(wb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var IE=ar.JSON.parse;function cs(e){Ss.call(this),this.headers=new Cg,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xE,this.K=this.L=!1}us(cs,Ss);var xE="",xS=/^https?$/i,PS=["POST","PUT"];function OS(e){return"content-type"==e.toLowerCase()}function PE(e,i){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=i,e.m=5,ME(e),b0(e)}function ME(e){e.D||(e.D=!0,ea(e,"complete"),ea(e,"error"))}function HC(e){if(e.h&&typeof z_<"u"&&(!e.C[1]||4!=mh(e)||2!=e.ba()))if(e.v&&4==mh(e))SC(e.Fa,0,e);else if(ea(e,"readystatechange"),4==mh(e)){e.h=!1;try{var o,i=e.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}if(!(o=t)){var s;if(s=0===i){var l=String(e.H).match(ov)[1]||null;if(!l&&ar.self&&ar.self.location){var h=ar.self.location.protocol;l=h.substr(0,h.length-1)}s=!xS.test(l?l.toLowerCase():"")}o=s}if(o)ea(e,"complete"),ea(e,"success");else{e.m=6;try{var v=2<mh(e)?e.g.statusText:""}catch{v=""}e.j=v+" ["+e.ba()+"]",ME(e)}}finally{b0(e)}}}function b0(e,i){if(e.g){OE(e);var t=e.g,o=e.C[0]?e0:null;e.g=null,e.C=null,i||ea(e,"ready");try{t.onreadystatechange=o}catch{}}}function OE(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ar.clearTimeout(e.A),e.A=null)}function mh(e){return e.g?e.g.readyState:0}function qC(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function ZC(e,i,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function NS(e){var i="";return gC(e,function(t,o){i+=o,i+=":",i+=t,i+="\r\n"}),i}(t),"string"==typeof e?null!=t&&encodeURIComponent(String(t)):bo(e,i,t))}function w0(e,i,t){return t&&t.internalChannelParams&&t.internalChannelParams[e]||i}function Cb(e){this.za=0,this.l=[],this.h=new l0,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=w0("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=w0("baseRetryDelayMs",5e3,e),this.$a=w0("retryDelaySeedMs",1e4,e),this.Ya=w0("forwardChannelMaxRetries",2,e),this.ra=w0("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new EE(e&&e.concurrentRequestLimit),this.Ca=new SS,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function C0(e){if(Tb(e),3==e.G){var i=e.V++,t=gh(e.F);bo(t,"SID",e.J),bo(t,"RID",i),bo(t,"TYPE","terminate"),cv(e,t),(i=new Ji(e,e.h,i,void 0)).K=2,i.v=v0(gh(t)),t=!1,ar.navigator&&ar.navigator.sendBeacon&&(t=ar.navigator.sendBeacon(i.v.toString(),"")),!t&&ar.Image&&((new Image).src=i.v,t=!0),t||(i.g=QC(i.l,null),i.g.ea(i.v)),i.F=Date.now(),f0(i)}KC(e)}function T0(e){e.g&&(kE(e),e.g.cancel(),e.g=null)}function Tb(e){T0(e),e.u&&(ar.clearTimeout(e.u),e.u=null),dv(e),e.i.cancel(),e.m&&("number"==typeof e.m&&ar.clearTimeout(e.m),e.m=null)}function GC(e,i){e.l.push(new TE(e.Za++,i)),3==e.G&&Eb(e)}function Eb(e){uv(e.i)||e.m||(e.m=!0,TC(e.Ha,e),e.C=0)}function NE(e,i){var t;t=i?i.m:e.V++;var o=gh(e.F);bo(o,"SID",e.J),bo(o,"RID",t),bo(o,"AID",e.U),cv(e,o),e.o&&e.s&&ZC(o,e.o,e.s),t=new Ji(e,e.h,t,e.C+1),null===e.o&&(t.H=e.s),i&&(e.l=i.D.concat(e.l)),i=Dg(e,t,1e3),t.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),UC(e.i,t),db(t,o,i)}function cv(e,i){e.j&&hb({},function(t,o){bo(i,o,t)})}function Dg(e,i,t){t=Math.min(e.l.length,t);var o=e.j?Xs(e.j.Oa,e.j,e):null;e:for(var s=e.l,l=-1;;){var h=["count="+t];-1==l?0<t?h.push("ofs="+(l=s[0].h)):l=0:h.push("ofs="+l);for(var v=!0,w=0;w<t;w++){var D=s[w].h,M=s[w].g;if(0>(D-=l))l=Math.max(0,s[w].h-100),v=!1;else try{VC(M,h,"req"+D+"_")}catch{o&&o(M)}}if(v){o=h.join("&");break e}}return e=e.l.splice(0,t),i.D=e,o}function zC(e){e.g||e.u||(e.Y=1,TC(e.Ga,e),e.A=0)}function WC(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=rv(Xs(e.Ga,e),Ab(e,e.A)),e.A++,0))}function kE(e){null!=e.B&&(ar.clearTimeout(e.B),e.B=null)}function YC(e){e.g=new Ji(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var i=gh(e.oa);bo(i,"RID","rpc"),bo(i,"SID",e.J),bo(i,"CI",e.N?"0":"1"),bo(i,"AID",e.U),cv(e,i),bo(i,"TYPE","xmlhttp"),e.o&&e.s&&ZC(i,e.o,e.s),e.K&&e.g.setTimeout(e.K);var t=e.g;e=e.la,t.K=1,t.v=v0(gh(i)),t.s=null,t.U=!0,NC(t,e)}function dv(e){null!=e.v&&(ar.clearTimeout(e.v),e.v=null)}function RE(e,i){var t=null;if(e.g==i){dv(e),kE(e),e.g=null;var o=2}else{if(!_b(e.i,i))return;t=i.D,BC(e.i,i),o=1}if(e.I=i.N,0!=e.G)if(i.i)if(1==o){t=i.s?i.s.length:0,i=Date.now()-i.F;var s=e.C;ea(o=ub(),new mS(o,t,i,s)),Eb(e)}else zC(e);else if(3==(s=i.o)||0==s&&0<e.I||!(1==o&&function $C(e,i){return!(AE(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=i.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=rv(Xs(e.Ha,e,i),Ab(e,e.C)),e.C++,0)))}(e,i)||2==o&&WC(e)))switch(t&&0<t.length&&(i=e.i,i.i=i.i.concat(t)),s){case 1:Sg(e,5);break;case 4:Sg(e,10);break;case 3:Sg(e,6);break;default:Sg(e,2)}}function Ab(e,i){var t=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(t*=2),t*i}function Sg(e,i){if(e.h.info("Error code "+i),2==i){var t=null;e.j&&(t=null);var o=Xs(e.jb,e);t||(t=new Eg("//www.google.com/images/cleardot.gif"),ar.location&&"http"==ar.location.protocol||gb(t,"https"),v0(t)),function IS(e,i){var t=new l0;if(ar.Image){var o=new Image;o.onload=Qm(y0,t,o,"TestLoadImage: loaded",!0,i),o.onerror=Qm(y0,t,o,"TestLoadImage: error",!1,i),o.onabort=Qm(y0,t,o,"TestLoadImage: abort",!1,i),o.ontimeout=Qm(y0,t,o,"TestLoadImage: timeout",!1,i),ar.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=e}else i(!1)}(t.toString(),o)}else Ta(2);e.G=0,e.j&&e.j.va(i),KC(e),Tb(e)}function KC(e){e.G=0,e.I=-1,e.j&&((0!=DE(e.i).length||0!=e.l.length)&&(e.i.i.length=0,Y_(e.l),e.l.length=0),e.j.ua())}function Db(e,i,t){var o=function bS(e){return e instanceof Eg?gh(e):new Eg(e,void 0)}(t);if(""!=o.i)i&&g0(o,i+"."+o.i),m0(o,o.m);else{var s=ar.location;o=function wS(e,i,t,o){var s=new Eg(null,void 0);return e&&gb(s,e),i&&g0(s,i),t&&m0(s,t),o&&(s.l=o),s}(s.protocol,i?i+"."+s.hostname:s.hostname,+s.port,t)}return e.aa&&gC(e.aa,function(l,h){bo(o,h,l)}),t=e.sa,(i=e.D)&&t&&bo(o,i,t),bo(o,"VER",e.ma),cv(e,o),o}function QC(e,i,t){if(i&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new cs(t&&e.Ba&&!e.qa?new lv({ib:!0}):e.qa)).L=e.H,i}function JC(){}function E0(){if(Xm&&!(10<=Number(rE)))throw Error("Environmental error: no available transport.")}function Qu(e,i){Ss.call(this),this.g=new Cb(i),this.l=e,this.h=i&&i.messageUrlParams||null,e=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(e?e["X-WebChannel-Content-Type"]=i.messageContentType:e={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(e?e["X-WebChannel-Client-Profile"]=i.ya:e={"X-WebChannel-Client-Profile":i.ya}),this.g.P=e,(e=i&&i.httpHeadersOverwriteParam)&&!hC(e)&&(this.g.o=e),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!hC(i)&&(this.g.D=i,null!==(e=this.h)&&i in e&&i in(e=this.h)&&delete e[i]),this.j=new fv(this)}function FE(e){cp.call(this);var i=e.__sm__;if(i){e:{for(var t in i){e=t;break e}e=void 0}(this.i=e)&&(e=this.i,i=null!==i&&e in i?i[e]:void 0),this.data=i}else this.data=e}function LE(){OC.call(this),this.status=1}function fv(e){this.g=e}(un=cs.prototype).ea=function(e,i,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);i=i?i.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():iv.g(),this.C=function gE(e){return e.h||(e.h=e.i())}(this.u?this.u:iv),this.g.onreadystatechange=Xs(this.Fa,this);try{this.F=!0,this.g.open(i,String(e),!0),this.F=!1}catch(l){return void PE(this,l)}e=t||"";var s=new Cg(this.headers);o&&hb(o,function(l,h){s.set(h,l)}),o=function WT(e){e:{for(var i=OS,t=e.length,o="string"==typeof e?e.split(""):e,s=0;s<t;s++)if(s in o&&i.call(void 0,o[s],s,e)){i=s;break e}i=-1}return 0>i?null:"string"==typeof e?e.charAt(i):e[i]}(s.T()),t=ar.FormData&&e instanceof ar.FormData,!(0<=cC(PS,i))||o||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{OE(this),0<this.B&&((this.K=function MS(e){return Xm&&function sf(){return function JT(e){var i=nE;return Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=e(9)}(function(){for(var e=0,i=YT(String(ev)).split("."),t=YT("9").split("."),o=Math.max(i.length,t.length),s=0;0==e&&s<o;s++){var l=i[s]||"",h=t[s]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;e=K_(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||K_(0==l[2].length,0==h[2].length)||K_(l[2],h[2]),l=l[3],h=h[3]}while(0==e)}return 0<=e})}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xs(this.pa,this)):this.A=SC(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(l){PE(this,l)}},un.pa=function(){typeof z_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ea(this,"timeout"),this.abort(8))},un.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ea(this,"complete"),ea(this,"abort"),b0(this))},un.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),b0(this,!0)),cs.Z.M.call(this)},un.Fa=function(){this.s||(this.F||this.v||this.l?HC(this):this.cb())},un.cb=function(){HC(this)},un.ba=function(){try{return 2<mh(this)?this.g.status:-1}catch{return-1}},un.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},un.Qa=function(e){if(this.g){var i=this.g.responseText;return e&&0==i.indexOf(e)&&(i=i.substring(e.length)),IE(i)}},un.Da=function(){return this.m},un.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(un=Cb.prototype).ma=8,un.G=1,un.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}},un.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var i=new Ji(this,this.h,e,void 0),t=this.s;if(this.P&&(t?QT(t=KT(t),this.P):t=this.P),null===this.o&&(i.H=t),this.ja)e:{for(var o=0,s=0;s<this.l.length;s++){var l=this.l[s];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(o+=l)){o=s;break e}if(4096===o||s===this.l.length-1){o=s+1;break e}}o=1e3}else o=1e3;o=Dg(this,i,o),bo(s=gh(this.F),"RID",e),bo(s,"CVER",22),this.D&&bo(s,"X-HTTP-Session-Id",this.D),cv(this,s),this.o&&t&&ZC(s,this.o,t),UC(this.i,i),this.Ra&&bo(s,"TYPE","init"),this.ja?(bo(s,"$req",o),bo(s,"SID","null"),i.$=!0,db(i,s,null)):db(i,s,o),this.G=2}}else 3==this.G&&(e?NE(this,e):0==this.l.length||uv(this.i)||NE(this))},un.Ga=function(){if(this.u=null,YC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=rv(Xs(this.bb,this),e)}},un.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ta(10),T0(this),YC(this))},un.ab=function(){null!=this.v&&(this.v=null,T0(this),WC(this),Ta(19))},un.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ta(2)):(this.h.info("Failed to ping google.com"),Ta(1))},(un=JC.prototype).xa=function(){},un.wa=function(){},un.va=function(){},un.ua=function(){},un.Oa=function(){},E0.prototype.g=function(e,i){return new Qu(e,i)},us(Qu,Ss),Qu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,i=this.l,t=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),TC(Xs(e.hb,e,i))),Ta(0),e.W=i,e.aa=t||{},e.N=e.X,e.F=Db(e,null,e.W),Eb(e)},Qu.prototype.close=function(){C0(this.g)},Qu.prototype.u=function(e){if("string"==typeof e){var i={};i.__data__=e,GC(this.g,i)}else this.v?((i={}).__data__=CC(e),GC(this.g,i)):GC(this.g,e)},Qu.prototype.M=function(){this.g.j=null,delete this.j,C0(this.g),delete this.g,Qu.Z.M.call(this)},us(FE,cp),us(LE,OC),us(fv,JC),fv.prototype.xa=function(){ea(this.g,"a")},fv.prototype.wa=function(e){ea(this.g,new FE(e))},fv.prototype.va=function(e){ea(this.g,new LE(e))},fv.prototype.ua=function(){ea(this.g,"b")},E0.prototype.createWebChannel=E0.prototype.g,Qu.prototype.send=Qu.prototype.u,Qu.prototype.open=Qu.prototype.m,Qu.prototype.close=Qu.prototype.close,c0.NO_ERROR=0,c0.TIMEOUT=8,c0.HTTP_ERROR=6,vS.COMPLETE="complete",mE.EventType=d0,d0.OPEN="a",d0.CLOSE="b",d0.ERROR="c",d0.MESSAGE="d",Ss.prototype.listen=Ss.prototype.N,cs.prototype.listenOnce=cs.prototype.O,cs.prototype.getLastError=cs.prototype.La,cs.prototype.getLastErrorCode=cs.prototype.Da,cs.prototype.getStatus=cs.prototype.ba,cs.prototype.getResponseJson=cs.prototype.Qa,cs.prototype.getResponseText=cs.prototype.ga,cs.prototype.send=cs.prototype.ea;var e1=c0,t1=vS,BE=ph,n1_PROXY=10,n1_NOPROXY=11,kS=lv,Sb=mE,VE=cs,Ju=function(){function e(i,t){var o=this;this.previousValue=i,t&&(t.sequenceNumberHandler=function(s){return o.t(s)},this.i=function(s){return t.writeSequenceNumber(s)})}return e.prototype.t=function(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue},e.prototype.next=function(){var i=++this.previousValue;return this.i&&this.i(i),i},e}();Ju.o=-1;var tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ct=function(e){function i(t,o){var s=this;return(s=e.call(this,o)||this).code=t,s.message=o,s.name="FirebaseError",s.toString=function(){return s.name+": [code="+s.code+"]: "+s.message},s}return(0,se.ZT)(i,e),i}(Error),Cc=new rf.Yd("@firebase/firestore");function r1(){return Cc.logLevel}function Ft(e){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];if(Cc.logLevel<=rf.in.DEBUG){var o=i.map(o1);Cc.debug.apply(Cc,(0,se.ev)(["Firestore (8.10.1): "+e],o))}}function ds(e){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];if(Cc.logLevel<=rf.in.ERROR){var o=i.map(o1);Cc.error.apply(Cc,(0,se.ev)(["Firestore (8.10.1): "+e],o))}}function A0(e){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];if(Cc.logLevel<=rf.in.WARN){var o=i.map(o1);Cc.warn.apply(Cc,(0,se.ev)(["Firestore (8.10.1): "+e],o))}}function o1(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return e}}function vn(e){void 0===e&&(e="Unexpected state");var i="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw ds(i),new Error(i)}function nr(e,i){e||vn()}function Zt(e,i){return e}function jE(e){var i=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(e);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(t);else for(var o=0;o<e;o++)t[o]=Math.floor(256*Math.random());return t}var s1=function(){function e(){}return e.u=function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/i.length)*i.length,o="";o.length<20;)for(var s=jE(40),l=0;l<s.length;++l)o.length<20&&s[l]<t&&(o+=i.charAt(s[l]%i.length));return o},e}();function Hr(e,i){return e<i?-1:e>i?1:0}function Ig(e,i,t){return e.length===i.length&&e.every(function(o,s){return t(o,i[s])})}function HE(e){return e+"\0"}var Fl=function(){function e(i,t){if(this.seconds=i,this.nanoseconds=t,t<0)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(i<-62135596800)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(i){return e.fromMillis(i.getTime())},e.fromMillis=function(i){var t=Math.floor(i/1e3);return new e(t,Math.floor(1e6*(i-1e3*t)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(i){return this.seconds===i.seconds?Hr(this.nanoseconds,i.nanoseconds):Hr(this.seconds,i.seconds)},e.prototype.isEqual=function(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Fr=function(){function e(i){this.timestamp=i}return e.fromTimestamp=function(i){return new e(i)},e.min=function(){return new e(new Fl(0,0))},e.prototype.compareTo=function(i){return this.timestamp._compareTo(i.timestamp)},e.prototype.isEqual=function(i){return this.timestamp.isEqual(i.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function a1(e){var i=0;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i++;return i}function xg(e,i){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i(t,e[t])}function qE(e){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}var ZE=function(){function e(i,t,o){void 0===t?t=0:t>i.length&&vn(),void 0===o?o=i.length-t:o>i.length-t&&vn(),this.segments=i,this.offset=t,this.len=o}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(i){return 0===e.comparator(this,i)},e.prototype.child=function(i){var t=this.segments.slice(this.offset,this.limit());return i instanceof e?i.forEach(function(o){t.push(o)}):t.push(i),this.construct(t)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(i){return this.segments[this.offset+i]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(i){if(i.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==i.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(i){if(this.length+1!==i.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==i.get(t))return!1;return!0},e.prototype.forEach=function(i){for(var t=this.offset,o=this.limit();t<o;t++)i(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(i,t){for(var o=Math.min(i.length,t.length),s=0;s<o;s++){var l=i.get(s),h=t.get(s);if(l<h)return-1;if(l>h)return 1}return i.length<t.length?-1:i.length>t.length?1:0},e}(),Gr=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return(0,se.ZT)(i,e),i.prototype.construct=function(t,o,s){return new i(t,o,s)},i.prototype.canonicalString=function(){return this.toArray().join("/")},i.prototype.toString=function(){return this.canonicalString()},i.fromString=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];for(var s=[],l=0,h=t;l<h.length;l++){var v=h[l];if(v.indexOf("//")>=0)throw new Ct(tt.INVALID_ARGUMENT,"Invalid segment ("+v+"). Paths must not contain // in them.");s.push.apply(s,v.split("/").filter(function(w){return w.length>0}))}return new i(s)},i.emptyPath=function(){return new i([])},i}(ZE),RS=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ll=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return(0,se.ZT)(i,e),i.prototype.construct=function(t,o,s){return new i(t,o,s)},i.isValidIdentifier=function(t){return RS.test(t)},i.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},i.prototype.toString=function(){return this.canonicalString()},i.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},i.keyField=function(){return new i(["__name__"])},i.fromServerFormat=function(t){for(var o=[],s="",l=0,h=function(){if(0===s.length)throw new Ct(tt.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(s),s=""},v=!1;l<t.length;){var w=t[l];if("\\"===w){if(l+1===t.length)throw new Ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var D=t[l+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new Ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=D,l+=2}else"`"===w?(v=!v,l++):"."!==w||v?(s+=w,l++):(h(),l++)}if(h(),v)throw new Ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(o)},i.emptyPath=function(){return new i([])},i}(ZE),Eu=function(){function e(i){this.fields=i,i.sort(Ll.comparator)}return e.prototype.covers=function(i){for(var t=0,o=this.fields;t<o.length;t++)if(o[t].isPrefixOf(i))return!0;return!1},e.prototype.isEqual=function(i){return Ig(this.fields,i.fields,function(t,o){return t.isEqual(o)})},e}(),Au=function(){function e(i){this.binaryString=i}return e.fromBase64String=function(i){return new e(atob(i))},e.fromUint8Array=function(i){return new e(function(t){for(var o="",s=0;s<t.length;++s)o+=String.fromCharCode(t[s]);return o}(i))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(i){for(var t=new Uint8Array(i.length),o=0;o<i.length;o++)t[o]=i.charCodeAt(o);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(i){return Hr(this.binaryString,i.binaryString)},e.prototype.isEqual=function(i){return this.binaryString===i.binaryString},e}();Au.EMPTY_BYTE_STRING=new Au("");var u1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tc(e){if(nr(!!e),"string"==typeof e){var i=0,t=u1.exec(e);if(nr(!!t),t[1]){var o=t[1];o=(o+"000000000").substr(0,9),i=Number(o)}var s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:i}}return{seconds:fs(e.seconds),nanos:fs(e.nanos)}}function fs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hv(e){return"string"==typeof e?Au.fromBase64String(e):Au.fromUint8Array(e)}function l1(e){var i,t;return"server_timestamp"===(null===(t=((null===(i=e?.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function D0(e){var i=e.mapValue.fields.__previous_value__;return l1(i)?D0(i):i}function fp(e){var i=Tc(e.mapValue.fields.__local_write_time__.timestampValue);return new Fl(i.seconds,i.nanos)}function Pg(e){return null==e}function Ib(e){return 0===e&&1/e==-1/0}function c1(e){return"number"==typeof e&&Number.isInteger(e)&&!Ib(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var On=function(){function e(i){this.path=i}return e.fromPath=function(i){return new e(Gr.fromString(i))},e.fromName=function(i){return new e(Gr.fromString(i).popFirst(5))},e.prototype.hasCollectionId=function(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i},e.prototype.isEqual=function(i){return null!==i&&0===Gr.comparator(this.path,i.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(i,t){return Gr.comparator(i.path,t.path)},e.isDocumentKey=function(i){return i.length%2==0},e.fromSegments=function(i){return new e(new Gr(i.slice()))},e}();function vh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?l1(e)?4:10:vn()}function ud(e,i){var s,t=vh(e);if(t!==vh(i))return!1;switch(t){case 0:return!0;case 1:return e.booleanValue===i.booleanValue;case 4:return fp(e).isEqual(fp(i));case 3:return function(o,s){if("string"==typeof o.timestampValue&&"string"==typeof s.timestampValue&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;var l=Tc(o.timestampValue),h=Tc(s.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(e,i);case 5:return e.stringValue===i.stringValue;case 6:return s=i,hv(e.bytesValue).isEqual(hv(s.bytesValue));case 7:return e.referenceValue===i.referenceValue;case 8:return function(o,s){return fs(o.geoPointValue.latitude)===fs(s.geoPointValue.latitude)&&fs(o.geoPointValue.longitude)===fs(s.geoPointValue.longitude)}(e,i);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return fs(o.integerValue)===fs(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){var l=fs(o.doubleValue),h=fs(s.doubleValue);return l===h?Ib(l)===Ib(h):isNaN(l)&&isNaN(h)}return!1}(e,i);case 9:return Ig(e.arrayValue.values||[],i.arrayValue.values||[],ud);case 10:return function(o,s){var l=o.mapValue.fields||{},h=s.mapValue.fields||{};if(a1(l)!==a1(h))return!1;for(var v in l)if(l.hasOwnProperty(v)&&(void 0===h[v]||!ud(l[v],h[v])))return!1;return!0}(e,i);default:return vn()}}function S0(e,i){return void 0!==(e.values||[]).find(function(t){return ud(t,i)})}function pv(e,i){var s,l,h,v,t=vh(e),o=vh(i);if(t!==o)return Hr(t,o);switch(t){case 0:return 0;case 1:return Hr(e.booleanValue,i.booleanValue);case 2:return l=i,(h=fs((s=e).integerValue||s.doubleValue))<(v=fs(l.integerValue||l.doubleValue))?-1:h>v?1:h===v?0:isNaN(h)?isNaN(v)?0:-1:1;case 3:return FS(e.timestampValue,i.timestampValue);case 4:return FS(fp(e),fp(i));case 5:return Hr(e.stringValue,i.stringValue);case 6:return function(s,l){var h=hv(s),v=hv(l);return h.compareTo(v)}(e.bytesValue,i.bytesValue);case 7:return function(s,l){for(var h=s.split("/"),v=l.split("/"),w=0;w<h.length&&w<v.length;w++){var D=Hr(h[w],v[w]);if(0!==D)return D}return Hr(h.length,v.length)}(e.referenceValue,i.referenceValue);case 8:return function(s,l){var h=Hr(fs(s.latitude),fs(l.latitude));return 0!==h?h:Hr(fs(s.longitude),fs(l.longitude))}(e.geoPointValue,i.geoPointValue);case 9:return function(s,l){for(var h=s.values||[],v=l.values||[],w=0;w<h.length&&w<v.length;++w){var D=pv(h[w],v[w]);if(D)return D}return Hr(h.length,v.length)}(e.arrayValue,i.arrayValue);case 10:return function(s,l){var h=s.fields||{},v=Object.keys(h),w=l.fields||{},D=Object.keys(w);v.sort(),D.sort();for(var M=0;M<v.length&&M<D.length;++M){var k=Hr(v[M],D[M]);if(0!==k)return k;var H=pv(h[v[M]],w[D[M]]);if(0!==H)return H}return Hr(v.length,D.length)}(e.mapValue,i.mapValue);default:throw vn()}}function FS(e,i){if("string"==typeof e&&"string"==typeof i&&e.length===i.length)return Hr(e,i);var t=Tc(e),o=Tc(i),s=Hr(t.seconds,o.seconds);return 0!==s?s:Hr(t.nanos,o.nanos)}function I0(e){return x0(e)}function x0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?"time("+(s=Tc(e.timestampValue)).seconds+","+s.nanos+")":"stringValue"in e?e.stringValue:"bytesValue"in e?hv(e.bytesValue).toBase64():"referenceValue"in e?On.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(i=e.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in e?function(o){for(var s="[",l=!0,h=0,v=o.values||[];h<v.length;h++)l?l=!1:s+=",",s+=x0(v[h]);return s+"]"}(e.arrayValue):"mapValue"in e?function(o){for(var s="{",l=!0,h=0,v=Object.keys(o.fields||{}).sort();h<v.length;h++){var w=v[h];l?l=!1:s+=",",s+=w+":"+x0(o.fields[w])}return s+"}"}(e.mapValue):vn();var s,i}function P0(e,i){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+i.path.canonicalString()}}function M0(e){return!!e&&"integerValue"in e}function O0(e){return!!e&&"arrayValue"in e}function GE(e){return!!e&&"nullValue"in e}function $E(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xb(e){return!!e&&"mapValue"in e}function N0(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var i={mapValue:{fields:{}}};return xg(e.mapValue.fields,function(s,l){return i.mapValue.fields[s]=N0(l)}),i}if(e.arrayValue){for(var t={arrayValue:{values:[]}},o=0;o<(e.arrayValue.values||[]).length;++o)t.arrayValue.values[o]=N0(e.arrayValue.values[o]);return t}return Object.assign({},e)}var Xu=function(){function e(i){this.value=i}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(i){if(i.isEmpty())return this.value;for(var t=this.value,o=0;o<i.length-1;++o)if(!xb(t=(t.mapValue.fields||{})[i.get(o)]))return null;return(t=(t.mapValue.fields||{})[i.lastSegment()])||null},e.prototype.set=function(i,t){this.getFieldsMap(i.popLast())[i.lastSegment()]=N0(t)},e.prototype.setAll=function(i){var t=this,o=Ll.emptyPath(),s={},l=[];i.forEach(function(v,w){if(!o.isImmediateParentOf(w)){var D=t.getFieldsMap(o);t.applyChanges(D,s,l),s={},l=[],o=w.popLast()}v?s[w.lastSegment()]=N0(v):l.push(w.lastSegment())});var h=this.getFieldsMap(o);this.applyChanges(h,s,l)},e.prototype.delete=function(i){var t=this.field(i.popLast());xb(t)&&t.mapValue.fields&&delete t.mapValue.fields[i.lastSegment()]},e.prototype.isEqual=function(i){return ud(this.value,i.value)},e.prototype.getFieldsMap=function(i){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var o=0;o<i.length;++o){var s=t.mapValue.fields[i.get(o)];xb(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[i.get(o)]=s),t=s}return t.mapValue.fields},e.prototype.applyChanges=function(i,t,o){xg(t,function(v,w){return i[v]=w});for(var s=0,l=o;s<l.length;s++)delete i[l[s]]},e.prototype.clone=function(){return new e(N0(this.value))},e}();function Pb(e){var i=[];return xg(e.fields,function(t,o){var s=new Ll([t]);if(xb(o)){var l=Pb(o.mapValue).fields;if(0===l.length)i.push(s);else for(var h=0,v=l;h<v.length;h++)i.push(s.child(v[h]))}else i.push(s)}),new Eu(i)}var ta=function(){function e(i,t,o,s,l){this.key=i,this.documentType=t,this.version=o,this.data=s,this.documentState=l}return e.newInvalidDocument=function(i){return new e(i,0,Fr.min(),Xu.empty(),0)},e.newFoundDocument=function(i,t,o){return new e(i,1,t,o,0)},e.newNoDocument=function(i,t){return new e(i,2,t,Xu.empty(),0)},e.newUnknownDocument=function(i,t){return new e(i,3,t,Xu.empty(),2)},e.prototype.convertToFoundDocument=function(i,t){return this.version=i,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(i){return this.version=i,this.documentType=2,this.data=Xu.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(i){return this.version=i,this.documentType=3,this.data=Xu.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(i){return i instanceof e&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),zE=function(e,i,t,o,s,l,h){void 0===i&&(i=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===l&&(l=null),void 0===h&&(h=null),this.path=e,this.collectionGroup=i,this.orderBy=t,this.filters=o,this.limit=s,this.startAt=l,this.endAt=h,this.h=null};function d1(e,i,t,o,s,l,h){return void 0===i&&(i=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===l&&(l=null),void 0===h&&(h=null),new zE(e,i,t,o,s,l,h)}function gv(e){var i=Zt(e);if(null===i.h){var t=i.path.canonicalString();null!==i.collectionGroup&&(t+="|cg:"+i.collectionGroup),t+="|f:",t+=i.filters.map(function(o){return(s=o).field.canonicalString()+s.op.toString()+I0(s.value);var s}).join(","),t+="|ob:",t+=i.orderBy.map(function(o){return(s=o).field.canonicalString()+s.dir;var s}).join(","),Pg(i.limit)||(t+="|l:",t+=i.limit),i.startAt&&(t+="|lb:",t+=R0(i.startAt)),i.endAt&&(t+="|ub:",t+=R0(i.endAt)),i.h=t}return i.h}function Mb(e,i){if(e.limit!==i.limit||e.orderBy.length!==i.orderBy.length)return!1;for(var t=0;t<e.orderBy.length;t++)if(!F0(e.orderBy[t],i.orderBy[t]))return!1;if(e.filters.length!==i.filters.length)return!1;for(var o=0;o<e.filters.length;o++)if((s=e.filters[o]).op!==(l=i.filters[o]).op||!s.field.isEqual(l.field)||!ud(s.value,l.value))return!1;var s,l;return e.collectionGroup===i.collectionGroup&&!!e.path.isEqual(i.path)&&!!Nb(e.startAt,i.startAt)&&Nb(e.endAt,i.endAt)}function k0(e){return On.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var el=function(e){function i(t,o,s){var l=this;return(l=e.call(this)||this).field=t,l.op=o,l.value=s,l}return(0,se.ZT)(i,e),i.create=function(t,o,s){return t.isKeyField()?"in"===o||"not-in"===o?this.l(t,o,s):new LS(t,o,s):"array-contains"===o?new mv(t,s):"in"===o?new US(t,s):"not-in"===o?new BS(t,s):"array-contains-any"===o?new P2(t,s):new i(t,o,s)},i.l=function(t,o,s){return"in"===o?new WE(t,s):new YE(t,s)},i.prototype.matches=function(t){var o=t.data.field(this.field);return"!="===this.op?null!==o&&this.m(pv(o,this.value)):null!==o&&vh(this.value)===vh(o)&&this.m(pv(o,this.value))},i.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return vn()}},i.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},i}(function(){}),LS=function(e){function i(t,o,s){var l=this;return(l=e.call(this,t,o,s)||this).key=On.fromName(s.referenceValue),l}return(0,se.ZT)(i,e),i.prototype.matches=function(t){var o=On.comparator(t.key,this.key);return this.m(o)},i}(el),WE=function(e){function i(t,o){var s=this;return(s=e.call(this,t,"in",o)||this).keys=Wa(0,o),s}return(0,se.ZT)(i,e),i.prototype.matches=function(t){return this.keys.some(function(o){return o.isEqual(t.key)})},i}(el),YE=function(e){function i(t,o){var s=this;return(s=e.call(this,t,"not-in",o)||this).keys=Wa(0,o),s}return(0,se.ZT)(i,e),i.prototype.matches=function(t){return!this.keys.some(function(o){return o.isEqual(t.key)})},i}(el);function Wa(e,i){var t;return((null===(t=i.arrayValue)||void 0===t?void 0:t.values)||[]).map(function(o){return On.fromName(o.referenceValue)})}var mv=function(e){function i(t,o){return e.call(this,t,"array-contains",o)||this}return(0,se.ZT)(i,e),i.prototype.matches=function(t){var o=t.data.field(this.field);return O0(o)&&S0(o.arrayValue,this.value)},i}(el),US=function(e){function i(t,o){return e.call(this,t,"in",o)||this}return(0,se.ZT)(i,e),i.prototype.matches=function(t){var o=t.data.field(this.field);return null!==o&&S0(this.value.arrayValue,o)},i}(el),BS=function(e){function i(t,o){return e.call(this,t,"not-in",o)||this}return(0,se.ZT)(i,e),i.prototype.matches=function(t){if(S0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var o=t.data.field(this.field);return null!==o&&!S0(this.value.arrayValue,o)},i}(el),P2=function(e){function i(t,o){return e.call(this,t,"array-contains-any",o)||this}return(0,se.ZT)(i,e),i.prototype.matches=function(t){var o=this,s=t.data.field(this.field);return!(!O0(s)||!s.arrayValue.values)&&s.arrayValue.values.some(function(l){return S0(o.value.arrayValue,l)})},i}(el),Ob=function(e,i){this.position=e,this.before=i};function R0(e){return(e.before?"b":"a")+":"+e.position.map(function(i){return I0(i)}).join(",")}var Mg=function(e,i){void 0===i&&(i="asc"),this.field=e,this.dir=i};function F0(e,i){return e.dir===i.dir&&e.field.isEqual(i.field)}function KE(e,i,t){for(var o=0,s=0;s<e.position.length;s++){var l=i[s],h=e.position[s];if(o=l.field.isKeyField()?On.comparator(On.fromName(h.referenceValue),t.key):pv(h,t.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return e.before?o<=0:o<0}function Nb(e,i){if(null===e)return null===i;if(null===i||e.before!==i.before||e.position.length!==i.position.length)return!1;for(var t=0;t<e.position.length;t++)if(!ud(e.position[t],i.position[t]))return!1;return!0}var yh=function(e,i,t,o,s,l,h,v){void 0===i&&(i=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===l&&(l="F"),void 0===h&&(h=null),void 0===v&&(v=null),this.path=e,this.collectionGroup=i,this.explicitOrderBy=t,this.filters=o,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=v,this.p=null,this.T=null};function f1(e,i,t,o,s,l,h,v){return new yh(e,i,t,o,s,l,h,v)}function vv(e){return new yh(e)}function kb(e){return!Pg(e.limit)&&"F"===e.limitType}function Rb(e){return!Pg(e.limit)&&"L"===e.limitType}function L0(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Fb(e){for(var i=0,t=e.filters;i<t.length;i++){var o=t[i];if(o.g())return o.field}return null}function Lb(e){return null!==e.collectionGroup}function _h(e){var i=Zt(e);if(null===i.p){i.p=[];var t=Fb(i),o=L0(i);if(null!==t&&null===o)t.isKeyField()||i.p.push(new Mg(t)),i.p.push(new Mg(Ll.keyField(),"asc"));else{for(var s=!1,l=0,h=i.explicitOrderBy;l<h.length;l++){var v=h[l];i.p.push(v),v.field.isKeyField()&&(s=!0)}if(!s){var w=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.p.push(new Mg(Ll.keyField(),w))}}}return i.p}function tl(e){var i=Zt(e);if(!i.T)if("F"===i.limitType)i.T=d1(i.path,i.collectionGroup,_h(i),i.filters,i.limit,i.startAt,i.endAt);else{for(var t=[],o=0,s=_h(i);o<s.length;o++){var l=s[o];t.push(new Mg(l.field,"desc"===l.dir?"asc":"desc"))}var v=i.endAt?new Ob(i.endAt.position,!i.endAt.before):null,w=i.startAt?new Ob(i.startAt.position,!i.startAt.before):null;i.T=d1(i.path,i.collectionGroup,t,i.filters,i.limit,v,w)}return i.T}function VS(e,i,t){return new yh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),i,t,e.startAt,e.endAt)}function yv(e,i){return Mb(tl(e),tl(i))&&e.limitType===i.limitType}function QE(e){return gv(tl(e))+"|lt:"+e.limitType}function Ub(e){return"Query(target="+(t=(i=tl(e)).path.canonicalString(),null!==i.collectionGroup&&(t+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(t+=", filters: ["+i.filters.map(function(o){return(s=o).field.canonicalString()+" "+s.op+" "+I0(s.value);var s}).join(", ")+"]"),Pg(i.limit)||(t+=", limit: "+i.limit),i.orderBy.length>0&&(t+=", orderBy: ["+i.orderBy.map(function(o){return(s=o).field.canonicalString()+" ("+s.dir+")";var s}).join(", ")+"]"),i.startAt&&(t+=", startAt: "+R0(i.startAt)),i.endAt&&(t+=", endAt: "+R0(i.endAt)),"Target("+t+"); limitType=")+e.limitType+")";var i,t}function uf(e,i){return i.isFoundDocument()&&(s=(o=i).key.path,null!==(t=e).collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):On.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s))&&function(t,o){for(var s=0,l=t.explicitOrderBy;s<l.length;s++){var h=l[s];if(!h.field.isKeyField()&&null===o.data.field(h.field))return!1}return!0}(e,i)&&function(t,o){for(var s=0,l=t.filters;s<l.length;s++)if(!l[s].matches(o))return!1;return!0}(e,i)&&function(t,o){return!(t.startAt&&!KE(t.startAt,_h(t),o)||t.endAt&&KE(t.endAt,_h(t),o))}(e,i);var t,o,s}function JE(e){return function(i,t){for(var o=!1,s=0,l=_h(e);s<l.length;s++){var h=l[s],v=XE(h,i,t);if(0!==v)return v;o=o||h.field.isKeyField()}return 0}}function XE(e,i,t){var s,h,v,w,o=e.field.isKeyField()?On.comparator(i.key,t.key):(h=t,v=i.data.field(s=e.field),w=h.data.field(s),null!==v&&null!==w?pv(v,w):vn());switch(e.dir){case"asc":return o;case"desc":return-1*o;default:return vn()}}function Bb(e,i){if(e.I){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ib(i)?"-0":i}}function jS(e){return{integerValue:""+e}}function eA(e,i){return c1(i)?jS(i):Bb(e,i)}var h1=function(){this._=void 0};function HS(e,i,t){return e instanceof Og?(l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(o=t).seconds,nanos:o.nanoseconds}}}},(s=i)&&(l.fields.__previous_value__=s),{mapValue:l}):e instanceof hp?nA(e,i):e instanceof pp?p1(e,i):function(o,s){var l=tA(o,s),h=rA(l)+rA(o.A);return M0(l)&&M0(o.A)?jS(h):Bb(o.R,h)}(e,i);var o,s,l}function qS(e,i,t){return e instanceof hp?nA(e,i):e instanceof pp?p1(e,i):t}function tA(e,i){return e instanceof _v?M0(t=i)||(o=t)&&"doubleValue"in o?i:{integerValue:0}:null;var o,t}var Og=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return(0,se.ZT)(i,e),i}(h1),hp=function(e){function i(t){var o=this;return(o=e.call(this)||this).elements=t,o}return(0,se.ZT)(i,e),i}(h1);function nA(e,i){for(var t=g1(i),o=function(h){t.some(function(v){return ud(v,h)})||t.push(h)},s=0,l=e.elements;s<l.length;s++)o(l[s]);return{arrayValue:{values:t}}}var pp=function(e){function i(t){var o=this;return(o=e.call(this)||this).elements=t,o}return(0,se.ZT)(i,e),i}(h1);function p1(e,i){for(var t=g1(i),o=function(h){t=t.filter(function(v){return!ud(v,h)})},s=0,l=e.elements;s<l.length;s++)o(l[s]);return{arrayValue:{values:t}}}var _v=function(e){function i(t,o){var s=this;return(s=e.call(this)||this).R=t,s.A=o,s}return(0,se.ZT)(i,e),i}(h1);function rA(e){return fs(e.integerValue||e.doubleValue)}function g1(e){return O0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var U0=function(e,i){this.field=e,this.transform=i},iA=function(e,i){this.version=e,this.transformResults=i},Ea=function(){function e(i,t){this.updateTime=i,this.exists=t}return e.none=function(){return new e},e.exists=function(i){return new e(void 0,i)},e.updateTime=function(i){return new e(i)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)},e}();function B0(e,i){return void 0!==e.updateTime?i.isFoundDocument()&&i.version.isEqual(e.updateTime):void 0===e.exists||e.exists===i.isFoundDocument()}var V0=function(){};function ZS(e,i,t){var o,s,l,h,v;e instanceof Vb?(s=i,l=t,h=(o=e).value.clone(),v=$S(o.fieldTransforms,s,l.transformResults),h.setAll(v),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()):e instanceof Ng?function(o,s,l){if(B0(o.precondition,s)){var h=$S(o.fieldTransforms,s,l.transformResults),v=s.data;v.setAll(oA(o)),v.setAll(h),s.convertToFoundDocument(l.version,v).setHasCommittedMutations()}else s.convertToUnknownDocument(l.version)}(e,i,t):function(o,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,i,t)}function m1(e,i,t){var s;e instanceof Vb?function(o,s,l){if(B0(o.precondition,s)){var h=o.value.clone(),v=zS(o.fieldTransforms,l,s);h.setAll(v),s.convertToFoundDocument(GS(s),h).setHasLocalMutations()}}(e,i,t):e instanceof Ng?function(o,s,l){if(B0(o.precondition,s)){var h=zS(o.fieldTransforms,l,s),v=s.data;v.setAll(oA(o)),v.setAll(h),s.convertToFoundDocument(GS(s),v).setHasLocalMutations()}}(e,i,t):B0(e.precondition,s=i)&&s.convertToNoDocument(Fr.min())}function M2(e,i){for(var t=null,o=0,s=e.fieldTransforms;o<s.length;o++){var l=s[o],h=i.data.field(l.field),v=tA(l.transform,h||null);null!=v&&(null==t&&(t=Xu.empty()),t.set(l.field,v))}return t||null}function v1(e,i){return e.type===i.type&&!!e.key.isEqual(i.key)&&!!e.precondition.isEqual(i.precondition)&&(o=i.fieldTransforms,!!(void 0===(t=e.fieldTransforms)&&void 0===o||t&&o&&Ig(t,o,function(s,l){return(h=s).field.isEqual((v=l).field)&&(D=v.transform,(w=h.transform)instanceof hp&&D instanceof hp||w instanceof pp&&D instanceof pp?Ig(w.elements,D.elements,ud):w instanceof _v&&D instanceof _v?ud(w.A,D.A):w instanceof Og&&D instanceof Og);var h,v,w,D})))&&(0===e.type?e.value.isEqual(i.value):1!==e.type||e.data.isEqual(i.data)&&e.fieldMask.isEqual(i.fieldMask));var t,o}function GS(e){return e.isFoundDocument()?e.version:Fr.min()}var Vb=function(e){function i(t,o,s,l){void 0===l&&(l=[]);var h=this;return(h=e.call(this)||this).key=t,h.value=o,h.precondition=s,h.fieldTransforms=l,h.type=0,h}return(0,se.ZT)(i,e),i}(V0),Ng=function(e){function i(t,o,s,l,h){void 0===h&&(h=[]);var v=this;return(v=e.call(this)||this).key=t,v.data=o,v.fieldMask=s,v.precondition=l,v.fieldTransforms=h,v.type=1,v}return(0,se.ZT)(i,e),i}(V0);function oA(e){var i=new Map;return e.fieldMask.fields.forEach(function(t){if(!t.isEmpty()){var o=e.data.field(t);i.set(t,o)}}),i}function $S(e,i,t){var o=new Map;nr(e.length===t.length);for(var s=0;s<t.length;s++){var l=e[s],h=l.transform,v=i.data.field(l.field);o.set(l.field,qS(h,v,t[s]))}return o}function zS(e,i,t){for(var o=new Map,s=0,l=e;s<l.length;s++){var h=l[s],v=h.transform,w=t.data.field(h.field);o.set(h.field,HS(v,w,i))}return o}var Is,ui,gp=function(e){function i(t,o){var s=this;return(s=e.call(this)||this).key=t,s.precondition=o,s.type=2,s.fieldTransforms=[],s}return(0,se.ZT)(i,e),i}(V0),sA=function(e){function i(t,o){var s=this;return(s=e.call(this)||this).key=t,s.precondition=o,s.type=3,s.fieldTransforms=[],s}return(0,se.ZT)(i,e),i}(V0),aA=function(e){this.count=e};function j0(e){switch(e){case tt.OK:return vn();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return vn()}}function y1(e){if(void 0===e)return ds("GRPC error has no .code"),tt.UNKNOWN;switch(e){case Is.OK:return tt.OK;case Is.CANCELLED:return tt.CANCELLED;case Is.UNKNOWN:return tt.UNKNOWN;case Is.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Is.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Is.INTERNAL:return tt.INTERNAL;case Is.UNAVAILABLE:return tt.UNAVAILABLE;case Is.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Is.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Is.NOT_FOUND:return tt.NOT_FOUND;case Is.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Is.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Is.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Is.ABORTED:return tt.ABORTED;case Is.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Is.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Is.DATA_LOSS:return tt.DATA_LOSS;default:return vn()}}(ui=Is||(Is={}))[ui.OK=0]="OK",ui[ui.CANCELLED=1]="CANCELLED",ui[ui.UNKNOWN=2]="UNKNOWN",ui[ui.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ui[ui.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ui[ui.NOT_FOUND=5]="NOT_FOUND",ui[ui.ALREADY_EXISTS=6]="ALREADY_EXISTS",ui[ui.PERMISSION_DENIED=7]="PERMISSION_DENIED",ui[ui.UNAUTHENTICATED=16]="UNAUTHENTICATED",ui[ui.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ui[ui.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ui[ui.ABORTED=10]="ABORTED",ui[ui.OUT_OF_RANGE=11]="OUT_OF_RANGE",ui[ui.UNIMPLEMENTED=12]="UNIMPLEMENTED",ui[ui.INTERNAL=13]="INTERNAL",ui[ui.UNAVAILABLE=14]="UNAVAILABLE",ui[ui.DATA_LOSS=15]="DATA_LOSS";var Aa=function(){function e(i,t){this.comparator=i,this.root=t||lf.EMPTY}return e.prototype.insert=function(i,t){return new e(this.comparator,this.root.insert(i,t,this.comparator).copy(null,null,lf.BLACK,null,null))},e.prototype.remove=function(i){return new e(this.comparator,this.root.remove(i,this.comparator).copy(null,null,lf.BLACK,null,null))},e.prototype.get=function(i){for(var t=this.root;!t.isEmpty();){var o=this.comparator(i,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null},e.prototype.indexOf=function(i){for(var t=0,o=this.root;!o.isEmpty();){var s=this.comparator(i,o.key);if(0===s)return t+o.left.size;s<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(i){return this.root.inorderTraversal(i)},e.prototype.forEach=function(i){this.inorderTraversal(function(t,o){return i(t,o),!1})},e.prototype.toString=function(){var i=[];return this.inorderTraversal(function(t,o){return i.push(t+":"+o),!1}),"{"+i.join(", ")+"}"},e.prototype.reverseTraversal=function(i){return this.root.reverseTraversal(i)},e.prototype.getIterator=function(){return new _1(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(i){return new _1(this.root,i,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new _1(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(i){return new _1(this.root,i,this.comparator,!0)},e}(),_1=function(){function e(i,t,o,s){this.isReverse=s,this.nodeStack=[];for(var l=1;!i.isEmpty();)if(l=t?o(i.key,t):1,s&&(l*=-1),l<0)i=this.isReverse?i.left:i.right;else{if(0===l){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}return e.prototype.getNext=function(){var i=this.nodeStack.pop(),t={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}},e}(),lf=function(){function e(i,t,o,s,l){this.key=i,this.value=t,this.color=o??e.RED,this.left=s??e.EMPTY,this.right=l??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(i,t,o,s,l){return new e(i??this.key,t??this.value,o??this.color,s??this.left,l??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)},e.prototype.reverseTraversal=function(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(i,t,o){var s=this,l=o(i,s.key);return(s=l<0?s.copy(null,null,null,s.left.insert(i,t,o),null):0===l?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(i,t,o))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),(i=i.copy(null,null,null,i.left.removeMin(),null)).fixUp()},e.prototype.remove=function(i,t){var o,s=this;if(t(i,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(i,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(i,s.key)){if(s.right.isEmpty())return e.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(i,t))}return s.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i},e.prototype.moveRedLeft=function(){var i=this.colorFlip();return i.right.left.isRed()&&(i=(i=(i=i.copy(null,null,null,null,i.right.rotateRight())).rotateLeft()).colorFlip()),i},e.prototype.moveRedRight=function(){var i=this.colorFlip();return i.left.left.isRed()&&(i=(i=i.rotateRight()).colorFlip()),i},e.prototype.rotateLeft=function(){var i=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},e.prototype.rotateRight=function(){var i=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},e.prototype.colorFlip=function(){var i=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,t)},e.prototype.checkMaxDepth=function(){var i=this.check();return Math.pow(2,i)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vn();var i=this.left.check();if(i!==this.right.check())throw vn();return i+(this.isRed()?0:1)},e}();lf.EMPTY=null,lf.RED=!0,lf.BLACK=!1,lf.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw vn()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw vn()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw vn()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw vn()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw vn()},enumerable:!1,configurable:!0}),e.prototype.copy=function(i,t,o,s,l){return this},e.prototype.insert=function(i,t,o){return new lf(i,t)},e.prototype.remove=function(i,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(i){return!1},e.prototype.reverseTraversal=function(i){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var hs=function(){function e(i){this.comparator=i,this.data=new Aa(this.comparator)}return e.prototype.has=function(i){return null!==this.data.get(i)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(i){return this.data.indexOf(i)},e.prototype.forEach=function(i){this.data.inorderTraversal(function(t,o){return i(t),!1})},e.prototype.forEachInRange=function(i,t){for(var o=this.data.getIteratorFrom(i[0]);o.hasNext();){var s=o.getNext();if(this.comparator(s.key,i[1])>=0)return;t(s.key)}},e.prototype.forEachWhile=function(i,t){var o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!i(o.getNext().key))return},e.prototype.firstAfterOrEqual=function(i){var t=this.data.getIteratorFrom(i);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new uA(this.data.getIterator())},e.prototype.getIteratorFrom=function(i){return new uA(this.data.getIteratorFrom(i))},e.prototype.add=function(i){return this.copy(this.data.remove(i).insert(i,!0))},e.prototype.delete=function(i){return this.has(i)?this.copy(this.data.remove(i)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(i){var t=this;return t.size<i.size&&(t=i,i=this),i.forEach(function(o){t=t.add(o)}),t},e.prototype.isEqual=function(i){if(!(i instanceof e)||this.size!==i.size)return!1;for(var t=this.data.getIterator(),o=i.data.getIterator();t.hasNext();){var s=t.getNext().key,l=o.getNext().key;if(0!==this.comparator(s,l))return!1}return!0},e.prototype.toArray=function(){var i=[];return this.forEach(function(t){i.push(t)}),i},e.prototype.toString=function(){var i=[];return this.forEach(function(t){return i.push(t)}),"SortedSet("+i.toString()+")"},e.prototype.copy=function(i){var t=new e(this.comparator);return t.data=i,t},e}(),uA=function(){function e(i){this.iter=i}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),lA=new Aa(On.comparator);function ld(){return lA}var WS=new Aa(On.comparator);function b1(){return WS}var YS=new Aa(On.comparator);function H0(){return YS}var KS=new hs(On.comparator);function Bi(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var t=KS,o=0,s=e;o<s.length;o++){var l=s[o];t=t.add(l)}return t}var O2=new hs(Hr);function w1(){return O2}var C1=function(){function e(i,t,o,s,l){this.snapshotVersion=i,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=l}return e.createSynthesizedRemoteEventForCurrentChange=function(i,t){var o=new Map;return o.set(i,T1.createSynthesizedTargetChangeForCurrentChange(i,t)),new e(Fr.min(),o,w1(),ld(),Bi())},e}(),T1=function(){function e(i,t,o,s,l){this.resumeToken=i,this.current=t,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=l}return e.createSynthesizedTargetChangeForCurrentChange=function(i,t){return new e(Au.EMPTY_BYTE_STRING,t,Bi(),Bi(),Bi())},e}(),jb=function(e,i,t,o){this.v=e,this.removedTargetIds=i,this.key=t,this.P=o},QS=function(e,i){this.targetId=e,this.V=i},cA=function(e,i,t,o){void 0===t&&(t=Au.EMPTY_BYTE_STRING),void 0===o&&(o=null),this.state=e,this.targetIds=i,this.resumeToken=t,this.cause=o},E1=function(){function e(){this.S=0,this.D=Ec(),this.C=Au.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(i){i.approximateByteSize()>0&&(this.k=!0,this.C=i)},e.prototype.M=function(){var i=Bi(),t=Bi(),o=Bi();return this.D.forEach(function(s,l){switch(l){case 0:i=i.add(s);break;case 2:t=t.add(s);break;case 1:o=o.add(s);break;default:vn()}}),new T1(this.C,this.N,i,t,o)},e.prototype.L=function(){this.k=!1,this.D=Ec()},e.prototype.B=function(i,t){this.k=!0,this.D=this.D.insert(i,t)},e.prototype.q=function(i){this.k=!0,this.D=this.D.remove(i)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),dA=function(){function e(i){this.W=i,this.G=new Map,this.H=ld(),this.J=JS(),this.Y=new hs(Hr)}return e.prototype.X=function(i){for(var t=0,o=i.v;t<o.length;t++){var s=o[t];i.P&&i.P.isFoundDocument()?this.Z(s,i.P):this.tt(s,i.key,i.P)}for(var l=0,h=i.removedTargetIds;l<h.length;l++)this.tt(s=h[l],i.key,i.P)},e.prototype.et=function(i){var t=this;this.forEachTarget(i,function(o){var s=t.nt(o);switch(i.state){case 0:t.st(o)&&s.O(i.resumeToken);break;case 1:s.K(),s.F||s.L(),s.O(i.resumeToken);break;case 2:s.K(),s.F||t.removeTarget(o);break;case 3:t.st(o)&&(s.j(),s.O(i.resumeToken));break;case 4:t.st(o)&&(t.it(o),s.O(i.resumeToken));break;default:vn()}})},e.prototype.forEachTarget=function(i,t){var o=this;i.targetIds.length>0?i.targetIds.forEach(t):this.G.forEach(function(s,l){o.st(l)&&t(l)})},e.prototype.rt=function(i){var t=i.targetId,o=i.V.count,s=this.ot(t);if(s){var l=s.target;if(k0(l))if(0===o){var h=new On(l.path);this.tt(t,h,ta.newNoDocument(h,Fr.min()))}else nr(1===o);else this.ct(t)!==o&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(i){var t=this,o=new Map;this.G.forEach(function(h,v){var w=t.ot(v);if(w){if(h.current&&k0(w.target)){var D=new On(w.target.path);null!==t.H.get(D)||t.at(v,D)||t.tt(v,D,ta.newNoDocument(D,i))}h.$&&(o.set(v,h.M()),h.L())}});var s=Bi();this.J.forEach(function(h,v){var w=!0;v.forEachWhile(function(D){var M=t.ot(D);return!M||2===M.purpose||(w=!1,!1)}),w&&(s=s.add(h))});var l=new C1(i,o,this.Y,this.H,s);return this.H=ld(),this.J=JS(),this.Y=new hs(Hr),l},e.prototype.Z=function(i,t){if(this.st(i)){var o=this.at(i,t.key)?2:0;this.nt(i).B(t.key,o),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(i))}},e.prototype.tt=function(i,t,o){if(this.st(i)){var s=this.nt(i);this.at(i,t)?s.B(t,1):s.q(t),this.J=this.J.insert(t,this.ht(t).delete(i)),o&&(this.H=this.H.insert(t,o))}},e.prototype.removeTarget=function(i){this.G.delete(i)},e.prototype.ct=function(i){var t=this.nt(i).M();return this.W.getRemoteKeysForTarget(i).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(i){this.nt(i).U()},e.prototype.nt=function(i){var t=this.G.get(i);return t||(t=new E1,this.G.set(i,t)),t},e.prototype.ht=function(i){var t=this.J.get(i);return t||(t=new hs(Hr),this.J=this.J.insert(i,t)),t},e.prototype.st=function(i){var t=null!==this.ot(i);return t||Ft("WatchChangeAggregator","Detected inactive target",i),t},e.prototype.ot=function(i){var t=this.G.get(i);return t&&t.F?null:this.W.lt(i)},e.prototype.it=function(i){var t=this;this.G.set(i,new E1),this.W.getRemoteKeysForTarget(i).forEach(function(o){t.tt(i,o,null)})},e.prototype.at=function(i,t){return this.W.getRemoteKeysForTarget(i).has(t)},e}();function JS(){return new Aa(On.comparator)}function Ec(){return new Aa(On.comparator)}var XS={asc:"ASCENDING",desc:"DESCENDING"},A1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eI=function(e,i){this.databaseId=e,this.I=i};function Ya(e,i){return e.I?new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+i.nanoseconds).slice(-9)+"Z":{seconds:""+i.seconds,nanos:i.nanoseconds}}function fA(e,i){return e.I?i.toBase64():i.toUint8Array()}function D1(e,i){return Ya(e,i.toTimestamp())}function na(e){return nr(!!e),Fr.fromTimestamp((t=Tc(e),new Fl(t.seconds,t.nanos)));var t}function S1(e,i){return(t=e,new Gr(["projects",t.projectId,"databases",t.database])).child("documents").child(i).canonicalString();var t}function Hb(e){var i=Gr.fromString(e);return nr(O1(i)),i}function bv(e,i){return S1(e.databaseId,i.path)}function cd(e,i){var t=Hb(i);if(t.get(1)!==e.databaseId.projectId)throw new Ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new Ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new On(hA(t))}function I1(e,i){return S1(e.databaseId,i)}function x1(e){var i=Hb(e);return 4===i.length?Gr.emptyPath():hA(i)}function wv(e){return new Gr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hA(e){return nr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function P1(e,i,t){return{name:bv(e,i),fields:t.value.mapValue.fields}}function pA(e,i,t){var o=cd(e,i.name),s=na(i.updateTime),l=new Xu({mapValue:{fields:i.fields}}),h=ta.newFoundDocument(o,s,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Cv(e,i){var t,s;if(i instanceof Vb)t={update:P1(e,i.key,i.value)};else if(i instanceof gp)t={delete:bv(e,i.key)};else if(i instanceof Ng)t={update:P1(e,i.key,i.data),updateMask:iI(i.fieldMask)};else{if(!(i instanceof sA))return vn();t={verify:bv(e,i.key)}}return i.fieldTransforms.length>0&&(t.updateTransforms=i.fieldTransforms.map(function(o){return function(s,l){var h=l.transform;if(h instanceof Og)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof hp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof _v)return{fieldPath:l.field.canonicalString(),increment:h.A};throw vn()}(0,o)})),i.precondition.isNone||(t.currentDocument=void 0!==(s=i.precondition).updateTime?{updateTime:D1(e,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:vn()),t}function bh(e,i){var D,t=i.currentDocument?void 0!==(D=i.currentDocument).updateTime?Ea.updateTime(na(D.updateTime)):void 0!==D.exists?Ea.exists(D.exists):Ea.none():Ea.none(),o=i.updateTransforms?i.updateTransforms.map(function(D){return function(M,k){var H=null;"setToServerValue"in k?(nr("REQUEST_TIME"===k.setToServerValue),H=new Og):"appendMissingElements"in k?H=new hp(k.appendMissingElements.values||[]):"removeAllFromArray"in k?H=new pp(k.removeAllFromArray.values||[]):"increment"in k?H=new _v(M,k.increment):vn();var ue=Ll.fromServerFormat(k.fieldPath);return new U0(ue,H)}(e,D)}):[];if(i.update){var s=cd(e,i.update.name),l=new Xu({mapValue:{fields:i.update.fields}});if(i.updateMask){var h=function(D){return new Eu((D.fieldPaths||[]).map(function(k){return Ll.fromServerFormat(k)}))}(i.updateMask);return new Ng(s,l,h,t,o)}return new Vb(s,l,t,o)}if(i.delete){var v=cd(e,i.delete);return new gp(v,t)}if(i.verify){var w=cd(e,i.verify);return new sA(w,t)}return vn()}function M1(e,i){return{documents:[I1(e,i.path)]}}function qb(e,i){var t={structuredQuery:{}},o=i.path;null!==i.collectionGroup?(t.parent=I1(e,o),t.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(t.parent=I1(e,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);var s=function(v){if(0!==v.length){var w=v.map(function(D){return function(M){if("=="===M.op){if($E(M.value))return{unaryFilter:{field:Tv(M.field),op:"IS_NAN"}};if(GE(M.value))return{unaryFilter:{field:Tv(M.field),op:"IS_NULL"}}}else if("!="===M.op){if($E(M.value))return{unaryFilter:{field:Tv(M.field),op:"IS_NOT_NAN"}};if(GE(M.value))return{unaryFilter:{field:Tv(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tv(M.field),op:rI(M.op),value:M.value}}}(D)});return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}}(i.filters);s&&(t.structuredQuery.where=s);var l=function(v){if(0!==v.length)return v.map(function(w){return{field:Tv((D=w).field),direction:nI(D.dir)};var D})}(i.orderBy);l&&(t.structuredQuery.orderBy=l);var w,h=(w=i.limit,e.I||Pg(w)?w:{value:w});return null!==h&&(t.structuredQuery.limit=h),i.startAt&&(t.structuredQuery.startAt=tI(i.startAt)),i.endAt&&(t.structuredQuery.endAt=tI(i.endAt)),t}function cf(e){var i=x1(e.parent),t=e.structuredQuery,o=t.from?t.from.length:0,s=null;if(o>0){nr(1===o);var l=t.from[0];l.allDescendants?s=l.collectionId:i=i.child(l.collectionId)}var h=[];t.where&&(h=gA(t.where));var v=[];t.orderBy&&(v=t.orderBy.map(function(k){return new Mg(kg((H=k).field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction));var H}));var k,H,w=null;t.limit&&(w=Pg(H="object"==typeof(k=t.limit)?k.value:k)?null:H);var D=null;t.startAt&&(D=mA(t.startAt));var M=null;return t.endAt&&(M=mA(t.endAt)),f1(i,s,v,h,w,"F",D,M)}function gA(e){return e?void 0!==e.unaryFilter?[vA(e)]:void 0!==e.fieldFilter?[N2(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(i){return gA(i)}).reduce(function(i,t){return i.concat(t)}):vn():[]}function tI(e){return{before:e.before,values:e.position}}function mA(e){return new Ob(e.values||[],!!e.before)}function nI(e){return XS[e]}function rI(e){return A1[e]}function Tv(e){return{fieldPath:e.canonicalString()}}function kg(e){return Ll.fromServerFormat(e.fieldPath)}function N2(e){return el.create(kg(e.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vn()}}(e.fieldFilter.op),e.fieldFilter.value)}function vA(e){switch(e.unaryFilter.op){case"IS_NAN":var i=kg(e.unaryFilter.field);return el.create(i,"==",{doubleValue:NaN});case"IS_NULL":var t=kg(e.unaryFilter.field);return el.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var o=kg(e.unaryFilter.field);return el.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var s=kg(e.unaryFilter.field);return el.create(s,"!=",{nullValue:"NULL_VALUE"});default:return vn()}}function iI(e){var i=[];return e.fields.forEach(function(t){return i.push(t.canonicalString())}),{fieldPaths:i}}function O1(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function df(e){for(var i="",t=0;t<e.length;t++)i.length>0&&(i=k1(i)),i=N1(e.get(t),i);return k1(i)}function N1(e,i){for(var t=i,o=e.length,s=0;s<o;s++){var l=e.charAt(s);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function k1(e){return e+"\x01\x01"}function ff(e){var i=e.length;if(nr(i>=2),2===i)return nr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Gr.emptyPath();for(var t=i-2,o=[],s="",l=0;l<i;){var h=e.indexOf("\x01",l);switch((h<0||h>t)&&vn(),e.charAt(h+1)){case"\x01":var v=e.substring(l,h),w=void 0;0===s.length?w=v:(w=s+=v,s=""),o.push(w);break;case"\x10":s+=e.substring(l,h),s+="\0";break;case"\x11":s+=e.substring(l,h+1);break;default:vn()}l=h+2}return new Gr(o)}var yA=function(e,i){this.seconds=e,this.nanoseconds=i},nl=function(e,i,t){this.ownerId=e,this.allowTabSynchronization=i,this.leaseTimestampMs=t};nl.store="owner",nl.key="owner";var wh=function(e,i,t){this.userId=e,this.lastAcknowledgedBatchId=i,this.lastStreamToken=t};wh.store="mutationQueues",wh.keyPath="userId";var Vi=function(e,i,t,o,s){this.userId=e,this.batchId=i,this.localWriteTimeMs=t,this.baseMutations=o,this.mutations=s};Vi.store="mutations",Vi.keyPath="batchId",Vi.userMutationsIndex="userMutationsIndex",Vi.userMutationsKeyPath=["userId","batchId"];var xs=function(){function e(){}return e.prefixForUser=function(i){return[i]},e.prefixForPath=function(i,t){return[i,df(t)]},e.key=function(i,t,o){return[i,df(t),o]},e}();xs.store="documentMutations",xs.PLACEHOLDER=new xs;var _A=function(e,i){this.path=e,this.readTime=i},oI=function(e,i){this.path=e,this.version=i},Lo=function(e,i,t,o,s,l){this.unknownDocument=e,this.noDocument=i,this.document=t,this.hasCommittedMutations=o,this.readTime=s,this.parentPath=l};Lo.store="remoteDocuments",Lo.readTimeIndex="readTimeIndex",Lo.readTimeIndexPath="readTime",Lo.collectionReadTimeIndex="collectionReadTimeIndex",Lo.collectionReadTimeIndexPath=["parentPath","readTime"];var dd=function(e){this.byteSize=e};dd.store="remoteDocumentGlobal",dd.key="remoteDocumentGlobalKey";var rl=function(e,i,t,o,s,l,h){this.targetId=e,this.canonicalId=i,this.readTime=t,this.resumeToken=o,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=l,this.query=h};rl.store="targets",rl.keyPath="targetId",rl.queryTargetsIndexName="queryTargetsIndex",rl.queryTargetsKeyPath=["canonicalId","targetId"];var Da=function(e,i,t){this.targetId=e,this.path=i,this.sequenceNumber=t};Da.store="targetDocuments",Da.keyPath=["targetId","path"],Da.documentTargetsIndex="documentTargetsIndex",Da.documentTargetsKeyPath=["path","targetId"];var Ac=function(e,i,t,o){this.highestTargetId=e,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=t,this.targetCount=o};Ac.key="targetGlobalKey",Ac.store="targetGlobal";var Ev=function(e,i){this.collectionId=e,this.parent=i};Ev.store="collectionParents",Ev.keyPath=["collectionId","parent"];var hf=function(e,i,t,o){this.clientId=e,this.updateTimeMs=i,this.networkEnabled=t,this.inForeground=o};hf.store="clientMetadata",hf.keyPath="clientId";var Av=function(e,i,t){this.bundleId=e,this.createTime=i,this.version=t};Av.store="bundles",Av.keyPath="bundleId";var Dv=function(e,i,t){this.name=e,this.readTime=i,this.bundledQuery=t};Dv.store="namedQueries",Dv.keyPath="name";var sI=(0,se.ev)((0,se.ev)([],(0,se.ev)((0,se.ev)([],(0,se.ev)((0,se.ev)([],(0,se.ev)((0,se.ev)([],[wh.store,Vi.store,xs.store,Lo.store,rl.store,nl.store,Ac.store,Da.store]),[hf.store])),[dd.store])),[Ev.store])),[Av.store,Dv.store]),aI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uI=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(i){this.onCommittedListeners.push(i)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(i){return i()})},e}(),Du=function(){var e=this;this.promise=new Promise(function(i,t){e.resolve=i,e.reject=t})},Mt=function(){function e(i){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(function(o){t.isDone=!0,t.result=o,t.nextCallback&&t.nextCallback(o)},function(o){t.isDone=!0,t.error=o,t.catchCallback&&t.catchCallback(o)})}return e.prototype.catch=function(i){return this.next(void 0,i)},e.prototype.next=function(i,t){var o=this;return this.callbackAttached&&vn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(i,this.result):new e(function(s,l){o.nextCallback=function(h){o.wrapSuccess(i,h).next(s,l)},o.catchCallback=function(h){o.wrapFailure(t,h).next(s,l)}})},e.prototype.toPromise=function(){var i=this;return new Promise(function(t,o){i.next(t,o)})},e.prototype.wrapUserFunction=function(i){try{var t=i();return t instanceof e?t:e.resolve(t)}catch(o){return e.reject(o)}},e.prototype.wrapSuccess=function(i,t){return i?this.wrapUserFunction(function(){return i(t)}):e.resolve(t)},e.prototype.wrapFailure=function(i,t){return i?this.wrapUserFunction(function(){return i(t)}):e.reject(t)},e.resolve=function(i){return new e(function(t,o){t(i)})},e.reject=function(i){return new e(function(t,o){o(i)})},e.waitFor=function(i){return new e(function(t,o){var s=0,l=0,h=!1;i.forEach(function(v){++s,v.next(function(){++l,h&&l===s&&t()},function(w){return o(w)})}),h=!0,l===s&&t()})},e.or=function(i){for(var t=e.resolve(!1),o=function(h){t=t.next(function(v){return v?e.resolve(v):h()})},s=0,l=i;s<l.length;s++)o(l[s]);return t},e.forEach=function(i,t){var o=this,s=[];return i.forEach(function(l,h){s.push(t.call(o,l,h))}),this.waitFor(s)},e}(),lI=function(){function e(i,t){var o=this;this.action=i,this.transaction=t,this.aborted=!1,this.ft=new Du,this.transaction.oncomplete=function(){o.ft.resolve()},this.transaction.onabort=function(){t.error?o.ft.reject(new q0(i,t.error)):o.ft.resolve()},this.transaction.onerror=function(s){var l=Z0(s.target.error);o.ft.reject(new q0(i,l))}}return e.open=function(i,t,o,s){try{return new e(t,i.transaction(s,o))}catch(l){throw new q0(t,l)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(i){i&&this.ft.reject(i),this.aborted||(Ft("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(i){var t=this.transaction.objectStore(i);return new bA(t)},e}(),Sv=function(){function e(i,t,o){this.name=i,this.version=t,this.wt=o,12.2===e._t((0,Dr.z$)())&&ds("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(i){return Ft("SimpleDb","Removing database:",i),Ul(window.indexedDB.deleteDatabase(i)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var i=(0,Dr.z$)(),t=e._t(i),o=0<t&&t<10,s=e.Et(i),l=0<s&&s<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||o||l)},e.gt=function(){var i;return typeof process<"u"&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Tt)},e.It=function(i,t){return i.store(t)},e._t=function(i){var t=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)},e.Et=function(i){var t=i.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)},e.prototype.At=function(i){return(0,se.mG)(this,void 0,void 0,function(){var t,o=this;return(0,se.Jh)(this,function(s){switch(s.label){case 0:return this.db?[3,2]:(Ft("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(l,h){var v=indexedDB.open(o.name,o.version);v.onsuccess=function(w){l(w.target.result)},v.onblocked=function(){h(new q0(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=function(w){var D=w.target.error;h("VersionError"===D.name?new Ct(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new q0(i,D))},v.onupgradeneeded=function(w){Ft("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',w.oldVersion),o.wt.Rt(w.target.result,v.transaction,w.oldVersion,o.version).next(function(){Ft("SimpleDb","Database upgrade to version "+o.version+" complete")})}})]);case 1:t.db=s.sent(),s.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(l){return o.bt(l)}),this.db)]}})})},e.prototype.vt=function(i){this.bt=i,this.db&&(this.db.onversionchange=function(t){return i(t)})},e.prototype.runTransaction=function(i,t,o,s){return(0,se.mG)(this,void 0,void 0,function(){var l,h,v,w,D;return(0,se.Jh)(this,function(M){switch(M.label){case 0:l="readonly"===t,h=0,v=function(){var k,H,J,X,ue;return(0,se.Jh)(this,function(ve){switch(ve.label){case 0:++h,ve.label=1;case 1:return ve.trys.push([1,4,,5]),[4,w.At(i)];case 2:return w.db=ve.sent(),k=lI.open(w.db,i,l?"readonly":"readwrite",o),H=s(k).catch(function(Ne){return k.abort(Ne),Mt.reject(Ne)}).toPromise(),J={},H.catch(function(){}),[4,k.dt];case 3:return[2,(J.value=(ve.sent(),H),J)];case 4:return Ft("SimpleDb","Transaction failed with error:",(X=ve.sent()).message,"Retrying:",ue="FirebaseError"!==X.name&&h<3),w.close(),ue?[3,5]:[2,{value:Promise.reject(X)}];case 5:return[2]}})},w=this,M.label=1;case 1:return[5,v()];case 2:if("object"==typeof(D=M.sent()))return[2,D.value];M.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Zb=function(){function e(i){this.Pt=i,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(i){this.Pt=i},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(i){this.St=i},e.prototype.delete=function(){return Ul(this.Pt.delete())},e}(),q0=function(e){function i(t,o){var s=this;return(s=e.call(this,tt.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+o)||this).name="IndexedDbTransactionError",s}return(0,se.ZT)(i,e),i}(Ct);function Rg(e){return"IndexedDbTransactionError"===e.name}var bA=function(){function e(i){this.store=i}return e.prototype.put=function(i,t){var o;return void 0!==t?(Ft("SimpleDb","PUT",this.store.name,i,t),o=this.store.put(t,i)):(Ft("SimpleDb","PUT",this.store.name,"<auto-key>",i),o=this.store.put(i)),Ul(o)},e.prototype.add=function(i){return Ft("SimpleDb","ADD",this.store.name,i,i),Ul(this.store.add(i))},e.prototype.get=function(i){var t=this;return Ul(this.store.get(i)).next(function(o){return void 0===o&&(o=null),Ft("SimpleDb","GET",t.store.name,i,o),o})},e.prototype.delete=function(i){return Ft("SimpleDb","DELETE",this.store.name,i),Ul(this.store.delete(i))},e.prototype.count=function(){return Ft("SimpleDb","COUNT",this.store.name),Ul(this.store.count())},e.prototype.Nt=function(i,t){var o=this.cursor(this.options(i,t)),s=[];return this.xt(o,function(l,h){s.push(h)}).next(function(){return s})},e.prototype.kt=function(i,t){Ft("SimpleDb","DELETE ALL",this.store.name);var o=this.options(i,t);o.Ft=!1;var s=this.cursor(o);return this.xt(s,function(l,h,v){return v.delete()})},e.prototype.$t=function(i,t){var o;t?o=i:(o={},t=i);var s=this.cursor(o);return this.xt(s,t)},e.prototype.Ot=function(i){var t=this.cursor({});return new Mt(function(o,s){t.onerror=function(l){var h=Z0(l.target.error);s(h)},t.onsuccess=function(l){var h=l.target.result;h?i(h.primaryKey,h.value).next(function(v){v?h.continue():o()}):o()}})},e.prototype.xt=function(i,t){var o=[];return new Mt(function(s,l){i.onerror=function(h){l(h.target.error)},i.onsuccess=function(h){var v=h.target.result;if(v){var w=new Zb(v),D=t(v.primaryKey,v.value,w);if(D instanceof Mt){var M=D.catch(function(k){return w.done(),Mt.reject(k)});o.push(M)}w.isDone?s():null===w.Dt?v.continue():v.continue(w.Dt)}else s()}}).next(function(){return Mt.waitFor(o)})},e.prototype.options=function(i,t){var o;return void 0!==i&&("string"==typeof i?o=i:t=i),{index:o,range:t}},e.prototype.cursor=function(i){var t="next";if(i.reverse&&(t="prev"),i.index){var o=this.store.index(i.index);return i.Ft?o.openKeyCursor(i.range,t):o.openCursor(i.range,t)}return this.store.openCursor(i.range,t)},e}();function Ul(e){return new Mt(function(i,t){e.onsuccess=function(o){i(o.target.result)},e.onerror=function(o){var s=Z0(o.target.error);t(s)}})}var R1=!1;function Z0(e){var i=Sv._t((0,Dr.z$)());if(i>=12.2&&i<13){var t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){var o=new Ct("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return R1||(R1=!0,setTimeout(function(){throw o},0)),o}}return e}var Gb=function(e){function i(t,o){var s=this;return(s=e.call(this)||this).Mt=t,s.currentSequenceNumber=o,s}return(0,se.ZT)(i,e),i}(uI);function il(e,i){var t=Zt(e);return Sv.It(t.Mt,i)}var G0=function(){function e(i,t,o,s){this.batchId=i,this.localWriteTime=t,this.baseMutations=o,this.mutations=s}return e.prototype.applyToRemoteDocument=function(i,t){for(var o=t.mutationResults,s=0;s<this.mutations.length;s++){var l=this.mutations[s];l.key.isEqual(i.key)&&ZS(l,i,o[s])}},e.prototype.applyToLocalView=function(i){for(var t=0,o=this.baseMutations;t<o.length;t++)(h=o[t]).key.isEqual(i.key)&&m1(h,i,this.localWriteTime);for(var s=0,l=this.mutations;s<l.length;s++){var h;(h=l[s]).key.isEqual(i.key)&&m1(h,i,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(i){var t=this;this.mutations.forEach(function(o){var s=i.get(o.key),l=s;t.applyToLocalView(l),s.isValidDocument()||l.convertToNoDocument(Fr.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(i,t){return i.add(t.key)},Bi())},e.prototype.isEqual=function(i){return this.batchId===i.batchId&&Ig(this.mutations,i.mutations,function(t,o){return v1(t,o)})&&Ig(this.baseMutations,i.baseMutations,function(t,o){return v1(t,o)})},e}(),F1=function(){function e(i,t,o,s){this.batch=i,this.commitVersion=t,this.mutationResults=o,this.docVersions=s}return e.from=function(i,t,o){nr(i.mutations.length===o.length);for(var s=H0(),l=i.mutations,h=0;h<l.length;h++)s=s.insert(l[h].key,o[h].version);return new e(i,t,o,s)},e}(),Fg=function(){function e(i,t,o,s,l,h,v){void 0===l&&(l=Fr.min()),void 0===h&&(h=Fr.min()),void 0===v&&(v=Au.EMPTY_BYTE_STRING),this.target=i,this.targetId=t,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=v}return e.prototype.withSequenceNumber=function(i){return new e(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(i,t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,i)},e.prototype.withLastLimboFreeSnapshotVersion=function(i){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)},e}(),cI=function(e){this.Lt=e};function wA(e,i){if(i.document)return pA(e.Lt,i.document,!!i.hasCommittedMutations);if(i.noDocument){var t=On.fromSegments(i.noDocument.path),o=xv(i.noDocument.readTime),s=ta.newNoDocument(t,o);return i.hasCommittedMutations?s.setHasCommittedMutations():s}if(i.unknownDocument){var l=On.fromSegments(i.unknownDocument.path);return o=xv(i.unknownDocument.version),ta.newUnknownDocument(l,o)}return vn()}function dI(e,i,t){var k,H,o=CA(t),s=i.key.path.popLast().toArray();if(i.isFoundDocument()){var l={name:bv(k=e.Lt,(H=i).key),fields:H.data.value.mapValue.fields,updateTime:Ya(k,H.version.toTimestamp())},h=i.hasCommittedMutations;return new Lo(null,null,l,h,o,s)}if(i.isNoDocument()){var v=i.key.path.toArray(),w=Iv(i.version);return h=i.hasCommittedMutations,new Lo(null,new _A(v,w),null,h,o,s)}if(i.isUnknownDocument()){var D=i.key.path.toArray(),M=Iv(i.version);return new Lo(new oI(D,M),null,null,!0,o,s)}return vn()}function CA(e){var i=e.toTimestamp();return[i.seconds,i.nanoseconds]}function L1(e){var i=new Fl(e[0],e[1]);return Fr.fromTimestamp(i)}function Iv(e){var i=e.toTimestamp();return new yA(i.seconds,i.nanoseconds)}function xv(e){var i=new Fl(e.seconds,e.nanoseconds);return Fr.fromTimestamp(i)}function Pv(e,i){for(var t=(i.baseMutations||[]).map(function(w){return bh(e.Lt,w)}),o=0;o<i.mutations.length-1;++o)o+1<i.mutations.length&&void 0!==i.mutations[o+1].transform&&(i.mutations[o].updateTransforms=i.mutations[o+1].transform.fieldTransforms,i.mutations.splice(o+1,1),++o);var h=i.mutations.map(function(w){return bh(e.Lt,w)}),v=Fl.fromMillis(i.localWriteTimeMs);return new G0(i.batchId,v,t,h)}function $0(e){var i,t,o=xv(e.readTime),s=void 0!==e.lastLimboFreeSnapshotVersion?xv(e.lastLimboFreeSnapshotVersion):Fr.min();return void 0!==e.query.documents?(nr(1===(t=e.query).documents.length),i=tl(vv(x1(t.documents[0])))):i=tl(cf(e.query)),new Fg(i,e.targetId,0,e.lastListenSequenceNumber,o,s,Au.fromBase64String(e.resumeToken))}function U1(e,i){var t,o=Iv(i.snapshotVersion),s=Iv(i.lastLimboFreeSnapshotVersion);t=k0(i.target)?M1(e.Lt,i.target):qb(e.Lt,i.target);var l=i.resumeToken.toBase64();return new rl(i.targetId,gv(i.target),o,l,i.sequenceNumber,s,t)}function $b(e){var i=cf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?VS(i,i.limit,"L"):i}var TA=function(){function e(){}return e.prototype.getBundleMetadata=function(i,t){return EA(i).get(t).next(function(o){if(o)return{id:(s=o).bundleId,createTime:xv(s.createTime),version:s.version};var s})},e.prototype.saveBundleMetadata=function(i,t){return EA(i).put({bundleId:(o=t).id,createTime:Iv(na(o.createTime)),version:o.version});var o},e.prototype.getNamedQuery=function(i,t){return AA(i).get(t).next(function(o){if(o)return{name:(s=o).name,query:$b(s.bundledQuery),readTime:xv(s.readTime)};var s})},e.prototype.saveNamedQuery=function(i,t){return AA(i).put({name:(o=t).name,readTime:Iv(na(o.readTime)),bundledQuery:o.bundledQuery});var o},e}();function EA(e){return il(e,Av.store)}function AA(e){return il(e,Dv.store)}var DA=function(){function e(){this.Bt=new z0}return e.prototype.addToCollectionParentIndex=function(i,t){return this.Bt.add(t),Mt.resolve()},e.prototype.getCollectionParents=function(i,t){return Mt.resolve(this.Bt.getEntries(t))},e}(),z0=function(){function e(){this.index={}}return e.prototype.add=function(i){var t=i.lastSegment(),o=i.popLast(),s=this.index[t]||new hs(Gr.comparator),l=!s.has(o);return this.index[t]=s.add(o),l},e.prototype.has=function(i){var t=i.lastSegment(),o=i.popLast(),s=this.index[t];return s&&s.has(o)},e.prototype.getEntries=function(i){return(this.index[i]||new hs(Gr.comparator)).toArray()},e}(),k2=function(){function e(){this.qt=new z0}return e.prototype.addToCollectionParentIndex=function(i,t){var o=this;if(!this.qt.has(t)){var s=t.lastSegment(),l=t.popLast();i.addOnCommittedListener(function(){o.qt.add(t)});var h={collectionId:s,parent:df(l)};return B1(i).put(h)}return Mt.resolve()},e.prototype.getCollectionParents=function(i,t){var o=[],s=IDBKeyRange.bound([t,""],[HE(t),""],!1,!0);return B1(i).Nt(s).next(function(l){for(var h=0,v=l;h<v.length;h++){var w=v[h];if(w.collectionId!==t)break;o.push(ff(w.parent))}return o})},e}();function B1(e){return il(e,Ev.store)}var zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pf=function(){function e(i,t,o){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}return e.withCacheSize=function(i){return new e(i,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function SA(e,i,t){var o=e.store(Vi.store),s=e.store(xs.store),l=[],h=IDBKeyRange.only(t.batchId),v=0,w=o.$t({range:h},function(X,ue,ve){return v++,ve.delete()});l.push(w.next(function(){nr(1===v)}));for(var D=[],M=0,k=t.mutations;M<k.length;M++){var H=k[M],J=xs.key(i,H.key.path,t.batchId);l.push(s.delete(J)),D.push(H.key)}return Mt.waitFor(l).next(function(){return D})}function V1(e){if(!e)return 0;var i;if(e.document)i=e.document;else if(e.unknownDocument)i=e.unknownDocument;else{if(!e.noDocument)throw vn();i=e.noDocument}return JSON.stringify(i).length}pf.DEFAULT_COLLECTION_PERCENTILE=10,pf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pf.DEFAULT=new pf(41943040,pf.DEFAULT_COLLECTION_PERCENTILE,pf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pf.DISABLED=new pf(-1,0,0);var R2=function(){function e(i,t,o,s){this.userId=i,this.R=t,this.Ut=o,this.referenceDelegate=s,this.Kt={}}return e.Qt=function(i,t,o,s){return nr(""!==i.uid),new e(i.isAuthenticated()?i.uid:"",t,o,s)},e.prototype.checkEmpty=function(i){var t=!0,o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mp(i).$t({index:Vi.userMutationsIndex,range:o},function(s,l,h){t=!1,h.done()}).next(function(){return t})},e.prototype.addMutationBatch=function(i,t,o,s){var l=this,h=Mv(i),v=mp(i);return v.add({}).next(function(w){nr("number"==typeof w);for(var D=new G0(w,t,o,s),M=function(Ne,Ue,et){var _t=et.baseMutations.map(function(Ze){return Cv(Ne.Lt,Ze)}),St=et.mutations.map(function(Ze){return Cv(Ne.Lt,Ze)});return new Vi(Ue,et.batchId,et.localWriteTime.toMillis(),_t,St)}(l.R,l.userId,D),k=[],H=new hs(function(Ne,Ue){return Hr(Ne.canonicalString(),Ue.canonicalString())}),J=0,X=s;J<X.length;J++){var ue=X[J],ve=xs.key(l.userId,ue.key.path,w);H=H.add(ue.key.path.popLast()),k.push(v.put(M)),k.push(h.put(ve,xs.PLACEHOLDER))}return H.forEach(function(Ne){k.push(l.Ut.addToCollectionParentIndex(i,Ne))}),i.addOnCommittedListener(function(){l.Kt[w]=D.keys()}),Mt.waitFor(k).next(function(){return D})})},e.prototype.lookupMutationBatch=function(i,t){var o=this;return mp(i).get(t).next(function(s){return s?(nr(s.userId===o.userId),Pv(o.R,s)):null})},e.prototype.jt=function(i,t){var o=this;return this.Kt[t]?Mt.resolve(this.Kt[t]):this.lookupMutationBatch(i,t).next(function(s){if(s){var l=s.keys();return o.Kt[t]=l,l}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(i,t){var o=this,s=t+1,l=IDBKeyRange.lowerBound([this.userId,s]),h=null;return mp(i).$t({index:Vi.userMutationsIndex,range:l},function(v,w,D){w.userId===o.userId&&(nr(w.batchId>=s),h=Pv(o.R,w)),D.done()}).next(function(){return h})},e.prototype.getHighestUnacknowledgedBatchId=function(i){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),o=-1;return mp(i).$t({index:Vi.userMutationsIndex,range:t,reverse:!0},function(s,l,h){o=l.batchId,h.done()}).next(function(){return o})},e.prototype.getAllMutationBatches=function(i){var t=this,o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mp(i).Nt(Vi.userMutationsIndex,o).next(function(s){return s.map(function(l){return Pv(t.R,l)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,t){var o=this,s=xs.prefixForPath(this.userId,t.path),l=IDBKeyRange.lowerBound(s),h=[];return Mv(i).$t({range:l},function(v,w,D){var M=v[0],H=v[2],J=ff(v[1]);if(M===o.userId&&t.path.isEqual(J))return mp(i).get(H).next(function(X){if(!X)throw vn();nr(X.userId===o.userId),h.push(Pv(o.R,X))});D.done()}).next(function(){return h})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,t){var o=this,s=new hs(Hr),l=[];return t.forEach(function(h){var v=xs.prefixForPath(o.userId,h.path),w=IDBKeyRange.lowerBound(v),D=Mv(i).$t({range:w},function(M,k,H){var J=M[0],ue=M[2],ve=ff(M[1]);J===o.userId&&h.path.isEqual(ve)?s=s.add(ue):H.done()});l.push(D)}),Mt.waitFor(l).next(function(){return o.Wt(i,s)})},e.prototype.getAllMutationBatchesAffectingQuery=function(i,t){var o=this,s=t.path,l=s.length+1,h=xs.prefixForPath(this.userId,s),v=IDBKeyRange.lowerBound(h),w=new hs(Hr);return Mv(i).$t({range:v},function(D,M,k){var H=D[0],X=D[2],ue=ff(D[1]);H===o.userId&&s.isPrefixOf(ue)?ue.length===l&&(w=w.add(X)):k.done()}).next(function(){return o.Wt(i,w)})},e.prototype.Wt=function(i,t){var o=this,s=[],l=[];return t.forEach(function(h){l.push(mp(i).get(h).next(function(v){if(null===v)throw vn();nr(v.userId===o.userId),s.push(Pv(o.R,v))}))}),Mt.waitFor(l).next(function(){return s})},e.prototype.removeMutationBatch=function(i,t){var o=this;return SA(i.Mt,this.userId,t).next(function(s){return i.addOnCommittedListener(function(){o.Gt(t.batchId)}),Mt.forEach(s,function(l){return o.referenceDelegate.markPotentiallyOrphaned(i,l)})})},e.prototype.Gt=function(i){delete this.Kt[i]},e.prototype.performConsistencyCheck=function(i){var t=this;return this.checkEmpty(i).next(function(o){if(!o)return Mt.resolve();var s=IDBKeyRange.lowerBound(xs.prefixForUser(t.userId)),l=[];return Mv(i).$t({range:s},function(h,v,w){if(h[0]===t.userId){var D=ff(h[1]);l.push(D)}else w.done()}).next(function(){nr(0===l.length)})})},e.prototype.containsKey=function(i,t){return IA(i,this.userId,t)},e.prototype.zt=function(i){var t=this;return fI(i).get(this.userId).next(function(o){return o||new wh(t.userId,-1,"")})},e}();function IA(e,i,t){var o=xs.prefixForPath(i,t.path),s=o[1],l=IDBKeyRange.lowerBound(o),h=!1;return Mv(e).$t({range:l,Ft:!0},function(v,w,D){v[0]===i&&v[1]===s&&(h=!0),D.done()}).next(function(){return h})}function mp(e){return il(e,Vi.store)}function Mv(e){return il(e,xs.store)}function fI(e){return il(e,wh.store)}var j1=function(){function e(i){this.Ht=i}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),F2=function(){function e(i,t){this.referenceDelegate=i,this.R=t}return e.prototype.allocateTargetId=function(i){var t=this;return this.Xt(i).next(function(o){var s=new j1(o.highestTargetId);return o.highestTargetId=s.next(),t.Zt(i,o).next(function(){return o.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(i){return this.Xt(i).next(function(t){return Fr.fromTimestamp(new Fl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(i){return this.Xt(i).next(function(t){return t.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(i,t,o){var s=this;return this.Xt(i).next(function(l){return l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),s.Zt(i,l)})},e.prototype.addTargetData=function(i,t){var o=this;return this.te(i,t).next(function(){return o.Xt(i).next(function(s){return s.targetCount+=1,o.ee(t,s),o.Zt(i,s)})})},e.prototype.updateTargetData=function(i,t){return this.te(i,t)},e.prototype.removeTargetData=function(i,t){var o=this;return this.removeMatchingKeysForTargetId(i,t.targetId).next(function(){return W0(i).delete(t.targetId)}).next(function(){return o.Xt(i)}).next(function(s){return nr(s.targetCount>0),s.targetCount-=1,o.Zt(i,s)})},e.prototype.removeTargets=function(i,t,o){var s=this,l=0,h=[];return W0(i).$t(function(v,w){var D=$0(w);D.sequenceNumber<=t&&null===o.get(D.targetId)&&(l++,h.push(s.removeTargetData(i,D)))}).next(function(){return Mt.waitFor(h)}).next(function(){return l})},e.prototype.forEachTarget=function(i,t){return W0(i).$t(function(o,s){var l=$0(s);t(l)})},e.prototype.Xt=function(i){return hI(i).get(Ac.key).next(function(t){return nr(null!==t),t})},e.prototype.Zt=function(i,t){return hI(i).put(Ac.key,t)},e.prototype.te=function(i,t){return W0(i).put(U1(this.R,t))},e.prototype.ee=function(i,t){var o=!1;return i.targetId>t.highestTargetId&&(t.highestTargetId=i.targetId,o=!0),i.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=i.sequenceNumber,o=!0),o},e.prototype.getTargetCount=function(i){return this.Xt(i).next(function(t){return t.targetCount})},e.prototype.getTargetData=function(i,t){var o=gv(t),s=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),l=null;return W0(i).$t({range:s,index:rl.queryTargetsIndexName},function(h,v,w){var D=$0(v);Mb(t,D.target)&&(l=D,w.done())}).next(function(){return l})},e.prototype.addMatchingKeys=function(i,t,o){var s=this,l=[],h=vp(i);return t.forEach(function(v){var w=df(v.path);l.push(h.put(new Da(o,w))),l.push(s.referenceDelegate.addReference(i,o,v))}),Mt.waitFor(l)},e.prototype.removeMatchingKeys=function(i,t,o){var s=this,l=vp(i);return Mt.forEach(t,function(h){var v=df(h.path);return Mt.waitFor([l.delete([o,v]),s.referenceDelegate.removeReference(i,o,h)])})},e.prototype.removeMatchingKeysForTargetId=function(i,t){var o=vp(i),s=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(s)},e.prototype.getMatchingKeysForTargetId=function(i,t){var o=IDBKeyRange.bound([t],[t+1],!1,!0),s=vp(i),l=Bi();return s.$t({range:o,Ft:!0},function(h,v,w){var D=ff(h[1]),M=new On(D);l=l.add(M)}).next(function(){return l})},e.prototype.containsKey=function(i,t){var o=df(t.path),s=IDBKeyRange.bound([o],[HE(o)],!1,!0),l=0;return vp(i).$t({index:Da.documentTargetsIndex,Ft:!0,range:s},function(h,v,w){0!==h[0]&&(l++,w.done())}).next(function(){return l>0})},e.prototype.lt=function(i,t){return W0(i).get(t).next(function(o){return o?$0(o):null})},e}();function W0(e){return il(e,rl.store)}function hI(e){return il(e,Ac.store)}function vp(e){return il(e,Da.store)}function Ov(e){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(i){if(e.code!==tt.FAILED_PRECONDITION||e.message!==aI)throw e;return Ft("LocalStore","Unexpectedly lost primary lease"),[2]})})}function pI(e,i){var o=e[1],l=i[1],h=Hr(e[0],i[0]);return 0===h?Hr(o,l):h}var L2=function(){function e(i){this.ne=i,this.buffer=new hs(pI),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(i){var t=[i,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var o=this.buffer.last();pI(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),U2=function(){function e(i,t){this.garbageCollector=i,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(i)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(i){var t=this,o=this.oe?3e5:6e4;Ft("LruGarbageCollector","Garbage collection scheduled in "+o+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,function(){return(0,se.mG)(t,void 0,void 0,function(){var s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:this.ce=null,this.oe=!0,l.label=1;case 1:return l.trys.push([1,3,,7]),[4,i.collectGarbage(this.garbageCollector)];case 2:return l.sent(),[3,7];case 3:return Rg(s=l.sent())?(Ft("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s),[3,6]):[3,4];case 4:return[4,Ov(s)];case 5:l.sent(),l.label=6;case 6:return[3,7];case 7:return[4,this.ue(i)];case 8:return l.sent(),[2]}})})})},e}(),B2=function(){function e(i,t){this.ae=i,this.params=t}return e.prototype.calculateTargetCount=function(i,t){return this.ae.he(i).next(function(o){return Math.floor(t/100*o)})},e.prototype.nthSequenceNumber=function(i,t){var o=this;if(0===t)return Mt.resolve(Ju.o);var s=new L2(t);return this.ae.forEachTarget(i,function(l){return s.re(l.sequenceNumber)}).next(function(){return o.ae.le(i,function(l){return s.re(l)})}).next(function(){return s.maxValue})},e.prototype.removeTargets=function(i,t,o){return this.ae.removeTargets(i,t,o)},e.prototype.removeOrphanedDocuments=function(i,t){return this.ae.removeOrphanedDocuments(i,t)},e.prototype.collect=function(i,t){var o=this;return-1===this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),Mt.resolve(zb)):this.getCacheSize(i).next(function(s){return s<o.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector","Garbage collection skipped; Cache size "+s+" is lower than threshold "+o.params.cacheSizeCollectionThreshold),zb):o.fe(i,t)})},e.prototype.getCacheSize=function(i){return this.ae.getCacheSize(i)},e.prototype.fe=function(i,t){var o,s,l,h,v,w,D,M=this,k=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(function(H){return H>M.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+M.params.maximumSequenceNumbersToCollect+" from "+H),s=M.params.maximumSequenceNumbersToCollect):s=H,h=Date.now(),M.nthSequenceNumber(i,s)}).next(function(H){return o=H,v=Date.now(),M.removeTargets(i,o,t)}).next(function(H){return l=H,w=Date.now(),M.removeOrphanedDocuments(i,o)}).next(function(H){return D=Date.now(),r1()<=rf.in.DEBUG&&Ft("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(h-k)+"ms\n\tDetermined least recently used "+s+" in "+(v-h)+"ms\n\tRemoved "+l+" targets in "+(w-v)+"ms\n\tRemoved "+H+" documents in "+(D-w)+"ms\nTotal Duration: "+(D-k)+"ms"),Mt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:H})})},e}(),V2=function(){function e(i,t){this.db=i,this.garbageCollector=new B2(this,t)}return e.prototype.he=function(i){var t=this.de(i);return this.db.getTargetCache().getTargetCount(i).next(function(o){return t.next(function(s){return o+s})})},e.prototype.de=function(i){var t=0;return this.le(i,function(o){t++}).next(function(){return t})},e.prototype.forEachTarget=function(i,t){return this.db.getTargetCache().forEachTarget(i,t)},e.prototype.le=function(i,t){return this.we(i,function(o,s){return t(s)})},e.prototype.addReference=function(i,t,o){return c(i,o)},e.prototype.removeReference=function(i,t,o){return c(i,o)},e.prototype.removeTargets=function(i,t,o){return this.db.getTargetCache().removeTargets(i,t,o)},e.prototype.markPotentiallyOrphaned=function(i,t){return c(i,t)},e.prototype._e=function(i,t){return s=t,l=!1,fI(o=i).Ot(function(h){return IA(o,h,s).next(function(v){return v&&(l=!0),Mt.resolve(!v)})}).next(function(){return l});var o,s,l},e.prototype.removeOrphanedDocuments=function(i,t){var o=this,s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[],h=0;return this.we(i,function(v,w){if(w<=t){var D=o._e(i,v).next(function(M){if(!M)return h++,s.getEntry(i,v).next(function(){return s.removeEntry(v),vp(i).delete([0,df(v.path)])})});l.push(D)}}).next(function(){return Mt.waitFor(l)}).next(function(){return s.apply(i)}).next(function(){return h})},e.prototype.removeTarget=function(i,t){var o=t.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,o)},e.prototype.updateLimboDocument=function(i,t){return c(i,t)},e.prototype.we=function(i,t){var o,s=vp(i),l=Ju.o;return s.$t({index:Da.documentTargetsIndex},function(h,v){var D=v.path,M=v.sequenceNumber;0===h[0]?(l!==Ju.o&&t(new On(ff(o)),l),l=M,o=D):l=Ju.o}).next(function(){l!==Ju.o&&t(new On(ff(o)),l)})},e.prototype.getCacheSize=function(i){return this.db.getRemoteDocumentCache().getSize(i)},e}();function c(e,i){return vp(e).put((o=e.currentSequenceNumber,new Da(0,df(i.path),o)));var o}var d=function(){function e(i,t){this.mapKeyFn=i,this.equalsFn=t,this.inner={}}return e.prototype.get=function(i){var t=this.mapKeyFn(i),o=this.inner[t];if(void 0!==o)for(var s=0,l=o;s<l.length;s++){var h=l[s],w=h[1];if(this.equalsFn(h[0],i))return w}},e.prototype.has=function(i){return void 0!==this.get(i)},e.prototype.set=function(i,t){var o=this.mapKeyFn(i),s=this.inner[o];if(void 0!==s){for(var l=0;l<s.length;l++)if(this.equalsFn(s[l][0],i))return void(s[l]=[i,t]);s.push([i,t])}else this.inner[o]=[[i,t]]},e.prototype.delete=function(i){var t=this.mapKeyFn(i),o=this.inner[t];if(void 0===o)return!1;for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],i))return 1===o.length?delete this.inner[t]:o.splice(s,1),!0;return!1},e.prototype.forEach=function(i){xg(this.inner,function(t,o){for(var s=0,l=o;s<l.length;s++){var h=l[s];i(h[0],h[1])}})},e.prototype.isEmpty=function(){return qE(this.inner)},e}(),f=function(){function e(){this.changes=new d(function(i){return i.toString()},function(i,t){return i.isEqual(t)}),this.changesApplied=!1}return e.prototype.getReadTime=function(i){var t=this.changes.get(i);return t?t.readTime:Fr.min()},e.prototype.addEntry=function(i,t){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:t})},e.prototype.removeEntry=function(i,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(i,{document:ta.newInvalidDocument(i),readTime:t})},e.prototype.getEntry=function(i,t){this.assertNotApplied();var o=this.changes.get(t);return void 0!==o?Mt.resolve(o.document):this.getFromCache(i,t)},e.prototype.getEntries=function(i,t){return this.getAllFromCache(i,t)},e.prototype.apply=function(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)},e.prototype.assertNotApplied=function(){},e}(),y=function(){function e(i,t){this.R=i,this.Ut=t}return e.prototype.addEntry=function(i,t,o){return x(i).put(O(t),o)},e.prototype.removeEntry=function(i,t){var o=x(i),s=O(t);return o.delete(s)},e.prototype.updateMetadata=function(i,t){var o=this;return this.getMetadata(i).next(function(s){return s.byteSize+=t,o.me(i,s)})},e.prototype.getEntry=function(i,t){var o=this;return x(i).get(O(t)).next(function(s){return o.ye(t,s)})},e.prototype.ge=function(i,t){var o=this;return x(i).get(O(t)).next(function(s){return{document:o.ye(t,s),size:V1(s)}})},e.prototype.getEntries=function(i,t){var o=this,s=ld();return this.pe(i,t,function(l,h){var v=o.ye(l,h);s=s.insert(l,v)}).next(function(){return s})},e.prototype.Ee=function(i,t){var o=this,s=ld(),l=new Aa(On.comparator);return this.pe(i,t,function(h,v){var w=o.ye(h,v);s=s.insert(h,w),l=l.insert(h,V1(v))}).next(function(){return{documents:s,Te:l}})},e.prototype.pe=function(i,t,o){if(t.isEmpty())return Mt.resolve();var s=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator(),h=l.getNext();return x(i).$t({range:s},function(v,w,D){for(var M=On.fromSegments(v);h&&On.comparator(h,M)<0;)o(h,null),h=l.getNext();h&&h.isEqual(M)&&(o(h,w),h=l.hasNext()?l.getNext():null),h?D.Ct(h.path.toArray()):D.done()}).next(function(){for(;h;)o(h,null),h=l.hasNext()?l.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(i,t,o){var s=this,l=ld(),h=t.path.length+1,v={};if(o.isEqual(Fr.min())){var w=t.path.toArray();v.range=IDBKeyRange.lowerBound(w)}else{var D=t.path.toArray(),M=CA(o);v.range=IDBKeyRange.lowerBound([D,M],!0),v.index=Lo.collectionReadTimeIndex}return x(i).$t(v,function(k,H,J){if(k.length===h){var X=wA(s.R,H);t.path.isPrefixOf(X.key.path)?uf(t,X)&&(l=l.insert(X.key,X)):J.done()}}).next(function(){return l})},e.prototype.newChangeBuffer=function(i){return new b(this,!!i&&i.trackRemovals)},e.prototype.getSize=function(i){return this.getMetadata(i).next(function(t){return t.byteSize})},e.prototype.getMetadata=function(i){return A(i).get(dd.key).next(function(t){return nr(!!t),t})},e.prototype.me=function(i,t){return A(i).put(dd.key,t)},e.prototype.ye=function(i,t){if(t){var o=wA(this.R,t);if(!o.isNoDocument()||!o.version.isEqual(Fr.min()))return o}return ta.newInvalidDocument(i)},e}(),b=function(e){function i(t,o){var s=this;return(s=e.call(this)||this).Ie=t,s.trackRemovals=o,s.Ae=new d(function(l){return l.toString()},function(l,h){return l.isEqual(h)}),s}return(0,se.ZT)(i,e),i.prototype.applyChanges=function(t){var o=this,s=[],l=0,h=new hs(function(v,w){return Hr(v.canonicalString(),w.canonicalString())});return this.changes.forEach(function(v,w){var D=o.Ae.get(v);if(w.document.isValidDocument()){var M=dI(o.Ie.R,w.document,o.getReadTime(v));h=h.add(v.path.popLast());var k=V1(M);l+=k-D,s.push(o.Ie.addEntry(t,v,M))}else if(l-=D,o.trackRemovals){var H=dI(o.Ie.R,ta.newNoDocument(v,Fr.min()),o.getReadTime(v));s.push(o.Ie.addEntry(t,v,H))}else s.push(o.Ie.removeEntry(t,v))}),h.forEach(function(v){s.push(o.Ie.Ut.addToCollectionParentIndex(t,v))}),s.push(this.Ie.updateMetadata(t,l)),Mt.waitFor(s)},i.prototype.getFromCache=function(t,o){var s=this;return this.Ie.ge(t,o).next(function(l){return s.Ae.set(o,l.size),l.document})},i.prototype.getAllFromCache=function(t,o){var s=this;return this.Ie.Ee(t,o).next(function(l){var h=l.documents;return l.Te.forEach(function(v,w){s.Ae.set(v,w)}),h})},i}(f);function A(e){return il(e,dd.store)}function x(e){return il(e,Lo.store)}function O(e){return e.path.toArray()}var V=function(){function e(i){this.R=i}return e.prototype.Rt=function(i,t,o,s){var l=this;nr(o<s&&o>=0&&s<=11);var w,h=new lI("createOrUpgrade",t);o<1&&s>=1&&(i.createObjectStore(nl.store),(w=i).createObjectStore(wh.store,{keyPath:wh.keyPath}),w.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0}),w.createObjectStore(xs.store),Z(i),function(w){w.createObjectStore(Lo.store)}(i));var v=Mt.resolve();return o<3&&s>=3&&(0!==o&&(function(w){w.deleteObjectStore(Da.store),w.deleteObjectStore(rl.store),w.deleteObjectStore(Ac.store)}(i),Z(i)),v=v.next(function(){return function(w){var D=w.store(Ac.store),M=new Ac(0,0,Fr.min().toTimestamp(),0);return D.put(Ac.key,M)}(h)})),o<4&&s>=4&&(0!==o&&(v=v.next(function(){return function(w,D){return D.store(Vi.store).Nt().next(function(M){w.deleteObjectStore(Vi.store),w.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0});var k=D.store(Vi.store),H=M.map(function(J){return k.put(J)});return Mt.waitFor(H)})}(i,h)})),v=v.next(function(){!function(w){w.createObjectStore(hf.store,{keyPath:hf.keyPath})}(i)})),o<5&&s>=5&&(v=v.next(function(){return l.Re(h)})),o<6&&s>=6&&(v=v.next(function(){return function(w){w.createObjectStore(dd.store)}(i),l.be(h)})),o<7&&s>=7&&(v=v.next(function(){return l.ve(h)})),o<8&&s>=8&&(v=v.next(function(){return l.Pe(i,h)})),o<9&&s>=9&&(v=v.next(function(){(function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")})(i),function(w){var D=w.objectStore(Lo.store);D.createIndex(Lo.readTimeIndex,Lo.readTimeIndexPath,{unique:!1}),D.createIndex(Lo.collectionReadTimeIndex,Lo.collectionReadTimeIndexPath,{unique:!1})}(t)})),o<10&&s>=10&&(v=v.next(function(){return l.Ve(h)})),o<11&&s>=11&&(v=v.next(function(){(function(w){w.createObjectStore(Av.store,{keyPath:Av.keyPath})})(i),function(w){w.createObjectStore(Dv.store,{keyPath:Dv.keyPath})}(i)})),v},e.prototype.be=function(i){var t=0;return i.store(Lo.store).$t(function(o,s){t+=V1(s)}).next(function(){var o=new dd(t);return i.store(dd.store).put(dd.key,o)})},e.prototype.Re=function(i){var t=this,o=i.store(wh.store),s=i.store(Vi.store);return o.Nt().next(function(l){return Mt.forEach(l,function(h){var v=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return s.Nt(Vi.userMutationsIndex,v).next(function(w){return Mt.forEach(w,function(D){nr(D.userId===h.userId);var M=Pv(t.R,D);return SA(i,h.userId,M).next(function(){})})})})})},e.prototype.ve=function(i){var t=i.store(Da.store),o=i.store(Lo.store);return i.store(Ac.store).get(Ac.key).next(function(s){var l=[];return o.$t(function(h,v){var w=new Gr(h),D=[0,df(w)];l.push(t.get(D).next(function(M){return M?Mt.resolve():t.put(new Da(0,df(w),s.highestListenSequenceNumber))}))}).next(function(){return Mt.waitFor(l)})})},e.prototype.Pe=function(i,t){i.createObjectStore(Ev.store,{keyPath:Ev.keyPath});var o=t.store(Ev.store),s=new z0,l=function(h){if(s.add(h)){var v=h.lastSegment(),w=h.popLast();return o.put({collectionId:v,parent:df(w)})}};return t.store(Lo.store).$t({Ft:!0},function(h,v){var w=new Gr(h);return l(w.popLast())}).next(function(){return t.store(xs.store).$t({Ft:!0},function(h,v){var D=ff(h[1]);return l(D.popLast())})})},e.prototype.Ve=function(i){var t=this,o=i.store(rl.store);return o.$t(function(s,l){var h=$0(l),v=U1(t.R,h);return o.put(v)})},e}();function Z(e){e.createObjectStore(Da.store,{keyPath:Da.keyPath}).createIndex(Da.documentTargetsIndex,Da.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(rl.store,{keyPath:rl.keyPath}).createIndex(rl.queryTargetsIndexName,rl.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ac.store)}var ne="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",le=function(){function e(i,t,o,s,l,h,v,w,D,M){if(this.allowTabSynchronization=i,this.persistenceKey=t,this.clientId=o,this.Se=l,this.window=h,this.document=v,this.De=D,this.Ce=M,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(k){return Promise.resolve()},!e.yt())throw new Ct(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new V2(this,s),this.Le=t+"main",this.R=new cI(w),this.Be=new Sv(this.Le,11,new V(this.R)),this.qe=new F2(this.referenceDelegate,this.R),this.Ut=new k2,this.Ue=new y(this.R,this.Ut),this.Ke=new TA,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===M&&ds("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var i=this;return this.je().then(function(){if(!i.isPrimary&&!i.allowTabSynchronization)throw new Ct(tt.FAILED_PRECONDITION,ne);return i.We(),i.Ge(),i.ze(),i.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return i.qe.getHighestSequenceNumber(t)})}).then(function(t){i.Ne=new Ju(t,i.De)}).then(function(){i.xe=!0}).catch(function(t){return i.Be&&i.Be.close(),Promise.reject(t)})},e.prototype.He=function(i){var t=this;return this.Me=function(o){return(0,se.mG)(t,void 0,void 0,function(){return(0,se.Jh)(this,function(s){return this.started?[2,i(o)]:[2]})})},i(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(i){var t=this;this.Be.vt(function(o){return(0,se.mG)(t,void 0,void 0,function(){return(0,se.Jh)(this,function(s){switch(s.label){case 0:return null===o.newVersion?[4,i()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(i){var t=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Se.enqueueAndForget(function(){return(0,se.mG)(t,void 0,void 0,function(){return(0,se.Jh)(this,function(o){switch(o.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var i=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return Ve(t).put(new hf(i.clientId,Date.now(),i.networkEnabled,i.inForeground)).next(function(){if(i.isPrimary)return i.Je(t).next(function(o){o||(i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}))})}).next(function(){return i.Ye(t)}).next(function(o){return i.isPrimary&&!o?i.Xe(t).next(function(){return!1}):!!o&&i.Ze(t).next(function(){return!0})})}).catch(function(t){if(Rg(t))return Ft("IndexedDbPersistence","Failed to extend owner lease: ",t),i.isPrimary;if(!i.allowTabSynchronization)throw t;return Ft("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){i.isPrimary!==t&&i.Se.enqueueRetryable(function(){return i.Me(t)}),i.isPrimary=t})},e.prototype.Je=function(i){var t=this;return Ae(i).get(nl.key).next(function(o){return Mt.resolve(t.tn(o))})},e.prototype.en=function(i){return Ve(i).delete(this.clientId)},e.prototype.nn=function(){return(0,se.mG)(this,void 0,void 0,function(){var i,t,o,l=this;return(0,se.Jh)(this,function(h){switch(h.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(v){var w=il(v,hf.store);return w.Nt().next(function(D){var M=l.rn(D,18e5),k=D.filter(function(H){return-1===M.indexOf(H)});return Mt.forEach(k,function(H){return w.delete(H.clientId)}).next(function(){return k})})}).catch(function(){return[]})]);case 1:if(i=h.sent(),this.Qe)for(t=0,o=i;t<o.length;t++)this.Qe.removeItem(this.on(o[t].clientId));h.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var i=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return i.je().then(function(){return i.nn()}).then(function(){return i.ze()})})},e.prototype.tn=function(i){return!!i&&i.ownerId===this.clientId},e.prototype.Ye=function(i){var t=this;return this.Ce?Mt.resolve(!0):Ae(i).get(nl.key).next(function(o){if(null!==o&&t.sn(o.leaseTimestampMs,5e3)&&!t.cn(o.ownerId)){if(t.tn(o)&&t.networkEnabled)return!0;if(!t.tn(o)){if(!o.allowTabSynchronization)throw new Ct(tt.FAILED_PRECONDITION,ne);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ve(i).Nt().next(function(s){return void 0===t.rn(s,5e3).find(function(l){return!(t.clientId===l.clientId||!(!t.networkEnabled&&l.networkEnabled||!t.inForeground&&l.inForeground&&t.networkEnabled===l.networkEnabled))})})}).next(function(o){return t.isPrimary!==o&&Ft("IndexedDbPersistence","Client "+(o?"is":"is not")+" eligible for a primary lease."),o})},e.prototype.shutdown=function(){return(0,se.mG)(this,void 0,void 0,function(){var i=this;return(0,se.Jh)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[nl.store,hf.store],function(o){var s=new Gb(o,Ju.o);return i.Xe(s).next(function(){return i.en(s)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(i,t){var o=this;return i.filter(function(s){return o.sn(s.updateTimeMs,t)&&!o.cn(s.clientId)})},e.prototype.fn=function(){var i=this;return this.runTransaction("getActiveClients","readonly",function(t){return Ve(t).Nt().next(function(o){return i.rn(o,18e5).map(function(s){return s.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(i){return R2.Qt(i,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(i,t,o){var l,s=this;return Ft("IndexedDbPersistence","Starting transaction:",i),this.Be.runTransaction(i,"readonly"===t?"readonly":"readwrite",sI,function(v){return l=new Gb(v,s.Ne?s.Ne.next():Ju.o),"readwrite-primary"===t?s.Je(l).next(function(w){return!!w||s.Ye(l)}).next(function(w){if(!w)throw ds("Failed to obtain primary lease for action '"+i+"'."),s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}),new Ct(tt.FAILED_PRECONDITION,aI);return o(l)}).next(function(w){return s.Ze(l).next(function(){return w})}):s.dn(l).next(function(){return o(l)})}).then(function(v){return l.raiseOnCommittedEvent(),v})},e.prototype.dn=function(i){var t=this;return Ae(i).get(nl.key).next(function(o){if(null!==o&&t.sn(o.leaseTimestampMs,5e3)&&!t.cn(o.ownerId)&&!t.tn(o)&&!(t.Ce||t.allowTabSynchronization&&o.allowTabSynchronization))throw new Ct(tt.FAILED_PRECONDITION,ne)})},e.prototype.Ze=function(i){var t=new nl(this.clientId,this.allowTabSynchronization,Date.now());return Ae(i).put(nl.key,t)},e.yt=function(){return Sv.yt()},e.prototype.Xe=function(i){var t=this,o=Ae(i);return o.get(nl.key).next(function(s){return t.tn(s)?(Ft("IndexedDbPersistence","Releasing primary lease."),o.delete(nl.key)):Mt.resolve()})},e.prototype.sn=function(i,t){var o=Date.now();return!(i<o-t||i>o&&(ds("Detected an update time that is in the future: "+i+" > "+o),1))},e.prototype.We=function(){var i=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){i.Se.enqueueAndForget(function(){return i.inForeground="visible"===i.document.visibilityState,i.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var i,t=this;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.ke=function(){t.un(),(0,Dr.G6)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(i){var t;try{var o=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(i)));return Ft("IndexedDbPersistence","Client '"+i+"' "+(o?"is":"is not")+" zombied in LocalStorage"),o}catch(s){return ds("IndexedDbPersistence","Failed to get zombied client id.",s),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(i){ds("Failed to set zombie client id.",i)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(i){return"firestore_zombie_"+this.persistenceKey+"_"+i},e}();function Ae(e){return il(e,nl.store)}function Ve(e){return il(e,hf.store)}function ft(e,i){var t=e.projectId;return e.isDefaultDatabase||(t+="."+e.database),"firestore/"+i+"/"+t+"/"}var Pt=function(e,i){this.progress=e,this.wn=i},Ht=function(){function e(i,t,o){this.Ue=i,this._n=t,this.Ut=o}return e.prototype.mn=function(i,t){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKey(i,t).next(function(s){return o.yn(i,t,s)})},e.prototype.yn=function(i,t,o){return this.Ue.getEntry(i,t).next(function(s){for(var l=0,h=o;l<h.length;l++)h[l].applyToLocalView(s);return s})},e.prototype.gn=function(i,t){i.forEach(function(o,s){for(var l=0,h=t;l<h.length;l++)h[l].applyToLocalView(s)})},e.prototype.pn=function(i,t){var o=this;return this.Ue.getEntries(i,t).next(function(s){return o.En(i,s).next(function(){return s})})},e.prototype.En=function(i,t){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(i,t).next(function(s){return o.gn(t,s)})},e.prototype.getDocumentsMatchingQuery=function(i,t,o){return On.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.Tn(i,t.path):Lb(t)?this.In(i,t,o):this.An(i,t,o);var s},e.prototype.Tn=function(i,t){return this.mn(i,new On(t)).next(function(o){var s=b1();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})},e.prototype.In=function(i,t,o){var s=this,l=t.collectionGroup,h=b1();return this.Ut.getCollectionParents(i,l).next(function(v){return Mt.forEach(v,function(w){var M,k,D=(M=t,k=w.child(l),new yh(k,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));return s.An(i,D,o).next(function(M){M.forEach(function(k,H){h=h.insert(k,H)})})}).next(function(){return h})})},e.prototype.An=function(i,t,o){var s,l,h=this;return this.Ue.getDocumentsMatchingQuery(i,t,o).next(function(v){return s=v,h._n.getAllMutationBatchesAffectingQuery(i,t)}).next(function(v){return h.Rn(i,l=v,s).next(function(w){s=w;for(var D=0,M=l;D<M.length;D++)for(var k=M[D],H=0,J=k.mutations;H<J.length;H++){var X=J[H],ue=X.key,ve=s.get(ue);null==ve&&(ve=ta.newInvalidDocument(ue),s=s.insert(ue,ve)),m1(X,ve,k.localWriteTime),ve.isFoundDocument()||(s=s.remove(ue))}})}).next(function(){return s.forEach(function(v,w){uf(t,w)||(s=s.remove(v))}),s})},e.prototype.Rn=function(i,t,o){for(var s=Bi(),l=0,h=t;l<h.length;l++)for(var v=0,w=h[l].mutations;v<w.length;v++){var D=w[v];D instanceof Ng&&null===o.get(D.key)&&(s=s.add(D.key))}var M=o;return this.Ue.getEntries(i,s).next(function(k){return k.forEach(function(H,J){J.isFoundDocument()&&(M=M.insert(H,J))}),M})},e}(),fn=function(){function e(i,t,o,s){this.targetId=i,this.fromCache=t,this.bn=o,this.vn=s}return e.Pn=function(i,t){for(var o=Bi(),s=Bi(),l=0,h=t.docChanges;l<h.length;l++){var v=h[l];switch(v.type){case 0:o=o.add(v.doc.key);break;case 1:s=s.add(v.doc.key)}}return new e(i,t.fromCache,o,s)},e}(),Vn=function(){function e(){}return e.prototype.Vn=function(i){this.Sn=i},e.prototype.getDocumentsMatchingQuery=function(i,t,o,s){var h,l=this;return 0===(h=t).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(Fr.min())?this.Dn(i,t):this.Sn.pn(i,s).next(function(h){var v=l.Cn(t,h);return(kb(t)||Rb(t))&&l.Nn(t.limitType,v,s,o)?l.Dn(i,t):(r1()<=rf.in.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ub(t)),l.Sn.getDocumentsMatchingQuery(i,t,o).next(function(w){return v.forEach(function(D){w=w.insert(D.key,D)}),w}))})},e.prototype.Cn=function(i,t){var o=new hs(JE(i));return t.forEach(function(s,l){uf(i,l)&&(o=o.add(l))}),o},e.prototype.Nn=function(i,t,o,s){if(o.size!==t.size)return!0;var l="F"===i?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)},e.prototype.Dn=function(i,t){return r1()<=rf.in.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",Ub(t)),this.Sn.getDocumentsMatchingQuery(i,t,Fr.min())},e}(),gt=function(){function e(i,t,o,s){this.persistence=i,this.xn=t,this.R=s,this.kn=new Aa(Hr),this.Fn=new d(function(l){return gv(l)},Mb),this.$n=Fr.min(),this._n=i.getMutationQueue(o),this.On=i.getRemoteDocumentCache(),this.qe=i.getTargetCache(),this.Mn=new Ht(this.On,this._n,this.persistence.getIndexManager()),this.Ke=i.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(i){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(o){return i.collect(o,t.kn)})},e}();function Kn(e,i,t,o){return new gt(e,i,t,o)}function gi(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o,s,l;return(0,se.Jh)(this,function(h){switch(h.label){case 0:return t=Zt(e),o=t._n,s=t.Mn,[4,t.persistence.runTransaction("Handle user change","readonly",function(v){var w;return t._n.getAllMutationBatches(v).next(function(D){return w=D,o=t.persistence.getMutationQueue(i),s=new Ht(t.On,o,t.persistence.getIndexManager()),o.getAllMutationBatches(v)}).next(function(D){for(var M=[],k=[],H=Bi(),J=0,X=w;J<X.length;J++){var ue=X[J];M.push(ue.batchId);for(var ve=0,Ne=ue.mutations;ve<Ne.length;ve++)H=H.add(Ne[ve].key)}for(var et=0,_t=D;et<_t.length;et++){var St=_t[et];k.push(St.batchId);for(var Ze=0,Nn=St.mutations;Ze<Nn.length;Ze++)H=H.add(Nn[Ze].key)}return s.pn(v,H).next(function(Qn){return{Ln:Qn,removedBatchIds:M,addedBatchIds:k}})})})];case 1:return l=h.sent(),[2,(t._n=o,t.Mn=s,t.xn.Vn(t.Mn),l)]}})})}function wo(e,i){var t=Zt(e);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(o){var h,v,w,D,M,k,H,s=i.batch.keys(),l=t.On.newChangeBuffer({trackRemovals:!0});return(h=t,v=o,w=i,D=l,M=w.batch,k=M.keys(),H=Mt.resolve(),k.forEach(function(J){H=H.next(function(){return D.getEntry(v,J)}).next(function(X){var ue=w.docVersions.get(J);nr(null!==ue),X.version.compareTo(ue)<0&&(M.applyToRemoteDocument(X,w),X.isValidDocument()&&D.addEntry(X,w.commitVersion))})}),H.next(function(){return h._n.removeMutationBatch(v,M)})).next(function(){return l.apply(o)}).next(function(){return t._n.performConsistencyCheck(o)}).next(function(){return t.Mn.pn(o,s)})})}function yp(e){var i=Zt(e);return i.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return i.qe.getLastRemoteSnapshotVersion(t)})}function H1(e,i){var t=Zt(e),o=i.snapshotVersion,s=t.kn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",function(l){var h=t.On.newChangeBuffer({trackRemovals:!0});s=t.kn;var v=[];i.targetChanges.forEach(function(M,k){var ue,ve,Ne,H=s.get(k);if(H){v.push(t.qe.removeMatchingKeys(l,M.removedDocuments,k).next(function(){return t.qe.addMatchingKeys(l,M.addedDocuments,k)}));var J=M.resumeToken;if(J.approximateByteSize()>0){var X=H.withResumeToken(J,o).withSequenceNumber(l.currentSequenceNumber);s=s.insert(k,X),ue=H,Ne=M,nr((ve=X).resumeToken.approximateByteSize()>0),(0===ue.resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0)&&v.push(t.qe.updateTargetData(l,X))}}});var w=ld();if(i.documentUpdates.forEach(function(M,k){i.resolvedLimboDocuments.has(M)&&v.push(t.persistence.referenceDelegate.updateLimboDocument(l,M))}),v.push(Wb(l,h,i.documentUpdates,o,void 0).next(function(M){w=M})),!o.isEqual(Fr.min())){var D=t.qe.getLastRemoteSnapshotVersion(l).next(function(M){return t.qe.setTargetsMetadata(l,l.currentSequenceNumber,o)});v.push(D)}return Mt.waitFor(v).next(function(){return h.apply(l)}).next(function(){return t.Mn.En(l,w)}).next(function(){return w})}).then(function(l){return t.kn=s,l})}function Wb(e,i,t,o,s){var l=Bi();return t.forEach(function(h){return l=l.add(h)}),i.getEntries(e,l).next(function(h){var v=ld();return t.forEach(function(w,D){var M=h.get(w),k=s?.get(w)||o;D.isNoDocument()&&D.version.isEqual(Fr.min())?(i.removeEntry(w,k),v=v.insert(w,D)):!M.isValidDocument()||D.version.compareTo(M.version)>0||0===D.version.compareTo(M.version)&&M.hasPendingWrites?(i.addEntry(D,k),v=v.insert(w,D)):Ft("LocalStore","Ignoring outdated watch update for ",w,". Current version:",M.version," Watch version:",D.version)}),v})}function q1(e,i){var t=Zt(e);return t.persistence.runTransaction("Get next mutation batch","readonly",function(o){return void 0===i&&(i=-1),t._n.getNextMutationBatchAfterBatchId(o,i)})}function _p(e,i){var t=Zt(e);return t.persistence.runTransaction("Allocate target","readwrite",function(o){var s;return t.qe.getTargetData(o,i).next(function(l){return l?Mt.resolve(s=l):t.qe.allocateTargetId(o).next(function(h){return s=new Fg(i,h,0,o.currentSequenceNumber),t.qe.addTargetData(o,s).next(function(){return s})})})}).then(function(o){var s=t.kn.get(o.targetId);return(null===s||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.kn=t.kn.insert(o.targetId,o),t.Fn.set(i,o.targetId)),o})}function bp(e,i,t){return(0,se.mG)(this,void 0,void 0,function(){var o,s,l,h;return(0,se.Jh)(this,function(v){switch(v.label){case 0:o=Zt(e),s=o.kn.get(i),l=t?"readwrite":"readwrite-primary",v.label=1;case 1:return v.trys.push([1,4,,5]),t?[3,3]:[4,o.persistence.runTransaction("Release target",l,function(w){return o.persistence.referenceDelegate.removeTarget(w,s)})];case 2:v.sent(),v.label=3;case 3:return[3,5];case 4:if(!Rg(h=v.sent()))throw h;return Ft("LocalStore","Failed to update sequence numbers for target "+i+": "+h),[3,5];case 5:return o.kn=o.kn.remove(i),o.Fn.delete(s.target),[2]}})})}function Nv(e,i,t){var o=Zt(e),s=Fr.min(),l=Bi();return o.persistence.runTransaction("Execute query","readonly",function(h){return(v=o,w=h,D=tl(i),M=Zt(v),k=M.Fn.get(D),void 0!==k?Mt.resolve(M.kn.get(k)):M.qe.getTargetData(w,D)).next(function(v){if(v)return s=v.lastLimboFreeSnapshotVersion,o.qe.getMatchingKeysForTargetId(h,v.targetId).next(function(w){l=w})}).next(function(){return o.xn.getDocumentsMatchingQuery(h,i,t?s:Fr.min(),t?l:Bi())}).next(function(v){return{documents:v,Bn:l}});var v,w,D,M,k})}function Yb(e,i){var t=Zt(e),o=Zt(t.qe),s=t.kn.get(i);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",function(l){return o.lt(l,i).next(function(h){return h?h.target:null})})}function Kb(e){var i=Zt(e);return i.persistence.runTransaction("Get new document changes","readonly",function(t){return s=t,l=i.$n,h=Zt(i.On),v=ld(),w=CA(l),D=x(s),M=IDBKeyRange.lowerBound(w,!0),D.$t({index:Lo.readTimeIndex,range:M},function(k,H){var J=wA(h.R,H);v=v.insert(J.key,J),w=H.readTime}).next(function(){return{wn:v,readTime:L1(w)}});var s,l,h,v,w,D,M}).then(function(t){var o=t.wn;return i.$n=t.readTime,o})}function Z1(e){return(0,se.mG)(this,void 0,void 0,function(){var i;return(0,se.Jh)(this,function(t){return[2,(i=Zt(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return l=x(o),h=Fr.min(),l.$t({index:Lo.readTimeIndex,reverse:!0},function(v,w,D){w.readTime&&(h=L1(w.readTime)),D.done()}).next(function(){return h});var l,h}).then(function(o){i.$n=o})]})})}function PN(e,i,t,o){return(0,se.mG)(this,void 0,void 0,function(){var s,l,h,v,w,D,M,k,H,J;return(0,se.Jh)(this,function(X){switch(X.label){case 0:for(s=Zt(e),l=Bi(),h=ld(),v=H0(),w=0,D=t;w<D.length;w++)k=i.qn((M=D[w]).metadata.name),M.document&&(l=l.add(k)),h=h.insert(k,i.Un(M)),v=v.insert(k,i.Kn(M.metadata.readTime));return H=s.On.newChangeBuffer({trackRemovals:!0}),[4,_p(s,(ue=o,tl(vv(Gr.fromString("__bundle__/docs/"+ue)))))];case 1:return J=X.sent(),[2,s.persistence.runTransaction("Apply bundle documents","readwrite",function(ue){return Wb(ue,H,h,Fr.min(),v).next(function(ve){return H.apply(ue),ve}).next(function(ve){return s.qe.removeMatchingKeysForTargetId(ue,J.targetId).next(function(){return s.qe.addMatchingKeys(ue,l,J.targetId)}).next(function(){return s.Mn.En(ue,ve)}).next(function(){return ve})})})]}var ue})})}function MN(e,i,t){return void 0===t&&(t=Bi()),(0,se.mG)(this,void 0,void 0,function(){var o,s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return[4,_p(e,tl($b(i.bundledQuery)))];case 1:return o=l.sent(),[2,(s=Zt(e)).persistence.runTransaction("Save named query","readwrite",function(h){var v=na(i.readTime);if(o.snapshotVersion.compareTo(v)>=0)return s.Ke.saveNamedQuery(h,i);var w=o.withResumeToken(Au.EMPTY_BYTE_STRING,v);return s.kn=s.kn.insert(w.targetId,w),s.qe.updateTargetData(h,w).next(function(){return s.qe.removeMatchingKeysForTargetId(h,o.targetId)}).next(function(){return s.qe.addMatchingKeys(h,t,o.targetId)}).next(function(){return s.Ke.saveNamedQuery(h,i)})})]}})})}var ON=function(){function e(i){this.R=i,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(i,t){return Mt.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(i,t){var o;return this.Qn.set(t.id,{id:(o=t).id,version:o.version,createTime:na(o.createTime)}),Mt.resolve()},e.prototype.getNamedQuery=function(i,t){return Mt.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(i,t){return this.jn.set(t.name,{name:(o=t).name,query:$b(o.bundledQuery),readTime:na(o.readTime)}),Mt.resolve();var o},e}(),gI=function(){function e(){this.Wn=new hs(Ka.Gn),this.zn=new hs(Ka.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(i,t){var o=new Ka(i,t);this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},e.prototype.Jn=function(i,t){var o=this;i.forEach(function(s){return o.addReference(s,t)})},e.prototype.removeReference=function(i,t){this.Yn(new Ka(i,t))},e.prototype.Xn=function(i,t){var o=this;i.forEach(function(s){return o.removeReference(s,t)})},e.prototype.Zn=function(i){var t=this,o=new On(new Gr([])),s=new Ka(o,i),l=new Ka(o,i+1),h=[];return this.zn.forEachInRange([s,l],function(v){t.Yn(v),h.push(v.key)}),h},e.prototype.ts=function(){var i=this;this.Wn.forEach(function(t){return i.Yn(t)})},e.prototype.Yn=function(i){this.Wn=this.Wn.delete(i),this.zn=this.zn.delete(i)},e.prototype.es=function(i){var t=new On(new Gr([])),o=new Ka(t,i),s=new Ka(t,i+1),l=Bi();return this.zn.forEachInRange([o,s],function(h){l=l.add(h.key)}),l},e.prototype.containsKey=function(i){var t=new Ka(i,0),o=this.Wn.firstAfterOrEqual(t);return null!==o&&i.isEqual(o.key)},e}(),Ka=function(){function e(i,t){this.key=i,this.ns=t}return e.Gn=function(i,t){return On.comparator(i.key,t.key)||Hr(i.ns,t.ns)},e.Hn=function(i,t){return Hr(i.ns,t.ns)||On.comparator(i.key,t.key)},e}(),NN=function(){function e(i,t){this.Ut=i,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new hs(Ka.Gn)}return e.prototype.checkEmpty=function(i){return Mt.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(i,t,o,s){var l=this.ss;this.ss++;var h=new G0(l,t,o,s);this._n.push(h);for(var v=0,w=s;v<w.length;v++){var D=w[v];this.rs=this.rs.add(new Ka(D.key,l)),this.Ut.addToCollectionParentIndex(i,D.key.path.popLast())}return Mt.resolve(h)},e.prototype.lookupMutationBatch=function(i,t){return Mt.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(i,t){var s=this.cs(t+1),l=s<0?0:s;return Mt.resolve(this._n.length>l?this._n[l]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Mt.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(i){return Mt.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,t){var o=this,s=new Ka(t,0),l=new Ka(t,Number.POSITIVE_INFINITY),h=[];return this.rs.forEachInRange([s,l],function(v){var w=o.os(v.ns);h.push(w)}),Mt.resolve(h)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,t){var o=this,s=new hs(Hr);return t.forEach(function(l){var h=new Ka(l,0),v=new Ka(l,Number.POSITIVE_INFINITY);o.rs.forEachInRange([h,v],function(w){s=s.add(w.ns)})}),Mt.resolve(this.us(s))},e.prototype.getAllMutationBatchesAffectingQuery=function(i,t){var o=t.path,s=o.length+1,l=o;On.isDocumentKey(l)||(l=l.child(""));var h=new Ka(new On(l),0),v=new hs(Hr);return this.rs.forEachWhile(function(w){var D=w.key.path;return!!o.isPrefixOf(D)&&(D.length===s&&(v=v.add(w.ns)),!0)},h),Mt.resolve(this.us(v))},e.prototype.us=function(i){var t=this,o=[];return i.forEach(function(s){var l=t.os(s);null!==l&&o.push(l)}),o},e.prototype.removeMutationBatch=function(i,t){var o=this;nr(0===this.hs(t.batchId,"removed")),this._n.shift();var s=this.rs;return Mt.forEach(t.mutations,function(l){var h=new Ka(l.key,t.batchId);return s=s.delete(h),o.referenceDelegate.markPotentiallyOrphaned(i,l.key)}).next(function(){o.rs=s})},e.prototype.Gt=function(i){},e.prototype.containsKey=function(i,t){var o=new Ka(t,0),s=this.rs.firstAfterOrEqual(o);return Mt.resolve(t.isEqual(s&&s.key))},e.prototype.performConsistencyCheck=function(i){return Mt.resolve()},e.prototype.hs=function(i,t){return this.cs(i)},e.prototype.cs=function(i){return 0===this._n.length?0:i-this._n[0].batchId},e.prototype.os=function(i){var t=this.cs(i);return t<0||t>=this._n.length?null:this._n[t]},e}(),kN=function(){function e(i,t){this.Ut=i,this.ls=t,this.docs=new Aa(On.comparator),this.size=0}return e.prototype.addEntry=function(i,t,o){var s=t.key,l=this.docs.get(s),h=l?l.size:0,v=this.ls(t);return this.docs=this.docs.insert(s,{document:t.clone(),size:v,readTime:o}),this.size+=v-h,this.Ut.addToCollectionParentIndex(i,s.path.popLast())},e.prototype.removeEntry=function(i){var t=this.docs.get(i);t&&(this.docs=this.docs.remove(i),this.size-=t.size)},e.prototype.getEntry=function(i,t){var o=this.docs.get(t);return Mt.resolve(o?o.document.clone():ta.newInvalidDocument(t))},e.prototype.getEntries=function(i,t){var o=this,s=ld();return t.forEach(function(l){var h=o.docs.get(l);s=s.insert(l,h?h.document.clone():ta.newInvalidDocument(l))}),Mt.resolve(s)},e.prototype.getDocumentsMatchingQuery=function(i,t,o){for(var s=ld(),l=new On(t.path.child("")),h=this.docs.getIteratorFrom(l);h.hasNext();){var v=h.getNext(),D=v.value,M=D.document,k=D.readTime;if(!t.path.isPrefixOf(v.key.path))break;k.compareTo(o)<=0||uf(t,M)&&(s=s.insert(M.key,M.clone()))}return Mt.resolve(s)},e.prototype.fs=function(i,t){return Mt.forEach(this.docs,function(o){return t(o)})},e.prototype.newChangeBuffer=function(i){return new RN(this)},e.prototype.getSize=function(i){return Mt.resolve(this.size)},e}(),RN=function(e){function i(t){var o=this;return(o=e.call(this)||this).Ie=t,o}return(0,se.ZT)(i,e),i.prototype.applyChanges=function(t){var o=this,s=[];return this.changes.forEach(function(l,h){h.document.isValidDocument()?s.push(o.Ie.addEntry(t,h.document,o.getReadTime(l))):o.Ie.removeEntry(l)}),Mt.waitFor(s)},i.prototype.getFromCache=function(t,o){return this.Ie.getEntry(t,o)},i.prototype.getAllFromCache=function(t,o){return this.Ie.getEntries(t,o)},i}(f),FN=function(){function e(i){this.persistence=i,this.ds=new d(function(t){return gv(t)},Mb),this.lastRemoteSnapshotVersion=Fr.min(),this.highestTargetId=0,this.ws=0,this._s=new gI,this.targetCount=0,this.ys=j1.Jt()}return e.prototype.forEachTarget=function(i,t){return this.ds.forEach(function(o,s){return t(s)}),Mt.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(i){return Mt.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(i){return Mt.resolve(this.ws)},e.prototype.allocateTargetId=function(i){return this.highestTargetId=this.ys.next(),Mt.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(i,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.ws&&(this.ws=t),Mt.resolve()},e.prototype.te=function(i){this.ds.set(i.target,i);var t=i.targetId;t>this.highestTargetId&&(this.ys=new j1(t),this.highestTargetId=t),i.sequenceNumber>this.ws&&(this.ws=i.sequenceNumber)},e.prototype.addTargetData=function(i,t){return this.te(t),this.targetCount+=1,Mt.resolve()},e.prototype.updateTargetData=function(i,t){return this.te(t),Mt.resolve()},e.prototype.removeTargetData=function(i,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Mt.resolve()},e.prototype.removeTargets=function(i,t,o){var s=this,l=0,h=[];return this.ds.forEach(function(v,w){w.sequenceNumber<=t&&null===o.get(w.targetId)&&(s.ds.delete(v),h.push(s.removeMatchingKeysForTargetId(i,w.targetId)),l++)}),Mt.waitFor(h).next(function(){return l})},e.prototype.getTargetCount=function(i){return Mt.resolve(this.targetCount)},e.prototype.getTargetData=function(i,t){var o=this.ds.get(t)||null;return Mt.resolve(o)},e.prototype.addMatchingKeys=function(i,t,o){return this._s.Jn(t,o),Mt.resolve()},e.prototype.removeMatchingKeys=function(i,t,o){this._s.Xn(t,o);var s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(function(h){l.push(s.markPotentiallyOrphaned(i,h))}),Mt.waitFor(l)},e.prototype.removeMatchingKeysForTargetId=function(i,t){return this._s.Zn(t),Mt.resolve()},e.prototype.getMatchingKeysForTargetId=function(i,t){var o=this._s.es(t);return Mt.resolve(o)},e.prototype.containsKey=function(i,t){return Mt.resolve(this._s.containsKey(t))},e}(),LN=function(){function e(i,t){var o=this;this.gs={},this.Ne=new Ju(0),this.xe=!1,this.xe=!0,this.referenceDelegate=i(this),this.qe=new FN(this),this.Ut=new DA,this.Ue=new kN(this.Ut,function(h){return o.referenceDelegate.ps(h)}),this.R=new cI(t),this.Ke=new ON(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(i){var t=this.gs[i.toKey()];return t||(t=new NN(this.Ut,this.referenceDelegate),this.gs[i.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(i,t,o){var s=this;Ft("MemoryPersistence","Starting transaction:",i);var l=new UN(this.Ne.next());return this.referenceDelegate.Es(),o(l).next(function(h){return s.referenceDelegate.Ts(l).next(function(){return h})}).toPromise().then(function(h){return l.raiseOnCommittedEvent(),h})},e.prototype.Is=function(i,t){return Mt.or(Object.values(this.gs).map(function(o){return function(){return o.containsKey(i,t)}}))},e}(),UN=function(e){function i(t){var o=this;return(o=e.call(this)||this).currentSequenceNumber=t,o}return(0,se.ZT)(i,e),i}(uI),BN=function(){function e(i){this.persistence=i,this.As=new gI,this.Rs=null}return e.bs=function(i){return new e(i)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw vn()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(i,t,o){return this.As.addReference(o,t),this.vs.delete(o.toString()),Mt.resolve()},e.prototype.removeReference=function(i,t,o){return this.As.removeReference(o,t),this.vs.add(o.toString()),Mt.resolve()},e.prototype.markPotentiallyOrphaned=function(i,t){return this.vs.add(t.toString()),Mt.resolve()},e.prototype.removeTarget=function(i,t){var o=this;this.As.Zn(t.targetId).forEach(function(l){return o.vs.add(l.toString())});var s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(i,t.targetId).next(function(l){l.forEach(function(h){return o.vs.add(h.toString())})}).next(function(){return s.removeTargetData(i,t)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(i){var t=this,o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mt.forEach(this.vs,function(s){var l=On.fromPath(s);return t.Ps(i,l).next(function(h){h||o.removeEntry(l)})}).next(function(){return t.Rs=null,o.apply(i)})},e.prototype.updateLimboDocument=function(i,t){var o=this;return this.Ps(i,t).next(function(s){s?o.vs.delete(t.toString()):o.vs.add(t.toString())})},e.prototype.ps=function(i){return 0},e.prototype.Ps=function(i,t){var o=this;return Mt.or([function(){return Mt.resolve(o.As.containsKey(t))},function(){return o.persistence.getTargetCache().containsKey(i,t)},function(){return o.persistence.Is(i,t)}])},e}(),Su=function(){function e(i){this.uid=i}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(i){return i.uid===this.uid},e}();function j2(e,i){return"firestore_clients_"+e+"_"+i}function H2(e,i,t){var o="firestore_mutations_"+e+"_"+t;return i.isAuthenticated()&&(o+="_"+i.uid),o}function mI(e,i){return"firestore_targets_"+e+"_"+i}Su.UNAUTHENTICATED=new Su(null),Su.GOOGLE_CREDENTIALS=new Su("google-credentials-uid"),Su.FIRST_PARTY=new Su("first-party-uid"),Su.MOCK_USER=new Su("mock-user");var q2=function(){function e(i,t,o,s){this.user=i,this.batchId=t,this.state=o,this.error=s}return e.Vs=function(i,t,o){var s,l=JSON.parse(o),h="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return h&&l.error&&(h="string"==typeof l.error.message&&"string"==typeof l.error.code)&&(s=new Ct(l.error.code,l.error.message)),h?new e(i,t,l.state,s):(ds("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+o),null)},e.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},e}(),vI=function(){function e(i,t,o){this.targetId=i,this.state=t,this.error=o}return e.Vs=function(i,t){var o,s=JSON.parse(t),l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(o=new Ct(s.error.code,s.error.message)),l?new e(i,s.state,o):(ds("SharedClientState","Failed to parse target state for ID '"+i+"': "+t),null)},e.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},e}(),Z2=function(){function e(i,t){this.clientId=i,this.activeTargetIds=t}return e.Vs=function(i,t){for(var o=JSON.parse(t),s="object"==typeof o&&o.activeTargetIds instanceof Array,l=w1(),h=0;s&&h<o.activeTargetIds.length;++h)s=c1(o.activeTargetIds[h]),l=l.add(o.activeTargetIds[h]);return s?new e(i,l):(ds("SharedClientState","Failed to parse client data for instance '"+i+"': "+t),null)},e}(),VN=function(){function e(i,t){this.clientId=i,this.onlineState=t}return e.Vs=function(i){var t=JSON.parse(i);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new e(t.clientId,t.onlineState):(ds("SharedClientState","Failed to parse online state: "+i),null)},e}(),yI=function(){function e(){this.activeTargetIds=w1()}return e.prototype.Ds=function(i){this.activeTargetIds=this.activeTargetIds.add(i)},e.prototype.Cs=function(i){this.activeTargetIds=this.activeTargetIds.delete(i)},e.prototype.Ss=function(){var i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)},e}(),_I=function(){function e(i,t,o,s,l){this.window=i,this.Se=t,this.persistenceKey=o,this.Ns=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Aa(Hr),this.started=!1,this.$s=[];var h=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Os=j2(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new yI),this.Ls=new RegExp("^firestore_clients_"+h+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+h+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+h+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(v){return"firestore_bundle_loaded_"+v}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(i){return!(!i||!i.localStorage)},e.prototype.start=function(){return(0,se.mG)(this,void 0,void 0,function(){var i,t,o,s,l,h,v,w,D,M,H=this;return(0,se.Jh)(this,function(J){switch(J.label){case 0:return[4,this.syncEngine.fn()];case 1:for(i=J.sent(),t=0,o=i;t<o.length;t++)(s=o[t])!==this.Ns&&(l=this.getItem(j2(this.persistenceKey,s)))&&(h=Z2.Vs(s,l))&&(this.Fs=this.Fs.insert(h.clientId,h));for(this.Qs(),(v=this.storage.getItem(this.Us))&&(w=this.js(v))&&this.Ws(w),D=0,M=this.$s;D<M.length;D++)this.ks(M[D]);return this.$s=[],this.window.addEventListener("pagehide",function(){return H.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(i){this.setItem(this.Ms,JSON.stringify(i))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(i){var t=!1;return this.Fs.forEach(function(o,s){s.activeTargetIds.has(i)&&(t=!0)}),t},e.prototype.addPendingMutation=function(i){this.zs(i,"pending")},e.prototype.updateMutationState=function(i,t,o){this.zs(i,t,o),this.Hs(i)},e.prototype.addLocalQueryTarget=function(i){var t="not-current";if(this.isActiveQueryTarget(i)){var o=this.storage.getItem(mI(this.persistenceKey,i));if(o){var s=vI.Vs(i,o);s&&(t=s.state)}}return this.Js.Ds(i),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(i){this.Js.Cs(i),this.Qs()},e.prototype.isLocalQueryTarget=function(i){return this.Js.activeTargetIds.has(i)},e.prototype.clearQueryState=function(i){this.removeItem(mI(this.persistenceKey,i))},e.prototype.updateQueryState=function(i,t,o){this.Ys(i,t,o)},e.prototype.handleUserChange=function(i,t,o){var s=this;t.forEach(function(l){s.Hs(l)}),this.currentUser=i,o.forEach(function(l){s.addPendingMutation(l)})},e.prototype.setOnlineState=function(i){this.Xs(i)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(i){var t=this.storage.getItem(i);return Ft("SharedClientState","READ",i,t),t},e.prototype.setItem=function(i,t){Ft("SharedClientState","SET",i,t),this.storage.setItem(i,t)},e.prototype.removeItem=function(i){Ft("SharedClientState","REMOVE",i),this.storage.removeItem(i)},e.prototype.ks=function(i){var t=this,o=i;if(o.storageArea===this.storage){if(Ft("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Os)return void ds("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,se.mG)(t,void 0,void 0,function(){var s,l,h,v,w,D;return(0,se.Jh)(this,function(M){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return s=this.ti(o.key),[2,this.ei(s,null)];if(l=this.ni(o.key,o.newValue))return[2,this.ei(l.clientId,l)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(h=this.si(o.key,o.newValue)))return[2,this.ii(h)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(v=this.ri(o.key,o.newValue)))return[2,this.oi(v)]}else if(o.key===this.Us){if(null!==o.newValue&&(w=this.js(o.newValue)))return[2,this.Ws(w)]}else if(o.key===this.Ms)(D=function(k){var H=Ju.o;if(null!=k)try{var J=JSON.parse(k);nr("number"==typeof J),H=J}catch(X){ds("SharedClientState","Failed to read sequence number from WebStorage",X)}return H}(o.newValue))!==Ju.o&&this.sequenceNumberHandler(D);else if(o.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(o);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(i,t,o){var s=new q2(this.currentUser,i,t,o),l=H2(this.persistenceKey,this.currentUser,i);this.setItem(l,s.Ss())},e.prototype.Hs=function(i){var t=H2(this.persistenceKey,this.currentUser,i);this.removeItem(t)},e.prototype.Xs=function(i){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:i}))},e.prototype.Ys=function(i,t,o){var s=mI(this.persistenceKey,i),l=new vI(i,t,o);this.setItem(s,l.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(i){var t=this.Ls.exec(i);return t?t[1]:null},e.prototype.ni=function(i,t){var o=this.ti(i);return Z2.Vs(o,t)},e.prototype.si=function(i,t){var o=this.Bs.exec(i),s=Number(o[1]);return q2.Vs(new Su(void 0!==o[2]?o[2]:null),s,t)},e.prototype.ri=function(i,t){var o=this.qs.exec(i),s=Number(o[1]);return vI.Vs(s,t)},e.prototype.js=function(i){return VN.Vs(i)},e.prototype.ii=function(i){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(t){return i.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(i.batchId,i.state,i.error)]:(Ft("SharedClientState","Ignoring mutation for non-active user "+i.user.uid),[2])})})},e.prototype.oi=function(i){return this.syncEngine.ai(i.targetId,i.state,i.error)},e.prototype.ei=function(i,t){var o=this,s=t?this.Fs.insert(i,t):this.Fs.remove(i),l=this.Gs(this.Fs),h=this.Gs(s),v=[],w=[];return h.forEach(function(D){l.has(D)||v.push(D)}),l.forEach(function(D){h.has(D)||w.push(D)}),this.syncEngine.hi(v,w).then(function(){o.Fs=s})},e.prototype.Ws=function(i){this.Fs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)},e.prototype.Gs=function(i){var t=w1();return i.forEach(function(o,s){t=t.unionWith(s.activeTargetIds)}),t},e}(),G2=function(){function e(){this.li=new yI,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(i){},e.prototype.updateMutationState=function(i,t,o){},e.prototype.addLocalQueryTarget=function(i){return this.li.Ds(i),this.fi[i]||"not-current"},e.prototype.updateQueryState=function(i,t,o){this.fi[i]=t},e.prototype.removeLocalQueryTarget=function(i){this.li.Cs(i)},e.prototype.isLocalQueryTarget=function(i){return this.li.activeTargetIds.has(i)},e.prototype.clearQueryState=function(i){delete this.fi[i]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(i){return this.li.activeTargetIds.has(i)},e.prototype.start=function(){return this.li=new yI,Promise.resolve()},e.prototype.handleUserChange=function(i,t,o){},e.prototype.setOnlineState=function(i){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(i){},e.prototype.notifyBundleLoaded=function(){},e}(),jN=function(){function e(){}return e.prototype.di=function(i){},e.prototype.shutdown=function(){},e}(),$2=function(){function e(){var i=this;this.wi=function(){return i._i()},this.mi=function(){return i.yi()},this.gi=[],this.pi()}return e.prototype.di=function(i){this.gi.push(i)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var i=0,t=this.gi;i<t.length;i++)(0,t[i])(0)},e.prototype.yi=function(){Ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var i=0,t=this.gi;i<t.length;i++)(0,t[i])(1)},e.yt=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),HN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qN=function(){function e(i){this.Ei=i.Ei,this.Ti=i.Ti}return e.prototype.Ii=function(i){this.Ai=i},e.prototype.Ri=function(i){this.bi=i},e.prototype.onMessage=function(i){this.vi=i},e.prototype.close=function(){this.Ti()},e.prototype.send=function(i){this.Ei(i)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(i){this.bi(i)},e.prototype.Si=function(i){this.vi(i)},e}(),ZN=function(e){function i(t){var o=this;return(o=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,o.autoDetectLongPolling=t.autoDetectLongPolling,o.useFetchStreams=t.useFetchStreams,o}return(0,se.ZT)(i,e),i.prototype.Fi=function(t,o,s,l){return new Promise(function(h,v){var w=new VE;w.listenOnce(t1.COMPLETE,function(){try{switch(w.getLastErrorCode()){case e1.NO_ERROR:var M=w.getResponseJson();Ft("Connection","XHR received:",JSON.stringify(M)),h(M);break;case e1.TIMEOUT:Ft("Connection",'RPC "'+t+'" timed out'),v(new Ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case e1.HTTP_ERROR:var k=w.getStatus();if(Ft("Connection",'RPC "'+t+'" failed with status:',k,"response text:",w.getResponseText()),k>0){var H=w.getResponseJson().error;if(H&&H.status&&H.message){var J=(ue=H.status.toLowerCase().replace(/_/g,"-"),Object.values(tt).indexOf(ue)>=0?ue:tt.UNKNOWN);v(new Ct(J,H.message))}else v(new Ct(tt.UNKNOWN,"Server responded with status "+w.getStatus()))}else v(new Ct(tt.UNAVAILABLE,"Connection failed."));break;default:vn()}}finally{Ft("Connection",'RPC "'+t+'" completed.')}var ue});var D=JSON.stringify(l);w.send(o,"POST",D,s,15)})},i.prototype.Oi=function(t,o){var s=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=new E0,h=ub(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(v.xmlHttpFactory=new kS({})),this.ki(v.initMessageHeaders,o),(0,Dr.uI)()||(0,Dr.b$)()||(0,Dr.d)()||(0,Dr.w1)()||(0,Dr.Mn)()||(0,Dr.ru)()||(v.httpHeadersOverwriteParam="$httpHeaders");var w=s.join("");Ft("Connection","Creating WebChannel: "+w,v);var D=l.createWebChannel(w,v),M=!1,k=!1,H=new qN({Ei:function(X){k?Ft("Connection","Not sending because WebChannel is closed:",X):(M||(Ft("Connection","Opening WebChannel transport."),D.open(),M=!0),Ft("Connection","WebChannel sending:",X),D.send(X))},Ti:function(){return D.close()}}),J=function(X,ue,ve){X.listen(ue,function(Ne){try{ve(Ne)}catch(Ue){setTimeout(function(){throw Ue},0)}})};return J(D,Sb.EventType.OPEN,function(){k||Ft("Connection","WebChannel transport opened.")}),J(D,Sb.EventType.CLOSE,function(){k||(k=!0,Ft("Connection","WebChannel transport closed"),H.Vi())}),J(D,Sb.EventType.ERROR,function(X){k||(k=!0,A0("Connection","WebChannel transport errored:",X),H.Vi(new Ct(tt.UNAVAILABLE,"The operation could not be completed")))}),J(D,Sb.EventType.MESSAGE,function(X){var ue;if(!k){var ve=X.data[0];nr(!!ve);var Ue=ve.error||(null===(ue=ve[0])||void 0===ue?void 0:ue.error);if(Ue){Ft("Connection","WebChannel received error:",Ue);var et=Ue.status,_t=function(Ze){var Nn=Is[Ze];if(void 0!==Nn)return y1(Nn)}(et),St=Ue.message;void 0===_t&&(_t=tt.INTERNAL,St="Unknown error status: "+et+" with message "+Ue.message),k=!0,H.Vi(new Ct(_t,St)),D.close()}else Ft("Connection","WebChannel received:",ve),H.Si(ve)}}),J(h,BE.STAT_EVENT,function(X){X.stat===n1_PROXY?Ft("Connection","Detected buffering proxy"):X.stat===n1_NOPROXY&&Ft("Connection","Detected no buffering proxy")}),setTimeout(function(){H.Pi()},0),H},i}(function(){function e(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Di=(i.ssl?"https":"http")+"://"+i.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(i,t,o,s){var l=this.xi(i,t);Ft("RestConnection","Sending: ",l,o);var h={};return this.ki(h,s),this.Fi(i,l,h,o).then(function(v){return Ft("RestConnection","Received: ",v),v},function(v){throw A0("RestConnection",i+" failed with error: ",v,"url: ",l,"request:",o),v})},e.prototype.$i=function(i,t,o,s){return this.Ni(i,t,o,s)},e.prototype.ki=function(i,t){if(i["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var o in t.authHeaders)t.authHeaders.hasOwnProperty(o)&&(i[o]=t.authHeaders[o])},e.prototype.xi=function(i,t){return this.Di+"/v1/"+t+":"+HN[i]},e}());function z2(){return typeof window<"u"?window:null}function xA(){return typeof document<"u"?document:null}function G1(e){return new eI(e,!0)}var bI=function(){function e(i,t,o,s,l){void 0===o&&(o=1e3),void 0===s&&(s=1.5),void 0===l&&(l=6e4),this.Se=i,this.timerId=t,this.Mi=o,this.Li=s,this.Bi=l,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(i){var t=this;this.cancel();var o=Math.floor(this.qi+this.Wi()),s=Math.max(0,Date.now()-this.Ki),l=Math.max(0,o-s);l>0&&Ft("ExponentialBackoff","Backing off for "+l+" ms (base delay: "+this.qi+" ms, delay with jitter: "+o+" ms, last attempt: "+s+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,l,function(){return t.Ki=Date.now(),i()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),W2=function(){function e(i,t,o,s,l,h){this.Se=i,this.zi=o,this.Hi=s,this.Ji=l,this.listener=h,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new bI(i,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(i){switch(i.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var i=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return i.rr()}))},e.prototype.cr=function(i){this.ur(),this.stream.send(i)},e.prototype.rr=function(){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(i){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(i,t){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(o){switch(o.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==i?this.Zi.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(ds(t.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===tt.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=i,[4,this.listener.Ri(t)];case 1:return o.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var i=this;this.state=1;var t=this.hr(this.Yi),o=this.Yi;this.Ji.getToken().then(function(s){i.Yi===o&&i.lr(s)},function(s){t(function(){var l=new Ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return i.dr(l)})})},e.prototype.lr=function(i){var t=this,o=this.hr(this.Yi);this.stream=this.wr(i),this.stream.Ii(function(){o(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(s){o(function(){return t.dr(s)})}),this.stream.onMessage(function(s){o(function(){return t.onMessage(s)})})},e.prototype.nr=function(){var i=this;this.state=4,this.Zi.ji(function(){return(0,se.mG)(i,void 0,void 0,function(){return(0,se.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(i){return Ft("PersistentStream","close with error: "+i),this.stream=null,this.close(3,i)},e.prototype.hr=function(i){var t=this;return function(o){t.Se.enqueueAndForget(function(){return t.Yi===i?o():(Ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),GN=function(e){function i(t,o,s,l,h){var v=this;return(v=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",o,s,h)||this).R=l,v}return(0,se.ZT)(i,e),i.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},i.prototype.onMessage=function(t){this.Zi.reset();var o=function(l,h){var v,ve;if("targetChange"in h){var w="NO_CHANGE"===(ve=h.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ve?1:"REMOVE"===ve?2:"CURRENT"===ve?3:"RESET"===ve?4:vn(),D=h.targetChange.targetIds||[],M=function(ve,Ne){return ve.I?(nr(void 0===Ne||"string"==typeof Ne),Au.fromBase64String(Ne||"")):(nr(void 0===Ne||Ne instanceof Uint8Array),Au.fromUint8Array(Ne||new Uint8Array))}(l,h.targetChange.resumeToken),k=(H=h.targetChange.cause)&&function(ve){var Ne=void 0===ve.code?tt.UNKNOWN:y1(ve.code);return new Ct(Ne,ve.message||"")}(H);v=new cA(w,D,M,k||null)}else if("documentChange"in h){D=cd(l,(w=h.documentChange).document.name),M=na(w.document.updateTime);var H=new Xu({mapValue:{fields:w.document.fields}}),J=(k=ta.newFoundDocument(D,M,H),w.targetIds||[]);v=new jb(J,w.removedTargetIds||[],k.key,k)}else if("documentDelete"in h)D=cd(l,(w=h.documentDelete).document),M=w.readTime?na(w.readTime):Fr.min(),H=ta.newNoDocument(D,M),v=new jb([],k=w.removedTargetIds||[],H.key,H);else if("documentRemove"in h)D=cd(l,(w=h.documentRemove).document),v=new jb([],M=w.removedTargetIds||[],D,null);else{if(!("filter"in h))return vn();var ue=h.filter;D=new aA(w=ue.count||0),v=new QS(M=ue.targetId,D)}return v}(this.R,t),s=function(l){if(!("targetChange"in l))return Fr.min();var h=l.targetChange;return h.targetIds&&h.targetIds.length?Fr.min():h.readTime?na(h.readTime):Fr.min()}(t);return this.listener._r(o,s)},i.prototype.mr=function(t){var l,h,v,w,o={};o.database=wv(this.R),o.addTarget=(l=this.R,(v=k0(w=(h=t).target)?{documents:M1(l,w)}:{query:qb(l,w)}).targetId=h.targetId,h.resumeToken.approximateByteSize()>0?v.resumeToken=fA(l,h.resumeToken):h.snapshotVersion.compareTo(Fr.min())>0&&(v.readTime=Ya(l,h.snapshotVersion.toTimestamp())),v);var s=function(l,h){var v=function(w,D){switch(D){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vn()}}(0,h.purpose);return null==v?null:{"goog-listen-tags":v}}(0,t);s&&(o.labels=s),this.cr(o)},i.prototype.yr=function(t){var o={};o.database=wv(this.R),o.removeTarget=t,this.cr(o)},i}(W2),$N=function(e){function i(t,o,s,l,h){var v=this;return(v=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",o,s,h)||this).R=l,v.gr=!1,v}return(0,se.ZT)(i,e),Object.defineProperty(i.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},i.prototype.ar=function(){this.gr&&this.Er([])},i.prototype.wr=function(t){return this.Hi.Oi("Write",t)},i.prototype.onMessage=function(t){if(nr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var o=(h=t.commitTime,(l=t.writeResults)&&l.length>0?(nr(void 0!==h),l.map(function(v){return D=h,(M=na((w=v).updateTime?w.updateTime:D)).isEqual(Fr.min())&&(M=na(D)),new iA(M,w.transformResults||[]);var w,D,M})):[]),s=na(t.commitTime);return this.listener.Tr(s,o)}var l,h;return nr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},i.prototype.Ar=function(){var t={};t.database=wv(this.R),this.cr(t)},i.prototype.Er=function(t){var o=this,s={streamToken:this.lastStreamToken,writes:t.map(function(l){return Cv(o.R,l)})};this.cr(s)},i}(W2),zN=function(e){function i(t,o,s){var l=this;return(l=e.call(this)||this).credentials=t,l.Hi=o,l.R=s,l.Rr=!1,l}return(0,se.ZT)(i,e),i.prototype.br=function(){if(this.Rr)throw new Ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.Ni=function(t,o,s){var l=this;return this.br(),this.credentials.getToken().then(function(h){return l.Hi.Ni(t,o,s,h)}).catch(function(h){throw"FirebaseError"===h.name?(h.code===tt.UNAUTHENTICATED&&l.credentials.invalidateToken(),h):new Ct(tt.UNKNOWN,h.toString())})},i.prototype.$i=function(t,o,s){var l=this;return this.br(),this.credentials.getToken().then(function(h){return l.Hi.$i(t,o,s,h)}).catch(function(h){throw"FirebaseError"===h.name?(h.code===tt.UNAUTHENTICATED&&l.credentials.invalidateToken(),h):new Ct(tt.UNKNOWN,h.toString())})},i.prototype.terminate=function(){this.Rr=!0},i}(function(){}),WN=function(){function e(i,t){this.asyncQueue=i,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var i=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return i.Pr=null,i.Cr("Backend didn't respond within 10 seconds."),i.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(i){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+i.toString()),this.Dr("Offline")))},e.prototype.set=function(i){this.kr(),this.vr=0,"Online"===i&&(this.Vr=!1),this.Dr(i)},e.prototype.Dr=function(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))},e.prototype.Cr=function(i){var t="Could not reach Cloud Firestore backend. "+i+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ds(t),this.Vr=!1):Ft("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),YN=function(e,i,t,o,s){var l=this;this.localStore=e,this.datastore=i,this.asyncQueue=t,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=s,this.Lr.di(function(h){t.enqueueAndForget(function(){return(0,se.mG)(l,void 0,void 0,function(){return(0,se.Jh)(this,function(v){switch(v.label){case 0:return kv(this)?(Ft("RemoteStore","Restarting streams for network reachability change."),[4,function(w){return(0,se.mG)(this,void 0,void 0,function(){var D;return(0,se.Jh)(this,function(M){switch(M.label){case 0:return(D=Zt(w)).Or.add(4),[4,Qb(D)];case 1:return M.sent(),D.Br.set("Unknown"),D.Or.delete(4),[4,$1(D)];case 2:return M.sent(),[2]}})})}(this)]):[3,2];case 1:v.sent(),v.label=2;case 2:return[2]}})})})}),this.Br=new WN(t,o)};function $1(e){return(0,se.mG)(this,void 0,void 0,function(){var i,t;return(0,se.Jh)(this,function(o){switch(o.label){case 0:if(!kv(e))return[3,4];i=0,t=e.Mr,o.label=1;case 1:return i<t.length?[4,(0,t[i])(!0)]:[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function Qb(e){return(0,se.mG)(this,void 0,void 0,function(){var i,t;return(0,se.Jh)(this,function(o){switch(o.label){case 0:i=0,t=e.Mr,o.label=1;case 1:return i<t.length?[4,(0,t[i])(!1)]:[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function PA(e,i){var t=Zt(e);t.$r.has(i.targetId)||(t.$r.set(i.targetId,i),TI(t)?CI(t):Xb(t).er()&&wI(t,i))}function z1(e,i){var t=Zt(e),o=Xb(t);t.$r.delete(i),o.er()&&Y2(t,i),0===t.$r.size&&(o.er()?o.ir():kv(t)&&t.Br.set("Unknown"))}function wI(e,i){e.qr.U(i.targetId),Xb(e).mr(i)}function Y2(e,i){e.qr.U(i),Xb(e).yr(i)}function CI(e){e.qr=new dA({getRemoteKeysForTarget:function(i){return e.remoteSyncer.getRemoteKeysForTarget(i)},lt:function(i){return e.$r.get(i)||null}}),Xb(e).start(),e.Br.Sr()}function TI(e){return kv(e)&&!Xb(e).tr()&&e.$r.size>0}function kv(e){return 0===Zt(e).Or.size}function K2(e){e.qr=void 0}function KN(e){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(i){return e.$r.forEach(function(t,o){wI(e,t)}),[2]})})}function QN(e,i){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(t){return K2(e),TI(e)?(e.Br.Nr(i),CI(e)):e.Br.set("Unknown"),[2]})})}function JN(e,i,t){return(0,se.mG)(this,void 0,void 0,function(){var o,s,l;return(0,se.Jh)(this,function(h){switch(h.label){case 0:if(e.Br.set("Online"),!(i instanceof cA&&2===i.state&&i.cause))return[3,6];h.label=1;case 1:return h.trys.push([1,3,,5]),[4,function(v,w){return(0,se.mG)(this,void 0,void 0,function(){var D,M,k,H;return(0,se.Jh)(this,function(J){switch(J.label){case 0:D=w.cause,M=0,k=w.targetIds,J.label=1;case 1:return M<k.length?v.$r.has(H=k[M])?[4,v.remoteSyncer.rejectListen(H,D)]:[3,3]:[3,5];case 2:J.sent(),v.$r.delete(H),v.qr.removeTarget(H),J.label=3;case 3:J.label=4;case 4:return M++,[3,1];case 5:return[2]}})})}(e,i)];case 2:return h.sent(),[3,5];case 3:return o=h.sent(),Ft("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),o),[4,MA(e,o)];case 4:return h.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof jb?e.qr.X(i):i instanceof QS?e.qr.rt(i):e.qr.et(i),t.isEqual(Fr.min()))return[3,13];h.label=7;case 7:return h.trys.push([7,11,,13]),[4,yp(e.localStore)];case 8:return s=h.sent(),t.compareTo(s)>=0?[4,(v=e,w=t,D=v.qr.ut(w),D.targetChanges.forEach(function(M,k){if(M.resumeToken.approximateByteSize()>0){var H=v.$r.get(k);H&&v.$r.set(k,H.withResumeToken(M.resumeToken,w))}}),D.targetMismatches.forEach(function(M){var k=v.$r.get(M);if(k){v.$r.set(M,k.withResumeToken(Au.EMPTY_BYTE_STRING,k.snapshotVersion)),Y2(v,M);var H=new Fg(k.target,M,1,k.sequenceNumber);wI(v,H)}}),v.remoteSyncer.applyRemoteEvent(D))]:[3,10];case 9:h.sent(),h.label=10;case 10:return[3,13];case 11:return Ft("RemoteStore","Failed to raise snapshot:",l=h.sent()),[4,MA(e,l)];case 12:return h.sent(),[3,13];case 13:return[2]}var v,w,D})})}function MA(e,i,t){return(0,se.mG)(this,void 0,void 0,function(){var o=this;return(0,se.Jh)(this,function(s){switch(s.label){case 0:if(!Rg(i))throw i;return e.Or.add(1),[4,Qb(e)];case 1:return s.sent(),e.Br.set("Offline"),t||(t=function(){return yp(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return(0,se.mG)(o,void 0,void 0,function(){return(0,se.Jh)(this,function(l){switch(l.label){case 0:return Ft("RemoteStore","Retrying IndexedDB access"),[4,t()];case 1:return l.sent(),e.Or.delete(1),[4,$1(e)];case 2:return l.sent(),[2]}})})}),[2]}})})}function Q2(e,i){return i().catch(function(t){return MA(e,t,i)})}function Jb(e){return(0,se.mG)(this,void 0,void 0,function(){var i,t,o,s,l;return(0,se.Jh)(this,function(h){switch(h.label){case 0:i=Zt(e),t=Rv(i),o=i.Fr.length>0?i.Fr[i.Fr.length-1].batchId:-1,h.label=1;case 1:if(!(kv(v=i)&&v.Fr.length<10))return[3,7];h.label=2;case 2:return h.trys.push([2,4,,6]),[4,q1(i.localStore,o)];case 3:return null===(s=h.sent())?(0===i.Fr.length&&t.ir(),[3,7]):(o=s.batchId,function(v,w){v.Fr.push(w);var D=Rv(v);D.er()&&D.pr&&D.Er(w.mutations)}(i,s),[3,6]);case 4:return l=h.sent(),[4,MA(i,l)];case 5:return h.sent(),[3,6];case 6:return[3,1];case 7:return J2(i)&&X2(i),[2]}var v})})}function J2(e){return kv(e)&&!Rv(e).tr()&&e.Fr.length>0}function X2(e){Rv(e).start()}function XN(e){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(i){return Rv(e).Ar(),[2]})})}function ek(e){return(0,se.mG)(this,void 0,void 0,function(){var i,t,o;return(0,se.Jh)(this,function(l){for(i=Rv(e),t=0,o=e.Fr;t<o.length;t++)i.Er(o[t].mutations);return[2]})})}function tk(e,i,t){return(0,se.mG)(this,void 0,void 0,function(){var o,s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return o=e.Fr.shift(),s=F1.from(o,i,t),[4,Q2(e,function(){return e.remoteSyncer.applySuccessfulWrite(s)})];case 1:return l.sent(),[4,Jb(e)];case 2:return l.sent(),[2]}})})}function nk(e,i){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(t){switch(t.label){case 0:return i&&Rv(e).pr?[4,function(o,s){return(0,se.mG)(this,void 0,void 0,function(){var l,h;return(0,se.Jh)(this,function(v){switch(v.label){case 0:return j0(h=s.code)&&h!==tt.ABORTED?(l=o.Fr.shift(),Rv(o).sr(),[4,Q2(o,function(){return o.remoteSyncer.rejectFailedWrite(l.batchId,s)})]):[3,3];case 1:return v.sent(),[4,Jb(o)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}(e,i)]:[3,2];case 1:t.sent(),t.label=2;case 2:return J2(e)&&X2(e),[2]}})})}function EI(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t;return(0,se.Jh)(this,function(o){switch(o.label){case 0:return t=Zt(e),i?(t.Or.delete(2),[4,$1(t)]):[3,2];case 1:return o.sent(),[3,5];case 2:return i?[3,4]:(t.Or.add(2),[4,Qb(t)]);case 3:o.sent(),t.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function Xb(e){var t,o,s,l,i=this;return e.Ur||(e.Ur=(t=e.datastore,o=e.asyncQueue,s={Ii:KN.bind(null,e),Ri:QN.bind(null,e),_r:JN.bind(null,e)},(l=Zt(t)).br(),new GN(o,l.Hi,l.credentials,l.R,s)),e.Mr.push(function(t){return(0,se.mG)(i,void 0,void 0,function(){return(0,se.Jh)(this,function(o){switch(o.label){case 0:return t?(e.Ur.sr(),TI(e)?CI(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:o.sent(),K2(e),o.label=3;case 3:return[2]}})})})),e.Ur}function Rv(e){var t,o,s,l,i=this;return e.Kr||(e.Kr=(t=e.datastore,o=e.asyncQueue,s={Ii:XN.bind(null,e),Ri:nk.bind(null,e),Ir:ek.bind(null,e),Tr:tk.bind(null,e)},(l=Zt(t)).br(),new $N(o,l.Hi,l.credentials,l.R,s)),e.Mr.push(function(t){return(0,se.mG)(i,void 0,void 0,function(){return(0,se.Jh)(this,function(o){switch(o.label){case 0:return t?(e.Kr.sr(),[4,Jb(e)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:o.sent(),e.Fr.length>0&&(Ft("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),o.label=4;case 4:return[2]}})})})),e.Kr}var rk=function(){function e(i,t,o,s,l){this.asyncQueue=i,this.timerId=t,this.targetTimeMs=o,this.op=s,this.removalCallback=l,this.deferred=new Du,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(h){})}return e.createAndSchedule=function(i,t,o,s,l){var h=new e(i,t,Date.now()+o,s,l);return h.start(o),h},e.prototype.start=function(i){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},i)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(tt.CANCELLED,"Operation cancelled"+(i?": "+i:""))))},e.prototype.handleDelayElapsed=function(){var i=this;this.asyncQueue.enqueueAndForget(function(){return null!==i.timerHandle?(i.clearTimeout(),i.op().then(function(t){return i.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ew(e,i){if(ds("AsyncQueue",i+": "+e),Rg(e))return new Ct(tt.UNAVAILABLE,i+": "+e);throw e}var ex=function(){function e(i){this.comparator=i?function(t,o){return i(t,o)||On.comparator(t.key,o.key)}:function(t,o){return On.comparator(t.key,o.key)},this.keyedMap=b1(),this.sortedSet=new Aa(this.comparator)}return e.emptySet=function(i){return new e(i.comparator)},e.prototype.has=function(i){return null!=this.keyedMap.get(i)},e.prototype.get=function(i){return this.keyedMap.get(i)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(i){var t=this.keyedMap.get(i);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(i){this.sortedSet.inorderTraversal(function(t,o){return i(t),!1})},e.prototype.add=function(i){var t=this.delete(i.key);return t.copy(t.keyedMap.insert(i.key,i),t.sortedSet.insert(i,null))},e.prototype.delete=function(i){var t=this.get(i);return t?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(i){if(!(i instanceof e)||this.size!==i.size)return!1;for(var t=this.sortedSet.getIterator(),o=i.sortedSet.getIterator();t.hasNext();){var s=t.getNext().key,l=o.getNext().key;if(!s.isEqual(l))return!1}return!0},e.prototype.toString=function(){var i=[];return this.forEach(function(t){i.push(t.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"},e.prototype.copy=function(i,t){var o=new e;return o.comparator=this.comparator,o.keyedMap=i,o.sortedSet=t,o},e}(),tx=function(){function e(){this.Qr=new Aa(On.comparator)}return e.prototype.track=function(i){var t=i.doc.key,o=this.Qr.get(t);o?0!==i.type&&3===o.type?this.Qr=this.Qr.insert(t,i):3===i.type&&1!==o.type?this.Qr=this.Qr.insert(t,{type:o.type,doc:i.doc}):2===i.type&&2===o.type?this.Qr=this.Qr.insert(t,{type:2,doc:i.doc}):2===i.type&&0===o.type?this.Qr=this.Qr.insert(t,{type:0,doc:i.doc}):1===i.type&&0===o.type?this.Qr=this.Qr.remove(t):1===i.type&&2===o.type?this.Qr=this.Qr.insert(t,{type:1,doc:o.doc}):0===i.type&&1===o.type?this.Qr=this.Qr.insert(t,{type:2,doc:i.doc}):vn():this.Qr=this.Qr.insert(t,i)},e.prototype.jr=function(){var i=[];return this.Qr.inorderTraversal(function(t,o){i.push(o)}),i},e}(),OA=function(){function e(i,t,o,s,l,h,v,w){this.query=i,this.docs=t,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=v,this.excludesMetadataChanges=w}return e.fromInitialDocuments=function(i,t,o,s){var l=[];return t.forEach(function(h){l.push({type:0,doc:h})}),new e(i,t,ex.emptySet(t),l,o,s,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&yv(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;var t=this.docChanges,o=i.docChanges;if(t.length!==o.length)return!1;for(var s=0;s<t.length;s++)if(t[s].type!==o[s].type||!t[s].doc.isEqual(o[s].doc))return!1;return!0},e}(),ik=function(){this.Wr=void 0,this.listeners=[]},ok=function(){this.queries=new d(function(e){return QE(e)},yv),this.onlineState="Unknown",this.Gr=new Set};function AI(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o,s,l,h,v,w;return(0,se.Jh)(this,function(D){switch(D.label){case 0:if(t=Zt(e),s=!1,(l=t.queries.get(o=i.query))||(s=!0,l=new ik),!s)return[3,4];D.label=1;case 1:return D.trys.push([1,3,,4]),h=l,[4,t.onListen(o)];case 2:return h.Wr=D.sent(),[3,4];case 3:return v=D.sent(),w=ew(v,"Initialization of query '"+Ub(i.query)+"' failed"),[2,void i.onError(w)];case 4:return t.queries.set(o,l),l.listeners.push(i),i.zr(t.onlineState),l.Wr&&i.Hr(l.Wr)&&SI(t),[2]}})})}function DI(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o,s,l,h;return(0,se.Jh)(this,function(v){return t=Zt(e),s=!1,(l=t.queries.get(o=i.query))&&(h=l.listeners.indexOf(i))>=0&&(l.listeners.splice(h,1),s=0===l.listeners.length),s?[2,(t.queries.delete(o),t.onUnlisten(o))]:[2]})})}function sk(e,i){for(var t=Zt(e),o=!1,s=0,l=i;s<l.length;s++){var h=l[s],w=t.queries.get(h.query);if(w){for(var D=0,M=w.listeners;D<M.length;D++)M[D].Hr(h)&&(o=!0);w.Wr=h}}o&&SI(t)}function ak(e,i,t){var o=Zt(e),s=o.queries.get(i);if(s)for(var l=0,h=s.listeners;l<h.length;l++)h[l].onError(t);o.queries.delete(i)}function SI(e){e.Gr.forEach(function(i){i.next()})}var II=function(){function e(i,t,o){this.query=i,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=o||{}}return e.prototype.Hr=function(i){if(!this.options.includeMetadataChanges){for(var t=[],o=0,s=i.docChanges;o<s.length;o++){var l=s[o];3!==l.type&&t.push(l)}i=new OA(i.query,i.docs,i.oldDocs,t,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}var h=!1;return this.Yr?this.Zr(i)&&(this.Jr.next(i),h=!0):this.eo(i,this.onlineState)&&(this.no(i),h=!0),this.Xr=i,h},e.prototype.onError=function(i){this.Jr.error(i)},e.prototype.zr=function(i){this.onlineState=i;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,i)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(i,t){return!i.fromCache||!(this.options.so&&"Offline"!==t||i.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(i){i=OA.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.Yr=!0,this.Jr.next(i)},e}(),uk=function(){function e(i,t){this.payload=i,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),nx=function(){function e(i){this.R=i}return e.prototype.qn=function(i){return cd(this.R,i)},e.prototype.Un=function(i){return i.metadata.exists?pA(this.R,i.document,!1):ta.newNoDocument(this.qn(i.metadata.name),this.Kn(i.metadata.readTime))},e.prototype.Kn=function(i){return na(i)},e}();!function(){function e(i,t,o){this.ro=i,this.localStore=t,this.R=o,this.queries=[],this.documents=[],this.progress=function rx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)}e.prototype.oo=function(i){this.progress.bytesLoaded+=i.byteLength;var t=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++t):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(i){for(var t=new Map,o=new nx(this.R),s=0,l=i;s<l.length;s++){var h=l[s];if(h.metadata.queries)for(var v=o.qn(h.metadata.name),w=0,D=h.metadata.queries;w<D.length;w++){var M=D[w],k=(t.get(M)||Bi()).add(v);t.set(M,k)}}return t},e.prototype.complete=function(){return(0,se.mG)(this,void 0,void 0,function(){var i,t,o,s,l;return(0,se.Jh)(this,function(h){switch(h.label){case 0:return[4,PN(this.localStore,new nx(this.R),this.documents,this.ro.id)];case 1:i=h.sent(),t=this.co(this.documents),o=0,s=this.queries,h.label=2;case 2:return o<s.length?[4,MN(this.localStore,l=s[o],t.get(l.name))]:[3,5];case 3:h.sent(),h.label=4;case 4:return o++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Pt(Object.assign({},this.progress),i))]}})})}}();var ix=function(e){this.key=e},ox=function(e){this.key=e},sx=function(){function e(i,t){this.query=i,this.uo=t,this.ao=null,this.current=!1,this.ho=Bi(),this.mutatedKeys=Bi(),this.lo=JE(i),this.fo=new ex(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(i,t){var o=this,s=t?t.mo:new tx,l=t?t.fo:this.fo,h=t?t.mutatedKeys:this.mutatedKeys,v=l,w=!1,D=kb(this.query)&&l.size===this.query.limit?l.last():null,M=Rb(this.query)&&l.size===this.query.limit?l.first():null;if(i.inorderTraversal(function(H,J){var X=l.get(H),ue=uf(o.query,J)?J:null,ve=!!X&&o.mutatedKeys.has(X.key),Ne=!!ue&&(ue.hasLocalMutations||o.mutatedKeys.has(ue.key)&&ue.hasCommittedMutations),Ue=!1;X&&ue?X.data.isEqual(ue.data)?ve!==Ne&&(s.track({type:3,doc:ue}),Ue=!0):o.yo(X,ue)||(s.track({type:2,doc:ue}),Ue=!0,(D&&o.lo(ue,D)>0||M&&o.lo(ue,M)<0)&&(w=!0)):!X&&ue?(s.track({type:0,doc:ue}),Ue=!0):X&&!ue&&(s.track({type:1,doc:X}),Ue=!0,(D||M)&&(w=!0)),Ue&&(ue?(v=v.add(ue),h=Ne?h.add(H):h.delete(H)):(v=v.delete(H),h=h.delete(H)))}),kb(this.query)||Rb(this.query))for(;v.size>this.query.limit;){var k=kb(this.query)?v.last():v.first();v=v.delete(k.key),h=h.delete(k.key),s.track({type:1,doc:k})}return{fo:v,mo:s,Nn:w,mutatedKeys:h}},e.prototype.yo=function(i,t){return i.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(i,t,o){var s=this,l=this.fo;this.fo=i.fo,this.mutatedKeys=i.mutatedKeys;var h=i.mo.jr();h.sort(function(M,k){return J=k.type,(X=function(ue){switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vn()}})(M.type)-X(J)||s.lo(M.doc,k.doc);var J,X}),this.po(o);var v=t?this.Eo():[],w=0===this.ho.size&&this.current?1:0,D=w!==this.ao;return this.ao=w,0!==h.length||D?{snapshot:new OA(this.query,i.fo,l,h,i.mutatedKeys,0===w,D,!1),To:v}:{To:v}},e.prototype.zr=function(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({fo:this.fo,mo:new tx,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(i){return!this.uo.has(i)&&!!this.fo.has(i)&&!this.fo.get(i).hasLocalMutations},e.prototype.po=function(i){var t=this;i&&(i.addedDocuments.forEach(function(o){return t.uo=t.uo.add(o)}),i.modifiedDocuments.forEach(function(o){}),i.removedDocuments.forEach(function(o){return t.uo=t.uo.delete(o)}),this.current=i.current)},e.prototype.Eo=function(){var i=this;if(!this.current)return[];var t=this.ho;this.ho=Bi(),this.fo.forEach(function(s){i.Io(s.key)&&(i.ho=i.ho.add(s.key))});var o=[];return t.forEach(function(s){i.ho.has(s)||o.push(new ox(s))}),this.ho.forEach(function(s){t.has(s)||o.push(new ix(s))}),o},e.prototype.Ao=function(i){this.uo=i.Bn,this.ho=Bi();var t=this._o(i.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return OA.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),ck=function(e,i,t){this.query=e,this.targetId=i,this.view=t},dk=function(e){this.key=e,this.bo=!1},fk=function(){function e(i,t,o,s,l,h){this.localStore=i,this.remoteStore=t,this.eventManager=o,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.vo={},this.Po=new d(function(v){return QE(v)},yv),this.Vo=new Map,this.So=new Set,this.Do=new Aa(On.comparator),this.Co=new Map,this.No=new gI,this.xo={},this.ko=new Map,this.Fo=j1.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function hk(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,s,l,h,v;return(0,se.Jh)(this,function(w){switch(w.label){case 0:return t=kI(e),(l=t.Po.get(i))?(t.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Ro(),[3,4]):[3,1];case 1:return[4,_p(t.localStore,tl(i))];case 2:return h=w.sent(),v=t.sharedClientState.addLocalQueryTarget(h.targetId),[4,xI(t,i,h.targetId,"current"===v)];case 3:s=w.sent(),t.isPrimaryClient&&PA(t.remoteStore,h),w.label=4;case 4:return[2,s]}})})}function xI(e,i,t,o){return(0,se.mG)(this,void 0,void 0,function(){var s,l,h,v,w,D;return(0,se.Jh)(this,function(M){switch(M.label){case 0:return e.Oo=function(k,H,J){return function(X,ue,ve,Ne){return(0,se.mG)(this,void 0,void 0,function(){var Ue,et,_t;return(0,se.Jh)(this,function(St){switch(St.label){case 0:return(Ue=ue.view._o(ve)).Nn?[4,Nv(X.localStore,ue.query,!1).then(function(Ze){return ue.view._o(Ze.documents,Ue)})]:[3,2];case 1:Ue=St.sent(),St.label=2;case 2:return et=Ne&&Ne.targetChanges.get(ue.targetId),_t=ue.view.applyChanges(Ue,X.isPrimaryClient,et),[2,(OI(X,ue.targetId,_t.To),_t.snapshot)]}})})}(e,k,H,J)},[4,Nv(e.localStore,i,!0)];case 1:return s=M.sent(),l=new sx(i,s.Bn),h=l._o(s.documents),v=T1.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==e.onlineState),w=l.applyChanges(h,e.isPrimaryClient,v),OI(e,t,w.To),D=new ck(i,t,l),[2,(e.Po.set(i,D),e.Vo.has(t)?e.Vo.get(t).push(i):e.Vo.set(t,[i]),w.snapshot)]}})})}function pk(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o,s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return t=Zt(e),o=t.Po.get(i),(s=t.Vo.get(o.targetId)).length>1?[2,(t.Vo.set(o.targetId,s.filter(function(h){return!yv(h,i)})),void t.Po.delete(i))]:t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,bp(t.localStore,o.targetId,!1).then(function(){t.sharedClientState.clearQueryState(o.targetId),z1(t.remoteStore,o.targetId),tw(t,o.targetId)}).catch(Ov)]):[3,3];case 1:l.sent(),l.label=2;case 2:return[3,5];case 3:return tw(t,o.targetId),[4,bp(t.localStore,o.targetId,!0)];case 4:l.sent(),l.label=5;case 5:return[2]}})})}function gk(e,i,t){return(0,se.mG)(this,void 0,void 0,function(){var o,s,l,h;return(0,se.Jh)(this,function(v){switch(v.label){case 0:o=RI(e),v.label=1;case 1:return v.trys.push([1,5,,6]),[4,(w=o.localStore,D=i,k=Zt(w),H=Fl.now(),J=D.reduce(function(X,ue){return X.add(ue.key)},Bi()),k.persistence.runTransaction("Locally write mutations","readwrite",function(X){return k.Mn.pn(X,J).next(function(ue){M=ue;for(var ve=[],Ne=0,Ue=D;Ne<Ue.length;Ne++){var et=Ue[Ne],_t=M2(et,M.get(et.key));null!=_t&&ve.push(new Ng(et.key,_t,Pb(_t.value.mapValue),Ea.exists(!0)))}return k._n.addMutationBatch(X,H,ve,D)})}).then(function(X){return X.applyToLocalDocumentSet(M),{batchId:X.batchId,changes:M}}))];case 2:return s=v.sent(),o.sharedClientState.addPendingMutation(s.batchId),function(w,D,M){var k=w.xo[w.currentUser.toKey()];k||(k=new Aa(Hr)),k=k.insert(D,M),w.xo[w.currentUser.toKey()]=k}(o,s.batchId,t),[4,Lg(o,s.changes)];case 3:return v.sent(),[4,Jb(o.remoteStore)];case 4:return v.sent(),[3,6];case 5:return l=v.sent(),h=ew(l,"Failed to persist write"),t.reject(h),[3,6];case 6:return[2]}var w,D,M,k,H,J})})}function ax(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o;return(0,se.Jh)(this,function(s){switch(s.label){case 0:t=Zt(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,H1(t.localStore,i)];case 2:return o=s.sent(),i.targetChanges.forEach(function(l,h){var v=t.Co.get(h);v&&(nr(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?v.bo=!0:l.modifiedDocuments.size>0?nr(v.bo):l.removedDocuments.size>0&&(nr(v.bo),v.bo=!1))}),[4,Lg(t,o,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ov(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function ux(e,i,t){var o=Zt(e);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){var s=[];o.Po.forEach(function(l,h){var v=h.view.zr(i);v.snapshot&&s.push(v.snapshot)}),function(l,h){var v=Zt(l);v.onlineState=h;var w=!1;v.queries.forEach(function(D,M){for(var k=0,H=M.listeners;k<H.length;k++)H[k].zr(h)&&(w=!0)}),w&&SI(v)}(o.eventManager,i),s.length&&o.vo._r(s),o.onlineState=i,o.isPrimaryClient&&o.sharedClientState.setOnlineState(i)}}function mk(e,i,t){return(0,se.mG)(this,void 0,void 0,function(){var o,s,l,h,v,w;return(0,se.Jh)(this,function(D){switch(D.label){case 0:return(o=Zt(e)).sharedClientState.updateQueryState(i,"rejected",t),s=o.Co.get(i),(l=s&&s.key)?(h=(h=new Aa(On.comparator)).insert(l,ta.newNoDocument(l,Fr.min())),v=Bi().add(l),w=new C1(Fr.min(),new Map,new hs(Hr),h,v),[4,ax(o,w)]):[3,2];case 1:return D.sent(),o.Do=o.Do.remove(l),o.Co.delete(i),NI(o),[3,4];case 2:return[4,bp(o.localStore,i,!1).then(function(){return tw(o,i,t)}).catch(Ov)];case 3:D.sent(),D.label=4;case 4:return[2]}})})}function vk(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o,s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:t=Zt(e),o=i.batch.batchId,l.label=1;case 1:return l.trys.push([1,4,,6]),[4,wo(t.localStore,i)];case 2:return s=l.sent(),MI(t,o,null),PI(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),[4,Lg(t,s)];case 3:return l.sent(),[3,6];case 4:return[4,Ov(l.sent())];case 5:return l.sent(),[3,6];case 6:return[2]}})})}function yk(e,i,t){return(0,se.mG)(this,void 0,void 0,function(){var o,s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:o=Zt(e),l.label=1;case 1:return l.trys.push([1,4,,6]),[4,(h=o.localStore,v=i,w=Zt(h),w.persistence.runTransaction("Reject batch","readwrite-primary",function(D){var M;return w._n.lookupMutationBatch(D,v).next(function(k){return nr(null!==k),M=k.keys(),w._n.removeMutationBatch(D,k)}).next(function(){return w._n.performConsistencyCheck(D)}).next(function(){return w.Mn.pn(D,M)})}))];case 2:return s=l.sent(),MI(o,i,t),PI(o,i),o.sharedClientState.updateMutationState(i,"rejected",t),[4,Lg(o,s)];case 3:return l.sent(),[3,6];case 4:return[4,Ov(l.sent())];case 5:return l.sent(),[3,6];case 6:return[2]}var h,v,w})})}function _k(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o,s,l,h;return(0,se.Jh)(this,function(v){switch(v.label){case 0:kv((t=Zt(e)).remoteStore)||Ft("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,(w=t.localStore,D=Zt(w),D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(M){return D._n.getHighestUnacknowledgedBatchId(M)}))];case 2:return-1===(o=v.sent())?[2,void i.resolve()]:((s=t.ko.get(o)||[]).push(i),t.ko.set(o,s),[3,4]);case 3:return l=v.sent(),h=ew(l,"Initialization of waitForPendingWrites() operation failed"),i.reject(h),[3,4];case 4:return[2]}var w,D})})}function PI(e,i){(e.ko.get(i)||[]).forEach(function(t){t.resolve()}),e.ko.delete(i)}function MI(e,i,t){var o=Zt(e),s=o.xo[o.currentUser.toKey()];if(s){var l=s.get(i);l&&(t?l.reject(t):l.resolve(),s=s.remove(i)),o.xo[o.currentUser.toKey()]=s}}function tw(e,i,t){void 0===t&&(t=null),e.sharedClientState.removeLocalQueryTarget(i);for(var o=0,s=e.Vo.get(i);o<s.length;o++){var l=s[o];e.Po.delete(l),t&&e.vo.Mo(l,t)}e.Vo.delete(i),e.isPrimaryClient&&e.No.Zn(i).forEach(function(h){e.No.containsKey(h)||lx(e,h)})}function lx(e,i){e.So.delete(i.path.canonicalString());var t=e.Do.get(i);null!==t&&(z1(e.remoteStore,t),e.Do=e.Do.remove(i),e.Co.delete(t),NI(e))}function OI(e,i,t){for(var o=0,s=t;o<s.length;o++){var l=s[o];l instanceof ix?(e.No.addReference(l.key,i),bk(e,l)):l instanceof ox?(Ft("SyncEngine","Document no longer in limbo: "+l.key),e.No.removeReference(l.key,i),e.No.containsKey(l.key)||lx(e,l.key)):vn()}}function bk(e,i){var t=i.key,o=t.path.canonicalString();e.Do.get(t)||e.So.has(o)||(Ft("SyncEngine","New document in limbo: "+t),e.So.add(o),NI(e))}function NI(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var i=e.So.values().next().value;e.So.delete(i);var t=new On(Gr.fromString(i)),o=e.Fo.next();e.Co.set(o,new dk(t)),e.Do=e.Do.insert(t,o),PA(e.remoteStore,new Fg(tl(vv(t.path)),o,2,Ju.o))}}function Lg(e,i,t){return(0,se.mG)(this,void 0,void 0,function(){var o,s,l,h;return(0,se.Jh)(this,function(v){switch(v.label){case 0:return o=Zt(e),s=[],l=[],h=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach(function(w,D){h.push(o.Oo(D,i,t).then(function(M){if(M){o.isPrimaryClient&&o.sharedClientState.updateQueryState(D.targetId,M.fromCache?"not-current":"current"),s.push(M);var k=fn.Pn(D.targetId,M);l.push(k)}}))}),[4,Promise.all(h)]);case 1:return v.sent(),o.vo._r(s),[4,function(w,D){return(0,se.mG)(this,void 0,void 0,function(){var M,k,H,J,X,ue,ve,Ue;return(0,se.Jh)(this,function(et){switch(et.label){case 0:M=Zt(w),et.label=1;case 1:return et.trys.push([1,3,,4]),[4,M.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(_t){return Mt.forEach(D,function(St){return Mt.forEach(St.bn,function(Ze){return M.persistence.referenceDelegate.addReference(_t,St.targetId,Ze)}).next(function(){return Mt.forEach(St.vn,function(Ze){return M.persistence.referenceDelegate.removeReference(_t,St.targetId,Ze)})})})})];case 2:return et.sent(),[3,4];case 3:if(!Rg(k=et.sent()))throw k;return Ft("LocalStore","Failed to update sequence numbers: "+k),[3,4];case 4:for(H=0,J=D;H<J.length;H++)ue=(X=J[H]).targetId,X.fromCache||(ve=M.kn.get(ue),Ue=ve.withLastLimboFreeSnapshotVersion(ve.snapshotVersion),M.kn=M.kn.insert(ue,Ue));return[2]}})})}(o.localStore,l)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}function wk(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o;return(0,se.Jh)(this,function(s){switch(s.label){case 0:return(t=Zt(e)).currentUser.isEqual(i)?[3,3]:(Ft("SyncEngine","User change. New user:",i.toKey()),[4,gi(t.localStore,i)]);case 1:return o=s.sent(),t.currentUser=i,(l=t).ko.forEach(function(v){v.forEach(function(w){w.reject(new Ct(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ko.clear(),t.sharedClientState.handleUserChange(i,o.removedBatchIds,o.addedBatchIds),[4,Lg(t,o.Ln)];case 2:s.sent(),s.label=3;case 3:return[2]}var l})})}function Ck(e,i){var t=Zt(e),o=t.Co.get(i);if(o&&o.bo)return Bi().add(o.key);var s=Bi(),l=t.Vo.get(i);if(!l)return s;for(var h=0,v=l;h<v.length;h++){var D=t.Po.get(v[h]);s=s.unionWith(D.view.wo)}return s}function Tk(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o,s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return[4,Nv((t=Zt(e)).localStore,i.query,!0)];case 1:return o=l.sent(),s=i.view.Ao(o),[2,(t.isPrimaryClient&&OI(t,i.targetId,s.To),s)]}})})}function Ek(e){return(0,se.mG)(this,void 0,void 0,function(){var i;return(0,se.Jh)(this,function(t){return[2,Kb((i=Zt(e)).localStore).then(function(o){return Lg(i,o)})]})})}function Ak(e,i,t,o){return(0,se.mG)(this,void 0,void 0,function(){var s,l;return(0,se.Jh)(this,function(h){switch(h.label){case 0:return[4,(v=(s=Zt(e)).localStore,w=i,D=Zt(v),M=Zt(D._n),D.persistence.runTransaction("Lookup mutation documents","readonly",function(k){return M.jt(k,w).next(function(H){return H?D.Mn.pn(k,H):Mt.resolve(null)})}))];case 1:return null===(l=h.sent())?[3,6]:"pending"!==t?[3,3]:[4,Jb(s.remoteStore)];case 2:return h.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(MI(s,i,o||null),PI(s,i),function(v,w){Zt(Zt(v)._n).Gt(w)}(s.localStore,i)):vn(),h.label=4;case 4:return[4,Lg(s,l)];case 5:return h.sent(),[3,7];case 6:Ft("SyncEngine","Cannot apply mutation batch with id: "+i),h.label=7;case 7:return[2]}var v,w,D,M})})}function Dk(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o,s,l,h,w,D;return(0,se.Jh)(this,function(M){switch(M.label){case 0:return kI(t=Zt(e)),RI(t),!0!==i||!0===t.$o?[3,3]:(o=t.sharedClientState.getAllActiveQueryTargets(),[4,cx(t,o.toArray())]);case 1:return s=M.sent(),t.$o=!0,[4,EI(t.remoteStore,!0)];case 2:for(M.sent(),l=0,h=s;l<h.length;l++)PA(t.remoteStore,h[l]);return[3,7];case 3:return!1!==i||!1===t.$o?[3,7]:(w=[],D=Promise.resolve(),t.Vo.forEach(function(k,H){t.sharedClientState.isLocalQueryTarget(H)?w.push(H):D=D.then(function(){return tw(t,H),bp(t.localStore,H,!0)}),z1(t.remoteStore,H)}),[4,D]);case 4:return M.sent(),[4,cx(t,w)];case 5:return M.sent(),(H=Zt(t)).Co.forEach(function(J,X){z1(H.remoteStore,X)}),H.No.ts(),H.Co=new Map,H.Do=new Aa(On.comparator),t.$o=!1,[4,EI(t.remoteStore,!1)];case 6:M.sent(),M.label=7;case 7:return[2]}var H})})}function cx(e,i,t){return(0,se.mG)(this,void 0,void 0,function(){var o,s,l,h,v,w,D,M,k,H,X,ue,ve;return(0,se.Jh)(this,function(Ne){switch(Ne.label){case 0:o=Zt(e),s=[],l=[],h=0,v=i,Ne.label=1;case 1:return h<v.length?(D=void 0,(M=o.Vo.get(w=v[h]))&&0!==M.length?[4,_p(o.localStore,tl(M[0]))]:[3,7]):[3,13];case 2:D=Ne.sent(),k=0,H=M,Ne.label=3;case 3:return k<H.length?(X=o.Po.get(H[k]),[4,Tk(o,X)]):[3,6];case 4:(ue=Ne.sent()).snapshot&&l.push(ue.snapshot),Ne.label=5;case 5:return k++,[3,3];case 6:return[3,11];case 7:return[4,Yb(o.localStore,w)];case 8:return ve=Ne.sent(),[4,_p(o.localStore,ve)];case 9:return D=Ne.sent(),[4,xI(o,dx(ve),w,!1)];case 10:Ne.sent(),Ne.label=11;case 11:s.push(D),Ne.label=12;case 12:return h++,[3,1];case 13:return[2,(o.vo._r(l),s)]}})})}function dx(e){return f1(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Sk(e){var i=Zt(e);return Zt(Zt(i.localStore).persistence).fn()}function Ik(e,i,t,o){return(0,se.mG)(this,void 0,void 0,function(){var s,l,h;return(0,se.Jh)(this,function(v){switch(v.label){case 0:return(s=Zt(e)).$o?(Ft("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Vo.has(i))return[3,8];switch(t){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Kb(s.localStore)];case 3:return l=v.sent(),h=C1.createSynthesizedRemoteEventForCurrentChange(i,"current"===t),[4,Lg(s,l,h)];case 4:return v.sent(),[3,8];case 5:return[4,bp(s.localStore,i,!0)];case 6:return v.sent(),tw(s,i,o),[3,8];case 7:vn(),v.label=8;case 8:return[2]}})})}function xk(e,i,t){return(0,se.mG)(this,void 0,void 0,function(){var o,s,l,h,v,w,D,M,k;return(0,se.Jh)(this,function(J){switch(J.label){case 0:if(!(o=kI(e)).$o)return[3,10];s=0,l=i,J.label=1;case 1:return s<l.length?o.Vo.has(h=l[s])?(Ft("SyncEngine","Adding an already active target "+h),[3,5]):[4,Yb(o.localStore,h)]:[3,6];case 2:return v=J.sent(),[4,_p(o.localStore,v)];case 3:return w=J.sent(),[4,xI(o,dx(v),w.targetId,!1)];case 4:J.sent(),PA(o.remoteStore,w),J.label=5;case 5:return s++,[3,1];case 6:D=function(X){return(0,se.Jh)(this,function(ue){switch(ue.label){case 0:return o.Vo.has(X)?[4,bp(o.localStore,X,!1).then(function(){z1(o.remoteStore,X),tw(o,X)}).catch(Ov)]:[3,2];case 1:ue.sent(),ue.label=2;case 2:return[2]}})},M=0,k=t,J.label=7;case 7:return M<k.length?[5,D(k[M])]:[3,10];case 8:J.sent(),J.label=9;case 9:return M++,[3,7];case 10:return[2]}})})}function kI(e){var i=Zt(e);return i.remoteStore.remoteSyncer.applyRemoteEvent=ax.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ck.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=mk.bind(null,i),i.vo._r=sk.bind(null,i.eventManager),i.vo.Mo=ak.bind(null,i.eventManager),i}function RI(e){var i=Zt(e);return i.remoteStore.remoteSyncer.applySuccessfulWrite=vk.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=yk.bind(null,i),i}var fx=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(i){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(t){switch(t.label){case 0:return this.R=G1(i.databaseInfo.databaseId),this.sharedClientState=this.Bo(i),this.persistence=this.qo(i),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(i),this.localStore=this.Ko(i),[2]}})})},e.prototype.Uo=function(i){return null},e.prototype.Ko=function(i){return Kn(this.persistence,new Vn,i.initialUser,this.R)},e.prototype.qo=function(i){return new LN(BN.bs,this.R)},e.prototype.Bo=function(i){return new G2},e.prototype.terminate=function(){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(i){switch(i.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return i.sent(),[4,this.persistence.shutdown()];case 2:return i.sent(),[2]}})})},e}(),hx=function(e){function i(t,o,s){var l=this;return(l=e.call(this)||this).Qo=t,l.cacheSizeBytes=o,l.forceOwnership=s,l.synchronizeTabs=!1,l}return(0,se.ZT)(i,e),i.prototype.initialize=function(t){return(0,se.mG)(this,void 0,void 0,function(){var o=this;return(0,se.Jh)(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return s.sent(),[4,Z1(this.localStore)];case 2:return s.sent(),[4,this.Qo.initialize(this,t)];case 3:return s.sent(),[4,RI(this.Qo.syncEngine)];case 4:return s.sent(),[4,Jb(this.Qo.remoteStore)];case 5:return s.sent(),[4,this.persistence.He(function(){return o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()})];case 6:return s.sent(),[2]}})})},i.prototype.Ko=function(t){return Kn(this.persistence,new Vn,t.initialUser,this.R)},i.prototype.Uo=function(t){return new U2(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},i.prototype.qo=function(t){var o=ft(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?pf.withCacheSize(this.cacheSizeBytes):pf.DEFAULT;return new le(this.synchronizeTabs,o,t.clientId,s,t.asyncQueue,z2(),xA(),this.R,this.sharedClientState,!!this.forceOwnership)},i.prototype.Bo=function(t){return new G2},i}(fx),Mk=function(e){function i(t,o){var s=this;return(s=e.call(this,t,o,!1)||this).Qo=t,s.cacheSizeBytes=o,s.synchronizeTabs=!0,s}return(0,se.ZT)(i,e),i.prototype.initialize=function(t){return(0,se.mG)(this,void 0,void 0,function(){var o,s=this;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return l.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof _I?(this.sharedClientState.syncEngine={ui:Ak.bind(null,o),ai:Ik.bind(null,o),hi:xk.bind(null,o),fn:Sk.bind(null,o),ci:Ek.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:l.sent(),l.label=3;case 3:return[4,this.persistence.He(function(h){return(0,se.mG)(s,void 0,void 0,function(){return(0,se.Jh)(this,function(v){switch(v.label){case 0:return[4,Dk(this.Qo.syncEngine,h)];case 1:return v.sent(),this.gcScheduler&&(h&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):h||this.gcScheduler.stop()),[2]}})})})];case 4:return l.sent(),[2]}})})},i.prototype.Bo=function(t){var o=z2();if(!_I.yt(o))throw new Ct(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var s=ft(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new _I(o,t.asyncQueue,s,t.clientId,t.initialUser)},i}(hx),FI=function(){function e(){}return e.prototype.initialize=function(i,t){return(0,se.mG)(this,void 0,void 0,function(){var o=this;return(0,se.Jh)(this,function(s){switch(s.label){case 0:return this.localStore?[3,2]:(this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(l){return ux(o.syncEngine,l,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wk.bind(null,this.syncEngine),[4,EI(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(i){return new ok},e.prototype.createDatastore=function(i){var o=G1(i.databaseInfo.databaseId),s=new ZN(i.databaseInfo);return new zN(i.credentials,s,o)},e.prototype.createRemoteStore=function(i){var t,o,s,l,h,v=this;return t=this.localStore,o=this.datastore,s=i.asyncQueue,l=function(w){return ux(v.syncEngine,w,0)},h=$2.yt()?new $2:new jN,new YN(t,o,s,l,h)},e.prototype.createSyncEngine=function(i,t){return D=t,M=new fk(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions),D&&(M.$o=!0),M;var D,M},e.prototype.terminate=function(){return function(i){return(0,se.mG)(this,void 0,void 0,function(){var t;return(0,se.Jh)(this,function(o){switch(o.label){case 0:return t=Zt(i),Ft("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Qb(t)];case 1:return o.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}(),NA=function(){function e(i){this.observer=i,this.muted=!1}return e.prototype.next=function(i){this.observer.next&&this.jo(this.observer.next,i)},e.prototype.error=function(i){this.observer.error?this.jo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(i,t){var o=this;this.muted||setTimeout(function(){o.muted||i(t)},0)},e}(),Nk=(function(){function e(i,t){var o=this;this.Go=i,this.R=t,this.metadata=new Du,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(s){s&&s.io()?o.metadata.resolve(s.payload.metadata):o.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(s?.payload)))},function(s){return o.metadata.reject(s)})}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(i){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(i){switch(i.label){case 0:return[4,this.getMetadata()];case 1:return[2,(i.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return(0,se.mG)(this,void 0,void 0,function(){var i,t,o,s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return[4,this.Jo()];case 1:return null===(i=l.sent())?[2,null]:(t=this.zo.decode(i),o=Number(t),isNaN(o)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(o)]);case 2:return s=l.sent(),[2,new uk(JSON.parse(s),i.length+o)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(i){return i==="{".charCodeAt(0)})},e.prototype.Jo=function(){return(0,se.mG)(this,void 0,void 0,function(){var i,t;return(0,se.Jh)(this,function(o){switch(o.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(o.sent())return[3,3];o.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((i=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,i),[2,(this.buffer=this.buffer.slice(i),t)])}})})},e.prototype.Xo=function(i){return(0,se.mG)(this,void 0,void 0,function(){var t;return(0,se.Jh)(this,function(o){switch(o.label){case 0:return this.buffer.length<i?[4,this.tc()]:[3,3];case 1:o.sent()&&this.Yo("Reached the end of bundle when more is expected."),o.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,i)),[2,(this.buffer=this.buffer.slice(i),t)]}})})},e.prototype.Yo=function(i){throw this.Go.cancel(),new Error("Invalid bundle format: "+i)},e.prototype.tc=function(){return(0,se.mG)(this,void 0,void 0,function(){var i,t;return(0,se.Jh)(this,function(o){switch(o.label){case 0:return[4,this.Go.read()];case 1:return(i=o.sent()).done||((t=new Uint8Array(this.buffer.length+i.value.length)).set(this.buffer),t.set(i.value,this.buffer.length),this.buffer=t),[2,i.done]}})})}}(),function(){function e(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(i){return(0,se.mG)(this,void 0,void 0,function(){var t,o=this;return(0,se.Jh)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ct(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(l,h){return(0,se.mG)(this,void 0,void 0,function(){var v,w,D,M,k,H;return(0,se.Jh)(this,function(J){switch(J.label){case 0:return v=Zt(l),w=wv(v.R)+"/documents",D={documents:h.map(function(X){return bv(v.R,X)})},[4,v.$i("BatchGetDocuments",w,D)];case 1:return M=J.sent(),k=new Map,M.forEach(function(X){var ve,Ne,ue=(ve=v.R,"found"in(Ne=X)?function(Ue,et){nr(!!et.found);var _t=cd(Ue,et.found.name),St=na(et.found.updateTime),Ze=new Xu({mapValue:{fields:et.found.fields}});return ta.newFoundDocument(_t,St,Ze)}(ve,Ne):"missing"in Ne?function(Ue,et){nr(!!et.missing),nr(!!et.readTime);var _t=cd(Ue,et.missing),St=na(et.readTime);return ta.newNoDocument(_t,St)}(ve,Ne):vn());k.set(ue.key.toString(),ue)}),H=[],[2,(h.forEach(function(X){var ue=k.get(X.toString());nr(!!ue),H.push(ue)}),H)]}})})}(this.datastore,i)];case 1:return[2,((t=s.sent()).forEach(function(l){return o.recordVersion(l)}),t)]}})})},e.prototype.set=function(i,t){this.write(t.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())},e.prototype.update=function(i,t){try{this.write(t.toMutation(i,this.preconditionForUpdate(i)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(i.toString())},e.prototype.delete=function(i){this.write(new gp(i,this.precondition(i))),this.writtenDocs.add(i.toString())},e.prototype.commit=function(){return(0,se.mG)(this,void 0,void 0,function(){var i,t=this;return(0,se.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return i=this.readVersions,this.mutations.forEach(function(s){i.delete(s.key.toString())}),i.forEach(function(s,l){var h=On.fromPath(l);t.mutations.push(new sA(h,t.precondition(h)))}),[4,function(s,l){return(0,se.mG)(this,void 0,void 0,function(){var h,v,w;return(0,se.Jh)(this,function(D){switch(D.label){case 0:return h=Zt(s),v=wv(h.R)+"/documents",w={writes:l.map(function(M){return Cv(h.R,M)})},[4,h.Ni("Commit",v,w)];case 1:return D.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return o.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(i){var t;if(i.isFoundDocument())t=i.version;else{if(!i.isNoDocument())throw vn();t=Fr.min()}var o=this.readVersions.get(i.key.toString());if(o){if(!t.isEqual(o))throw new Ct(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),t)},e.prototype.precondition=function(i){var t=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&t?Ea.updateTime(t):Ea.none()},e.prototype.preconditionForUpdate=function(i){var t=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&t){if(t.isEqual(Fr.min()))throw new Ct(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ea.updateTime(t)}return Ea.exists(!0)},e.prototype.write=function(i){this.ensureCommitNotCalled(),this.mutations.push(i)},e.prototype.ensureCommitNotCalled=function(){},e}()),kk=function(){function e(i,t,o,s){this.asyncQueue=i,this.datastore=t,this.updateFunction=o,this.deferred=s,this.ec=5,this.Zi=new bI(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var i=this;this.Zi.ji(function(){return(0,se.mG)(i,void 0,void 0,function(){var t,o,s=this;return(0,se.Jh)(this,function(l){return t=new Nk(this.datastore),(o=this.sc(t))&&o.then(function(h){s.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){s.deferred.resolve(h)}).catch(function(v){s.ic(v)})})}).catch(function(h){s.ic(h)}),[2]})})})},e.prototype.sc=function(i){try{var t=this.updateFunction(i);return!Pg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}},e.prototype.ic=function(i){var t=this;this.ec>0&&this.rc(i)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(i)},e.prototype.rc=function(i){if("FirebaseError"===i.name){var t=i.code;return"aborted"===t||"failed-precondition"===t||!j0(t)}return!1},e}(),Rk=function(){function e(i,t,o){var s=this;this.credentials=i,this.asyncQueue=t,this.databaseInfo=o,this.user=Su.UNAUTHENTICATED,this.clientId=s1.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(l){return(0,se.mG)(s,void 0,void 0,function(){return(0,se.Jh)(this,function(h){switch(h.label){case 0:return Ft("FirestoreClient","Received user=",l.uid),[4,this.credentialListener(l)];case 1:return h.sent(),this.user=l,[2]}})})})}return e.prototype.getConfiguration=function(){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(i){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(i){this.credentialListener=i},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var i=this;this.asyncQueue.enterRestrictedMode();var t=new Du;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,se.mG)(i,void 0,void 0,function(){var o,s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return l.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:l.sent(),l.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:l.sent(),l.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return o=l.sent(),s=ew(o,"Failed to shutdown persistence"),t.reject(s),[3,6];case 6:return[2]}})})}),t.promise},e}();function gx(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o,s=this;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Ft("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return t=l.sent(),[4,i.initialize(t)];case 2:return l.sent(),o=t.initialUser,e.setCredentialChangeListener(function(h){return(0,se.mG)(s,void 0,void 0,function(){return(0,se.Jh)(this,function(v){switch(v.label){case 0:return o.isEqual(h)?[3,2]:[4,gi(i.localStore,h)];case 1:v.sent(),o=h,v.label=2;case 2:return[2]}})})}),i.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=i,[2]}})})}function mx(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o;return(0,se.Jh)(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,LI(e)];case 1:return t=s.sent(),Ft("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return o=s.sent(),[4,i.initialize(t,o)];case 3:return s.sent(),e.setCredentialChangeListener(function(l){return function(h,v){return(0,se.mG)(this,void 0,void 0,function(){var w,D;return(0,se.Jh)(this,function(M){switch(M.label){case 0:return(w=Zt(h)).asyncQueue.verifyOperationInProgress(),Ft("RemoteStore","RemoteStore received new credentials"),D=kv(w),w.Or.add(3),[4,Qb(w)];case 1:return M.sent(),D&&w.Br.set("Unknown"),[4,w.remoteSyncer.handleCredentialChange(v)];case 2:return M.sent(),w.Or.delete(3),[4,$1(w)];case 3:return M.sent(),[2]}})})}(i.remoteStore,l)}),e.onlineComponents=i,[2]}})})}function LI(e){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(i){switch(i.label){case 0:return e.offlineComponents?[3,2]:(Ft("FirestoreClient","Using default OfflineComponentProvider"),[4,gx(e,new fx)]);case 1:i.sent(),i.label=2;case 2:return[2,e.offlineComponents]}})})}function kA(e){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(i){switch(i.label){case 0:return e.onlineComponents?[3,2]:(Ft("FirestoreClient","Using default OnlineComponentProvider"),[4,mx(e,new FI)]);case 1:i.sent(),i.label=2;case 2:return[2,e.onlineComponents]}})})}function vx(e){return LI(e).then(function(i){return i.persistence})}function UI(e){return LI(e).then(function(i){return i.localStore})}function yx(e){return kA(e).then(function(i){return i.remoteStore})}function BI(e){return kA(e).then(function(i){return i.syncEngine})}function nw(e){return(0,se.mG)(this,void 0,void 0,function(){var i,t;return(0,se.Jh)(this,function(o){switch(o.label){case 0:return[4,kA(e)];case 1:return i=o.sent(),[2,((t=i.eventManager).onListen=hk.bind(null,i.syncEngine),t.onUnlisten=pk.bind(null,i.syncEngine),t)]}})})}function _x(e,i,t){var o=this;void 0===t&&(t={});var s=new Du;return e.asyncQueue.enqueueAndForget(function(){return(0,se.mG)(o,void 0,void 0,function(){var l;return(0,se.Jh)(this,function(h){switch(h.label){case 0:return l=function(v,w,D,M,k){var H=new NA({next:function(X){w.enqueueAndForget(function(){return DI(v,J)});var ue=X.docs.has(D);!ue&&X.fromCache?k.reject(new Ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):ue&&X.fromCache&&M&&"server"===M.source?k.reject(new Ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):k.resolve(X)},error:function(X){return k.reject(X)}}),J=new II(vv(D.path),H,{includeMetadataChanges:!0,so:!0});return AI(v,J)},[4,nw(e)];case 1:return[2,l.apply(void 0,[h.sent(),e.asyncQueue,i,t,s])]}})})}),s.promise}function bx(e,i,t){var o=this;void 0===t&&(t={});var s=new Du;return e.asyncQueue.enqueueAndForget(function(){return(0,se.mG)(o,void 0,void 0,function(){var l;return(0,se.Jh)(this,function(h){switch(h.label){case 0:return l=function(v,w,D,M,k){var H=new NA({next:function(X){w.enqueueAndForget(function(){return DI(v,J)}),X.fromCache&&"server"===M.source?k.reject(new Ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):k.resolve(X)},error:function(X){return k.reject(X)}}),J=new II(D,H,{includeMetadataChanges:!0,so:!0});return AI(v,J)},[4,nw(e)];case 1:return[2,l.apply(void 0,[h.sent(),e.asyncQueue,i,t,s])]}})})}),s.promise}var Fk=function(e,i,t,o,s,l,h,v){this.databaseId=e,this.appId=i,this.persistenceKey=t,this.host=o,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=v},RA=function(){function e(i,t){this.projectId=i,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(i){return i instanceof e&&i.projectId===this.projectId&&i.database===this.database},e}(),wx=new Map,Cx=function(e,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Tx=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(i,t){this.changeListener=t,i.enqueueRetryable(function(){return t(Su.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Lk=function(){function e(i){this.token=i,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(i,t){var o=this;this.changeListener=t,i.enqueueRetryable(function(){return t(o.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Uk=function(){function e(i){var t=this;this.currentUser=Su.UNAUTHENTICATED,this.oc=new Du,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var o=function(s){Ft("FirebaseCredentialsProvider","Auth detected"),t.auth=s,t.auth.addAuthTokenListener(t.uc)};i.onInit(function(s){return o(s)}),setTimeout(function(){if(!t.auth){var s=i.getImmediate({optional:!0});s?o(s):(Ft("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return e.prototype.getToken=function(){var i=this,t=this.cc,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(function(s){return i.cc!==t?(Ft("FirebaseCredentialsProvider","getToken aborted due to token change."),i.getToken()):s?(nr("string"==typeof s.accessToken),new Cx(s.accessToken,i.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(i,t){var o=this;this.asyncQueue=i,this.asyncQueue.enqueueRetryable(function(){return(0,se.mG)(o,void 0,void 0,function(){return(0,se.Jh)(this,function(s){switch(s.label){case 0:return[4,this.oc.promise];case 1:return s.sent(),[4,t(this.currentUser)];case 2:return s.sent(),this.changeListener=t,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var i=this.auth&&this.auth.getUid();return nr(null===i||"string"==typeof i),new Su(i)},e}(),Bk=function(){function e(i,t,o){this.hc=i,this.lc=t,this.fc=o,this.type="FirstParty",this.user=Su.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var i={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(i.Authorization=t),this.fc&&(i["X-Goog-Iam-Authorization-Token"]=this.fc),i},enumerable:!1,configurable:!0}),e}(),Vk=function(){function e(i,t,o){this.hc=i,this.lc=t,this.fc=o}return e.prototype.getToken=function(){return Promise.resolve(new Bk(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(i,t){i.enqueueRetryable(function(){return t(Su.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function VI(e,i,t){if(!t)throw new Ct(tt.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+i+".")}function jI(e,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Ct(tt.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return i}function Ex(e,i,t,o){if(!0===i&&!0===o)throw new Ct(tt.INVALID_ARGUMENT,e+" and "+t+" cannot be used together.")}function Ax(e){if(!On.isDocumentKey(e))throw new Ct(tt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Dx(e){if(On.isDocumentKey(e))throw new Ct(tt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function FA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var i=function(t){if(t.constructor){var o=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(o&&o.length>1)return o[1]}return null}(e);return i?"a custom "+i+" object":"an object"}return"function"==typeof e?"a function":vn()}function xi(e,i){if("_delegate"in e&&(e=e._delegate),!(e instanceof i)){if(i.name===e.constructor.name)throw new Ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var t=FA(e);throw new Ct(tt.INVALID_ARGUMENT,"Expected type '"+i.name+"', but it was: "+t)}return e}function Sx(e,i){if(i<=0)throw new Ct(tt.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+i+".")}var Ix=function(){function e(i){var t;if(void 0===i.host){if(void 0!==i.ssl)throw new Ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(t=i.ssl)||void 0===t||t;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,Ex("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams},e}(),W1=function(){function e(i,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ix({}),this._settingsFrozen=!1,i instanceof RA?(this._databaseId=i,this._credentials=new Tx):(this._app=i,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new RA(o.options.projectId)}(i),this._credentials=new Uk(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(i){if(this._settingsFrozen)throw new Ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ix(i),void 0!==i.credentials&&(this._credentials=function(t){if(!t)return new Tx;switch(t.type){case"gapi":var o=t.client;return nr(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Vk(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ct(tt.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(t=wx.get(this))&&(Ft("ComponentProvider","Removing Datastore"),wx.delete(this),t.terminate()),Promise.resolve();var t},e}(),Yo=function(){function e(i,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=i}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Fv(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(i){return new e(this.firestore,i,this._key)},e}(),Dc=function(){function e(i,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=i}return e.prototype.withConverter=function(i){return new e(this.firestore,i,this._query)},e}(),Fv=function(e){function i(t,o,s){var l=this;return(l=e.call(this,t,o,vv(s))||this)._path=s,l.type="collection",l}return(0,se.ZT)(i,e),Object.defineProperty(i.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Yo(this.firestore,null,new On(t))},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(t){return new i(this.firestore,t,this._path)},i}(Dc);function xx(e,i){for(var t,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(e=(0,Dr.m9)(e),VI("collection","path",i),e instanceof W1)return Dx(t=Gr.fromString.apply(Gr,(0,se.ev)([i],o))),new Fv(e,null,t);if(!(e instanceof Yo||e instanceof Fv))throw new Ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dx(t=Gr.fromString.apply(Gr,(0,se.ev)([e.path],o)).child(Gr.fromString(i))),new Fv(e.firestore,null,t)}function LA(e,i){for(var t,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(e=(0,Dr.m9)(e),1===arguments.length&&(i=s1.u()),VI("doc","path",i),e instanceof W1)return Ax(t=Gr.fromString.apply(Gr,(0,se.ev)([i],o))),new Yo(e,null,new On(t));if(!(e instanceof Yo||e instanceof Fv))throw new Ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ax(t=e._path.child(Gr.fromString.apply(Gr,(0,se.ev)([i],o)))),new Yo(e.firestore,e instanceof Fv?e.converter:null,new On(t))}function Px(e,i){return e=(0,Dr.m9)(e),i=(0,Dr.m9)(i),(e instanceof Yo||e instanceof Fv)&&(i instanceof Yo||i instanceof Fv)&&e.firestore===i.firestore&&e.path===i.path&&e.converter===i.converter}function Mx(e,i){return e=(0,Dr.m9)(e),i=(0,Dr.m9)(i),e instanceof Dc&&i instanceof Dc&&e.firestore===i.firestore&&yv(e._query,i._query)&&e.converter===i.converter}var jk=function(){function e(){var i=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new bI(this,"async_queue_retry"),this.Ic=function(){var o=xA();o&&Ft("AsyncQueue","Visibility state changed to "+o.visibilityState),i.Zi.Gi()};var t=xA();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(i){this.enqueue(i)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(i){this.Ac(),this.Rc(i)},e.prototype.enterRestrictedMode=function(i){if(!this._c){this._c=!0,this.Ec=i||!1;var t=xA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(i){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var o=new Du;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(i().then(o.resolve,o.reject),o.promise)}).then(function(){return o.promise})},e.prototype.enqueueRetryable=function(i){var t=this;this.enqueueAndForget(function(){return t.wc.push(i),t.bc()})},e.prototype.bc=function(){return(0,se.mG)(this,void 0,void 0,function(){var i,t=this;return(0,se.Jh)(this,function(o){switch(o.label){case 0:if(0===this.wc.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return o.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Rg(i=o.sent()))throw i;return Ft("AsyncQueue","Operation failed with retryable error: "+i),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),o.label=5;case 5:return[2]}})})},e.prototype.Rc=function(i){var t=this,o=this.dc.then(function(){return t.gc=!0,i().catch(function(s){throw t.yc=s,t.gc=!1,ds("INTERNAL UNHANDLED ERROR: ",(h=(l=s).message||"",l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h)),s;var l,h}).then(function(s){return t.gc=!1,s})});return this.dc=o,o},e.prototype.enqueueAfterDelay=function(i,t,o){var s=this;this.Ac(),this.Tc.indexOf(i)>-1&&(t=0);var l=rk.createAndSchedule(this,i,t,o,function(h){return s.vc(h)});return this.mc.push(l),l},e.prototype.Ac=function(){this.yc&&vn()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,se.mG)(this,void 0,void 0,function(){var i;return(0,se.Jh)(this,function(t){switch(t.label){case 0:return[4,i=this.dc];case 1:t.sent(),t.label=2;case 2:if(i!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.Vc=function(i){for(var t=0,o=this.mc;t<o.length;t++)if(o[t].timerId===i)return!0;return!1},e.prototype.Sc=function(i){var t=this;return this.Pc().then(function(){t.mc.sort(function(h,v){return h.targetTimeMs-v.targetTimeMs});for(var o=0,s=t.mc;o<s.length;o++){var l=s[o];if(l.skipDelay(),"all"!==i&&l.timerId===i)break}return t.Pc()})},e.prototype.Dc=function(i){this.Tc.push(i)},e.prototype.vc=function(i){var t=this.mc.indexOf(i);this.mc.splice(t,1)},e}();function rw(e){return function(i,t){if("object"!=typeof i||null===i)return!1;for(var o=i,s=0,l=["next","error","complete"];s<l.length;s++){var h=l[s];if(h in o&&"function"==typeof o[h])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Du,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(i,t,o){this._progressObserver={next:i,error:t,complete:o}},e.prototype.catch=function(i){return this._taskCompletionResolver.promise.catch(i)},e.prototype.then=function(i,t){return this._taskCompletionResolver.promise.then(i,t)},e.prototype._completeWith=function(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)},e.prototype._failWith=function(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)},e.prototype._updateProgress=function(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}();var Ps=function(e){function i(t,o){var s=this;return(s=e.call(this,t,o)||this).type="firestore",s._queue=new jk,s._persistenceKey="name"in t?t.name:"[DEFAULT]",s}return(0,se.ZT)(i,e),i.prototype._terminate=function(){return this._firestoreClient||Ox(this),this._firestoreClient.terminate()},i}(W1);function Qa(e){return e._firestoreClient||Ox(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ox(e){var i,l,v,t=e._freezeSettings(),o=(l=(null===(i=e._app)||void 0===i?void 0:i.options.appId)||"",new Fk(e._databaseId,l,e._persistenceKey,(v=t).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));e._firestoreClient=new Rk(e._credentials,e._queue,o)}function Nx(e,i,t){var o=this,s=new Du;return e.asyncQueue.enqueue(function(){return(0,se.mG)(o,void 0,void 0,function(){var l;return(0,se.Jh)(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,gx(e,t)];case 1:return h.sent(),[4,mx(e,i)];case 2:return h.sent(),s.resolve(),[3,4];case 3:if(!("FirebaseError"===(v=l=h.sent()).name?v.code===tt.FAILED_PRECONDITION||v.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw l;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l),[3,4];case 4:return[2]}var v})})}).then(function(){return s.promise})}function kx(e){if(e._initialized||e._terminated)throw new Ct(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var wp=function(){function e(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var o=0;o<i.length;++o)if(0===i[o].length)throw new Ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ll(i)}return e.prototype.isEqual=function(i){return this._internalPath.isEqual(i._internalPath)},e}(),Y0=function(){function e(i){this._byteString=i}return e.fromBase64String=function(i){try{return new e(Au.fromBase64String(i))}catch(t){throw new Ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(i){return new e(Au.fromUint8Array(i))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(i){return this._byteString.isEqual(i._byteString)},e}(),K0=function(e){this._methodName=e},UA=function(){function e(i,t){if(!isFinite(i)||i<-90||i>90)throw new Ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(t)||t<-180||t>180)throw new Ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=i,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(i){return this._lat===i._lat&&this._long===i._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(i){return Hr(this._lat,i._lat)||Hr(this._long,i._long)},e}(),Zk=/^__.*__$/,Gk=function(){function e(i,t,o){this.data=i,this.fieldMask=t,this.fieldTransforms=o}return e.prototype.toMutation=function(i,t){return null!==this.fieldMask?new Ng(i,this.data,this.fieldMask,t,this.fieldTransforms):new Vb(i,this.data,t,this.fieldTransforms)},e}(),Rx=function(){function e(i,t,o){this.data=i,this.fieldMask=t,this.fieldTransforms=o}return e.prototype.toMutation=function(i,t){return new Ng(i,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Fx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vn()}}var Lx=function(){function e(i,t,o,s,l,h){this.settings=i,this.databaseId=t,this.R=o,this.ignoreUndefinedProperties=s,void 0===l&&this.Cc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(i){return new e(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(i){var t,o=null===(t=this.path)||void 0===t?void 0:t.child(i),s=this.xc({path:o,Fc:!1});return s.$c(i),s},e.prototype.Oc=function(i){var t,o=null===(t=this.path)||void 0===t?void 0:t.child(i),s=this.xc({path:o,Fc:!1});return s.Cc(),s},e.prototype.Mc=function(i){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(i){return VA(i,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(i){return void 0!==this.fieldMask.find(function(t){return i.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return i.isPrefixOf(t.field)})},e.prototype.Cc=function(){if(this.path)for(var i=0;i<this.path.length;i++)this.$c(this.path.get(i))},e.prototype.$c=function(i){if(0===i.length)throw this.Lc("Document fields must not be empty");if(Fx(this.Nc)&&Zk.test(i))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),$k=function(){function e(i,t,o){this.databaseId=i,this.ignoreUndefinedProperties=t,this.R=o||G1(i)}return e.prototype.Uc=function(i,t,o,s){return void 0===s&&(s=!1),new Lx({Nc:i,methodName:t,qc:o,path:Ll.emptyPath(),Fc:!1,Bc:s},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Q0(e){var i=e._freezeSettings(),t=G1(e._databaseId);return new $k(e._databaseId,!!i.ignoreUndefinedProperties,t)}function BA(e,i,t,o,s,l){void 0===l&&(l={});var h=e.Uc(l.merge||l.mergeFields?2:0,i,t,s);GI("Data must be an object, but it was:",h,o);var v,w,D=Vx(o,h);if(l.merge)v=new Eu(h.fieldMask),w=h.fieldTransforms;else if(l.mergeFields){for(var M=[],k=0,H=l.mergeFields;k<H.length;k++){var J=$I(i,H[k],t);if(!h.contains(J))throw new Ct(tt.INVALID_ARGUMENT,"Field '"+J+"' is specified in your field mask but missing from your input data.");Hx(M,J)||M.push(J)}v=new Eu(M),w=h.fieldTransforms.filter(function(X){return v.covers(X.field)})}else v=null,w=h.fieldTransforms;return new Gk(new Xu(D),v,w)}var HI=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return(0,se.ZT)(i,e),i.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},i.prototype.isEqual=function(t){return t instanceof i},i}(K0);function Ux(e,i,t){return new Lx({Nc:3,qc:i.settings.qc,methodName:e._methodName,Fc:t},i.databaseId,i.R,i.ignoreUndefinedProperties)}var zk=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return(0,se.ZT)(i,e),i.prototype._toFieldTransform=function(t){return new U0(t.path,new Og)},i.prototype.isEqual=function(t){return t instanceof i},i}(K0),Wk=function(e){function i(t,o){var s=this;return(s=e.call(this,t)||this).Kc=o,s}return(0,se.ZT)(i,e),i.prototype._toFieldTransform=function(t){var o=Ux(this,t,!0),s=this.Kc.map(function(h){return J0(h,o)}),l=new hp(s);return new U0(t.path,l)},i.prototype.isEqual=function(t){return this===t},i}(K0),Yk=function(e){function i(t,o){var s=this;return(s=e.call(this,t)||this).Kc=o,s}return(0,se.ZT)(i,e),i.prototype._toFieldTransform=function(t){var o=Ux(this,t,!0),s=this.Kc.map(function(h){return J0(h,o)}),l=new pp(s);return new U0(t.path,l)},i.prototype.isEqual=function(t){return this===t},i}(K0),Kk=function(e){function i(t,o){var s=this;return(s=e.call(this,t)||this).Qc=o,s}return(0,se.ZT)(i,e),i.prototype._toFieldTransform=function(t){var o=new _v(t.R,eA(t.R,this.Qc));return new U0(t.path,o)},i.prototype.isEqual=function(t){return this===t},i}(K0);function qI(e,i,t,o){var s=e.Uc(1,i,t);GI("Data must be an object, but it was:",s,o);var l=[],h=Xu.empty();xg(o,function(w,D){var M=zI(i,w,t);D=(0,Dr.m9)(D);var k=s.Oc(M);if(D instanceof HI)l.push(M);else{var H=J0(D,k);null!=H&&(l.push(M),h.set(M,H))}});var v=new Eu(l);return new Rx(h,v,s.fieldTransforms)}function ZI(e,i,t,o,s,l){var h=e.Uc(1,i,t),v=[$I(i,o,t)],w=[s];if(l.length%2!=0)throw new Ct(tt.INVALID_ARGUMENT,"Function "+i+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var D=0;D<l.length;D+=2)v.push($I(i,l[D])),w.push(l[D+1]);for(var M=[],k=Xu.empty(),H=v.length-1;H>=0;--H)if(!Hx(M,v[H])){var J=v[H],X=w[H];X=(0,Dr.m9)(X);var ue=h.Oc(J);if(X instanceof HI)M.push(J);else{var ve=J0(X,ue);null!=ve&&(M.push(J),k.set(J,ve))}}var Ne=new Eu(M);return new Rx(k,Ne,h.fieldTransforms)}function Bx(e,i,t,o){return void 0===o&&(o=!1),J0(t,e.Uc(o?4:3,i))}function J0(e,i){if(jx(e=(0,Dr.m9)(e)))return GI("Unsupported field value:",i,e),Vx(e,i);if(e instanceof K0)return function(t,o){if(!Fx(o.Nc))throw o.Lc(t._methodName+"() can only be used with update() and set()");if(!o.path)throw o.Lc(t._methodName+"() is not currently supported inside arrays");var s=t._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(e,i),null;if(void 0===e&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),e instanceof Array){if(i.settings.Fc&&4!==i.Nc)throw i.Lc("Nested arrays are not supported");return function(t,o){for(var s=[],l=0,h=0,v=t;h<v.length;h++){var w=J0(v[h],o.Mc(l));null==w&&(w={nullValue:"NULL_VALUE"}),s.push(w),l++}return{arrayValue:{values:s}}}(e,i)}return function(t,o){if(null===(t=(0,Dr.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return eA(o.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var s=Fl.fromDate(t);return{timestampValue:Ya(o.R,s)}}if(t instanceof Fl)return s=new Fl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ya(o.R,s)};if(t instanceof UA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Y0)return{bytesValue:fA(o.R,t._byteString)};if(t instanceof Yo){var l=t.firestore._databaseId;if(!l.isEqual(s=o.databaseId))throw o.Lc("Document reference is for database "+l.projectId+"/"+l.database+" but should be for database "+s.projectId+"/"+s.database);return{referenceValue:S1(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.Lc("Unsupported field value: "+FA(t))}(e,i)}function Vx(e,i){var t={};return qE(e)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):xg(e,function(o,s){var l=J0(s,i.kc(o));null!=l&&(t[o]=l)}),{mapValue:{fields:t}}}function jx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Fl||e instanceof UA||e instanceof Y0||e instanceof Yo||e instanceof K0)}function GI(e,i,t){if(!jx(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){var o=FA(t);throw i.Lc("an object"===o?e+" a custom object":e+" "+o)}var s}function $I(e,i,t){if((i=(0,Dr.m9)(i))instanceof wp)return i._internalPath;if("string"==typeof i)return zI(e,i);throw VA("Field path arguments must be of type string or FieldPath.",e,!1,void 0,t)}var Qk=new RegExp("[~\\*/\\[\\]]");function zI(e,i,t){if(i.search(Qk)>=0)throw VA("Invalid field path ("+i+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,t);try{return(new(wp.bind.apply(wp,(0,se.ev)([void 0],i.split(".")))))._internalPath}catch{throw VA("Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,t)}}function VA(e,i,t,o,s){var l=o&&!o.isEmpty(),h=void 0!==s,v="Function "+i+"() called with invalid data";t&&(v+=" (via `toFirestore()`)");var w="";return(l||h)&&(w+=" (found",l&&(w+=" in field "+o),h&&(w+=" in document "+s),w+=")"),new Ct(tt.INVALID_ARGUMENT,(v+=". ")+e+w)}function Hx(e,i){return e.some(function(t){return t.isEqual(i)})}var Y1=function(){function e(i,t,o,s,l){this._firestore=i,this._userDataWriter=t,this._key=o,this._document=s,this._converter=l}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Yo(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var i=new Jk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(i){if(this._document){var t=this._document.data.field(jA("DocumentSnapshot.get",i));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Jk=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return(0,se.ZT)(i,e),i.prototype.data=function(){return e.prototype.data.call(this)},i}(Y1);function jA(e,i){return"string"==typeof i?zI(e,i):i instanceof wp?i._internalPath:i._delegate._internalPath}var X0=function(){function e(i,t){this.hasPendingWrites=i,this.fromCache=t}return e.prototype.isEqual=function(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache},e}(),Ug=function(e){function i(t,o,s,l,h,v){var w=this;return(w=e.call(this,t,o,s,l,v)||this)._firestore=t,w._firestoreImpl=t,w.metadata=h,w}return(0,se.ZT)(i,e),i.prototype.exists=function(){return e.prototype.exists.call(this)},i.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var o=new K1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},i.prototype.get=function(t,o){if(void 0===o&&(o={}),this._document){var s=this._document.data.field(jA("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,o.serverTimestamps)}},i}(Y1),K1=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return(0,se.ZT)(i,e),i.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},i}(Ug),Lv=function(){function e(i,t,o,s){this._firestore=i,this._userDataWriter=t,this._snapshot=s,this.metadata=new X0(s.hasPendingWrites,s.fromCache),this.query=o}return Object.defineProperty(e.prototype,"docs",{get:function(){var i=[];return this.forEach(function(t){return i.push(t)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(i,t){var o=this;this._snapshot.docs.forEach(function(s){i.call(t,new K1(o._firestore,o._userDataWriter,s.key,s,new X0(o._snapshot.mutatedKeys.has(s.key),o._snapshot.fromCache),o.query.converter))})},e.prototype.docChanges=function(i){void 0===i&&(i={});var t=!!i.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){var l=0;return o._snapshot.docChanges.map(function(v){return{type:"added",doc:new K1(o._firestore,o._userDataWriter,v.doc.key,v.doc,new X0(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}})}var h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(v){return s||3!==v.type}).map(function(v){var w=new K1(o._firestore,o._userDataWriter,v.doc.key,v.doc,new X0(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),D=-1,M=-1;return 0!==v.type&&(D=h.indexOf(v.doc.key),h=h.delete(v.doc.key)),1!==v.type&&(M=(h=h.add(v.doc)).indexOf(v.doc.key)),{type:Xk(v.type),doc:w,oldIndex:D,newIndex:M}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Xk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vn()}}function qx(e,i){return e instanceof Ug&&i instanceof Ug?e._firestore===i._firestore&&e._key.isEqual(i._key)&&(null===e._document?null===i._document:e._document.isEqual(i._document))&&e._converter===i._converter:e instanceof Lv&&i instanceof Lv&&e._firestore===i._firestore&&Mx(e.query,i.query)&&e.metadata.isEqual(i.metadata)&&e._snapshot.isEqual(i._snapshot)}function Zx(e){if(Rb(e)&&0===e.explicitOrderBy.length)throw new Ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Q1=function(){};function Uv(e){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];for(var o=0,s=i;o<s.length;o++){var l=s[o];e=l._apply(e)}return e}var eR=function(e){function i(t,o,s){var l=this;return(l=e.call(this)||this).jc=t,l.Wc=o,l.Gc=s,l.type="where",l}return(0,se.ZT)(i,e),i.prototype._apply=function(t){var l,v,o=Q0(t.firestore),s=function(l,h,v,w,D,M,k){var H;if(D.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new Ct(tt.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+M+"' queries on FieldPath.documentId().");if("in"===M||"not-in"===M){Kx(k,M);for(var J=[],X=0,ue=k;X<ue.length;X++)J.push(Yx(w,l,ue[X]));H={arrayValue:{values:J}}}else H=Yx(w,l,k)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||Kx(k,M),H=Bx(v,"where",k,"in"===M||"not-in"===M);var Ne=el.create(D,M,H);return function(Ue,et){if(et.g()){var _t=Fb(Ue);if(null!==_t&&!_t.isEqual(et.field))throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+_t.toString()+"' and '"+et.field.toString()+"'");var St=L0(Ue);null!==St&&Qx(0,et.field,St)}var Ze=function(Nn,Ti){for(var Qn=0,ti=Nn.filters;Qn<ti.length;Qn++){var ao=ti[Qn];if(Ti.indexOf(ao.op)>=0)return ao.op}return null}(Ue,function(Nn){switch(Nn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(et.op));if(null!==Ze)throw new Ct(tt.INVALID_ARGUMENT,Ze===et.op?"Invalid query. You cannot use more than one '"+et.op.toString()+"' filter.":"Invalid query. You cannot use '"+et.op.toString()+"' filters with '"+Ze.toString()+"' filters.")}(l,Ne),Ne}(t._query,0,o,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Dc(t.firestore,t.converter,(v=(l=t._query).filters.concat([s]),new yh(l.path,l.collectionGroup,l.explicitOrderBy.slice(),v,l.limit,l.limitType,l.startAt,l.endAt)))},i}(Q1),tR=function(e){function i(t,o){var s=this;return(s=e.call(this)||this).jc=t,s.zc=o,s.type="orderBy",s}return(0,se.ZT)(i,e),i.prototype._apply=function(t){var s,h,o=function(s,l,h){if(null!==s.startAt)throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var v=new Mg(l,h);return function(w,D){if(null===L0(w)){var M=Fb(w);null!==M&&Qx(0,M,D.field)}}(s,v),v}(t._query,this.jc,this.zc);return new Dc(t.firestore,t.converter,(h=(s=t._query).explicitOrderBy.concat([o]),new yh(s.path,s.collectionGroup,h,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)))},i}(Q1),Gx=function(e){function i(t,o,s){var l=this;return(l=e.call(this)||this).type=t,l.Hc=o,l.Jc=s,l}return(0,se.ZT)(i,e),i.prototype._apply=function(t){return new Dc(t.firestore,t.converter,VS(t._query,this.Hc,this.Jc))},i}(Q1),$x=function(e){function i(t,o,s){var l=this;return(l=e.call(this)||this).type=t,l.Yc=o,l.Xc=s,l}return(0,se.ZT)(i,e),i.prototype._apply=function(t){var s,l,o=Wx(t,this.type,this.Yc,this.Xc);return new Dc(t.firestore,t.converter,(l=o,new yh((s=t._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)))},i}(Q1),zx=function(e){function i(t,o,s){var l=this;return(l=e.call(this)||this).type=t,l.Yc=o,l.Xc=s,l}return(0,se.ZT)(i,e),i.prototype._apply=function(t){var s,l,o=Wx(t,this.type,this.Yc,this.Xc);return new Dc(t.firestore,t.converter,(l=o,new yh((s=t._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)))},i}(Q1);function Wx(e,i,t,o){if(t[0]=(0,Dr.m9)(t[0]),t[0]instanceof Y1)return function(l,h,v,w,D){if(!w)throw new Ct(tt.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+v+"().");for(var M=[],k=0,H=_h(l);k<H.length;k++){var J=H[k];if(J.field.isKeyField())M.push(P0(h,w.key));else{var X=w.data.field(J.field);if(l1(X))throw new Ct(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+J.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===X){var ue=J.field.canonicalString();throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+ue+"' (used as the orderBy) does not exist.")}M.push(X)}}return new Ob(M,D)}(e._query,e.firestore._databaseId,i,t[0]._document,o);var s=Q0(e.firestore);return function(l,h,v,w,D,M){var k=l.explicitOrderBy;if(D.length>k.length)throw new Ct(tt.INVALID_ARGUMENT,"Too many arguments provided to "+w+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var H=[],J=0;J<D.length;J++){var X=D[J];if(k[J].field.isKeyField()){if("string"!=typeof X)throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+w+"(), but got a "+typeof X);if(!Lb(l)&&-1!==X.indexOf("/"))throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+w+"() must be a plain document ID, but '"+X+"' contains a slash.");var ue=l.path.child(Gr.fromString(X));if(!On.isDocumentKey(ue))throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+w+"() must result in a valid document path, but '"+ue+"' is not because it contains an odd number of segments.");var ve=new On(ue);H.push(P0(h,ve))}else{var Ne=Bx(v,w,X);H.push(Ne)}}return new Ob(H,M)}(e._query,e.firestore._databaseId,s,i,t,o)}function Yx(e,i,t){if("string"==typeof(t=(0,Dr.m9)(t))){if(""===t)throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lb(i)&&-1!==t.indexOf("/"))throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var o=i.path.child(Gr.fromString(t));if(!On.isDocumentKey(o))throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return P0(e,new On(o))}if(t instanceof Yo)return P0(e,t._key);throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+FA(t)+".")}function Kx(e,i){if(!Array.isArray(e)||0===e.length)throw new Ct(tt.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+i.toString()+"' filters.");if(e.length>10)throw new Ct(tt.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters support a maximum of 10 elements in the value array.")}function Qx(e,i,t){if(!t.isEqual(i))throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+i.toString()+"' and so you must also use '"+i.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+t.toString()+"' instead.")}var WI=function(){function e(){}return e.prototype.convertValue=function(i,t){switch(void 0===t&&(t="none"),vh(i)){case 0:return null;case 1:return i.booleanValue;case 2:return fs(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,t);case 5:return i.stringValue;case 6:return this.convertBytes(hv(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,t);case 10:return this.convertObject(i.mapValue,t);default:throw vn()}},e.prototype.convertObject=function(i,t){var o=this,s={};return xg(i.fields,function(l,h){s[l]=o.convertValue(h,t)}),s},e.prototype.convertGeoPoint=function(i){return new UA(fs(i.latitude),fs(i.longitude))},e.prototype.convertArray=function(i,t){var o=this;return(i.values||[]).map(function(s){return o.convertValue(s,t)})},e.prototype.convertServerTimestamp=function(i,t){switch(t){case"previous":var o=D0(i);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(fp(i));default:return null}},e.prototype.convertTimestamp=function(i){var t=Tc(i);return new Fl(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(i,t){var o=Gr.fromString(i);nr(O1(o));var s=new RA(o.get(1),o.get(3)),l=new On(o.popFirst(5));return s.isEqual(t)||ds("Document "+l+" contains a document reference within a different database ("+s.projectId+"/"+s.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),l},e}();function HA(e,i,t){return e?t&&(t.merge||t.mergeFields)?e.toFirestore(i,t):e.toFirestore(i):i}var nR=function(e){function i(t){var o=this;return(o=e.call(this)||this).firestore=t,o}return(0,se.ZT)(i,e),i.prototype.convertBytes=function(t){return new Y0(t)},i.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return new Yo(this.firestore,null,o)},i}(WI),rR=function(){function e(i,t){this._firestore=i,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Q0(i)}return e.prototype.set=function(i,t,o){this._verifyNotCommitted();var s=Bv(i,this._firestore),l=HA(s.converter,t,o),h=BA(this._dataReader,"WriteBatch.set",s._key,l,null!==s.converter,o);return this._mutations.push(h.toMutation(s._key,Ea.none())),this},e.prototype.update=function(i,t,o){for(var s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];this._verifyNotCommitted();var h,v=Bv(i,this._firestore);return h="string"==typeof(t=(0,Dr.m9)(t))||t instanceof wp?ZI(this._dataReader,"WriteBatch.update",v._key,t,o,s):qI(this._dataReader,"WriteBatch.update",v._key,t),this._mutations.push(h.toMutation(v._key,Ea.exists(!0))),this},e.prototype.delete=function(i){this._verifyNotCommitted();var t=Bv(i,this._firestore);return this._mutations=this._mutations.concat(new gp(t._key,Ea.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ct(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Bv(e,i){if((e=(0,Dr.m9)(e)).firestore!==i)throw new Ct(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var e_=function(e){function i(t){var o=this;return(o=e.call(this)||this).firestore=t,o}return(0,se.ZT)(i,e),i.prototype.convertBytes=function(t){return new Y0(t)},i.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return new Yo(this.firestore,null,o)},i}(WI);function Jx(e,i,t){e=xi(e,Yo);var o=xi(e.firestore,Ps),s=HA(e.converter,i,t);return J1(o,[BA(Q0(o),"setDoc",e._key,s,null!==e.converter,t).toMutation(e._key,Ea.none())])}function Xx(e,i,t){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];e=xi(e,Yo);var l=xi(e.firestore,Ps),h=Q0(l);return J1(l,[("string"==typeof(i=(0,Dr.m9)(i))||i instanceof wp?ZI(h,"updateDoc",e._key,i,t,o):qI(h,"updateDoc",e._key,i)).toMutation(e._key,Ea.exists(!0))])}function eP(e){for(var i,t,o,s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];e=(0,Dr.m9)(e);var h={includeMetadataChanges:!1},v=0;"object"!=typeof s[v]||rw(s[v])||(h=s[v],v++);var w,D,M,k={includeMetadataChanges:h.includeMetadataChanges};if(rw(s[v])){var H=s[v];s[v]=null===(i=H.next)||void 0===i?void 0:i.bind(H),s[v+1]=null===(t=H.error)||void 0===t?void 0:t.bind(H),s[v+2]=null===(o=H.complete)||void 0===o?void 0:o.bind(H)}if(e instanceof Yo)D=xi(e.firestore,Ps),M=vv(e._key.path),w={next:function(ue){s[v]&&s[v](YI(D,e,ue))},error:s[v+1],complete:s[v+2]};else{var J=xi(e,Dc);D=xi(J.firestore,Ps),M=J._query;var X=new e_(D);w={next:function(ue){s[v]&&s[v](new Lv(D,X,J,ue))},error:s[v+1],complete:s[v+2]},Zx(e._query)}return function(ue,ve,Ne,Ue){var et=this,_t=new NA(Ue),St=new II(ve,_t,Ne);return ue.asyncQueue.enqueueAndForget(function(){return(0,se.mG)(et,void 0,void 0,function(){var Ze;return(0,se.Jh)(this,function(Nn){switch(Nn.label){case 0:return Ze=AI,[4,nw(ue)];case 1:return[2,Ze.apply(void 0,[Nn.sent(),St])]}})})}),function(){_t.Wo(),ue.asyncQueue.enqueueAndForget(function(){return(0,se.mG)(et,void 0,void 0,function(){var Ze;return(0,se.Jh)(this,function(Nn){switch(Nn.label){case 0:return Ze=DI,[4,nw(ue)];case 1:return[2,Ze.apply(void 0,[Nn.sent(),St])]}})})})}}(Qa(D),M,k,w)}function J1(e,i){return function(t,o){var s=this,l=new Du;return t.asyncQueue.enqueueAndForget(function(){return(0,se.mG)(s,void 0,void 0,function(){var h;return(0,se.Jh)(this,function(v){switch(v.label){case 0:return h=gk,[4,BI(t)];case 1:return[2,h.apply(void 0,[v.sent(),o,l])]}})})}),l.promise}(Qa(e),i)}function YI(e,i,t){var o=t.docs.get(i._key),s=new e_(e);return new Ug(e,s,i._key,o,new X0(t.hasPendingWrites,t.fromCache),i.converter)}var iR=function(e){function i(t,o){var s=this;return(s=e.call(this,t,o)||this)._firestore=t,s}return(0,se.ZT)(i,e),i.prototype.get=function(t){var o=this,s=Bv(t,this._firestore),l=new e_(this._firestore);return e.prototype.get.call(this,t).then(function(h){return new Ug(o._firestore,l,s._key,h._document,new X0(!1,!1),s.converter)})},i}(function(){function e(i,t){this._firestore=i,this._transaction=t,this._dataReader=Q0(i)}return e.prototype.get=function(i){var t=this,o=Bv(i,this._firestore),s=new nR(this._firestore);return this._transaction.lookup([o._key]).then(function(l){if(!l||1!==l.length)return vn();var h=l[0];if(h.isFoundDocument())return new Y1(t._firestore,s,h.key,h,o.converter);if(h.isNoDocument())return new Y1(t._firestore,s,o._key,null,o.converter);throw vn()})},e.prototype.set=function(i,t,o){var s=Bv(i,this._firestore),l=HA(s.converter,t,o),h=BA(this._dataReader,"Transaction.set",s._key,l,null!==s.converter,o);return this._transaction.set(s._key,h),this},e.prototype.update=function(i,t,o){for(var s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];var h,v=Bv(i,this._firestore);return h="string"==typeof(t=(0,Dr.m9)(t))||t instanceof wp?ZI(this._dataReader,"Transaction.update",v._key,t,o,s):qI(this._dataReader,"Transaction.update",v._key,t),this._transaction.update(v._key,h),this},e.prototype.delete=function(i){var t=Bv(i,this._firestore);return this._transaction.delete(t._key),this},e}());function tP(){if(typeof Uint8Array>"u")throw new Ct(tt.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nP(){if(typeof atob>"u")throw new Ct(tt.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rP=function(){function e(i){this._delegate=i}return e.fromBase64String=function(i){return nP(),new e(Y0.fromBase64String(i))},e.fromUint8Array=function(i){return tP(),new e(Y0.fromUint8Array(i))},e.prototype.toBase64=function(){return nP(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return tP(),this._delegate.toUint8Array()},e.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),oR=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(i,t){return function(o,s){kx(o=xi(o,Ps));var l=Qa(o),h=o._freezeSettings(),v=new FI;return Nx(l,v,new hx(v,h.cacheSizeBytes,s?.forceOwnership))}(i._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(i){return function(t){kx(t=xi(t,Ps));var o=Qa(t),s=t._freezeSettings(),l=new FI;return Nx(o,l,new Mk(l,s.cacheSizeBytes))}(i._delegate)},e.prototype.clearIndexedDbPersistence=function(i){return function(t){var o=this;if(t._initialized&&!t._terminated)throw new Ct(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var s=new Du;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,se.mG)(o,void 0,void 0,function(){var l;return(0,se.Jh)(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,function(v){return(0,se.mG)(this,void 0,void 0,function(){return(0,se.Jh)(this,function(D){switch(D.label){case 0:return Sv.yt()?[4,Sv.delete(v+"main")]:[2,Promise.resolve()];case 1:return D.sent(),[2]}})})}(ft(t._databaseId,t._persistenceKey))];case 1:return h.sent(),s.resolve(),[3,3];case 2:return l=h.sent(),s.reject(l),[3,3];case 3:return[2]}})})}),s.promise}(i._delegate)},e}(),iP=function(){function e(i,t,o){var s=this;this._delegate=t,this.Zc=o,this.INTERNAL={delete:function(){return s.terminate()}},i instanceof RA||(this.tu=i)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(i){var t=this._delegate._getSettings();i.merge||t.host===i.host||A0("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},t),i)).merge,this._delegate._setSettings(i)},e.prototype.useEmulator=function(i,t,o){void 0===o&&(o={}),function(s,l,h,v){var w;void 0===v&&(v={});var D=(s=xi(s,W1))._getSettings();if("firestore.googleapis.com"!==D.host&&D.host!==l&&A0("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},D),{host:l+":"+h,ssl:!1})),v.mockUserToken){var M,k;if("string"==typeof v.mockUserToken)M=v.mockUserToken,k=Su.MOCK_USER;else{M=(0,Dr.Sg)(v.mockUserToken,null===(w=s._app)||void 0===w?void 0:w.options.projectId);var H=v.mockUserToken.sub||v.mockUserToken.user_id;if(!H)throw new Ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new Su(H)}s._credentials=new Lk(new Cx(M,k))}}(this._delegate,i,t,o)},e.prototype.enableNetwork=function(){return function(i){var t=this;return i.asyncQueue.enqueue(function(){return(0,se.mG)(t,void 0,void 0,function(){var o,s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return[4,vx(i)];case 1:return o=l.sent(),[4,yx(i)];case 2:return s=l.sent(),[2,(o.setNetworkEnabled(!0),h=s,v=Zt(h),v.Or.delete(0),$1(v))]}var h,v})})})}(Qa(xi(this._delegate,Ps)))},e.prototype.disableNetwork=function(){return function(i){var t=this;return i.asyncQueue.enqueue(function(){return(0,se.mG)(t,void 0,void 0,function(){var o,s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return[4,vx(i)];case 1:return o=l.sent(),[4,yx(i)];case 2:return s=l.sent(),[2,(o.setNetworkEnabled(!1),function(h){return(0,se.mG)(this,void 0,void 0,function(){var v;return(0,se.Jh)(this,function(w){switch(w.label){case 0:return(v=Zt(h)).Or.add(0),[4,Qb(v)];case 1:return w.sent(),v.Br.set("Offline"),[2]}})})}(s))]}})})})}(Qa(xi(this._delegate,Ps)))},e.prototype.enablePersistence=function(i){var t=!1,o=!1;return i&&Ex("synchronizeTabs",t=!!i.synchronizeTabs,"experimentalForceOwningTab",o=!!i.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,o)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(i){var t=this,o=new Du;return i.asyncQueue.enqueueAndForget(function(){return(0,se.mG)(t,void 0,void 0,function(){var s;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return s=_k,[4,BI(i)];case 1:return[2,s.apply(void 0,[l.sent(),o])]}})})}),o.promise}(Qa(xi(this._delegate,Ps)))},e.prototype.onSnapshotsInSync=function(i){return o=i,function(s,l){var h=this,v=new NA(l);return s.asyncQueue.enqueueAndForget(function(){return(0,se.mG)(h,void 0,void 0,function(){var w;return(0,se.Jh)(this,function(D){switch(D.label){case 0:return w=function(M,k){Zt(M).Gr.add(k),k.next()},[4,nw(s)];case 1:return[2,w.apply(void 0,[D.sent(),v])]}})})}),function(){v.Wo(),s.asyncQueue.enqueueAndForget(function(){return(0,se.mG)(h,void 0,void 0,function(){var w;return(0,se.Jh)(this,function(D){switch(D.label){case 0:return w=function(M,k){Zt(M).Gr.delete(k)},[4,nw(s)];case 1:return[2,w.apply(void 0,[D.sent(),v])]}})})})}}(Qa(xi(this._delegate,Ps)),rw(o)?o:{next:o});var o},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(i){try{return new GA(this,xx(this._delegate,i))}catch(t){throw Bl(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(i){try{return new t_(this,LA(this._delegate,i))}catch(t){throw Bl(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(i){try{return new tT(this,function(t,o){if(t=xi(t,W1),VI("collectionGroup","collection id",o),o.indexOf("/")>=0)throw new Ct(tt.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Dc(t,null,(s=o,new yh(Gr.emptyPath(),s)));var s}(this._delegate,i))}catch(t){throw Bl(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(i){var o,t=this;return function(l,h){var v=this,w=new Du;return l.asyncQueue.enqueueAndForget(function(){return(0,se.mG)(v,void 0,void 0,function(){var D;return(0,se.Jh)(this,function(M){switch(M.label){case 0:return[4,(k=l,kA(k).then(function(H){return H.datastore}))];case 1:return D=M.sent(),new kk(l.asyncQueue,D,h,w).run(),[2]}var k})})}),w.promise}(Qa(o=this._delegate),function(l){return function(o){return i(new oP(t,o))}(new iR(o,l))})},e.prototype.batch=function(){var i=this;return Qa(this._delegate),new sP(new rR(this._delegate,function(t){return J1(i._delegate,t)}))},e.prototype.loadBundle=function(i){throw new Ct(tt.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(i){throw new Ct(tt.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),qA=function(e){function i(t){var o=this;return(o=e.call(this)||this).firestore=t,o}return(0,se.ZT)(i,e),i.prototype.convertBytes=function(t){return new rP(new Y0(t))},i.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return t_.eu(o,this.firestore,null)},i}(WI),oP=function(){function e(i,t){this._firestore=i,this._delegate=t,this._userDataWriter=new qA(i)}return e.prototype.get=function(i){var t=this,o=n_(i);return this._delegate.get(o).then(function(s){return new X1(t._firestore,new Ug(t._firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,o.converter))})},e.prototype.set=function(i,t,o){var s=n_(i);return o?(jI("Transaction.set",o),this._delegate.set(s,t,o)):this._delegate.set(s,t),this},e.prototype.update=function(i,t,o){for(var s,l=[],h=3;h<arguments.length;h++)l[h-3]=arguments[h];var v=n_(i);return 2===arguments.length?this._delegate.update(v,t):(s=this._delegate).update.apply(s,(0,se.ev)([v,t,o],l)),this},e.prototype.delete=function(i){var t=n_(i);return this._delegate.delete(t),this},e}(),sP=function(){function e(i){this._delegate=i}return e.prototype.set=function(i,t,o){var s=n_(i);return o?(jI("WriteBatch.set",o),this._delegate.set(s,t,o)):this._delegate.set(s,t),this},e.prototype.update=function(i,t,o){for(var s,l=[],h=3;h<arguments.length;h++)l[h-3]=arguments[h];var v=n_(i);return 2===arguments.length?this._delegate.update(v,t):(s=this._delegate).update.apply(s,(0,se.ev)([v,t,o],l)),this},e.prototype.delete=function(i){var t=n_(i);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),ZA=function(){function e(i,t,o){this._firestore=i,this._userDataWriter=t,this._delegate=o}return e.prototype.fromFirestore=function(i,t){var o=new K1(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new eT(this._firestore,o),t??{})},e.prototype.toFirestore=function(i,t){return t?this._delegate.toFirestore(i,t):this._delegate.toFirestore(i)},e.nu=function(i,t){var o=e.su,s=o.get(i);s||o.set(i,s=new WeakMap);var l=s.get(t);return l||(l=new e(i,new qA(i),t),s.set(t,l)),l},e}();ZA.su=new WeakMap;var t_=function(){function e(i,t){this.firestore=i,this._delegate=t,this._userDataWriter=new qA(i)}return e.iu=function(i,t,o){if(i.length%2!=0)throw new Ct(tt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i.canonicalString()+" has "+i.length);return new e(t,new Yo(t._delegate,o,new On(i)))},e.eu=function(i,t,o){return new e(t,new Yo(t._delegate,o,i))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new GA(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(i){try{return new GA(this.firestore,xx(this._delegate,i))}catch(t){throw Bl(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(i){return(i=(0,Dr.m9)(i))instanceof Yo&&Px(this._delegate,i)},e.prototype.set=function(i,t){t=jI("DocumentReference.set",t);try{return t?Jx(this._delegate,i,t):Jx(this._delegate,i)}catch(o){throw Bl(o,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(i,t){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];try{return 1===arguments.length?Xx(this._delegate,i):Xx.apply(void 0,(0,se.ev)([this._delegate,i,t],o))}catch(l){throw Bl(l,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return J1(xi((i=this._delegate).firestore,Ps),[new gp(i._key,Ea.none())]);var i},e.prototype.onSnapshot=function(){for(var i=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var s=aP(t),l=uP(t,function(h){return new X1(i.firestore,new Ug(i.firestore._delegate,i._userDataWriter,h._key,h._document,h.metadata,i._delegate.converter))});return eP(this._delegate,s,l)},e.prototype.get=function(i){var t=this;return("cache"===i?.source?function(o){o=xi(o,Yo);var s=xi(o.firestore,Ps),l=Qa(s),h=new e_(s);return function(v,w){var D=this,M=new Du;return v.asyncQueue.enqueueAndForget(function(){return(0,se.mG)(D,void 0,void 0,function(){var k;return(0,se.Jh)(this,function(H){switch(H.label){case 0:return k=function(J,X,ue){return(0,se.mG)(this,void 0,void 0,function(){var ve,Ne;return(0,se.Jh)(this,function(Ue){switch(Ue.label){case 0:return Ue.trys.push([0,2,,3]),[4,(et=J,_t=X,St=Zt(et),St.persistence.runTransaction("read document","readonly",function(Ze){return St.Mn.mn(Ze,_t)}))];case 1:return(Ne=Ue.sent()).isFoundDocument()?ue.resolve(Ne):Ne.isNoDocument()?ue.resolve(null):ue.reject(new Ct(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return ve=Ue.sent(),Ne=ew(ve,"Failed to get document '"+X+" from cache"),ue.reject(Ne),[3,3];case 3:return[2]}var et,_t,St})})},[4,UI(v)];case 1:return[2,k.apply(void 0,[H.sent(),w,M])]}})})}),M.promise}(l,o._key).then(function(v){return new Ug(s,h,o._key,v,new X0(null!==v&&v.hasLocalMutations,!0),o.converter)})}(this._delegate):"server"===i?.source?function(o){o=xi(o,Yo);var s=xi(o.firestore,Ps);return _x(Qa(s),o._key,{source:"server"}).then(function(l){return YI(s,o,l)})}(this._delegate):function(o){o=xi(o,Yo);var s=xi(o.firestore,Ps);return _x(Qa(s),o._key).then(function(l){return YI(s,o,l)})}(this._delegate)).then(function(o){return new X1(t.firestore,new Ug(t.firestore._delegate,t._userDataWriter,o._key,o._document,o.metadata,t._delegate.converter))})},e.prototype.withConverter=function(i){return new e(this.firestore,this._delegate.withConverter(i?ZA.nu(this.firestore,i):null))},e}();function Bl(e,i,t){return e.message=e.message.replace(i,t),e}function aP(e){for(var i=0,t=e;i<t.length;i++){var o=t[i];if("object"==typeof o&&!rw(o))return o}return{}}function uP(e,i){var t,o,s;return{next:function(l){s.next&&s.next(i(l))},error:null===(t=(s=rw(e[0])?e[0]:rw(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===t?void 0:t.bind(s),complete:null===(o=s.complete)||void 0===o?void 0:o.bind(s)}}var X1=function(){function e(i,t){this._firestore=i,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new t_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(i){return this._delegate.data(i)},e.prototype.get=function(i,t){return this._delegate.get(i,t)},e.prototype.isEqual=function(i){return qx(this._delegate,i._delegate)},e}(),eT=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return(0,se.ZT)(i,e),i.prototype.data=function(t){return this._delegate.data(t)},i}(X1),tT=function(){function e(i,t){this.firestore=i,this._delegate=t,this._userDataWriter=new qA(i)}return e.prototype.where=function(i,t,o){try{return new e(this.firestore,Uv(this._delegate,(h=o,v=t,w=jA("where",s=i),new eR(w,v,h))))}catch(s){throw Bl(s,/(orderBy|where)\(\)/,"Query.$1()")}var s,h,v,w},e.prototype.orderBy=function(i,t){try{return new e(this.firestore,Uv(this._delegate,function(o,s){void 0===s&&(s="asc");var l=s,h=jA("orderBy",o);return new tR(h,l)}(i,t)))}catch(o){throw Bl(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(i){try{return new e(this.firestore,Uv(this._delegate,(Sx("limit",t=i),new Gx("limit",t,"F"))))}catch(t){throw Bl(t,"limit()","Query.limit()")}var t},e.prototype.limitToLast=function(i){try{return new e(this.firestore,Uv(this._delegate,(Sx("limitToLast",t=i),new Gx("limitToLast",t,"L"))))}catch(t){throw Bl(t,"limitToLast()","Query.limitToLast()")}var t},e.prototype.startAt=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];try{return new e(this.firestore,Uv(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new $x("startAt",o,!0)}.apply(void 0,i)))}catch(o){throw Bl(o,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];try{return new e(this.firestore,Uv(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new $x("startAfter",o,!1)}.apply(void 0,i)))}catch(o){throw Bl(o,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];try{return new e(this.firestore,Uv(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new zx("endBefore",o,!0)}.apply(void 0,i)))}catch(o){throw Bl(o,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];try{return new e(this.firestore,Uv(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new zx("endAt",o,!1)}.apply(void 0,i)))}catch(o){throw Bl(o,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(i){return Mx(this._delegate,i._delegate)},e.prototype.get=function(i){var t=this;return("cache"===i?.source?function(o){o=xi(o,Dc);var s=xi(o.firestore,Ps),l=Qa(s),h=new e_(s);return function(v,w){var D=this,M=new Du;return v.asyncQueue.enqueueAndForget(function(){return(0,se.mG)(D,void 0,void 0,function(){var k;return(0,se.Jh)(this,function(H){switch(H.label){case 0:return k=function(J,X,ue){return(0,se.mG)(this,void 0,void 0,function(){var ve,Ne,Ue,et,_t;return(0,se.Jh)(this,function(St){switch(St.label){case 0:return St.trys.push([0,2,,3]),[4,Nv(J,X,!0)];case 1:return _t=St.sent(),ve=new sx(X,_t.Bn),Ne=ve._o(_t.documents),Ue=ve.applyChanges(Ne,!1),ue.resolve(Ue.snapshot),[3,3];case 2:return et=St.sent(),_t=ew(et,"Failed to execute query '"+X+" against cache"),ue.reject(_t),[3,3];case 3:return[2]}})})},[4,UI(v)];case 1:return[2,k.apply(void 0,[H.sent(),w,M])]}})})}),M.promise}(l,o._query).then(function(v){return new Lv(s,h,o,v)})}(this._delegate):"server"===i?.source?function(o){o=xi(o,Dc);var s=xi(o.firestore,Ps),l=Qa(s),h=new e_(s);return bx(l,o._query,{source:"server"}).then(function(v){return new Lv(s,h,o,v)})}(this._delegate):function(o){o=xi(o,Dc);var s=xi(o.firestore,Ps),l=Qa(s),h=new e_(s);return Zx(o._query),bx(l,o._query).then(function(v){return new Lv(s,h,o,v)})}(this._delegate)).then(function(o){return new KI(t.firestore,new Lv(t.firestore._delegate,t._userDataWriter,t._delegate,o._snapshot))})},e.prototype.onSnapshot=function(){for(var i=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var s=aP(t),l=uP(t,function(h){return new KI(i.firestore,new Lv(i.firestore._delegate,i._userDataWriter,i._delegate,h._snapshot))});return eP(this._delegate,s,l)},e.prototype.withConverter=function(i){return new e(this.firestore,this._delegate.withConverter(i?ZA.nu(this.firestore,i):null))},e}(),aR=function(){function e(i,t){this._firestore=i,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new eT(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),KI=function(){function e(i,t){this._firestore=i,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new tT(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var i=this;return this._delegate.docs.map(function(t){return new eT(i._firestore,t)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(i){var t=this;return this._delegate.docChanges(i).map(function(o){return new aR(t._firestore,o)})},e.prototype.forEach=function(i,t){var o=this;this._delegate.forEach(function(s){i.call(t,new eT(o._firestore,s))})},e.prototype.isEqual=function(i){return qx(this._delegate,i._delegate)},e}(),GA=function(e){function i(t,o){var s=this;return(s=e.call(this,t,o)||this).firestore=t,s._delegate=o,s}return(0,se.ZT)(i,e),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new t_(this.firestore,t):null},enumerable:!1,configurable:!0}),i.prototype.doc=function(t){try{return new t_(this.firestore,void 0===t?LA(this._delegate):LA(this._delegate,t))}catch(o){throw Bl(o,"doc()","CollectionReference.doc()")}},i.prototype.add=function(t){var s,l,h,v,w,o=this;return(s=this._delegate,l=t,h=xi(s.firestore,Ps),v=LA(s),w=HA(s.converter,l),J1(h,[BA(Q0(s.firestore),"addDoc",v._key,w,null!==s.converter,{}).toMutation(v._key,Ea.exists(!1))]).then(function(){return v})).then(function(s){return new t_(o.firestore,s)})},i.prototype.isEqual=function(t){return Px(this._delegate,t._delegate)},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?ZA.nu(this.firestore,t):null))},i}(tT);function n_(e){return xi(e,Yo)}var uR=function(){function e(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];this._delegate=new(wp.bind.apply(wp,(0,se.ev)([void 0],i)))}return e.documentId=function(){return new e(Ll.keyField().canonicalString())},e.prototype.isEqual=function(i){return(i=(0,Dr.m9)(i))instanceof wp&&this._delegate._internalPath.isEqual(i._internalPath)},e}(),lR=function(){function e(i){this._delegate=i}return e.serverTimestamp=function(){var i=new zk("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new e(i)},e.delete=function(){var i=new HI("deleteField");return i._methodName="FieldValue.delete",new e(i)},e.arrayUnion=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var o=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return new Wk("arrayUnion",s)}.apply(void 0,i);return o._methodName="FieldValue.arrayUnion",new e(o)},e.arrayRemove=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var o=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return new Yk("arrayRemove",s)}.apply(void 0,i);return o._methodName="FieldValue.arrayRemove",new e(o)},e.increment=function(i){var t=new Kk("increment",i);return t._methodName="FieldValue.increment",new e(t)},e.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},e}(),lP=ae(2461),cR={Firestore:iP,GeoPoint:UA,Timestamp:Fl,Blob:rP,Transaction:oP,WriteBatch:sP,DocumentReference:t_,DocumentSnapshot:X1,Query:tT,QueryDocumentSnapshot:eT,QuerySnapshot:KI,CollectionReference:GA,FieldPath:uR,FieldValue:lR,setLogLevel:function sR(e){Cc.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};!function dR(e){e.INTERNAL.registerComponent(new lP.wA("firestore",function(o){return i=o.getProvider("app").getImmediate(),t=o.getProvider("auth-internal"),new iP(i,new Ps(i,t),new oR);var i,t},"PUBLIC").setServiceProps(Object.assign({},cR))),e.registerVersion("@firebase/firestore","2.4.1")}(Wm.Z);var iw=ae(6451),fR=ae(6063);class hR extends zr.x{constructor(i=1/0,t=1/0,o=fR.l){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:o,_infiniteTimeWindow:s,_timestampProvider:l,_windowTime:h}=this;t||(o.push(i),!s&&o.push(l.now()+h)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:o,_buffer:s}=this,l=s.slice();for(let h=0;h<l.length&&!i.closed;h+=o?1:2)i.next(l[h]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:s}=this,l=(s?1:2)*i;if(i<1/0&&l<o.length&&o.splice(0,o.length-l),!s){const h=t.now();let v=0;for(let w=1;w<o.length&&o[w]<=h;w+=2)v=w;v&&o.splice(0,v+1)}}}var cP=ae(3099);function dP(e,i,t){let o,s=!1;return e&&"object"==typeof e?({bufferSize:o=1/0,windowTime:i=1/0,refCount:s=!1,scheduler:t}=e):o=e??1/0,(0,cP.B)({connector:()=>new hR(o,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function fP(e,i){return(0,Ru.m)(i)?Ui(()=>e,i):Ui(()=>e)}var QI=ae(9468);const ow=new a.OlP("angularfire2.auth.use-emulator"),hP=new a.OlP("angularfire2.auth.settings"),pP=new a.OlP("angularfire2.auth.tenant-id"),gP=new a.OlP("angularfire2.auth.langugage-code"),mP=new a.OlP("angularfire2.auth.use-device-language"),vP=new a.OlP("angularfire.auth.persistence");let JI=(()=>{class e{constructor(t,o,s,l,h,v,w,D,M,k){const H=new jr.HU(l),J=(0,jr.ss)(H),X=new zr.x,ue=dn(void 0).pipe((0,ad.Q)(H.outsideAngular),Ui(()=>l.runOutsideAngular(()=>Promise.resolve().then(ae.bind(ae,7315)))),(0,Kt.U)(()=>(0,jr.on)(t,l,o)),(0,Kt.U)(ve=>l.runOutsideAngular(()=>{const Ne=h,Ue=v;return(0,jr.sI)(`${ve.name}.auth`,"AngularFireAuth",ve,()=>{const et=l.runOutsideAngular(()=>ve.auth());if(Ne&&et.useEmulator(`http://${Ne.join(":")}`),w&&(et.tenantId=w),et.languageCode=D,M&&et.useDeviceLanguage(),Ue)for(const[_t,St]of Object.entries(Ue))et.settings[_t]=St;return k&&et.setPersistence(k),et},[Ne,w,D,M,Ue,k])})),dP({bufferSize:1,refCount:!1}));if(ca(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dn(null);else{ue.pipe(hu()).subscribe();const Ne=ue.pipe(Ui(St=>St.getRedirectResult().then(Ze=>Ze,()=>null)),J,dP({bufferSize:1,refCount:!1})),Ue=St=>new Cs.y(Ze=>({unsubscribe:l.runOutsideAngular(()=>St(Ze))})),et=ue.pipe(Ui(St=>Ue(St.onAuthStateChanged.bind(St)))),_t=ue.pipe(Ui(St=>Ue(St.onIdTokenChanged.bind(St))));this.authState=Ne.pipe(fP(et),(0,QI.R)(H.outsideAngular),(0,ad.Q)(H.insideAngular)),this.user=Ne.pipe(fP(_t),(0,QI.R)(H.outsideAngular),(0,ad.Q)(H.insideAngular)),this.idToken=this.user.pipe(Ui(St=>St?(0,Cr.D)(St.getIdToken()):dn(null))),this.idTokenResult=this.user.pipe(Ui(St=>St?(0,Cr.D)(St.getIdTokenResult()):dn(null))),this.credential=(0,iw.T)(Ne,X,this.authState.pipe(io(St=>!St))).pipe((0,Kt.U)(St=>St?.user?St:null),(0,QI.R)(H.outsideAngular),(0,ad.Q)(H.insideAngular))}return(0,jr.pX)(this,ue,l,{spy:{apply:(ve,Ne,Ue)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&Ue.then(et=>X.next(et))}}})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(jr.Dh),a.LFG(jr.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ow,8),a.LFG(hP,8),a.LFG(pP,8),a.LFG(gP,8),a.LFG(mP,8),a.LFG(vP,8))},e.\u0275prov=a.Yz7({factory:function(){return new e(a.LFG(jr.Dh),a.LFG(jr.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ow,8),a.LFG(hP,8),a.LFG(pP,8),a.LFG(gP,8),a.LFG(mP,8),a.LFG(vP,8))},token:e,providedIn:"any"}),e})(),gR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[JI]}),e})();function yP(e,i){return function mR(e,i=$m.z){return new Cs.y(t=>{let o;return null!=i?i.schedule(()=>{o=e.onSnapshot({includeMetadataChanges:!0},t)}):o=e.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(e,i)}function XI(e,i){return yP(e,i).pipe((0,Kt.U)(t=>({payload:t,type:"query"})))}function $A(e,i){return XI(e,i).pipe(Sd(void 0),rC(),(0,Kt.U)(([t,o])=>{const s=o.payload.docChanges(),l=s.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((h,v)=>{const w=s.find(M=>M.doc.ref.isEqual(h.ref)),D=t?.payload.docs.find(M=>M.ref.isEqual(h.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(h.metadata)||!w&&D&&JSON.stringify(D.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:h}})}),l}))}function _P(e,i,t){return $A(e,t).pipe(pi((o,s)=>function yR(e,i,t){return i.forEach(o=>{t.indexOf(o.type)>-1&&(e=function _R(e,i){switch(i.type){case"added":if(!e[i.newIndex]||!e[i.newIndex].doc.ref.isEqual(i.doc.ref))return e6(e,i.newIndex,0,i);break;case"modified":if(null==e[i.oldIndex]||e[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const t=e.slice();return t.splice(i.oldIndex,1),t.splice(i.newIndex,0,i),t}return e6(e,i.newIndex,1,i)}break;case"removed":if(e[i.oldIndex]&&e[i.oldIndex].doc.ref.isEqual(i.doc.ref))return e6(e,i.oldIndex,1)}return e}(e,o))}),e}(o,s.map(l=>l.payload),i),[]),iC(),(0,Kt.U)(o=>o.map(s=>({type:s.type,payload:s}))))}function e6(e,i,t,...o){const s=e.slice();return s.splice(i,t,...o),s}function bP(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}class wP{constructor(i,t,o){this.ref=i,this.query=t,this.afs=o}stateChanges(i){let t=$A(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(t=t.pipe((0,Kt.U)(o=>o.filter(s=>i.indexOf(s.type)>-1)))),t.pipe(Sd(void 0),rC(),io(([o,s])=>s.length>0||!o),(0,Kt.U)(([o,s])=>s),this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe(pi((t,o)=>[...t,...o],[]))}snapshotChanges(i){const t=bP(i);return _P(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return XI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Kt.U)(t=>t.payload.docs.map(o=>i.idField?Object.assign(Object.assign({},o.data()),{[i.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,Cr.D)(this.query.get(i)).pipe((0,ad.Q)(this.afs.schedulers.insideAngular))}add(i){return this.ref.add(i)}doc(i){return new CP(this.ref.doc(i),this.afs)}}class CP{constructor(i,t){this.ref=i,this.afs=t}set(i,t){return this.ref.set(i,t)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,t){const o=this.ref.collection(i),{ref:s,query:l}=AP(o,t);return new wP(s,l,this.afs)}snapshotChanges(){return function vR(e,i){return yP(e,i).pipe(Sd(void 0),rC(),(0,Kt.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return this.snapshotChanges().pipe((0,Kt.U)(({payload:t})=>i.idField?Object.assign(Object.assign({},t.data()),{[i.idField]:t.id}):t.data()))}get(i){return(0,Cr.D)(this.ref.get(i)).pipe((0,ad.Q)(this.afs.schedulers.insideAngular))}}class bR{constructor(i,t){this.query=i,this.afs=t}stateChanges(i){return i&&0!==i.length?$A(this.query,this.afs.schedulers.outsideAngular).pipe((0,Kt.U)(t=>t.filter(o=>i.indexOf(o.type)>-1)),io(t=>t.length>0),this.afs.keepUnstableUntilFirst):$A(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe(pi((t,o)=>[...t,...o],[]))}snapshotChanges(i){const t=bP(i);return _P(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return XI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Kt.U)(o=>o.payload.docs.map(s=>i.idField?Object.assign({[i.idField]:s.id},s.data()):s.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,Cr.D)(this.query.get(i)).pipe((0,ad.Q)(this.afs.schedulers.insideAngular))}}const t6=new a.OlP("angularfire2.enableFirestorePersistence"),n6=new a.OlP("angularfire2.firestore.persistenceSettings"),TP=new a.OlP("angularfire2.firestore.settings"),EP=new a.OlP("angularfire2.firestore.use-emulator");function AP(e,i=(t=>t)){return{query:i(e),ref:e}}let r6=(()=>{class e{constructor(t,o,s,l,h,v,w,D,M){this.schedulers=new jr.HU(v),this.keepUnstableUntilFirst=(0,jr.ss)(this.schedulers);const k=(0,jr.on)(t,v,o);!zm.Z.auth&&M&&(0,jr.yq)();const H=D;[this.firestore,this.persistenceEnabled$]=(0,jr.sI)(`${k.name}.firestore`,"AngularFirestore",k,()=>{const J=v.runOutsideAngular(()=>k.firestore());if(l&&J.settings(l),H&&J.useEmulator(...H),s&&!ca(h)){const X=()=>{try{return(0,Cr.D)(J.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(ue){return typeof console<"u"&&console.warn(ue),dn(!1)}};return[J,v.runOutsideAngular(X)]}return[J,dn(!1)]},[l,H,s])}collection(t,o){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=AP(s,o),v=this.schedulers.ngZone.run(()=>l);return new wP(v,h,this)}collectionGroup(t,o){const s=o||(h=>h),l=this.firestore.collectionGroup(t);return new bR(s(l),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>o);return new CP(s,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(jr.Dh),a.LFG(jr.xv,8),a.LFG(t6,8),a.LFG(TP,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(n6,8),a.LFG(EP,8),a.LFG(ow,8))},e.\u0275prov=a.Yz7({factory:function(){return new e(a.LFG(jr.Dh),a.LFG(jr.xv,8),a.LFG(t6,8),a.LFG(TP,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(n6,8),a.LFG(EP,8),a.LFG(ow,8))},token:e,providedIn:"any"}),e})(),wR=(()=>{class e{static enablePersistence(t){return{ngModule:e,providers:[{provide:t6,useValue:!0},{provide:n6,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[r6]}),e})();var DP=ae(5032);function SP(e){return null==e}function IP(e){return"function"==typeof e.set}function xP(e,i){return IP(i)?i:e.ref(i)}function PP(e,i){if(function ER(e){return"string"==typeof e}(e))return i.stringCase();if(IP(e))return i.firebaseCase();if(function AR(e){return"function"==typeof e.exportVal}(e))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function nT(e,i,t="on",o=$m.z){return new Cs.y(s=>{let l=null;return l=e[t](i,(h,v)=>{o.schedule(()=>{s.next({snapshot:h,prevKey:v})}),"once"===t&&o.schedule(()=>s.complete())},h=>{o.schedule(()=>s.error(h))}),"on"===t?{unsubscribe(){null!=l&&e.off(i,l)}}:{unsubscribe(){}}}).pipe((0,Kt.U)(s=>{const{snapshot:l,prevKey:h}=s;let v=null;return l.exists()&&(v=l.key),{type:i,payload:l,prevKey:h,key:v}}),(0,cP.B)())}function MP(e,i){const t=e.length;for(let o=0;o<t;o++)if(e[o].payload.key===i)return o;return-1}function IR(e,i){const{payload:t,prevKey:o,key:s}=i,l=MP(e,s),h=function SR(e,i){if(SP(i))return 0;{const t=MP(e,i);return-1===t?e.length:t+1}}(e,o);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let v=null;i.payload.forEach(w=>{const D={payload:w,type:"value",prevKey:v,key:w.key};return v=w.key,e=[...e,D],!1})}return e;case"child_added":if(l>-1){const v=e[l-1];(v&&v.key||null)!==o&&(e=e.filter(w=>w.payload.key!==t.key)).splice(h,0,i)}else{if(null==o)return[i,...e];(e=e.slice()).splice(h,0,i)}return e;case"child_removed":return e.filter(v=>v.payload.key!==t.key);case"child_changed":return e.map(v=>v.payload.key===s?i:v);case"child_moved":if(l>-1){const v=e.splice(l,1)[0];return(e=e.slice()).splice(h,0,v),e}return e;default:return e}}function OP(e){return(SP(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function NP(e,i,t){return function DR(e,i,t){return nT(e,"value","once",t).pipe(Ui(o=>{const s=[dn(o)];return i.forEach(l=>s.push(nT(e,l,"on",t))),(0,iw.T)(...s).pipe(pi(IR,[]))}),iC())}(e,i=OP(i),t)}function kP(e,i,t){const o=(i=OP(i)).map(s=>nT(e,s,"on",t));return(0,iw.T)(...o)}function RP(e,i){return function(o,s){return PP(o,{stringCase:()=>e.child(o)[i](s),firebaseCase:()=>o[i](s),snapshotCase:()=>o.ref[i](s)})}}function OR(e){return function(t){return t?PP(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function FP(e,i){return function(){return nT(e,"value","on",i)}}ae(6089);const LP=new a.OlP("angularfire2.realtimeDatabaseURL"),UP=new a.OlP("angularfire2.database.use-emulator");let zA=(()=>{class e{constructor(t,o,s,l,h,v,w){this.schedulers=new jr.HU(h),this.keepUnstableUntilFirst=(0,jr.ss)(this.schedulers);const D=v,M=(0,jr.on)(t,h,o);!zm.Z.auth&&w&&(0,jr.yq)(),this.database=(0,jr.sI)(`${M.name}.database.${s}`,"AngularFireDatabase",M,()=>{const k=h.runOutsideAngular(()=>M.database(s||void 0));return D&&k.useEmulator(...D),k},[D])}list(t,o){const s=this.schedulers.ngZone.runOutsideAngular(()=>xP(this.database,t));let l=s;return o&&(l=o(s)),function NR(e,i){const t=i.schedulers.outsideAngular,o=i.schedulers.ngZone.run(()=>e.ref);return{query:e,update:RP(o,"update"),set:RP(o,"set"),push:s=>o.push(s),remove:OR(o),snapshotChanges:s=>NP(e,s,t).pipe(i.keepUnstableUntilFirst),stateChanges:s=>kP(e,s,t).pipe(i.keepUnstableUntilFirst),auditTrail:s=>function xR(e,i,t){return function MR(e,i,t){return function PR(e,i){return nT(e,"value","on",i).pipe((0,Kt.U)(t=>{let o;return t.payload.forEach(s=>(o=s.key,!1)),{data:t,lastKeyToLoad:o}}))}(e,t).pipe(function CR(...e){const i=(0,cu.jO)(e);return(0,Oi.e)((t,o)=>{const s=e.length,l=new Array(s);let h=e.map(()=>!1),v=!1;for(let w=0;w<s;w++)(0,fu.Xf)(e[w]).subscribe((0,Mi.x)(o,D=>{l[w]=D,!v&&!h[w]&&(h[w]=!0,(v=h.every(yl.y))&&(h=null))},DP.Z));t.subscribe((0,Mi.x)(o,w=>{if(v){const D=[w,...l];o.next(i?i(...D):D)}}))})}(i),(0,Kt.U)(([s,l])=>{const h=s.lastKeyToLoad,v=l.map(w=>w.key);return{actions:l,lastKeyToLoad:h,loadedKeys:v}}),function TR(e){return(0,Oi.e)((i,t)=>{let o=!1,s=0;i.subscribe((0,Mi.x)(t,l=>(o||(o=!e(l,s++)))&&t.next(l)))})}(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad)),(0,Kt.U)(s=>s.actions))}(e,kP(e,i).pipe(pi((s,l)=>[...s,l],[])),t)}(e,s,t).pipe(i.keepUnstableUntilFirst),valueChanges:(s,l)=>NP(e,s,t).pipe((0,Kt.U)(v=>v.map(w=>l&&l.idField?Object.assign(Object.assign({},w.payload.val()),{[l.idField]:w.key}):w.payload.val())),i.keepUnstableUntilFirst)}}(l,this)}object(t){return function kR(e,i){return{query:e,snapshotChanges:()=>FP(e,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>FP(e,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst,(0,Kt.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>xP(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(jr.Dh),a.LFG(jr.xv,8),a.LFG(LP,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(UP,8),a.LFG(ow,8))},e.\u0275prov=a.Yz7({factory:function(){return new e(a.LFG(jr.Dh),a.LFG(jr.xv,8),a.LFG(LP,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(UP,8),a.LFG(ow,8))},token:e,providedIn:"any"}),e})(),RR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[zA]}),e})();function BP(e,i=$m.z){return(0,Oi.e)((t,o)=>{let s=null,l=null,h=null;const v=()=>{if(s){s.unsubscribe(),s=null;const D=l;l=null,o.next(D)}};function w(){const D=h+e,M=i.now();if(M<D)return s=this.schedule(void 0,D-M),void o.add(s);v()}t.subscribe((0,Mi.x)(o,D=>{l=D,h=i.now(),s||(s=i.schedule(w,e),o.add(s))},()=>{v(),o.complete()},void 0,()=>{l=s=null}))})}var VP="firebasestorage.googleapis.com",jP="storageBucket",ra=function(e){function i(t,o){var s=e.call(this,i6(t),"Firebase Storage: "+o+" ("+i6(t)+")")||this;return s.customData={serverResponse:null},s._baseMessage=s.message,Object.setPrototypeOf(s,i.prototype),s}return(0,se.ZT)(i,e),i.prototype._codeEquals=function(t){return i6(t)===this.code},Object.defineProperty(i.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),i}(Dr.ZR);function i6(e){return"storage/"+e}function o6(){return new ra("unknown","An unknown error occurred, please check the error payload for server response.")}function HP(){return new ra("canceled","User canceled the upload/download.")}function qP(){return new ra("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function sw(e){return new ra("invalid-argument",e)}function ZP(){return new ra("app-deleted","The Firebase app was deleted.")}function GP(e){return new ra("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rT(e,i){return new ra("invalid-format","String does not match format '"+e+"': "+i)}function WA(e){throw new ra("internal-error","Internal error: "+e)}var gf={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},s6=function e(i,t){this.data=i,this.contentType=t||null};function $P(e,i){switch(e){case gf.RAW:return new s6(zP(i));case gf.BASE64:case gf.BASE64URL:return new s6(WP(e,i));case gf.DATA_URL:return new s6(function QR(e){var i=new YP(e);return i.base64?WP(gf.BASE64,i.rest):function KR(e){var i;try{i=decodeURIComponent(e)}catch{throw rT(gf.DATA_URL,"Malformed data URL.")}return zP(i)}(i.rest)}(i),function JR(e){return new YP(e).contentType}(i))}throw o6()}function zP(e){for(var i=[],t=0;t<e.length;t++){var o=e.charCodeAt(t);if(o<=127)i.push(o);else if(o<=2047)i.push(192|o>>6,128|63&o);else if(55296==(64512&o))if(t<e.length-1&&56320==(64512&e.charCodeAt(t+1))){var l=o,h=e.charCodeAt(++t);i.push(240|(o=65536|(1023&l)<<10|1023&h)>>18,128|o>>12&63,128|o>>6&63,128|63&o)}else i.push(239,191,189);else 56320==(64512&o)?i.push(239,191,189):i.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(i)}function WP(e,i){switch(e){case gf.BASE64:var t=-1!==i.indexOf("-"),o=-1!==i.indexOf("_");if(t||o)throw rT(e,"Invalid character '"+(t?"-":"_")+"' found: is it base64url encoded?");break;case gf.BASE64URL:var l=-1!==i.indexOf("+"),h=-1!==i.indexOf("/");if(l||h)throw rT(e,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/")}var v;try{v=function YR(e){return atob(e)}(i)}catch{throw rT(e,"Invalid character found")}for(var w=new Uint8Array(v.length),D=0;D<v.length;D++)w[D]=v.charCodeAt(D);return w}var YP=function e(i){this.base64=!1,this.contentType=null;var t=i.match(/^data:([^,]+)?,/);if(null===t)throw rT(gf.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var o=t[1]||null;null!=o&&(this.base64=function XR(e,i){return e.length>=i.length&&e.substring(e.length-i.length)===i}(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=i.substring(i.indexOf(",")+1)},eF={STATE_CHANGED:"state_changed"},Vl={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function a6(e){switch(e){case"running":case"pausing":case"canceling":return Vl.RUNNING;case"paused":return Vl.PAUSED;case"success":return Vl.SUCCESS;case"canceled":return Vl.CANCELED;default:return Vl.ERROR}}var Vv=(()=>(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Vv||(Vv={})),Vv))(),tF=function(){function e(){var i=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Vv.NO_ERROR,this.sendPromise_=new Promise(function(t){i.xhr_.addEventListener("abort",function(){i.errorCode_=Vv.ABORT,t()}),i.xhr_.addEventListener("error",function(){i.errorCode_=Vv.NETWORK_ERROR,t()}),i.xhr_.addEventListener("load",function(){t()})})}return e.prototype.send=function(i,t,o,s){if(this.sent_)throw WA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,i,!0),void 0!==s)for(var l in s)s.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,s[l].toString());return void 0!==o?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw WA("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw WA("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw WA("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(i){return this.xhr_.getResponseHeader(i)},e.prototype.addUploadProgressListener=function(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)},e.prototype.removeUploadProgressListener=function(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)},e}(),rF=function(){function e(){}return e.prototype.createConnection=function(){return function nF(){return new tF}()},e}(),mf=function(){function e(i,t){this.bucket=i,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(i,t){var o;try{o=e.makeFromUrl(i,t)}catch{return new e(i,"")}if(""===o.path)return o;throw function GR(e){return new ra("invalid-default-bucket","Invalid default bucket '"+e+"'.")}(i)},e.makeFromUrl=function(i,t){var o=null,s="([A-Za-z0-9.\\-_]+)",v=new RegExp("^gs://"+s+"(/(.*))?$","i");function D(Qn){Qn.path_=decodeURIComponent(Qn.path)}for(var k=t.replace(/[.]/g,"\\."),et=[{regex:v,indices:{bucket:1,path:3},postModify:function l(Qn){"/"===Qn.path.charAt(Qn.path.length-1)&&(Qn.path_=Qn.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+k+"/v[A-Za-z0-9_]+/b/"+s+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp("^https?://"+(t===VP?"(?:storage.googleapis.com|storage.cloud.google.com)":t)+"/"+s+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:D}],_t=0;_t<et.length;_t++){var St=et[_t],Ze=St.regex.exec(i);if(Ze){var Ti=Ze[St.indices.path];Ti||(Ti=""),o=new e(Ze[St.indices.bucket],Ti),St.postModify(o);break}}if(null==o)throw function ZR(e){return new ra("invalid-url","Invalid URL '"+e+"'.")}(i);return o},e}(),iF=function(){function e(i){this.promise_=Promise.reject(i)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(i){},e}();function YA(e){return"string"==typeof e||e instanceof String}function KP(e){return u6()&&e instanceof Blob}function u6(){return typeof Blob<"u"}function l6(e,i,t,o){if(o<i)throw sw("Invalid value for '"+e+"'. Expected "+i+" or greater.");if(o>t)throw sw("Invalid value for '"+e+"'. Expected "+t+" or less.")}function jv(e,i){var o=i.match(/^(\w+):\/\/.+/)?.[1],s=i;return null==o&&(s="https://"+i),s+"/v0"+e}function QP(e){var i=encodeURIComponent,t="?";for(var o in e)e.hasOwnProperty(o)&&(t=t+(i(o)+"=")+i(e[o])+"&");return t.slice(0,-1)}var cF=function(){function e(i,t,o,s,l,h,v,w,D,M,k){var H=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=i,this.method_=t,this.headers_=o,this.body_=s,this.successCodes_=l.slice(),this.additionalRetryCodes_=h.slice(),this.callback_=v,this.errorCallback_=w,this.progressCallback_=M,this.timeout_=D,this.pool_=k,this.promise_=new Promise(function(J,X){H.resolve_=J,H.reject_=X,H.start_()})}return e.prototype.start_=function(){var i=this;function o(s,l){var h=i.resolve_,v=i.reject_,w=l.connection;if(l.wasSuccessCode)try{var D=i.callback_(w,w.getResponseText());!function aF(e){return void 0!==e}(D)?h():h(D)}catch(k){v(k)}else if(null!==w)(M=o6()).serverResponse=w.getResponseText(),v(i.errorCallback_?i.errorCallback_(w,M):M);else if(l.canceled)v(M=i.appDelete_?ZP():HP());else{var M;v(M=function qR(){return new ra("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?o(0,new KA(!1,null,!0)):this.backoffId_=function oF(e,i,t){var o=1,s=null,l=!1,h=0;function v(){return 2===h}var w=!1;function D(){for(var X=[],ue=0;ue<arguments.length;ue++)X[ue]=arguments[ue];w||(w=!0,i.apply(null,X))}function M(X){s=setTimeout(function(){s=null,e(k,v())},X)}function k(X){for(var ue=[],ve=1;ve<arguments.length;ve++)ue[ve-1]=arguments[ve];if(!w){if(X)return void D.call.apply(D,(0,se.ev)([null,X],ue));var Ue;if(v()||l)return void D.call.apply(D,(0,se.ev)([null,X],ue));o<64&&(o*=2),1===h?(h=2,Ue=0):Ue=1e3*(o+Math.random()),M(Ue)}}var H=!1;function J(X){H||(H=!0,!w&&(null!==s?(X||(h=2),clearTimeout(s),M(0)):X||(h=1)))}return M(0),setTimeout(function(){l=!0,J(!0)},t),J}(function t(s,l){if(l)s(!1,new KA(!1,null,!0));else{var h=i.pool_.createConnection();i.pendingConnection_=h,null!==i.progressCallback_&&h.addUploadProgressListener(v),h.send(i.url_,i.method_,i.body_,i.headers_).then(function(){null!==i.progressCallback_&&h.removeUploadProgressListener(v),i.pendingConnection_=null;var w=h.getErrorCode()===Vv.NO_ERROR,D=h.getStatus();if(w&&!i.isRetryStatusCode_(D)){var k=-1!==i.successCodes_.indexOf(D);s(!0,new KA(k,h))}else{var M=h.getErrorCode()===Vv.ABORT;s(!1,new KA(!1,null,M))}})}function v(w){null!==i.progressCallback_&&i.progressCallback_(w.loaded,w.lengthComputable?w.total:-1)}},o,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function sF(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(i){var t=i>=500&&i<600,s=-1!==[408,429].indexOf(i),l=-1!==this.additionalRetryCodes_.indexOf(i);return t||s||l},e}(),KA=function e(i,t,o){this.wasSuccessCode=i,this.connection=t,this.canceled=!!o};function mF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vF(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var t=mF();if(void 0!==t){for(var o=new t,s=0;s<e.length;s++)o.append(e[s]);return o.getBlob()}if(u6())return new Blob(e);throw new ra("unsupported-environment","This browser doesn't seem to support creating Blobs")}var c6=function(){function e(i,t){var o=0,s="";KP(i)?(this.data_=i,o=i.size,s=i.type):i instanceof ArrayBuffer?(t?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),o=this.data_.length):i instanceof Uint8Array&&(t?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),o=i.length),this.size_=o,this.type_=s}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(i,t){if(KP(this.data_)){var s=function yF(e,i,t){return e.webkitSlice?e.webkitSlice(i,t):e.mozSlice?e.mozSlice(i,t):e.slice?e.slice(i,t):null}(this.data_,i,t);return null===s?null:new e(s)}return new e(new Uint8Array(this.data_.buffer,i,t-i),!0)},e.getBlob=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];if(u6()){var o=i.map(function(w){return w instanceof e?w.data_:w});return new e(vF.apply(null,o))}var s=i.map(function(w){return YA(w)?$P(gf.RAW,w).data:w.data_}),l=0;s.forEach(function(w){l+=w.byteLength});var h=new Uint8Array(l),v=0;return s.forEach(function(w){for(var D=0;D<w.length;D++)h[v++]=w[D]}),new e(h,!0)},e.prototype.uploadData=function(){return this.data_},e}();function d6(e){var i;try{i=JSON.parse(e)}catch{return null}return function lF(e){return"object"==typeof e&&!Array.isArray(e)}(i)?i:null}function JP(e){var i=e.lastIndexOf("/",e.length-2);return-1===i?e:e.slice(i+1)}function wF(e,i){return i}var jl=function e(i,t,o,s){this.server=i,this.local=t||i,this.writable=!!o,this.xform=s||wF},QA=null;function JA(){if(QA)return QA;var e=[];e.push(new jl("bucket")),e.push(new jl("generation")),e.push(new jl("metageneration")),e.push(new jl("name","fullPath",!0));var t=new jl("name");t.xform=function i(l,h){return function CF(e){return!YA(e)||e.length<2?e:JP(e)}(h)},e.push(t);var s=new jl("size");return s.xform=function o(l,h){return void 0!==h?Number(h):h},e.push(s),e.push(new jl("timeCreated")),e.push(new jl("updated")),e.push(new jl("md5Hash",null,!0)),e.push(new jl("cacheControl",null,!0)),e.push(new jl("contentDisposition",null,!0)),e.push(new jl("contentEncoding",null,!0)),e.push(new jl("contentLanguage",null,!0)),e.push(new jl("contentType",null,!0)),e.push(new jl("metadata","customMetadata",!0)),QA=e}function XP(e,i,t){var o=d6(i);return null===o?null:function EF(e,i,t){for(var o={type:"file"},s=t.length,l=0;l<s;l++){var h=t[l];o[h.local]=h.xform(o,i[h.server])}return function TF(e,i){Object.defineProperty(e,"ref",{get:function t(){var l=new mf(e.bucket,e.fullPath);return i._makeStorageReference(l)}})}(o,e),o}(e,o,t)}function f6(e,i){for(var t={},o=i.length,s=0;s<o;s++){var l=i[s];l.writable&&(t[l.server]=e[l.local])}return JSON.stringify(t)}var eM="prefixes";var Bg=function e(i,t,o,s){this.url=i,this.method=t,this.handler=o,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Cp(e){if(!e)throw o6()}function XA(e,i){return function t(o,s){var l=XP(e,s,i);return Cp(null!==l),l}}function aw(e){return function i(t,o){var s;return s=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?function jR(){return new ra("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function VR(){return new ra("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function BR(e){return new ra("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(e.bucket):403===t.getStatus()?function HR(e){return new ra("unauthorized","User does not have permission to access '"+e+"'.")}(e.path):o,s.serverResponse=o.serverResponse,s}}function eD(e){var i=aw(e);return function t(o,s){var l=i(o,s);return 404===o.getStatus()&&(l=function UR(e){return new ra("object-not-found","Object '"+e+"' does not exist.")}(e.path)),l.serverResponse=s.serverResponse,l}}function nM(e,i,t){var s=jv(i.fullServerUrl(),e.host),h=e.maxOperationRetryTime,v=new Bg(s,"GET",XA(e,t),h);return v.errorHandler=eD(i),v}function PF(e,i,t,o,s){var l={};l.prefix=i.isRoot?"":i.path+"/",t&&t.length>0&&(l.delimiter=t),o&&(l.pageToken=o),s&&(l.maxResults=s);var v=jv(i.bucketOnlyServerUrl(),e.host),D=e.maxOperationRetryTime,M=new Bg(v,"GET",function IF(e,i){return function t(o,s){var l=function SF(e,i,t){var o=d6(t);return null===o?null:function DF(e,i,t){var o={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[eM])for(var s=0,l=t[eM];s<l.length;s++){var v=l[s].replace(/\/$/,""),w=e._makeStorageReference(new mf(i,v));o.prefixes.push(w)}if(t.items)for(var D=0,M=t.items;D<M.length;D++)w=e._makeStorageReference(new mf(i,M[D].name)),o.items.push(w);return o}(e,i,o)}(e,i,s);return Cp(null!==l),l}}(e,i.bucket),D);return M.urlParams=l,M.errorHandler=aw(i),M}function rM(e,i,t){var o=Object.assign({},t);return o.fullPath=e.path,o.size=i.size(),o.contentType||(o.contentType=function kF(e,i){return e&&e.contentType||i&&i.type()||"application/octet-stream"}(null,i)),o}var tD=function e(i,t,o,s){this.current=i,this.total=t,this.finalized=!!o,this.metadata=s||null};function h6(e,i){var t=null;try{t=e.getResponseHeader("X-Goog-Upload-Status")}catch{Cp(!1)}return Cp(!!t&&-1!==(i||["active"]).indexOf(t)),t}var BF=function e(i,t,o){var s=function uF(e){return"function"==typeof e}(i)||null!=t||null!=o;if(s)this.next=i,this.error=t,this.complete=o;else{var l=i;this.next=l.next,this.error=l.error,this.complete=l.complete}};function uw(e){return function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];Promise.resolve().then(function(){return e.apply(void 0,i)})}}var oM=function(){function e(i,t,o){var s=this;void 0===o&&(o=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=t,this._metadata=o,this._mappings=JA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(l){s._request=void 0,s._chunkMultiplier=1,l._codeEquals("canceled")?(s._needToFetchStatus=!0,s.completeTransitions_()):(s._error=l,s._transition("error"))},this._metadataErrorHandler=function(l){s._request=void 0,l._codeEquals("canceled")?s.completeTransitions_():(s._error=l,s._transition("error"))},this._promise=new Promise(function(l,h){s._resolve=l,s._reject=h,s._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var i=this,t=this._transferred;return function(o){return i._updateProgress(t+o)}},e.prototype._shouldDoResumable=function(i){return i.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(i){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(o){var s=o[0],l=o[1];switch(t._state){case"running":i(s,l);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})},e.prototype._createResumable=function(){var i=this;this._resolveToken(function(t,o){var s=function FF(e,i,t,o,s){var l=i.bucketOnlyServerUrl(),h=rM(i,o,s),v={name:h.fullPath},w=jv(l,e.host),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+o.size(),"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},k=f6(h,t),X=new Bg(w,"POST",function J(ue){var ve;h6(ue);try{ve=ue.getResponseHeader("X-Goog-Upload-URL")}catch{Cp(!1)}return Cp(YA(ve)),ve},e.maxUploadRetryTime);return X.urlParams=v,X.headers=M,X.body=k,X.errorHandler=aw(i),X}(i._ref.storage,i._ref._location,i._mappings,i._blob,i._metadata),l=i._ref.storage._makeRequest(s,t,o);i._request=l,l.getPromise().then(function(h){i._request=void 0,i._uploadUrl=h,i._needToFetchStatus=!1,i.completeTransitions_()},i._errorHandler)})},e.prototype._fetchStatus=function(){var i=this,t=this._uploadUrl;this._resolveToken(function(o,s){var l=function LF(e,i,t,o){var w=new Bg(t,"POST",function l(D){var M=h6(D,["active","final"]),k=null;try{k=D.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Cp(!1)}k||Cp(!1);var H=Number(k);return Cp(!isNaN(H)),new tD(H,o.size(),"final"===M)},e.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=aw(i),w}(i._ref.storage,i._ref._location,t,i._blob),h=i._ref.storage._makeRequest(l,o,s);i._request=h,h.getPromise().then(function(v){i._request=void 0,i._updateProgress(v.current),i._needToFetchStatus=!1,v.finalized&&(i._needToFetchMetadata=!0),i.completeTransitions_()},i._errorHandler)})},e.prototype._continueUpload=function(){var i=this,t=262144*this._chunkMultiplier,o=new tD(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken(function(l,h){var v;try{v=function UF(e,i,t,o,s,l,h,v){var w=new tD(0,0);if(h?(w.current=h.current,w.total=h.total):(w.current=0,w.total=o.size()),o.size()!==w.total)throw function zR(){return new ra("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var D=w.total-w.current,M=D;s>0&&(M=Math.min(M,s));var k=w.current,X={"X-Goog-Upload-Command":M===D?"upload, finalize":"upload","X-Goog-Upload-Offset":""+w.current},ue=o.slice(k,k+M);if(null===ue)throw qP();var et=new Bg(t,"POST",function ve(_t,St){var Qn,Ze=h6(_t,["active","final"]),Nn=w.current+M,Ti=o.size();return Qn="final"===Ze?XA(i,l)(_t,St):null,new tD(Nn,Ti,"final"===Ze,Qn)},i.maxUploadRetryTime);return et.headers=X,et.body=ue.uploadData(),et.progressCallback=v||null,et.errorHandler=aw(e),et}(i._ref._location,i._ref.storage,s,i._blob,t,i._mappings,o,i._makeProgressCallback())}catch(D){return i._error=D,void i._transition("error")}var w=i._ref.storage._makeRequest(v,l,h);i._request=w,w.getPromise().then(function(D){i._increaseMultiplier(),i._request=void 0,i._updateProgress(D.current),D.finalized?(i._metadata=D.metadata,i._transition("success")):i.completeTransitions_()},i._errorHandler)})},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var i=this;this._resolveToken(function(t,o){var s=nM(i._ref.storage,i._ref._location,i._mappings),l=i._ref.storage._makeRequest(s,t,o);i._request=l,l.getPromise().then(function(h){i._request=void 0,i._metadata=h,i._transition("success")},i._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var i=this;this._resolveToken(function(t,o){var s=function RF(e,i,t,o,s){var l=i.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},w=function v(){for(var et="",_t=0;_t<2;_t++)et+=Math.random().toString().slice(2);return et}();h["Content-Type"]="multipart/related; boundary="+w;var D=rM(i,o,s),M=f6(D,t),J=c6.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+w+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",o,"\r\n--"+w+"--");if(null===J)throw qP();var X={name:D.fullPath},ue=jv(l,e.host),Ne=e.maxUploadRetryTime,Ue=new Bg(ue,"POST",XA(e,t),Ne);return Ue.urlParams=X,Ue.headers=h,Ue.body=J.uploadData(),Ue.errorHandler=aw(i),Ue}(i._ref.storage,i._ref._location,i._mappings,i._blob,i._metadata),l=i._ref.storage._makeRequest(s,t,o);i._request=l,l.getPromise().then(function(h){i._request=void 0,i._metadata=h,i._updateProgress(i._blob.size()),i._transition("success")},i._errorHandler)})},e.prototype._updateProgress=function(i){var t=this._transferred;this._transferred=i,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=i,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=i,this._notifyObservers();break;case"canceled":this._error=HP(),this._state=i,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var i=a6(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(i,t,o,s){var l=this,h=new BF(t,o,s);return this._addObserver(h),function(){l._removeObserver(h)}},e.prototype.then=function(i,t){return this._promise.then(i,t)},e.prototype.catch=function(i){return this.then(null,i)},e.prototype._addObserver=function(i){this._observers.push(i),this._notifyObserver(i)},e.prototype._removeObserver=function(i){var t=this._observers.indexOf(i);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var i=this;this._finishPromise(),this._observers.slice().forEach(function(o){i._notifyObserver(o)})},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var i=!0;switch(a6(this._state)){case Vl.SUCCESS:uw(this._resolve.bind(null,this.snapshot))();break;case Vl.CANCELED:case Vl.ERROR:uw(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(i){switch(a6(this._state)){case Vl.RUNNING:case Vl.PAUSED:i.next&&uw(i.next.bind(i,this.snapshot))();break;case Vl.SUCCESS:i.complete&&uw(i.complete.bind(i))();break;default:i.error&&uw(i.error.bind(i,this._error))()}},e.prototype.resume=function(){var i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i},e.prototype.pause=function(){var i="running"===this._state;return i&&this._transition("pausing"),i},e.prototype.cancel=function(){var i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i},e}(),nD=function(){function e(i,t){this._service=i,this._location=t instanceof mf?t:mf.makeFromUrl(t,i.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(i,t){return new e(i,t)},Object.defineProperty(e.prototype,"root",{get:function(){var i=new mf(this._location.bucket,"");return this._newRef(this._service,i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return JP(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=function _F(e){if(0===e.length)return null;var i=e.lastIndexOf("/");return-1===i?"":e.slice(0,i)}(this._location.path);if(null===i)return null;var t=new mf(this._location.bucket,i);return new e(this._service,t)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(i){if(""===this._location.path)throw GP(i)},e}();function jF(e){var i={prefixes:[],items:[]};return sM(e,i).then(function(){return i})}function sM(e,i,t){return(0,se.mG)(this,void 0,void 0,function(){var s,l,h;return(0,se.Jh)(this,function(v){switch(v.label){case 0:return[4,aM(e,{pageToken:t})];case 1:return s=v.sent(),(l=i.prefixes).push.apply(l,s.prefixes),(h=i.items).push.apply(h,s.items),null==s.nextPageToken?[3,3]:[4,sM(e,i,s.nextPageToken)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}function aM(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t,o;return(0,se.Jh)(this,function(s){switch(s.label){case 0:return null!=i&&"number"==typeof i.maxResults&&l6("options.maxResults",1,1e3,i.maxResults),o=PF(e.storage,e._location,"/",(t=i||{}).pageToken,t.maxResults),[4,e.storage.makeRequestWithTokens(o)];case 1:return[2,s.sent().getPromise()]}})})}function ZF(e){return(0,se.mG)(this,void 0,void 0,function(){var i;return(0,se.Jh)(this,function(t){switch(t.label){case 0:return e._throwIfRoot("getDownloadURL"),i=function MF(e,i,t){var s=jv(i.fullServerUrl(),e.host),h=e.maxOperationRetryTime,v=new Bg(s,"GET",function xF(e,i){return function t(o,s){var l=XP(e,s,i);return Cp(null!==l),function AF(e,i,t){var o=d6(i);if(null===o||!YA(o.downloadTokens))return null;var s=o.downloadTokens;if(0===s.length)return null;var l=encodeURIComponent;return s.split(",").map(function(w){var M=e.fullPath;return jv("/b/"+l(e.bucket)+"/o/"+l(M),t)+QP({alt:"media",token:w})})[0]}(l,s,e.host)}}(e,t),h);return v.errorHandler=eD(i),v}(e.storage,e._location,JA()),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,t.sent().getPromise().then(function(o){if(null===o)throw function WR(){return new ra("no-download-url","The given file does not have any download URLs.")}();return o})]}})})}function uM(e,i){var t=function bF(e,i){var t=i.split("/").filter(function(o){return o.length>0}).join("/");return 0===e.length?t:e+"/"+t}(e._location.path,i),o=new mf(e._location.bucket,t);return new nD(e.storage,o)}function p6(e){return/^[A-Za-z]+:\/\//.test(e)}function lM(e,i){if(e instanceof rD){var t=e;if(null==t._bucket)throw function $R(){return new ra("no-default-bucket","No default bucket found. Did you set the '"+jP+"' property when initializing the app?")}();var o=new nD(t,t._bucket);return null!=i?lM(o,i):o}return void 0!==i?uM(e,i):e}function zF(e,i){if(i&&p6(i)){if(e instanceof rD)return function $F(e,i){return new nD(e,i)}(e,i);throw sw("To use ref(service, url), the first argument must be a Storage instance.")}return lM(e,i)}function cM(e,i){var t=i?.[jP];return null==t?null:mf.makeFromBucketSpec(t,e)}var rD=function(){function e(i,t,o,s,l,h){this.app=i,this._authProvider=t,this._appCheckProvider=o,this._pool=s,this._url=l,this._firebaseVersion=h,this._bucket=null,this._host=VP,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=l?mf.makeFromBucketSpec(l,this._host):cM(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(i){this._host=i,this._bucket=null!=this._url?mf.makeFromBucketSpec(this._url,i):cM(i,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(i){l6("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(i){l6("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,se.mG)(this,void 0,void 0,function(){var i,t;return(0,se.Jh)(this,function(o){switch(o.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(i=this._authProvider.getImmediate({optional:!0}))?[4,i.getToken()]:[3,2];case 1:if(null!==(t=o.sent()))return[2,t.accessToken];o.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return(0,se.mG)(this,void 0,void 0,function(){var i;return(0,se.Jh)(this,function(o){switch(o.label){case 0:return(i=this._appCheckProvider.getImmediate({optional:!0}))?[4,i.getToken()]:[3,2];case 1:return[2,o.sent().token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(i){return i.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(i){return new nD(this,i)},e.prototype._makeRequest=function(i,t,o){var s=this;if(this._deleted)return new iF(ZP());var l=function gF(e,i,t,o,s,l){var h=QP(e.urlParams),v=e.url+h,w=Object.assign({},e.headers);return function hF(e,i){i&&(e["X-Firebase-GMPID"]=i)}(w,i),function dF(e,i){null!==i&&i.length>0&&(e.Authorization="Firebase "+i)}(w,t),function fF(e,i){e["X-Firebase-Storage-Version"]="webjs/"+(i??"AppManager")}(w,l),function pF(e,i){null!==i&&(e["X-Firebase-AppCheck"]=i)}(w,o),new cF(v,e.method,w,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s)}(i,this._appId,t,o,this._pool,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(function(){return s._requests.delete(l)},function(){return s._requests.delete(l)}),l},e.prototype.makeRequestWithTokens=function(i){return(0,se.mG)(this,void 0,void 0,function(){var t;return(0,se.Jh)(this,function(l){switch(l.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=l.sent(),[2,this._makeRequest(i,t[0],t[1])]}})})},e}();function dM(e,i){return zF(e=(0,Dr.m9)(e),i)}var iD=function(){function e(i,t,o){this._delegate=i,this.task=t,this.ref=o}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),fM=function(){function e(i,t){this._delegate=i,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new iD(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(i,t){var o=this;return this._delegate.then(function(s){if(i)return i(new iD(s,o,o._ref))},t)},e.prototype.on=function(i,t,o,s){var l=this,h=void 0;return t&&(h="function"==typeof t?function(v){return t(new iD(v,l,l._ref))}:{next:t.next?function(v){return t.next(new iD(v,l,l._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(i,h,o||void 0,s||void 0)},e}(),hM=function(){function e(i,t){this._delegate=i,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var i=this;return this._delegate.prefixes.map(function(t){return new iT(t,i._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var i=this;return this._delegate.items.map(function(t){return new iT(t,i._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),iT=function(){function e(i,t){this._delegate=i,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(i){var t=function n4(e,i){return uM(e,i)}(this._delegate,i);return new e(t,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=this._delegate.parent;return null==i?null:new e(i,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(i,t){return this._throwIfRoot("put"),new fM(function YF(e,i,t){return function VF(e,i,t){return e._throwIfRoot("uploadBytesResumable"),new oM(e,new c6(i),t)}(e=(0,Dr.m9)(e),i,t)}(this._delegate,i,t),this)},e.prototype.putString=function(i,t,o){void 0===t&&(t=gf.RAW),this._throwIfRoot("putString");var s=$P(t,i),l=(0,se.pi)({},o);return null==l.contentType&&null!=s.contentType&&(l.contentType=s.contentType),new fM(new oM(this._delegate,new c6(s.data,!0),l),this)},e.prototype.listAll=function(){var i=this;return function XF(e){return jF(e=(0,Dr.m9)(e))}(this._delegate).then(function(t){return new hM(t,i.storage)})},e.prototype.list=function(i){var t=this;return function JF(e,i){return aM(e=(0,Dr.m9)(e),i)}(this._delegate,i||void 0).then(function(o){return new hM(o,t.storage)})},e.prototype.getMetadata=function(){return function KF(e){return function HF(e){return(0,se.mG)(this,void 0,void 0,function(){var i;return(0,se.Jh)(this,function(t){switch(t.label){case 0:return e._throwIfRoot("getMetadata"),i=nM(e.storage,e._location,JA()),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,t.sent().getPromise()]}})})}(e=(0,Dr.m9)(e))}(this._delegate)},e.prototype.updateMetadata=function(i){return function QF(e,i){return function qF(e,i){return(0,se.mG)(this,void 0,void 0,function(){var t;return(0,se.Jh)(this,function(o){switch(o.label){case 0:return e._throwIfRoot("updateMetadata"),t=function OF(e,i,t,o){var l=jv(i.fullServerUrl(),e.host),v=f6(t,o),D=e.maxOperationRetryTime,M=new Bg(l,"PATCH",XA(e,o),D);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=v,M.errorHandler=eD(i),M}(e.storage,e._location,i,JA()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,o.sent().getPromise()]}})})}(e=(0,Dr.m9)(e),i)}(this._delegate,i)},e.prototype.getDownloadURL=function(){return function e4(e){return ZF(e=(0,Dr.m9)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function t4(e){return function GF(e){return(0,se.mG)(this,void 0,void 0,function(){var i;return(0,se.Jh)(this,function(t){switch(t.label){case 0:return e._throwIfRoot("deleteObject"),i=function NF(e,i){var o=jv(i.fullServerUrl(),e.host),v=new Bg(o,"DELETE",function h(w,D){},e.maxOperationRetryTime);return v.successCodes=[200,204],v.errorHandler=eD(i),v}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,t.sent().getPromise()]}})})}(e=(0,Dr.m9)(e))}(this._delegate)},e.prototype._throwIfRoot=function(i){if(""===this._delegate._location.path)throw GP(i)},e}(),i4=function(){function e(i,t){this.app=i,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(i){if(p6(i))throw sw("ref() expected a child path but got a URL, use refFromURL instead.");return new iT(dM(this._delegate,i),this)},e.prototype.refFromURL=function(i){if(!p6(i))throw sw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{mf.makeFromUrl(i,this._delegate.host)}catch{throw sw("refFromUrl() expected a valid full URL but got an invalid one.")}return new iT(dM(this._delegate,i),this)},e.prototype.setMaxUploadRetryTime=function(i){this._delegate.maxUploadRetryTime=i},e.prototype.setMaxOperationRetryTime=function(i){this._delegate.maxOperationRetryTime=i},e.prototype.useEmulator=function(i,t,o){void 0===o&&(o={}),function r4(e,i,t,o){void 0===o&&(o={}),function WF(e,i,t,o){void 0===o&&(o={}),e.host="http://"+i+":"+t;var s=o.mockUserToken;s&&(e._overrideAuthToken="string"==typeof s?s:(0,Dr.Sg)(s,e.app.options.projectId))}(e,i,t,o)}(this._delegate,i,t,o)},e}();function u4(e,i){var t=i.instanceIdentifier,o=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return new i4(o,new rD(o,s,l,new rF,t,Wm.Z.SDK_VERSION))}function pM(e){const i=function c4(e){return new Cs.y(i=>{const t=h=>i.next(h);t(e.snapshot);const l=e.on("state_changed",t);return e.then(h=>{t(h),i.complete()},h=>{t(e.snapshot),(h=>{i.error(h)})(h)}),function(){l()}}).pipe(BP(0))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,Kt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function oD(e,i,t){return{getDownloadURL:()=>dn(void 0).pipe((0,ad.Q)(i.outsideAngular),Ui(()=>e.getDownloadURL()),t),getMetadata:()=>dn(void 0).pipe((0,ad.Q)(i.outsideAngular),Ui(()=>e.getMetadata()),t),delete:()=>(0,Cr.D)(e.delete()),child:o=>oD(e.child(o),i,t),updateMetadata:o=>(0,Cr.D)(e.updateMetadata(o)),put:(o,s)=>pM(e.put(o,s)),putString:(o,s,l)=>pM(e.putString(o,s,l)),listAll:()=>(0,Cr.D)(e.listAll())}}!function l4(e){var i={TaskState:Vl,TaskEvent:eF,StringFormat:gf,Storage:rD,Reference:iT};e.INTERNAL.registerComponent(new lP.wA("storage",u4,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(Wm.Z);const gM=new a.OlP("angularfire2.storageBucket"),mM=new a.OlP("angularfire2.storage.maxUploadRetryTime"),vM=new a.OlP("angularfire2.storage.maxOperationRetryTime");let oT=(()=>{class e{constructor(t,o,s,l,h,v,w){this.schedulers=new jr.HU(h),this.keepUnstableUntilFirst=(0,jr.ss)(this.schedulers);const D=(0,jr.on)(t,h,o);this.storage=(0,jr.sI)(`${D.name}.storage.${s}`,"AngularFireStorage",D,()=>{const M=h.runOutsideAngular(()=>D.storage(s||void 0));return v&&M.setMaxUploadRetryTime(v),w&&M.setMaxOperationRetryTime(w),M},[v,w])}ref(t){return oD(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return oD(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,o,s){return oD(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(o,s)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(jr.Dh),a.LFG(jr.xv,8),a.LFG(gM,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(mM,8),a.LFG(vM,8))},e.\u0275prov=a.Yz7({factory:function(){return new e(a.LFG(jr.Dh),a.LFG(jr.xv,8),a.LFG(gM,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(mM,8),a.LFG(vM,8))},token:e,providedIn:"any"}),e})(),d4=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({}),e})(),f4=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[oT],imports:[d4]}),e})(),Hl=(()=>{class e{constructor(t,o,s){this.db=t,this.dbupload=o,this.storage=s,this.dbpath="/addproduct",this.db2path="/catlist",this.dbproduct="/BuyProducts",this.basePath="/uploads",this.base2Path="/loginphoto",this.addStore="/addStores",this.addExpert="/addExperter",this.addSaleBill="/SaleBill",this.dtTrigger=new zr.x,this.store=t.collection(this.dbpath),this.Catlist=t.collection(this.db2path),this.Image=t.collection(this.basePath),this.loginPhoto=t.collection(this.base2Path),this.buyproduct=t.collection(this.dbproduct),this.AddStores=t.collection(this.addStore),this.AddExperter=t.collection(this.addExpert),this.SaleBill=t.collection(this.addSaleBill)}addproduct(t){return this.store.add({...t}).then(o=>{t.id=o.id,this.update(o.id,t)})}addStores(t){return this.AddStores.add({...t}).then(o=>{t.id=o.id,this.updateStore(o.id,t)})}getstoreid(t){return this.store.doc(t)}addExperter(t){return this.AddExperter.add({...t}).then(o=>{t.id=o.id,this.updateExperter(o.id,t)})}addBuyProduct(t){return this.buyproduct.add({...t}).then(o=>{t.id=o.id,this.updateBuyproduct(o.id,t)})}addSale(t){return this.SaleBill.add({...t}).then(o=>{t.id=o.id,this.UpdateSaleProduct(o.id,t)})}addCatlist(t){return this.Catlist.add({...t})}getAllCat(){return this.Catlist}getBuyProduct(){return this.buyproduct}getSaleProduct(){return this.SaleBill}getAllStore(){return this.AddStores}getAllExperter(){return this.AddExperter}getAllProduct(){return this.store}getoneProduct(t){return new Promise(o=>{this.db.collection(this.dbpath,s=>s.where("productname","==",t)).valueChanges().subscribe(s=>{o(s),console.log(s)})})}getProductByMail(t){return this.db.collection(this.dbpath,o=>o.where("email","==",t)).valueChanges()}getBuyProductByMail(t){return this.db.collection(this.dbproduct,o=>o.where("useremail","==",t)).valueChanges()}getSaleProductByMail(t){return this.db.collection(this.addSaleBill,o=>o.where("useremail","==",t)).valueChanges()}getStoreByMail(t){return this.db.collection(this.addStore,o=>o.where("useremail","==",t)).valueChanges()}getExperterByMail(t){return this.db.collection(this.addExpert,o=>o.where("useremail","==",t)).valueChanges()}getoneProductbyMount(){return new Promise(t=>{this.db.collection(this.dbpath,o=>o.where("mount",">",0)).valueChanges().subscribe(o=>{t(o),console.log(o)})})}getStoreById(t){return this.AddStores.doc(t).valueChanges()}getExpertById(t){return this.AddExperter.doc(t).valueChanges()}getBuyProductById(t){return this.buyproduct.doc(t).valueChanges()}getSaleProductById(t){return this.SaleBill.doc(t).valueChanges()}update(t,o){return this.store.doc(t).update(o)}updateStore(t,o){return this.AddStores.doc(t).update(o)}updateExperter(t,o){return this.AddExperter.doc(t).update(o)}updateProduct(t,o){return this.store.doc(t).update(o)}updateBuyproduct(t,o){return this.buyproduct.doc(t).update(o)}UpdateSaleProduct(t,o){return this.SaleBill.doc(t).update(o)}delete(t){return this.store.doc(t).delete()}deleteBuyProduct(t){return this.buyproduct.doc(t).delete()}deleteSaleProduct(t){return this.SaleBill.doc(t).delete()}filterBy(t){return new Promise(o=>{this.db.collection(this.dbpath,s=>s.where("store","==",t)).valueChanges().subscribe(s=>{o(s),console.log(s)})})}filterByExperet(t){return new Promise(o=>{this.db.collection(this.dbpath,s=>s.where("Expertname","==",t)).valueChanges().subscribe(s=>{o(s),console.log(s)})})}getProductByCategoty(t){return new Promise(o=>{this.db.collection(this.dbpath,s=>s.where("productcat","==",t)).valueChanges().subscribe(s=>{o(s),console.log(s)})})}getProductname(t){return this.db.collection(this.dbpath,o=>o.where("productname","==",t)).get()}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(r6),a.LFG(zA),a.LFG(oT))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function lw(e){return(0,Oi.e)((i,t)=>{(0,fu.Xf)(e).subscribe((0,Mi.x)(t,()=>t.complete(),DP.Z)),!t.closed&&i.subscribe(t)})}var p4=ae(3532);function v4(e,i=$m.z){return function h4(e){return(0,Oi.e)((i,t)=>{let o=!1,s=null,l=null,h=!1;const v=()=>{if(l?.unsubscribe(),l=null,o){o=!1;const D=s;s=null,t.next(D)}h&&t.complete()},w=()=>{l=null,h&&t.complete()};i.subscribe((0,Mi.x)(t,D=>{o=!0,s=D,l||(0,fu.Xf)(e(D)).subscribe(l=(0,Mi.x)(t,v,w))},()=>{h=!0,(!o||!l||l.closed)&&t.complete()}))})}(()=>function m4(e=0,i,t=$m.P){let o=-1;return null!=i&&((0,p4.K)(i)?t=i:o=i),new Cs.y(s=>{let l=function g4(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;l<0&&(l=0);let h=0;return t.schedule(function(){s.closed||(s.next(h++),0<=o?this.schedule(void 0,o):s.complete())},l)})}(e,i))}var yM=ae(4408);const sT={schedule(e){let i=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=sT;o&&(i=o.requestAnimationFrame,t=o.cancelAnimationFrame);const s=i(l=>{t=void 0,e(l)});return new Ts.w0(()=>t?.(s))},requestAnimationFrame(...e){const{delegate:i}=sT;return(i?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:i}=sT;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var _M=ae(7565);const b4=new class _4 extends _M.v{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let s;i=i||o.shift();do{if(s=i.execute(i.state,i.delay))break}while((i=o[0])&&i.id===t&&o.shift());if(this._active=!1,s){for(;(i=o[0])&&i.id===t&&o.shift();)i.unsubscribe();throw s}}}(class y4 extends yM.o{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,o=0){return null!==o&&o>0?super.requestAsyncId(i,t,o):(i.actions.push(this),i._scheduled||(i._scheduled=sT.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,t,o=0){var s;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(i,t,o);const{actions:l}=i;null!=t&&(null===(s=l[l.length-1])||void 0===s?void 0:s.id)!==t&&(sT.cancelAnimationFrame(t),i._scheduled=void 0)}});let g6,w4=1;const sD={};function bM(e){return e in sD&&(delete sD[e],!0)}const C4={setImmediate(e){const i=w4++;return sD[i]=!0,g6||(g6=Promise.resolve()),g6.then(()=>bM(i)&&e()),i},clearImmediate(e){bM(e)}},{setImmediate:T4,clearImmediate:E4}=C4,aD={setImmediate(...e){const{delegate:i}=aD;return(i?.setImmediate||T4)(...e)},clearImmediate(e){const{delegate:i}=aD;return(i?.clearImmediate||E4)(e)},delegate:void 0},S4=new class D4 extends _M.v{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let s;i=i||o.shift();do{if(s=i.execute(i.state,i.delay))break}while((i=o[0])&&i.id===t&&o.shift());if(this._active=!1,s){for(;(i=o[0])&&i.id===t&&o.shift();)i.unsubscribe();throw s}}}(class A4 extends yM.o{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,o=0){return null!==o&&o>0?super.requestAsyncId(i,t,o):(i.actions.push(this),i._scheduled||(i._scheduled=aD.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,t,o=0){var s;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(i,t,o);const{actions:l}=i;null!=t&&(null===(s=l[l.length-1])||void 0===s?void 0:s.id)!==t&&(aD.clearImmediate(t),i._scheduled=void 0)}});var I4=ae(1144);const x4=["addListener","removeListener"],P4=["addEventListener","removeEventListener"],M4=["on","off"];function cw(e,i,t,o){if((0,Ru.m)(t)&&(o=t,t=void 0),o)return cw(e,i,t).pipe(Mh(o));const[s,l]=function k4(e){return(0,Ru.m)(e.addEventListener)&&(0,Ru.m)(e.removeEventListener)}(e)?P4.map(h=>v=>e[h](i,v,t)):function O4(e){return(0,Ru.m)(e.addListener)&&(0,Ru.m)(e.removeListener)}(e)?x4.map(wM(e,i)):function N4(e){return(0,Ru.m)(e.on)&&(0,Ru.m)(e.off)}(e)?M4.map(wM(e,i)):[];if(!s&&(0,I4.z)(e))return(0,si.z)(h=>cw(h,i,t))((0,fu.Xf)(e));if(!s)throw new TypeError("Invalid event target");return new Cs.y(h=>{const v=(...w)=>h.next(1<w.length?w:w[0]);return s(v),()=>l(v)})}function wM(e,i){return t=>o=>e[t](i,o)}const R4=["content"],F4=["scroll"],L4=["padding"],aT=function(e){return{searchTerm:e}};function U4(e,i){if(1&e&&(a.TgZ(0,"div",6),a.GkF(1,7),a.qZA()),2&e){const t=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",a.VKq(2,aT,t.filterValue))}}function B4(e,i){if(1&e&&(a.TgZ(0,"div",8),a.GkF(1,7),a.qZA()),2&e){const t=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",a.VKq(2,aT,t.filterValue))}}const CM=["*"],V4=["searchInput"];function j4(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"span",15),a.NdJ("click",function(){a.CHM(t);const s=a.oxw().$implicit,l=a.oxw(2);return a.KtG(l.unselect(s))}),a._uU(1,"\xd7"),a.qZA(),a._UZ(2,"span",16)}if(2&e){const t=a.oxw().$implicit,o=a.oxw(2);a.xp6(2),a.Q6J("ngItemLabel",t.label)("escape",o.escapeHTML)}}function H4(e,i){}const q4=function(e,i,t){return{item:e,clear:i,label:t}};function Z4(e,i){if(1&e&&(a.TgZ(0,"div",12),a.YNc(1,j4,3,2,"ng-template",null,13,a.W1O),a.YNc(3,H4,0,0,"ng-template",14),a.qZA()),2&e){const t=i.$implicit,o=a.MAs(2),s=a.oxw(2);a.ekj("ng-value-disabled",t.disabled),a.xp6(3),a.Q6J("ngTemplateOutlet",s.labelTemplate||o)("ngTemplateOutletContext",a.kEZ(4,q4,t.value,s.clearItem,t.label))}}function G4(e,i){if(1&e&&(a.ynx(0),a.YNc(1,Z4,4,8,"div",11),a.BQk()),2&e){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByOption)}}function $4(e,i){}const z4=function(e,i){return{items:e,clear:i}};function W4(e,i){if(1&e&&a.YNc(0,$4,0,0,"ng-template",14),2&e){const t=a.oxw();a.Q6J("ngTemplateOutlet",t.multiLabelTemplate)("ngTemplateOutletContext",a.WLB(2,z4,t.selectedValues,t.clearItem))}}function Y4(e,i){1&e&&a._UZ(0,"div",19)}function K4(e,i){}function Q4(e,i){if(1&e&&(a.ynx(0),a.YNc(1,Y4,1,0,"ng-template",null,17,a.W1O),a.YNc(3,K4,0,0,"ng-template",18),a.BQk()),2&e){const t=a.MAs(2),o=a.oxw();a.xp6(3),a.Q6J("ngTemplateOutlet",o.loadingSpinnerTemplate||t)}}function J4(e,i){if(1&e&&(a.TgZ(0,"span",20)(1,"span",21),a._uU(2,"\xd7"),a.qZA()()),2&e){const t=a.oxw();a.s9C("title",t.clearAllText)}}function X4(e,i){if(1&e&&a._UZ(0,"span",27),2&e){const t=a.oxw().$implicit,o=a.oxw(2);a.Q6J("ngItemLabel",t.label)("escape",o.escapeHTML)}}function e3(e,i){}const t3=function(e,i,t,o){return{item:e,item$:i,index:t,searchTerm:o}};function n3(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div",25),a.NdJ("click",function(){const l=a.CHM(t).$implicit,h=a.oxw(2);return a.KtG(h.toggleItem(l))})("mouseover",function(){const l=a.CHM(t).$implicit,h=a.oxw(2);return a.KtG(h.onItemHover(l))}),a.YNc(1,X4,1,2,"ng-template",null,26,a.W1O),a.YNc(3,e3,0,0,"ng-template",14),a.qZA()}if(2&e){const t=i.$implicit,o=a.MAs(2),s=a.oxw(2);a.ekj("ng-option-disabled",t.disabled)("ng-option-selected",t.selected)("ng-optgroup",t.children)("ng-option",!t.children)("ng-option-child",!!t.parent)("ng-option-marked",t===s.itemsList.markedItem),a.uIk("role",t.children?"group":"option")("aria-selected",t.selected)("id",null==t?null:t.htmlId),a.xp6(3),a.Q6J("ngTemplateOutlet",t.children?s.optgroupTemplate||o:s.optionTemplate||o)("ngTemplateOutletContext",a.l5B(17,t3,t.value,t,t.index,s.searchTerm))}}function r3(e,i){if(1&e&&(a.TgZ(0,"span")(1,"span",30),a._uU(2),a.qZA(),a._uU(3),a.qZA()),2&e){const t=a.oxw(3);a.xp6(2),a.Oqu(t.addTagText),a.xp6(1),a.hij('"',t.searchTerm,'"')}}function o3(e,i){}function s3(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div",28),a.NdJ("mouseover",function(){a.CHM(t);const s=a.oxw(2);return a.KtG(s.itemsList.unmarkItem())})("click",function(){a.CHM(t);const s=a.oxw(2);return a.KtG(s.selectTag())}),a.YNc(1,r3,4,2,"ng-template",null,29,a.W1O),a.YNc(3,o3,0,0,"ng-template",14),a.qZA()}if(2&e){const t=a.MAs(2),o=a.oxw(2);a.ekj("ng-option-marked",!o.itemsList.markedItem),a.xp6(3),a.Q6J("ngTemplateOutlet",o.tagTemplate||t)("ngTemplateOutletContext",a.VKq(4,aT,o.searchTerm))}}function a3(e,i){if(1&e&&(a.TgZ(0,"div",32),a._uU(1),a.qZA()),2&e){const t=a.oxw(3);a.xp6(1),a.Oqu(t.notFoundText)}}function u3(e,i){}function l3(e,i){if(1&e&&(a.ynx(0),a.YNc(1,a3,2,1,"ng-template",null,31,a.W1O),a.YNc(3,u3,0,0,"ng-template",14),a.BQk()),2&e){const t=a.MAs(2),o=a.oxw(2);a.xp6(3),a.Q6J("ngTemplateOutlet",o.notFoundTemplate||t)("ngTemplateOutletContext",a.VKq(2,aT,o.searchTerm))}}function c3(e,i){if(1&e&&(a.TgZ(0,"div",32),a._uU(1),a.qZA()),2&e){const t=a.oxw(3);a.xp6(1),a.Oqu(t.typeToSearchText)}}function d3(e,i){}function f3(e,i){if(1&e&&(a.ynx(0),a.YNc(1,c3,2,1,"ng-template",null,33,a.W1O),a.YNc(3,d3,0,0,"ng-template",18),a.BQk()),2&e){const t=a.MAs(2),o=a.oxw(2);a.xp6(3),a.Q6J("ngTemplateOutlet",o.typeToSearchTemplate||t)}}function h3(e,i){if(1&e&&(a.TgZ(0,"div",32),a._uU(1),a.qZA()),2&e){const t=a.oxw(3);a.xp6(1),a.Oqu(t.loadingText)}}function p3(e,i){}function g3(e,i){if(1&e&&(a.ynx(0),a.YNc(1,h3,2,1,"ng-template",null,34,a.W1O),a.YNc(3,p3,0,0,"ng-template",14),a.BQk()),2&e){const t=a.MAs(2),o=a.oxw(2);a.xp6(3),a.Q6J("ngTemplateOutlet",o.loadingTextTemplate||t)("ngTemplateOutletContext",a.VKq(2,aT,o.searchTerm))}}function m3(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"ng-dropdown-panel",22),a.NdJ("update",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l.viewPortItems=s)})("scroll",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l.scroll.emit(s))})("scrollToEnd",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l.scrollToEnd.emit(s))})("outsideClick",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.close())}),a.ynx(1),a.YNc(2,n3,4,22,"div",23),a.YNc(3,s3,4,6,"div",24),a.BQk(),a.YNc(4,l3,4,4,"ng-container",3),a.YNc(5,f3,4,1,"ng-container",3),a.YNc(6,g3,4,4,"ng-container",3),a.qZA()}if(2&e){const t=a.oxw();a.ekj("ng-select-multiple",t.multiple),a.Q6J("virtualScroll",t.virtualScroll)("bufferAmount",t.bufferAmount)("appendTo",t.appendTo)("position",t.dropdownPosition)("headerTemplate",t.headerTemplate)("footerTemplate",t.footerTemplate)("filterValue",t.searchTerm)("items",t.itemsList.filteredItems)("markedItem",t.itemsList.markedItem)("ngClass",t.appendTo?t.classes:null)("id",t.dropdownId),a.xp6(2),a.Q6J("ngForOf",t.viewPortItems)("ngForTrackBy",t.trackByOption),a.xp6(1),a.Q6J("ngIf",t.showAddTag),a.xp6(1),a.Q6J("ngIf",t.showNoItemsFound()),a.xp6(1),a.Q6J("ngIf",t.showTypeToSearch()),a.xp6(1),a.Q6J("ngIf",t.loading&&0===t.itemsList.filteredItems.length)}}const TM=/[&<>"']/g,v3=RegExp(TM.source),y3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ms(e){return null!=e}function uT(e){return"object"==typeof e&&Ms(e)}function uD(e){return e instanceof Function}let w3=(()=>{class e{constructor(t){this.element=t,this.escape=!0}ngOnChanges(t){this.element.nativeElement.innerHTML=this.escape?function _3(e){return e&&v3.test(e)?e.replace(TM,i=>y3[i]):e}(this.ngItemLabel):this.ngItemLabel}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq))},e.\u0275dir=a.lG2({type:e,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[a.TTD]}),e})(),C3=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ng-option-tmp",""]]}),e})(),T3=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ng-optgroup-tmp",""]]}),e})(),E3=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ng-label-tmp",""]]}),e})(),A3=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ng-multi-label-tmp",""]]}),e})(),D3=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ng-header-tmp",""]]}),e})(),S3=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ng-footer-tmp",""]]}),e})(),I3=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ng-notfound-tmp",""]]}),e})(),x3=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ng-typetosearch-tmp",""]]}),e})(),P3=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ng-loadingtext-tmp",""]]}),e})(),M3=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ng-tag-tmp",""]]}),e})(),O3=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc))},e.\u0275dir=a.lG2({type:e,selectors:[["","ng-loadingspinner-tmp",""]]}),e})();function EM(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const N3={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function lD(e){return e.replace(/[^\u0000-\u007E]/g,t=>N3[t]||t)}class k3{constructor(i,t){this._ngSelect=i,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let i=this.selectedItems.length-1;for(;i>=0;i--){const t=this.selectedItems[i];if(!t.disabled)return t}return null}setItems(i){this._items=i.map((t,o)=>this.mapItem(t,o)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(i){if(i.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(i,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(i)}unselect(i){!i.selected||(this._selectionModel.unselect(i,this._ngSelect.multiple),this._ngSelect.hideSelected&&Ms(i.index)&&this._ngSelect.multiple&&this._showSelected(i))}findItem(i){let t;return t=this._ngSelect.compareWith?o=>this._ngSelect.compareWith(o.value,i):this._ngSelect.bindValue?o=>!o.children&&this.resolveNested(o.value,this._ngSelect.bindValue)===i:o=>o.value===i||!o.children&&o.label&&o.label===this.resolveNested(i,this._ngSelect.bindLabel),this._items.find(o=>t(o))}addItem(i){const t=this.mapItem(i,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(i=!1){this._selectionModel.clear(i),this._items.forEach(t=>{t.selected=i&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(i){return i=lD(i).toLocaleLowerCase(),this.filteredItems.find(t=>lD(t.label).toLocaleLowerCase().substr(0,i.length)===i)}filter(i){if(!i)return void this.resetFilteredItems();this._filteredItems=[],i=this._ngSelect.searchFn?i:lD(i).toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,o=this._ngSelect.hideSelected;for(const s of Array.from(this._groups.keys())){const l=[];for(const h of this._groups.get(s))o&&(h.parent&&h.parent.selected||h.selected)||t(i,this._ngSelect.searchFn?h.value:h)&&l.push(h);if(l.length>0){const[h]=l.slice(-1);if(h.parent){const v=this._items.find(w=>w===h.parent);this._filteredItems.push(v)}this._filteredItems.push(...l)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(i=>!i.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(i){this._markedIndex=this._filteredItems.indexOf(i)}markSelectedOrDefault(i){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:i?this.filteredItems.findIndex(o=>!o.disabled):-1}resolveNested(i,t){if(!uT(i))return i;if(-1===t.indexOf("."))return i[t];{const o=t.split(".");let s=i;for(let l=0,h=o.length;l<h;++l){if(null==s)return null;s=s[o[l]]}return s}}mapItem(i,t){const o=Ms(i.$ngOptionLabel)?i.$ngOptionLabel:this.resolveNested(i,this._ngSelect.bindLabel),s=Ms(i.$ngOptionValue)?i.$ngOptionValue:i;return{index:t,label:Ms(o)?o.toString():"",value:s,disabled:i.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const i=this._ngSelect.multiple;for(const t of this.selectedItems){const o=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,s=Ms(o)?this.findItem(o):null;this._selectionModel.unselect(t,i),this._selectionModel.select(s||t,i,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(t=>-1===this.selectedItems.indexOf(t)))}_showSelected(i){if(this._filteredItems.push(i),i.parent){const t=i.parent;this._filteredItems.find(s=>s===t)||this._filteredItems.push(t)}else if(i.children)for(const t of i.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((t,o)=>t.index-o.index)]}_hideSelected(i){this._filteredItems=this._filteredItems.filter(t=>t!==i),i.parent?i.parent.children.every(o=>o.selected)&&(this._filteredItems=this._filteredItems.filter(o=>o!==i.parent)):i.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==i))}_defaultSearchFn(i,t){return lD(t.label).toLocaleLowerCase().indexOf(i)>-1}_getNextItemIndex(i){return i>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(i){0===this._filteredItems.length||this._filteredItems.every(t=>t.disabled)||(this._markedIndex=this._getNextItemIndex(i),this.markedItem.disabled&&this._stepToItem(i))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const i=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&i<0?-1:Math.max(this.markedIndex,i)}_groupBy(i,t){const o=new Map;if(0===i.length)return o;if(Array.isArray(i[0].value[t])){for(const h of i){const v=(h.value[t]||[]).map((w,D)=>this.mapItem(w,D));o.set(h,v)}return o}const s=uD(this._ngSelect.groupBy),l=h=>{const v=s?t(h.value):h.value[t];return Ms(v)?v:void 0};for(const h of i){const v=l(h),w=o.get(v);w?w.push(h):o.set(v,[h])}return o}_flatten(i){const t=uD(this._ngSelect.groupBy),o=[];for(const s of Array.from(i.keys())){let l=o.length;if(void 0===s){const k=i.get(void 0)||[];o.push(...k.map(H=>(H.index=l++,H)));continue}const h=uT(s),v={label:h?"":String(s),children:void 0,parent:null,index:l++,disabled:!this._ngSelect.selectableGroup,htmlId:EM()},w=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,D=this._ngSelect.groupValue||(()=>h?s.value:{[w]:s}),M=i.get(s).map(k=>(k.parent=v,k.children=void 0,k.index=l++,k));v.children=M,v.value=D(s,M.map(k=>k.value)),o.push(v),o.push(...M)}return o}}var Ch=(()=>(function(e){e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowDown=40]="ArrowDown",e[e.Backspace=8]="Backspace"}(Ch||(Ch={})),Ch))();let AM=(()=>{class e{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(t,o,s){const l=this._dimensions,h=l.itemHeight*o,w=Math.max(0,t)/h*o;let D=Math.min(o,Math.ceil(w)+(l.itemsPerViewport+1));const k=Math.max(0,D-l.itemsPerViewport);let H=Math.min(k,Math.floor(w)),J=l.itemHeight*Math.ceil(H)-l.itemHeight*Math.min(H,s);return J=isNaN(J)?0:J,H=isNaN(H)?-1:H,D=isNaN(D)?-1:D,H-=s,H=Math.max(0,H),D+=s,D=Math.min(o,D),{topPadding:J,scrollHeight:h,start:H,end:D}}setDimensions(t,o){const s=Math.max(1,Math.floor(o/t));this._dimensions={itemHeight:t,panelHeight:o,itemsPerViewport:s}}getScrollTo(t,o,s){const{panelHeight:l}=this.dimensions,h=t+o,w=s+l;return l>=h&&s===t?null:h>w?s+h-w:t<=s?t:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();const DM=["top","right","bottom","left"],R3=typeof requestAnimationFrame<"u"?b4:S4;let SM=(()=>{class e{constructor(t,o,s,l,h){this._renderer=t,this._zone=o,this._panelService=s,this._document=h,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new a.vpe,this.scroll=new a.vpe,this.scrollToEnd=new a.vpe,this.outsideClick=new a.vpe,this._destroy$=new zr.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=l.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(t){t!==this._itemsLength&&(this._itemsLength=t,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:t,panelHeight:o}=this._panelService.dimensions,s=this.markedItem.index*t;return o>s?0:s}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(t){if(t.items){const o=t.items;this._onItemsChange(o.currentValue,o.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(t,o=!1){if(!t)return;const s=this.items.indexOf(t);if(s<0||s>=this.itemsLength)return;let l;if(this.virtualScroll){const h=this._panelService.dimensions.itemHeight;l=this._panelService.getScrollTo(s*h,h,this._lastScrollPosition)}else{const h=this._dropdown.querySelector(`#${t.htmlId}`);l=this._panelService.getScrollTo(h.offsetTop,h.clientHeight,o?h.offsetTop:this._lastScrollPosition)}Ms(l)&&(this._scrollablePanel.scrollTop=l)}scrollToTag(){const t=this._scrollablePanel;t.scrollTop=t.scrollHeight-t.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),DM.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(t){DM.forEach(s=>{const l=`ng-select-${s}`;this._renderer.removeClass(this._dropdown,l),this._renderer.removeClass(this._select,l)});const o=`ng-select-${t}`;this._renderer.addClass(this._dropdown,o),this._renderer.addClass(this._select,o)}_handleScroll(){this._zone.runOutsideAngular(()=>{cw(this.scrollElementRef.nativeElement,"scroll").pipe(lw(this._destroy$),v4(0,R3)).subscribe(t=>{const o=t.path||t.composedPath&&t.composedPath();this._onContentScrolled(o&&0!==o.length?o[0].scrollTop:t.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,iw.T)(cw(this._document,"touchstart",{capture:!0}),cw(this._document,"mousedown",{capture:!0})).pipe(lw(this._destroy$)).subscribe(t=>this._checkToClose(t))})}_checkToClose(t){if(this._select.contains(t.target)||this._dropdown.contains(t.target))return;const o=t.path||t.composedPath&&t.composedPath();t.target&&t.target.shadowRoot&&o&&o[0]&&this._select.contains(o[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(t,o){this.items=t||[],this._scrollToEndFired=!1,this.itemsLength=t.length,this.virtualScroll?this._updateItemsRange(o):(this._setVirtualHeight(),this._updateItems(o))}_updateItems(t){this.update.emit(this.items),!1!==t&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,t)})})}_updateItemsRange(t){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{t?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(t){this.virtualScroll&&this._renderItemsRange(t),this._lastScrollPosition=t,this._fireScrollToEnd(t)}_updateVirtualHeight(t){this._updateScrollHeight&&(this._virtualPadding.style.height=`${t}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(t=null){if(t&&this._lastScrollPosition===t)return;const o=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(o.scrollHeight),this._contentPanel.style.transform=`translateY(${o.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(o.start,o.end)),this.scroll.emit({start:o.start,end:o.end})}),Ms(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[t]=this.items;return this.update.emit([t]),Promise.resolve().then(()=>{const s=this._dropdown.querySelector(`#${t.htmlId}`).clientHeight;return this._virtualPadding.style.height=s*this.itemsLength+"px",this._panelService.setDimensions(s,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(t){this._scrollToEndFired||0===t||t+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(t){if("auto"!==this.position)return this.position;const o=this._select.getBoundingClientRect(),s=document.documentElement.scrollTop||document.body.scrollTop;return o.top+window.pageYOffset+o.height+t.getBoundingClientRect().height>s+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const t=this._select.getBoundingClientRect(),o=this._parent.getBoundingClientRect();this._dropdown.style.left=t.left-o.left+"px",this._dropdown.style.width=t.width+"px",this._dropdown.style.minWidth=t.width+"px"}_updateYPosition(){const t=this._select.getBoundingClientRect(),o=this._parent.getBoundingClientRect(),s=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=o.bottom-t.bottom+s+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-o.top+s+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{cw(this._dropdown,"mousedown").pipe(lw(this._destroy$)).subscribe(t=>{"INPUT"!==t.target.tagName&&t.preventDefault()})})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Qsj),a.Y36(a.R0b),a.Y36(AM),a.Y36(a.SBq),a.Y36(rt,8))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ng-dropdown-panel"]],viewQuery:function(t,o){if(1&t&&(a.Gf(R4,7,a.SBq),a.Gf(F4,7,a.SBq),a.Gf(L4,7,a.SBq)),2&t){let s;a.iGM(s=a.CRH())&&(o.contentElementRef=s.first),a.iGM(s=a.CRH())&&(o.scrollElementRef=s.first),a.iGM(s=a.CRH())&&(o.paddingElementRef=s.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[a.TTD],ngContentSelectors:CM,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(t,o){1&t&&(a.F$t(),a.YNc(0,U4,2,4,"div",0),a.TgZ(1,"div",1,2),a._UZ(3,"div",null,3),a.TgZ(5,"div",null,4),a.Hsn(7),a.qZA()(),a.YNc(8,B4,2,4,"div",5)),2&t&&(a.Q6J("ngIf",o.headerTemplate),a.xp6(3),a.ekj("total-padding",o.virtualScroll),a.xp6(2),a.ekj("scrollable-content",o.virtualScroll&&o.items.length),a.xp6(3),a.Q6J("ngIf",o.footerTemplate))},dependencies:[Sn,ua],encapsulation:2,changeDetection:0}),e})(),F3=(()=>{class e{constructor(t){this.elementRef=t,this.stateChange$=new zr.x,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=this._isDisabled(t)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(t){t.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(t){return null!=t&&"false"!=`${t}`}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[a.TTD],ngContentSelectors:CM,decls:1,vars:0,template:function(t,o){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),dw=(()=>{class e{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),L3=(()=>{class e{warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const IM=new a.OlP("ng-select-selection-model");let lT=(()=>{class e{constructor(t,o,s,l,h,v,w){this.classes=t,this.autoFocus=o,this.config=s,this._cd=v,this._console=w,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=D=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new a.vpe,this.focusEvent=new a.vpe,this.changeEvent=new a.vpe,this.openEvent=new a.vpe,this.closeEvent=new a.vpe,this.searchEvent=new a.vpe,this.clearEvent=new a.vpe,this.addEvent=new a.vpe,this.removeEvent=new a.vpe,this.scroll=new a.vpe,this.scrollToEnd=new a.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=EM(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new zr.x,this._keyPress$=new zr.x,this._onChange=D=>{},this._onTouched=()=>{},this.clearItem=D=>{const M=this.selectedItems.find(k=>k.value===D);this.unselect(M)},this.trackByOption=(D,M)=>this.trackByFn?this.trackByFn(M.value):M,this._mergeGlobalConfig(s),this.itemsList=new k3(this,l()),this.element=h.nativeElement}get items(){return this._items}set items(t){null===t&&(t=[]),this._itemsAreUsed=!0,this._items=t}get compareWith(){return this._compareWith}set compareWith(t){if(null!=t&&!uD(t))throw Error("`compareWith` must be a function.");this._compareWith=t}get clearSearchOnAdd(){return Ms(this._clearSearchOnAdd)?this._clearSearchOnAdd:Ms(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(t){this._clearSearchOnAdd=t}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(t=>t.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(t){t.multiple&&this.itemsList.clearSelected(),t.items&&this._setItems(t.items.currentValue||[]),t.isOpen&&(this._manualOpen=Ms(t.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Ms(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(t){if(Ch[t.which]){if(!1===this.keyDownFn(t))return;this.handleKeyCode(t)}else t.key&&1===t.key.length&&this._keyPress$.next(t.key.toLocaleLowerCase())}handleKeyCode(t){switch(t.which){case Ch.ArrowDown:this._handleArrowDown(t);break;case Ch.ArrowUp:this._handleArrowUp(t);break;case Ch.Space:this._handleSpace(t);break;case Ch.Enter:this._handleEnter(t);break;case Ch.Tab:this._handleTab(t);break;case Ch.Esc:this.close(),t.preventDefault();break;case Ch.Backspace:this._handleBackspace()}}handleMousedown(t){const o=t.target;"INPUT"!==o.tagName&&t.preventDefault(),o.classList.contains("ng-clear-wrapper")?this.handleClearClick():o.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():o.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(t){this.itemsList.clearSelected(),this._handleWriteValue(t),this._cd.markForCheck()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(t){!t||t.disabled||this.disabled||(this.multiple&&t.selected?this.unselect(t):this.select(t),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(t){t.selected||(this.itemsList.select(t),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(t.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(t){!t||(this.itemsList.unselect(t),this.focus(),this._updateNgModel(),this.removeEvent.emit(t))}selectTag(){let t;t=uD(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const o=s=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(s,null):this.itemsList.addItem(s);!function b3(e){return e instanceof Promise}(t)?t&&this.select(o(t)):t.then(s=>this.select(o(s))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const t=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(o=>o.label.toLowerCase()===t)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(o=>o.label.toLowerCase()===t))&&!this.loading}showNoItemsFound(){const t=0===this.itemsList.filteredItems.length;return(t&&!this._isTypeahead&&!this.loading||t&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(t){this._isComposing=!1,!this.searchWhileComposing&&this.filter(t)}filter(t){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=t,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(t),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:t,items:this.itemsList.filteredItems.map(o=>o.value)}),this.open())}onInputFocus(t){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(t),this.focused=!0)}onInputBlur(t){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(t),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(t){t.disabled||this.itemsList.markItem(t)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const t=this.selectedItems&&this.selectedItems[0];this.searchTerm=t&&t.label||null}_setItems(t){const o=t[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Ms(o)?!uT(o):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(t),t.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Ms(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const t=s=>{this.items=s.map(l=>({$ngOptionValue:l.value,$ngOptionLabel:l.elementRef.nativeElement.innerHTML,disabled:l.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},o=()=>{const s=(0,iw.T)(this.ngOptions.changes,this._destroy$);(0,iw.T)(...this.ngOptions.map(l=>l.stateChange$)).pipe(lw(s)).subscribe(l=>{const h=this.itemsList.findItem(l.value);h.disabled=l.disabled,h.label=l.label||h.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(Sd(this.ngOptions),lw(this._destroy$)).subscribe(s=>{this.bindLabel=this._defaultLabel,t(s),o()})}_isValidWriteValue(t){if(!Ms(t)||this.multiple&&""===t||Array.isArray(t)&&0===t.length)return!1;const o=s=>!(!Ms(this.compareWith)&&uT(s)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(s)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(t)?t.every(s=>o(s)):(this._console.warn("Multiple select ngModel should be array."),!1):o(t)}_handleWriteValue(t){if(!this._isValidWriteValue(t))return;const o=s=>{let l=this.itemsList.findItem(s);if(l)this.itemsList.select(l);else{const h=uT(s),v=!h&&!this.bindValue;h||v?this.itemsList.select(this.itemsList.mapItem(s,null)):this.bindValue&&(l={[this.bindLabel]:null,[this.bindValue]:s},this.itemsList.select(this.itemsList.mapItem(l,null)))}};this.multiple?t.forEach(s=>o(s)):o(t)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(lw(this._destroy$),(0,Ci.b)(t=>this._pressedKeys.push(t)),BP(200),io(()=>this._pressedKeys.length>0),(0,Kt.U)(()=>this._pressedKeys.join(""))).subscribe(t=>{const o=this.itemsList.findByLabel(t);o&&(this.isOpen?(this.itemsList.markItem(o),this._scrollToMarked(),this._cd.markForCheck()):this.select(o)),this._pressedKeys=[]})}_setInputAttributes(){const t=this.searchInput.nativeElement,o={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const s of Object.keys(o))t.setAttribute(s,o[s])}_updateNgModel(){const t=[];for(const s of this.selectedItems)if(this.bindValue){let l=null;l=s.children?s.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(s.value,this.bindValue),t.push(l)}else t.push(s.value);const o=this.selectedItems.map(s=>s.value);this.multiple?(this._onChange(t),this.changeEvent.emit(o)):(this._onChange(Ms(t[0])?t[0]:null),this.changeEvent.emit(o[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(t){this.searchTerm=t,this._isTypeahead&&this.typeahead.next(t)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(t){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),t.preventDefault()):this.showAddTag?(this.selectTag(),t.preventDefault()):this.close():this.close())}_handleEnter(t){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}t.preventDefault()}_handleSpace(t){this.isOpen||this._manualOpen||(this.open(),t.preventDefault())}_handleArrowDown(t){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),t.preventDefault()}_handleArrowUp(t){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),t.preventDefault())}_nextItemIsTag(t){const o=this.itemsList.markedIndex+t;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(o<0||o===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const t=this.searchTerm&&this.searchTerm.trim();return t&&t.length>=this.minTermLength}_mergeGlobalConfig(t){this.placeholder=this.placeholder||t.placeholder,this.notFoundText=this.notFoundText||t.notFoundText,this.typeToSearchText=this.typeToSearchText||t.typeToSearchText,this.addTagText=this.addTagText||t.addTagText,this.loadingText=this.loadingText||t.loadingText,this.clearAllText=this.clearAllText||t.clearAllText,this.virtualScroll=Ms(this.virtualScroll)?this.virtualScroll:!!Ms(t.disableVirtualScroll)&&!t.disableVirtualScroll,this.openOnEnter=Ms(this.openOnEnter)?this.openOnEnter:t.openOnEnter,this.appendTo=this.appendTo||t.appendTo,this.bindValue=this.bindValue||t.bindValue,this.bindLabel=this.bindLabel||t.bindLabel,this.appearance=this.appearance||t.appearance}}return e.\u0275fac=function(t){return new(t||e)(a.$8M("class"),a.$8M("autofocus"),a.Y36(dw),a.Y36(IM),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(L3))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ng-select"]],contentQueries:function(t,o,s){if(1&t&&(a.Suo(s,C3,5,a.Rgc),a.Suo(s,T3,5,a.Rgc),a.Suo(s,E3,5,a.Rgc),a.Suo(s,A3,5,a.Rgc),a.Suo(s,D3,5,a.Rgc),a.Suo(s,S3,5,a.Rgc),a.Suo(s,I3,5,a.Rgc),a.Suo(s,x3,5,a.Rgc),a.Suo(s,P3,5,a.Rgc),a.Suo(s,M3,5,a.Rgc),a.Suo(s,O3,5,a.Rgc),a.Suo(s,F3,5)),2&t){let l;a.iGM(l=a.CRH())&&(o.optionTemplate=l.first),a.iGM(l=a.CRH())&&(o.optgroupTemplate=l.first),a.iGM(l=a.CRH())&&(o.labelTemplate=l.first),a.iGM(l=a.CRH())&&(o.multiLabelTemplate=l.first),a.iGM(l=a.CRH())&&(o.headerTemplate=l.first),a.iGM(l=a.CRH())&&(o.footerTemplate=l.first),a.iGM(l=a.CRH())&&(o.notFoundTemplate=l.first),a.iGM(l=a.CRH())&&(o.typeToSearchTemplate=l.first),a.iGM(l=a.CRH())&&(o.loadingTextTemplate=l.first),a.iGM(l=a.CRH())&&(o.tagTemplate=l.first),a.iGM(l=a.CRH())&&(o.loadingSpinnerTemplate=l.first),a.iGM(l=a.CRH())&&(o.ngOptions=l)}},viewQuery:function(t,o){if(1&t&&(a.Gf(SM,5),a.Gf(V4,7)),2&t){let s;a.iGM(s=a.CRH())&&(o.dropdownPanel=s.first),a.iGM(s=a.CRH())&&(o.searchInput=s.first)}},hostVars:20,hostBindings:function(t,o){1&t&&a.NdJ("keydown",function(l){return o.handleKeyDown(l)}),2&t&&a.ekj("ng-select-typeahead",o.typeahead)("ng-select-multiple",o.multiple)("ng-select-taggable",o.addTag)("ng-select-searchable",o.searchable)("ng-select-clearable",o.clearable)("ng-select-opened",o.isOpen)("ng-select",o.useDefaultClass)("ng-select-disabled",o.disabled)("ng-select-filtered",o.filtered)("ng-select-single",o.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[a._Bn([{provide:_u,useExisting:(0,a.Gpc)(()=>e),multi:!0},AM]),a.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(t,o){if(1&t){const s=a.EpF();a.TgZ(0,"div",0),a.NdJ("mousedown",function(h){return o.handleMousedown(h)}),a.TgZ(1,"div",1)(2,"div",2),a._uU(3),a.qZA(),a.YNc(4,G4,2,2,"ng-container",3),a.YNc(5,W4,1,5,null,3),a.TgZ(6,"div",4)(7,"input",5,6),a.NdJ("input",function(){a.CHM(s);const h=a.MAs(8);return a.KtG(o.filter(h.value))})("compositionstart",function(){return o.onCompositionStart()})("compositionend",function(){a.CHM(s);const h=a.MAs(8);return a.KtG(o.onCompositionEnd(h.value))})("focus",function(h){return o.onInputFocus(h)})("blur",function(h){return o.onInputBlur(h)})("change",function(h){return h.stopPropagation()}),a.qZA()()(),a.YNc(9,Q4,4,1,"ng-container",3),a.YNc(10,J4,3,1,"span",7),a.TgZ(11,"span",8),a._UZ(12,"span",9),a.qZA()(),a.YNc(13,m3,7,19,"ng-dropdown-panel",10)}2&t&&(a.ekj("ng-appearance-outline","outline"===o.appearance)("ng-has-value",o.hasValue),a.xp6(3),a.Oqu(o.placeholder),a.xp6(1),a.Q6J("ngIf",(!o.multiLabelTemplate||!o.multiple)&&o.selectedItems.length>0),a.xp6(1),a.Q6J("ngIf",o.multiple&&o.multiLabelTemplate&&o.selectedValues.length>0),a.xp6(1),a.uIk("aria-expanded",o.isOpen)("aria-owns",o.isOpen?o.dropdownId:null),a.xp6(1),a.Q6J("readOnly",!o.searchable||o.itemsList.maxItemsSelected)("disabled",o.disabled)("value",o.searchTerm?o.searchTerm:""),a.uIk("id",o.labelForId)("tabindex",o.tabIndex)("aria-activedescendant",o.isOpen?null==o.itemsList||null==o.itemsList.markedItem?null:o.itemsList.markedItem.htmlId:null)("aria-controls",o.isOpen?o.dropdownId:null),a.xp6(2),a.Q6J("ngIf",o.loading),a.xp6(1),a.Q6J("ngIf",o.showClear()),a.xp6(3),a.Q6J("ngIf",o.isOpen))},dependencies:[SM,Sn,Jt,w3,ua,Nr],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),e})();function U3(){return new B3}class B3{constructor(){this._selected=[]}get value(){return this._selected}select(i,t,o){if(i.selected=!0,(!i.children||!t&&o)&&this._selected.push(i),t)if(i.parent){const s=i.parent.children.length,l=i.parent.children.filter(h=>h.selected).length;i.parent.selected=s===l}else i.children&&(this._setChildrenSelectedState(i.children,!0),this._removeChildren(i),this._selected=o&&this._activeChildren(i)?[...this._selected.filter(s=>s.parent!==i),i]:[...this._selected,...i.children.filter(s=>!s.disabled)])}unselect(i,t){if(this._selected=this._selected.filter(o=>o!==i),i.selected=!1,t)if(i.parent&&i.parent.selected){const o=i.parent.children;this._removeParent(i.parent),this._removeChildren(i.parent),this._selected.push(...o.filter(s=>s!==i&&!s.disabled)),i.parent.selected=!1}else i.children&&(this._setChildrenSelectedState(i.children,!1),this._removeChildren(i))}clear(i){this._selected=i?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(i,t){for(const o of i)o.disabled||(o.selected=t)}_removeChildren(i){this._selected=[...this._selected.filter(t=>t.parent!==i),...i.children.filter(t=>t.parent===i&&t.disabled&&t.selected)]}_removeParent(i){this._selected=this._selected.filter(t=>t!==i)}_activeChildren(i){return i.children.every(t=>!t.disabled||t.selected)}}let V3=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[{provide:IM,useValue:U3}],imports:[[Us]]}),e})();class xM{}const Vg="*";function H3(e,i){return{type:7,name:e,definitions:i,options:{}}}function PM(e,i=null){return{type:4,styles:i,timings:e}}function MM(e,i=null){return{type:2,steps:e,options:i}}function cT(e){return{type:6,styles:e,offset:null}}function m6(e,i,t){return{type:0,name:e,styles:i,options:t}}function OM(e,i,t=null){return{type:1,expr:e,animation:i,options:t}}function NM(e){Promise.resolve().then(e)}class dT{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){NM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class kM{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,o=0,s=0;const l=this.players.length;0==l?NM(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++o==l&&this._onDestroy()}),h.onStart(()=>{++s==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,v)=>Math.max(h,v.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(o=>{const s=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(s)})}getPosition(){const i=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}const RM=["toast-component",""];function q3(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.remove())}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function Z3(e,i){if(1&e&&(a.ynx(0),a._uU(1),a.BQk()),2&e){const t=a.oxw(2);a.xp6(1),a.hij("[",t.duplicatesCount+1,"]")}}function G3(e,i){if(1&e&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,Z3,2,1,"ng-container",4),a.qZA()),2&e){const t=a.oxw();a.Tol(t.options.titleClass),a.uIk("aria-label",t.title),a.xp6(1),a.hij(" ",t.title," "),a.xp6(1),a.Q6J("ngIf",t.duplicatesCount)}}function $3(e,i){if(1&e&&a._UZ(0,"div",7),2&e){const t=a.oxw();a.Tol(t.options.messageClass),a.Q6J("innerHTML",t.message,a.oJD)}}function z3(e,i){if(1&e&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&e){const t=a.oxw();a.Tol(t.options.messageClass),a.uIk("aria-label",t.message),a.xp6(1),a.hij(" ",t.message," ")}}function W3(e,i){if(1&e&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&e){const t=a.oxw();a.xp6(1),a.Udp("width",t.width+"%")}}class tL{constructor(i,t){this.component=i,this.injector=t}attach(i,t){return this._attachedHost=i,i.attach(this,t)}detach(){const i=this._attachedHost;if(i)return this._attachedHost=void 0,i.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class rL{constructor(i){this._overlayRef=i,this.duplicatesCount=0,this._afterClosed=new zr.x,this._activate=new zr.x,this._manualClose=new zr.x,this._resetTimeout=new zr.x,this._countDuplicate=new zr.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(i,t){i&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class cD{constructor(i,t,o,s,l,h){this.toastId=i,this.config=t,this.message=o,this.title=s,this.toastType=l,this.toastRef=h,this._onTap=new zr.x,this._onAction=new zr.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(i){this._onAction.next(i)}onAction(){return this._onAction.asObservable()}}const LM=new a.OlP("ToastConfig");class iL extends class nL{attach(i,t){return this._attachedPortal=i,this.attachComponentPortal(i,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(i){this._disposeFn=i}}{constructor(i,t,o){super(),this._hostDomElement=i,this._componentFactoryResolver=t,this._appRef=o}attachComponentPortal(i,t){const o=this._componentFactoryResolver.resolveComponentFactory(i.component);let s;return s=o.create(i.injector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(s),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(s)),s}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}class oL{constructor(i){this._portalHost=i}attach(i,t=!0){return this._portalHost.attach(i,t)}detach(){return this._portalHost.detach()}}let sL=(()=>{class e{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(rt))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),aL=(()=>{class e{constructor(t,o,s,l){this._overlayContainer=t,this._componentFactoryResolver=o,this._appRef=s,this._document=l,this._paneElements=new Map}create(t,o){return this._createOverlayRef(this.getPaneElement(t,o))}getPaneElement(t="",o){return this._paneElements.get(o)||this._paneElements.set(o,{}),this._paneElements.get(o)[t]||(this._paneElements.get(o)[t]=this._createPaneElement(t,o)),this._paneElements.get(o)[t]}_createPaneElement(t,o){const s=this._document.createElement("div");return s.id="toast-container",s.classList.add(t),s.classList.add("toast-container"),o?o.getContainerElement().appendChild(s):this._overlayContainer.getContainerElement().appendChild(s),s}_createPortalHost(t){return new iL(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new oL(this._createPortalHost(t))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(sL),a.LFG(a._Vd),a.LFG(a.z2F),a.LFG(rt))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Tp=(()=>{class e{constructor(t,o,s,l,h){this.overlay=o,this._injector=s,this.sanitizer=l,this.ngZone=h,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,o,s={},l=""){return this._preBuildNotification(l,t,o,this.applyConfig(s))}success(t,o,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,o,this.applyConfig(s))}error(t,o,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,o,this.applyConfig(s))}info(t,o,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,o,this.applyConfig(s))}warning(t,o,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,o,this.applyConfig(s))}clear(t){for(const o of this.toasts)if(void 0!==t){if(o.toastId===t)return void o.toastRef.manualClose()}else o.toastRef.manualClose()}remove(t){const o=this._findToast(t);if(!o||(o.activeToast.toastRef.close(),this.toasts.splice(o.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const s=this.toasts[this.currentlyActive].toastRef;s.isInactive()||(this.currentlyActive=this.currentlyActive+1,s.activate())}return!0}findDuplicate(t="",o="",s,l){const{includeTitleDuplicates:h}=this.toastrConfig;for(const v of this.toasts){const w=h&&v.title===t;if((!h||w)&&v.message===o)return v.toastRef.onDuplicate(s,l),v}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let o=0;o<this.toasts.length;o++)if(this.toasts[o].toastId===t)return{index:o,activeToast:this.toasts[o]};return null}_preBuildNotification(t,o,s,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,o,s,l)):this._buildNotification(t,o,s,l)}_buildNotification(t,o,s,l){if(!l.toastComponent)throw new Error("toastComponent required");const h=this.findDuplicate(s,o,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&s||o)&&this.toastrConfig.preventDuplicates&&null!==h)return h;this.previousToastMessage=o;let v=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(v=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const w=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let D=o;o&&l.enableHtml&&(D=this.sanitizer.sanitize(a.q3G.HTML,o));const M=new rL(w),k=new cD(this.index,l,D,s,t,M),J=a.zs3.create({providers:[{provide:cD,useValue:k}],parent:this._injector}),X=new tL(l.toastComponent,J),ue=w.attach(X,l.newestOnTop);M.componentInstance=ue.instance;const ve={toastId:this.index,title:s||"",message:o||"",toastRef:M,onShown:M.afterActivate(),onHidden:M.afterClosed(),onTap:k.onTap(),onAction:k.onAction(),portal:ue};return v||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ve.toastRef.activate()})),this.toasts.push(ve),ve}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(LM),a.LFG(aL),a.LFG(a.zs3),a.LFG(kf),a.LFG(a.R0b))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const uL={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class e{constructor(t,o,s){this.toastrService=t,this.toastPackage=o,this.ngZone=s,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=o.message,this.title=o.title,this.options=o.config,this.originalTimeout=o.config.timeOut,this.toastClasses=`${o.toastType} ${o.config.toastClass}`,this.sub=o.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=o.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=o.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=o.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,o){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),o)):this.timeout=setTimeout(()=>t(),o)}outsideInterval(t,o){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),o)):this.intervalId=setInterval(()=>t(),o)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Tp),a.Y36(cD),a.Y36(a.R0b))},e.\u0275cmp=a.Xpm({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,o){1&t&&a.NdJ("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),2&t&&(a.d8E("@flyInOut",o.state),a.Tol(o.toastClasses),a.Udp("display",o.displayStyle))},attrs:RM,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,o){1&t&&(a.YNc(0,q3,3,0,"button",0),a.YNc(1,G3,3,5,"div",1),a.YNc(2,$3,1,3,"div",2),a.YNc(3,z3,2,4,"div",3),a.YNc(4,W3,2,2,"div",4)),2&t&&(a.Q6J("ngIf",o.options.closeButton),a.xp6(1),a.Q6J("ngIf",o.title),a.xp6(1),a.Q6J("ngIf",o.message&&o.options.enableHtml),a.xp6(1),a.Q6J("ngIf",o.message&&!o.options.enableHtml),a.xp6(1),a.Q6J("ngIf",o.options.progressBar))},dependencies:[Sn],encapsulation:2,data:{animation:[H3("flyInOut",[m6("inactive",cT({opacity:0})),m6("active",cT({opacity:1})),m6("removed",cT({opacity:0})),OM("inactive => active",PM("{{ easeTime }}ms {{ easing }}")),OM("active => removed",PM("{{ easeTime }}ms {{ easing }}"))])]}}),e})()};let lL=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[{provide:LM,useValue:{default:uL,config:t}}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[Us]}),e})();function UM(e,i,t,o,s,l,h){try{var v=e[l](h),w=v.value}catch(D){return void t(D)}v.done?i(w):Promise.resolve(w).then(o,s)}function ps(e){return function(){var i=this,t=arguments;return new Promise(function(o,s){var l=e.apply(i,t);function h(w){UM(l,o,s,h,v,"next",w)}function v(w){UM(l,o,s,h,v,"throw",w)}h(void 0)})}}ae(7315);let ia=(()=>{class e{constructor(t,o,s,l,h){this.afs=t,this.afAuth=o,this.router=s,this.Toastr=l,this.ngZone=h,this.afAuth.authState.subscribe(v=>{v?(this.userData=v,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,o){var s=this;return ps(function*(){return s.afAuth.signInWithEmailAndPassword(t,o).then(l=>{console.log(l),s.afAuth.authState.subscribe(h=>{h&&s.router.navigate(["home/SubHome"])})}).catch(l=>{s.Toastr.error("auth/internal-error"===l.code?"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0648 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u062e\u0638\u0623":l.message)})})()}SignUp(t,o,s,l){var h=this;return ps(function*(){return h.afAuth.createUserWithEmailAndPassword(t,o).then(v=>(console.log(v.user),console.log(v.user),v.user?.updateProfile({displayName:s,photoURL:l,email:t}).then(()=>{h.afs.collection("users").doc(v.user?.uid).set({uid:v.user?.uid,displayName:v.user?.displayName,email:v.user.email,photoURL:v.user?.photoURL,providerId:v.user?.providerId}),h.router.navigate(["home/SubHome"])}))).catch(v=>{alert(v.message)})})()}SendVerificationMail(){var t=this;return ps(function*(){return t.afAuth.currentUser.then(o=>o.sendEmailVerification()).then(()=>{t.router.navigate(["VerifyEmail"])})})()}ForgotPassword(t){var o=this;return ps(function*(){return o.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(s=>{window.alert(s)})})()}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}OAuthProvider(t){var o=this;return ps(function*(){return o.afAuth.signInWithPopup(t).then(s=>{o.ngZone.run(()=>{o.router.navigate(["home/SubHome"])})}).catch(s=>{window.alert(s)})})()}SigninWithGoogle(){return this.OAuthProvider(new zm.Z.auth.GoogleAuthProvider).then(t=>{console.log("Successfully logged in!")}).catch(t=>{console.log(t)})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(o=>{this.router.navigate(["home/SubHome"])}).catch(o=>{window.alert(o)})}SignOut(){var t=this;return ps(function*(){return t.afAuth.signOut().then(()=>{localStorage.removeItem("user"),t.router.navigate(["login"])})})()}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(r6),a.LFG(JI),a.LFG(_r),a.LFG(Tp),a.LFG(a.R0b))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function cL(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"ngx-dropzone-remove-badge",1),a.NdJ("click",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l._remove(s))}),a.qZA()}}const BM=[[["ngx-dropzone-label"]]],VM=["ngx-dropzone-label"],dL=["fileInput"];function fL(e,i){1&e&&a.Hsn(0,2,["*ngIf","!_hasPreviews"])}const hL=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],pL=["ngx-dropzone-preview","*","ngx-dropzone-label"];function gL(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"ngx-dropzone-remove-badge",2),a.NdJ("click",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l._remove(s))}),a.qZA()}}let jM=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.lG2({type:e,selectors:[["ngx-dropzone-label"]]}),e})();function fw(e){return null!=e&&"false"!=`${e}`}let HM=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(t,o){1&t&&(a.O4$(),a.TgZ(0,"svg"),a._UZ(1,"line",0)(2,"line",1),a.qZA())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),e})();var fT=(()=>(function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.DELETE=46]="DELETE"}(fT||(fT={})),fT))();let y6=(()=>{class e{constructor(t){this.sanitizer=t,this._removable=!1,this.removed=new a.vpe,this.tabIndex=0}set file(t){this._file=t}get file(){return this._file}get removable(){return this._removable}set removable(t){this._removable=fw(t)}keyEvent(t){switch(t.keyCode){case fT.BACKSPACE:case fT.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(t){t.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){var t=this;return ps(function*(){return new Promise((o,s)=>{const l=new FileReader;if(l.onload=h=>{o(h.target.result)},l.onerror=h=>{console.error(`FileReader failed on file ${t.file.name}.`),s(h)},!t.file)return s("No file to read. Please provide a file using the [file] Input property.");l.readAsDataURL(t.file)})})()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(kf))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(t,o){1&t&&a.NdJ("keyup",function(l){return o.keyEvent(l)}),2&t&&(a.Ikx("tabindex",o.tabIndex),a.Akn(o.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:VM,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(t,o){1&t&&(a.F$t(BM),a.Hsn(0),a.YNc(1,cL,1,0,"ngx-dropzone-remove-badge",0)),2&t&&(a.xp6(1),a.Q6J("ngIf",o.removable))},dependencies:[HM,Sn],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),e})(),qM=(()=>{class e{parseFileList(t,o,s,l){const h=[],v=[];for(let D=0;D<t.length;D++){const M=t.item(D);this.isAccepted(M,o)?s&&M.size>s?this.rejectFile(v,M,"size"):!l&&h.length>=1?this.rejectFile(v,M,"no_multiple"):h.push(M):this.rejectFile(v,M,"type")}return{addedFiles:h,rejectedFiles:v}}isAccepted(t,o){if("*"===o)return!0;const s=o.split(",").map(w=>w.toLowerCase().trim()),l=t.type.toLowerCase(),h=t.name.toLowerCase();return!!s.find(w=>w.endsWith("/*")?l.split("/")[0]===w.split("/")[0]:w.startsWith(".")?h.endsWith(w):w==l)}rejectFile(t,o,s){const l=o;l.reason=s,t.push(l)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})(),ZM=(()=>{class e{constructor(t){this.service=t,this.change=new a.vpe,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(t){this._disabled=fw(t),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(t){this._multiple=fw(t)}get maxFileSize(){return this._maxFileSize}set maxFileSize(t){this._maxFileSize=function mL(e){return isNaN(parseFloat(e))||isNaN(Number(e))?null:Number(e)}(t)}get expandable(){return this._expandable}set expandable(t){this._expandable=fw(t)}get disableClick(){return this._disableClick}set disableClick(t){this._disableClick=fw(t)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(t){this._processDirectoryDrop=fw(t)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(t){this.disabled||(this.preventDefault(t),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(t){if(!this.disabled)if(this.preventDefault(t),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const o=t.dataTransfer.items;if(o.length>0){const s=[],l=[];for(let v=0;v<o.length;v++){const w=o[v].webkitGetAsEntry();w.isFile?s.push(t.dataTransfer.files[v]):w.isDirectory&&l.push(w)}const h=new DataTransfer;if(s.forEach(v=>{h.items.add(v)}),!l.length&&h.items.length&&this.handleFileDrop(h.files),l.length){const v=[];for(const w of l)v.push(this.extractFilesFromDirectory(w));Promise.all(v).then(w=>{w.reduce((D,M)=>[...D,...M]).forEach(D=>{h.items.add(D)}),this.handleFileDrop(h.files)})}}}else this.handleFileDrop(t.dataTransfer.files)}extractFilesFromDirectory(t){function o(l){return s.apply(this,arguments)}function s(){return(s=ps(function*(l){try{return yield new Promise((h,v)=>l.file(h,v))}catch(h){console.log("Error converting a fileEntry to a File: ",h)}})).apply(this,arguments)}return new Promise((l,h)=>{const v=[],w=t.createReader(),D=()=>{w.readEntries(function(){var M=ps(function*(k){if(k.length){const H=k.filter(J=>J.isFile);for(const J of H){const X=yield o(J);v.push(X)}D()}else l(v)});return function(k){return M.apply(this,arguments)}}())};D()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(t){this.handleFileDrop(t.target.files),this._fileInput.nativeElement.value="",this.preventDefault(t)}handleFileDrop(t){const o=this.service.parseFileList(t,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:o.addedFiles,rejectedFiles:o.rejectedFiles,source:this})}preventDefault(t){t.preventDefault(),t.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(qM,2))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(t,o,s){if(1&t&&a.Suo(s,y6,5),2&t){let l;a.iGM(l=a.CRH())&&(o._previewChildren=l)}},viewQuery:function(t,o){if(1&t&&a.Gf(dL,7),2&t){let s;a.iGM(s=a.CRH())&&(o._fileInput=s.first)}},hostVars:8,hostBindings:function(t,o){1&t&&a.NdJ("click",function(){return o._onClick()})("dragover",function(l){return o._onDragOver(l)})("dragleave",function(){return o._onDragLeave()})("drop",function(l){return o._onDrop(l)}),2&t&&a.ekj("ngx-dz-disabled",o.disabled)("expandable",o.expandable)("unclickable",o.disableClick)("ngx-dz-hovered",o._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[a._Bn([qM])],ngContentSelectors:pL,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(t,o){1&t&&(a.F$t(hL),a.TgZ(0,"input",0,1),a.NdJ("change",function(l){return o._onFilesSelected(l)}),a.qZA(),a.YNc(2,fL,1,0,"ng-content",2),a.Hsn(3),a.Hsn(4,1)),2&t&&(a.Q6J("id",o.id)("multiple",o.multiple)("accept",o.accept)("disabled",o.disabled),a.uIk("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedBy),a.xp6(2),a.Q6J("ngIf",!o._hasPreviews))},dependencies:[Sn],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),e})(),GM=(()=>{class e extends y6{constructor(t){super(t),this.defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",this.imageSrc=this.sanitizer.bypassSecurityTrustUrl(this.defaultImgLoading)}set file(t){this._file=t,this.renderImage()}get file(){return this._file}ngOnInit(){this.renderImage()}renderImage(){this.readFile().then(t=>setTimeout(()=>this.imageSrc=t)).catch(t=>console.error(t))}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(kf))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},features:[a._Bn([{provide:y6,useExisting:e}]),a.qOj],ngContentSelectors:VM,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,o){1&t&&(a.F$t(BM),a._UZ(0,"img",0),a.Hsn(1),a.YNc(2,gL,1,0,"ngx-dropzone-remove-badge",1)),2&t&&(a.Q6J("src",o.imageSrc,a.LSH),a.xp6(2),a.Q6J("ngIf",o.removable))},dependencies:[HM,Sn],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),e})(),vL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[Us]]}),e})();function yL(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div")(1,"div",60)(2,"input",61),a.NdJ("input",function(s){a.CHM(t);const l=a.oxw(2);return a.KtG(l.inputChanged(s))}),a.qZA()(),a.TgZ(3,"button",62),a.NdJ("click",function(){const l=a.CHM(t).index,h=a.oxw(2);return a.KtG(h.removeinput(l))}),a._UZ(4,"i",63),a.qZA()()}if(2&e){const t=i.index;a.xp6(2),a.s9C("id",t),a.Q6J("formControlName",t)}}function _L(e,i){1&e&&(a.TgZ(0,"span",64),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA())}function bL(e,i){1&e&&(a.TgZ(0,"span",64),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0628\u0627\u0631\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA())}function wL(e,i){1&e&&(a.TgZ(0,"span",64),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0633\u0639\u0631 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA())}function CL(e,i){1&e&&(a.TgZ(0,"span",64),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062e\u0644 \u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629"),a.qZA())}function TL(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"ngx-dropzone-image-preview",65),a.NdJ("removed",function(){const l=a.CHM(t).$implicit,h=a.oxw(2);return a.KtG(h.onRemove(l))}),a.TgZ(1,"ngx-dropzone-label"),a._UZ(2,"img",66),a.qZA()()}if(2&e){const t=i.$implicit,o=a.oxw(2);a.Q6J("removable",!0)("file",t),a.xp6(2),a.Q6J("src",o.url,a.LSH)}}const EL=function(e){return{width:e}};function AL(e,i){if(1&e&&(a.TgZ(0,"div",67)(1,"div",68),a._uU(2),a.qZA()()),2&e){const t=a.oxw(2);a.xp6(1),a.Q6J("ngStyle",a.VKq(3,EL,t.percentage+"%")),a.uIk("aria-valuenow",t.percentage),a.xp6(1),a.hij(" ",t.percentage,"% ")}}function DL(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div")(1,"form",14)(2,"div",15)(3,"div",16)(4,"div",17)(5,"div",18)(6,"label",19),a._uU(7,"\u0627\u0644\u062a\u0635\u0646\u064a\u0641"),a.qZA(),a._UZ(8,"ng-select",20),a.qZA(),a.TgZ(9,"button",21),a._UZ(10,"i",22),a.qZA()(),a.TgZ(11,"div",23)(12,"div",24)(13,"div",25)(14,"div",26)(15,"h5",27),a._uU(16," \u0627\u0636\u0627\u0641\u0629 \u062a\u0635\u0646\u064a\u0641 \u062c\u062f\u064a\u062f "),a.qZA(),a.TgZ(17,"button",28)(18,"span",29),a._uU(19,"\xd7"),a.qZA()()(),a.TgZ(20,"div",30)(21,"form",31)(22,"div",32),a.YNc(23,yL,5,2,"div",33),a.qZA(),a.TgZ(24,"button",34),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.addcategory())}),a._UZ(25,"i",35),a.qZA()()(),a.TgZ(26,"div",36)(27,"button",37),a._uU(28," \u0627\u0644\u063a\u0627\u0621 "),a.qZA(),a.TgZ(29,"button",38),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.saveCatlist())}),a._uU(30," \u062d\u0641\u0638 "),a.qZA()()()()(),a.TgZ(31,"div",39)(32,"div",40)(33,"label",41),a._uU(34,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a._UZ(35,"input",42),a.YNc(36,_L,2,0,"span",43),a.qZA(),a.TgZ(37,"div",40)(38,"label",44),a._uU(39,"\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062f"),a.qZA(),a._UZ(40,"input",45),a.YNc(41,bL,2,0,"span",43),a.qZA()(),a.TgZ(42,"div",40)(43,"label",46),a._uU(44,"\u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639"),a.qZA(),a._UZ(45,"input",47),a.YNc(46,wL,2,0,"span",43),a.qZA(),a.TgZ(47,"div",40)(48,"label",48),a._uU(49,"\u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629 "),a.qZA(),a._UZ(50,"input",49),a.YNc(51,CL,2,0,"span",43),a.qZA()(),a.TgZ(52,"div",50)(53,"div",51)(54,"label",48),a._uU(55," \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(56,"div",17)(57,"ngx-dropzone",52),a.NdJ("change",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l.selectFile(s))}),a.TgZ(58,"ngx-dropzone-label"),a._uU(59,"\u0627\u0633\u062d\u0628 \u0627\u0644\u0635\u0648\u0631\u0629"),a.qZA(),a.YNc(60,TL,3,3,"ngx-dropzone-image-preview",53),a.qZA(),a.TgZ(61,"button",54),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.upload())}),a._uU(62," \u062a\u062d\u0645\u064a\u0644 "),a.qZA(),a.YNc(63,AL,3,5,"div",55),a.qZA()(),a.TgZ(64,"div",39)(65,"div",40)(66,"label"),a._uU(67,"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a"),a.qZA(),a._UZ(68,"textarea",56),a.qZA()()(),a.TgZ(69,"div",57)(70,"button",58),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.saveProduct())}),a._uU(71,"\u0627\u0636\u0627\u0641\u0629"),a.qZA(),a.TgZ(72,"button",59),a._uU(73,"\u0627\u0644\u063a\u0627\u0621"),a.qZA()()()()()}if(2&e){const t=a.oxw();a.xp6(1),a.Q6J("formGroup",t.addForm),a.xp6(7),a.Q6J("items",t.cat2)("searchable",!0)("required",!0),a.xp6(13),a.Q6J("formGroup",t.form),a.xp6(2),a.Q6J("ngForOf",null==t.Catlists?null:t.Catlists.controls),a.xp6(13),a.Q6J("ngIf",!t.addForm.controls.productname.valid&&t.addForm.controls.productname.touched),a.xp6(5),a.Q6J("ngIf",!t.addForm.controls.productcode.valid&&t.addForm.controls.productcode.touched),a.xp6(5),a.Q6J("ngIf",!t.addForm.controls.saleprice.valid&&t.addForm.controls.saleprice.touched),a.xp6(5),a.Q6J("ngIf",!t.addForm.controls.buyprice.valid&&t.addForm.controls.buyprice.touched),a.xp6(9),a.Q6J("ngForOf",t.files),a.xp6(1),a.Q6J("disabled",null==t.files)("hidden",null==t.files),a.xp6(2),a.Q6J("ngIf",t.currentFileUpload),a.xp6(7),a.Q6J("disabled",!t.addForm.valid)}}let SL=(()=>{class e{constructor(t,o,s,l,h,v,w,D){this.productser=t,this.config=o,this.fb=s,this._router=l,this.Toastr=h,this.dbupload=v,this.storage=w,this.auth=D,this.category=new Em,this.submitted=!1,this.compname="",this.addproduct=new Am,this.percentage=0,this.msg="",this.urls=[],this.randomNum=(M,k)=>+Array.from({length:0|Math.random()*(k-M+1)+M},()=>0|9*Math.random()+1).join(""),this.valueChange=new a.vpe,this.container=document.getElementById("input-cont"),this.maxInputAllowed=5,this.inputCount=0,this.basePath="/uploads",this.getallCategory(),this.config.notFoundText="\u0644\u0627\u064a\u0648\u062c\u062f ",this.config.appendTo="body",this.config.bindValue="value"}ngOnInit(){this.addForm=this.fb.group({productcat:[null,jt.required],productname:[null,jt.required],productcode:[this.randomNum(5,13),jt.required],saleprice:[null,jt.required],buyprice:[null,jt.required],notice:[null],selectedFile:this.fb.array([],jt.required)}),this.compname=this.constructor.name,this.form=this.fb.group({catlists:this.fb.array([""])}),console.log(this.form)}get selectedFile(){return this.addForm.get("selectedFile")}get Catlists(){return this.form.get("catlists")}addcategory(){this.Catlists.push(new mn)}removeinput(t){this.Catlists.removeAt(t)}inputChanged(t){console.log(t.srcElement.attributes.formcontrolname.value)}selectFile(t){this.files=[],this.files.push(...t.addedFiles)}onRemove(t){console.log(t),this.files.splice(this.files.indexOf(t),1)}pushFileToStorage(t){const o=`${this.basePath}/${t.file.name}`,s=this.storage.ref(o),l=this.storage.upload(o,t.file);return l.snapshotChanges().pipe(Vc(()=>{s.getDownloadURL().subscribe(h=>{t.url=h,console.log(t.url),this.selectedFile.push(this.fb.group({imageurl:new mn(t.url)})),t.name=t.file.name,this.dbupload.list(this.basePath).push(t)})})).subscribe(),l.percentageChanges()}upload(){for(const t of this.files)t&&(this.currentFileUpload=new Ay(t),this.pushFileToStorage(this.currentFileUpload).subscribe(o=>{this.percentage=Math.round(o||0)},o=>{console.log(o)}),console.log(this.currentFileUpload?.url))}getallCategory(){this.productser.getAllCat().snapshotChanges().pipe((0,Kt.U)(t=>t.map(o=>({id:o.payload.doc.id,...o.payload.doc.data()})))).subscribe(t=>{this.cat2=t,console.log(this.cat2)})}saveProduct(){console.log(this.addproduct.productcat),this.addproduct=this.addForm.value,this.addproduct.mount=0,this.addproduct.BuyMount=0,this.addproduct.saleMount=0,this.auth.userData&&(this.addproduct.email=this.auth.userData.email),this.addproduct.selectedFile=this.addForm.controls.selectedFile.value,console.log(this.addForm.controls.selectedFile.value),this.productser.addproduct(this.addproduct).then(()=>{console.log("created new submit"),this.submitted=!0,this.Toastr.success("\u062a\u0645 \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d");let t=this._router.url;this._router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this._router.navigate([t])})})}newproduct(){this.submitted=!1,this.addproduct=new Am}addnewcat(){}saveCatlist(){this.category=this.form.value,console.log(this.category),this.productser.addCatlist(this.category).then(()=>{}),this.closeModalEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(dw),a.Y36(_c),a.Y36(_r),a.Y36(Tp),a.Y36(zA),a.Y36(oT),a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-add-product"]],inputs:{selectedValues:"selectedValues"},outputs:{valueChange:"valueChange"},decls:18,vars:1,consts:[[1,"d-flex","flex-row","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../home",2,"text-decoration","none"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","../addProduct",2,"text-decoration","none"],[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"mb-3"],[4,"ngIf"],[1,"mt-5","col-md-12","m-auto",3,"formGroup"],[1,"form-row","col-md-12"],[1,"col-lg-6","col-md-12","firstrow"],[1,"col-md-12"],[1,"form-group","col-md-11"],["for","inputState"],["bindLabel","catlists","autofocus","","bindValue","catlists","formControlName","productcat",3,"items","searchable","required"],["type","button","data-toggle","modal","data-target","#exampleModalLong",1,"btn","btn-primary","col-md-1","mt-4"],[1,"fa","fa-plus","text-white"],["id","exampleModalLong","tabindex","-1","role","dialog","aria-labelledby","exampleModalLongTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLongTitle","data-dismiss","modal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],["formArrayName","catlists"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"fa","fa-plus"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"form-row"],[1,"form-group","col-md-12","mt-3"],["for","inputEmail4"],["type","text","name","productname","placeholder","\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c","formControlName","productname",1,"form-control"],["class","text-danger",4,"ngIf"],["for","inputPassword4"],["type","number","name","productcode","placeholder","\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062f","formControlName","productcode",1,"form-control"],["for","inputAddress"],["type","number","name","saleprice","placeholder","\u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639","formControlName","saleprice",1,"form-control"],["for","inputAddress2 col-md-12"],["type","number","name","buyprice","placeholder","\u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629","ngModel","","formControlName","buyprice",1,"form-control"],[1,"col-md-6"],[1,"form-group","col-md-12"],[3,"change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed",4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm","uploadbtn",3,"disabled","hidden","click"],["class","progress mt-2",4,"ngIf"],["name"," notice","rows","3","formControlName","notice",1,"form-control",2,"resize","none"],[1,"form-group","float-right","mt-5","d-flex","flex-row","justify-content-end","col-md-12"],["type","submit",1,"btn","btn-warning","text-white","m-2",3,"disabled","click"],[1,"btn","btn-danger","m-2"],[1,"form-group","col-md-11","mt-3"],["type","text","placeholder","",1,"form-control","addcat",3,"formControlName","id","input"],[1,"btn","btn-danger","col-md-1","mt-3",3,"click"],[1,"fa","fa-trash-alt"],[1,"text-danger"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed"],[3,"src"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",3,"ngStyle"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2," \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 "),a.qZA(),a.TgZ(3,"ol",2)(4,"li",3)(5,"a",4),a._uU(6,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629/"),a.qZA()(),a.TgZ(7,"li",5)(8,"a",6),a._uU(9," \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"),a.qZA()()()(),a.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"h6",10),a._uU(14,"\u0627\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c"),a.qZA()(),a.TgZ(15,"div",11)(16,"div",12),a.YNc(17,DL,74,15,"div",13),a.qZA()()()()),2&t&&(a.xp6(17),a.Q6J("ngIf",!o.submitted))},dependencies:[Jt,Sn,fo,p,ko,I,Qs,wa,$a,No,lT,Js,Ku,nf,ZM,jM,GM],styles:[".imagepreview[_ngcontent-%COMP%]{width:200px;height:200px;padding:7px}.uploadbtn[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;box-shadow:2px 2px #faf6f6}.addcat[_ngcontent-%COMP%]{margin-top:2px}@media (min-width:785px){.firstrow[_ngcontent-%COMP%]{border-left:3px dashed green}}"]}),e})();var oa,ei,rr,Uo,IL=ae(5226),vf=ae.n(IL),de=ae(8259),At=function(e,i){if(At.factory(e,i))return At;if(this instanceof At)return de(e).DataTable(i);i=e,this.$=function(h,v){return this.api(!0).$(h,v)},this._=function(h,v){return this.api(!0).rows(h,v).data()},this.api=function(h){return new ei(h?AD(this[oa.iApiIndex]):this)},this.fnAddData=function(h,v){var w=this.api(!0),D=Array.isArray(h)&&(Array.isArray(h[0])||de.isPlainObject(h[0]))?w.rows.add(h):w.row.add(h);return(void 0===v||v)&&w.draw(),D.flatten().toArray()},this.fnAdjustColumnSizing=function(h){var v=this.api(!0).columns.adjust(),w=v.settings()[0],D=w.oScroll;void 0===h||h?v.draw(!1):(""!==D.sX||""!==D.sY)&&TD(w)},this.fnClearTable=function(h){var v=this.api(!0).clear();(void 0===h||h)&&v.draw()},this.fnClose=function(h){this.api(!0).row(h).child.hide()},this.fnDeleteRow=function(h,v,w){var D=this.api(!0),M=D.rows(h),k=M.settings()[0],H=k.aoData[M[0][0]];return M.remove(),v&&v.call(this,k,H),(void 0===w||w)&&D.draw(),H},this.fnDestroy=function(h){this.api(!0).destroy(h)},this.fnDraw=function(h){this.api(!0).draw(h)},this.fnFilter=function(h,v,w,D,M,k){var H=this.api(!0);null==v?H.search(h,w,D,k):H.column(v).search(h,w,D,k),H.draw()},this.fnGetData=function(h,v){var w=this.api(!0);if(void 0!==h){var D=h.nodeName?h.nodeName.toLowerCase():"";return void 0!==v||"td"==D||"th"==D?w.cell(h,v).data():w.row(h).data()||null}return w.data().toArray()},this.fnGetNodes=function(h){var v=this.api(!0);return void 0!==h?v.row(h).node():v.rows().nodes().flatten().toArray()},this.fnGetPosition=function(h){var v=this.api(!0),w=h.nodeName.toUpperCase();if("TR"==w)return v.row(h).index();if("TD"==w||"TH"==w){var D=v.cell(h).index();return[D.row,D.columnVisible,D.column]}return null},this.fnIsOpen=function(h){return this.api(!0).row(h).child.isShown()},this.fnOpen=function(h,v,w){return this.api(!0).row(h).child(v,w).show().child()[0]},this.fnPageChange=function(h,v){var w=this.api(!0).page(h);(void 0===v||v)&&w.draw(!1)},this.fnSetColumnVis=function(h,v,w){var D=this.api(!0).column(h).visible(v);(void 0===w||w)&&D.columns.adjust().draw()},this.fnSettings=function(){return AD(this[oa.iApiIndex])},this.fnSort=function(h){this.api(!0).order(h).draw()},this.fnSortListener=function(h,v,w){this.api(!0).order.listener(h,v,w)},this.fnUpdate=function(h,v,w,D,M){var k=this.api(!0);return null==w?k.row(v).data(h):k.cell(v,w).data(h),(void 0===M||M)&&k.columns.adjust(),(void 0===D||D)&&k.draw(),0},this.fnVersionCheck=oa.fnVersionCheck;var t=this,o=void 0===i,s=this.length;for(var l in o&&(i={}),this.oApi=this.internal=oa.internal,At.ext.internal)l&&(this[l]=HO(l));return this.each(function(){var D,v=s>1?U6({},i,!0):i,w=0,X=this.getAttribute("id"),ue=!1,ve=At.defaults,Ne=de(this);if("table"==this.nodeName.toLowerCase()){XM(ve),eO(ve.column),jg(ve,ve,!0),jg(ve.column,ve.column,!0),jg(ve,de.extend(v,Ne.data()),!0);var Ue=At.settings;for(w=0,D=Ue.length;w<D;w++){var et=Ue[w];if(et.nTable==this||et.nTHead&&et.nTHead.parentNode==this||et.nTFoot&&et.nTFoot.parentNode==this){if(o||(void 0!==v.bRetrieve?v.bRetrieve:ve.bRetrieve))return et.oInstance;if(void 0!==v.bDestroy?v.bDestroy:ve.bDestroy){et.oInstance.fnDestroy();break}return void yf(et,0,"Cannot reinitialise DataTable",3)}if(et.sTableId==this.id){Ue.splice(w,1);break}}(null===X||""===X)&&(X="DataTables_Table_"+At.ext._unique++,this.id=X);var Ze=de.extend(!0,{},At.models.oSettings,{sDestroyWidth:Ne[0].style.width,sInstance:X,sTableId:X});Ze.nTable=this,Ze.oApi=t.internal,Ze.oInit=v,Ue.push(Ze),Ze.oInstance=1===t.length?t:Ne.dataTable(),XM(v),C6(v.oLanguage),v.aLengthMenu&&!v.iDisplayLength&&(v.iDisplayLength=Array.isArray(v.aLengthMenu[0])?v.aLengthMenu[0][0]:v.aLengthMenu[0]),v=U6(de.extend(!0,{},ve),v),Th(Ze.oFeatures,v,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Th(Ze,v,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Th(Ze.oScroll,v,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Th(Ze.oLanguage,v,"fnInfoCallback"),ql(Ze,"aoDrawCallback",v.fnDrawCallback,"user"),ql(Ze,"aoServerParams",v.fnServerParams,"user"),ql(Ze,"aoStateSaveParams",v.fnStateSaveParams,"user"),ql(Ze,"aoStateLoadParams",v.fnStateLoadParams,"user"),ql(Ze,"aoStateLoaded",v.fnStateLoaded,"user"),ql(Ze,"aoRowCallback",v.fnRowCallback,"user"),ql(Ze,"aoRowCreatedCallback",v.fnCreatedRow,"user"),ql(Ze,"aoHeaderCallback",v.fnHeaderCallback,"user"),ql(Ze,"aoFooterCallback",v.fnFooterCallback,"user"),ql(Ze,"aoInitComplete",v.fnInitComplete,"user"),ql(Ze,"aoPreDrawCallback",v.fnPreDrawCallback,"user"),Ze.rowIdFn=mw(v.rowId),tO(Ze);var Nn=Ze.oClasses;if(de.extend(Nn,At.ext.classes,v.oClasses),Ne.addClass(Nn.sTable),void 0===Ze.iInitDisplayStart&&(Ze.iInitDisplayStart=v.iDisplayStart,Ze._iDisplayStart=v.iDisplayStart),null!==v.iDeferLoading){Ze.bDeferLoading=!0;var Ti=Array.isArray(v.iDeferLoading);Ze._iRecordsDisplay=Ti?v.iDeferLoading[0]:v.iDeferLoading,Ze._iRecordsTotal=Ti?v.iDeferLoading[1]:v.iDeferLoading}var Qn=Ze.oLanguage;de.extend(!0,Qn,v.oLanguage),Qn.sUrl?(de.ajax({dataType:"json",url:Qn.sUrl,success:function(Qt){jg(ve.oLanguage,Qt),C6(Qt),de.extend(!0,Qn,Qt,Ze.oInit.oLanguage),Ni(Ze,null,"i18n",[Ze]),ET(Ze)},error:function(){ET(Ze)}}),ue=!0):Ni(Ze,null,"i18n",[Ze]),null===v.asStripeClasses&&(Ze.asStripeClasses=[Nn.sStripeOdd,Nn.sStripeEven]);var ti=Ze.asStripeClasses,ao=Ne.children("tbody").find("tr").eq(0);-1!==de.inArray(!0,de.map(ti,function(Qt,ur){return ao.hasClass(Qt)}))&&(de("tbody tr",this).removeClass(ti.join(" ")),Ze.asDestroyStripes=ti.slice());var ki,Co=[],Xa=this.getElementsByTagName("thead");if(0!==Xa.length&&(wT(Ze.aoHeader,Xa[0]),Co=yD(Ze)),null===v.aoColumns)for(ki=[],w=0,D=Co.length;w<D;w++)ki.push(null);else ki=v.aoColumns;for(w=0,D=ki.length;w<D;w++)T6(Ze,Co?Co[w]:null);if(rO(Ze,v.aoColumnDefs,ki,function(Qt,ur){hD(Ze,Qt,ur)}),ao.length){var sl=function(Qt,ur){return null!==Qt.getAttribute("data-"+ur)?ur:null};de(ao[0]).children("th, td").each(function(Qt,ur){var li=Ze.aoColumns[Qt];if(li||yf(Ze,0,"Incorrect column count",18),li.mData===Qt){var uo=sl(ur,"sort")||sl(ur,"order"),lo=sl(ur,"filter")||sl(ur,"search");(null!==uo||null!==lo)&&(li.mData={_:Qt+".display",sort:null!==uo?Qt+".@data-"+uo:void 0,type:null!==uo?Qt+".@data-"+uo:void 0,filter:null!==lo?Qt+".@data-"+lo:void 0},li._isArrayHost=!0,hD(Ze,Qt))}})}var en=Ze.oFeatures,xn=function(){if(void 0===v.aaSorting){var Qt=Ze.aaSorting;for(w=0,D=Qt.length;w<D;w++)Qt[w][1]=Ze.aoColumns[w].asSorting[0]}ED(Ze),en.bSort&&ql(Ze,"aoDrawCallback",function(){if(Ze.bSorted){var Zl=vw(Ze),Ri={};de.each(Zl,function(bw,a_){Ri[a_.src]=a_.dir}),Ni(Ze,null,"order",[Ze,Zl,Ri]),IO(Ze)}}),ql(Ze,"aoDrawCallback",function(){(Ze.bSorted||"ssp"===ol(Ze)||en.bDeferRender)&&ED(Ze)},"sc");var ur=Ne.children("caption").each(function(){this._captionSide=de(this).css("caption-side")}),li=Ne.children("thead");0===li.length&&(li=de("<thead/>").appendTo(Ne)),Ze.nTHead=li[0];var uo=Ne.children("tbody");0===uo.length&&(uo=de("<tbody/>").insertAfter(li)),Ze.nTBody=uo[0];var lo=Ne.children("tfoot");if(0===lo.length&&ur.length>0&&(""!==Ze.oScroll.sX||""!==Ze.oScroll.sY)&&(lo=de("<tfoot/>").appendTo(Ne)),0===lo.length||0===lo.children().length?Ne.addClass(Nn.sNoFooter):lo.length>0&&(Ze.nTFoot=lo[0],wT(Ze.aoFooter,Ze.nTFoot)),v.aaData)for(w=0;w<v.aaData.length;w++)Hv(Ze,v.aaData[w]);else(Ze.bDeferLoading||"dom"==ol(Ze))&&gD(Ze,de(Ze.nTBody).children("tr"));Ze.aiDisplay=Ze.aiDisplayMaster.slice(),Ze.bInitialised=!0,!1===ue&&ET(Ze)};ql(Ze,"aoDrawCallback",AT,"state_save"),v.bStateSave?(en.bStateSave=!0,PO(Ze,0,xn)):xn()}else yf(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),t=null,this},_6={},$M=/[\r\n\u2028]/g,dD=/<.*?>/g,PL=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,ML=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),b6=/['\u00A0,$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk\u0243\u039e]/gi,Ep=function(e){return!e||!0===e||"-"===e},zM=function(e){var i=parseInt(e,10);return!isNaN(i)&&isFinite(e)?i:null},WM=function(e,i){return _6[i]||(_6[i]=new RegExp(M6(i),"g")),"string"==typeof e&&"."!==i?e.replace(/\./g,"").replace(_6[i],"."):e},w6=function(e,i,t){var o=typeof e,s="string"===o;return!("number"!==o&&"bigint"!==o&&!Ep(e))||(i&&s&&(e=WM(e,i)),t&&s&&(e=e.replace(b6,"")),!isNaN(parseFloat(e))&&isFinite(e))},YM=function(e,i,t){if(Ep(e))return!0;var o=function(e){return Ep(e)||"string"==typeof e}(e);return!(!o||!w6(NL(e),i,t))||null},fd=function(e,i,t){var o=[],s=0,l=e.length;if(void 0!==t)for(;s<l;s++)e[s]&&e[s][i]&&o.push(e[s][i][t]);else for(;s<l;s++)e[s]&&o.push(e[s][i]);return o},hT=function(e,i,t,o){var s=[],l=0,h=i.length;if(void 0!==o)for(;l<h;l++)e[i[l]][t]&&s.push(e[i[l]][t][o]);else for(;l<h;l++)s.push(e[i[l]][t]);return s},hw=function(e,i){var o,t=[];void 0===i?(i=0,o=e):(o=i,i=e);for(var s=i;s<o;s++)t.push(s);return t},KM=function(e){for(var i=[],t=0,o=e.length;t<o;t++)e[t]&&i.push(e[t]);return i},NL=function(e){return e.replace(dD,"").replace(/<script/i,"")},fD=function(e){if(function(e){if(e.length<2)return!0;for(var i=e.slice().sort(),t=i[0],o=1,s=i.length;o<s;o++){if(i[o]===t)return!1;t=i[o]}return!0}(e))return e.slice();var t,o,l,i=[],s=e.length,h=0;e:for(o=0;o<s;o++){for(t=e[o],l=0;l<h;l++)if(i[l]===t)continue e;i.push(t),h++}return i},QM=function(e,i){if(Array.isArray(i))for(var t=0;t<i.length;t++)QM(e,i[t]);else e.push(i);return e},JM=function(e,i){return void 0===i&&(i=0),-1!==this.indexOf(e,i)};function pT(e){var t,o,s={};de.each(e,function(l,h){(t=l.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(t[1]+" ")&&(o=l.replace(t[0],t[2].toLowerCase()),s[o]=l,"o"===t[1]&&pT(e[l]))}),e._hungarianMap=s}function jg(e,i,t){var o;e._hungarianMap||pT(e),de.each(i,function(s,l){void 0!==(o=e._hungarianMap[s])&&(t||void 0===i[o])&&("o"===o.charAt(0)?(i[o]||(i[o]={}),de.extend(!0,i[o],i[s]),jg(e[o],i[o],t)):i[o]=i[s])})}function C6(e){var i=At.defaults.oLanguage,t=i.sDecimal;if(t&&$6(t),e){var o=e.sZeroRecords;!e.sEmptyTable&&o&&"No data available in table"===i.sEmptyTable&&Th(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&o&&"Loading..."===i.sLoadingRecords&&Th(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var s=e.sDecimal;s&&t!==s&&$6(s)}}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.includes||(Array.prototype.includes=JM),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=JM),At.util={throttle:function(e,i){var o,s,t=void 0!==i?i:200;return function(){var l=this,h=+new Date,v=arguments;o&&h<o+t?(clearTimeout(s),s=setTimeout(function(){o=void 0,e.apply(l,v)},t)):(o=h,e.apply(l,v))}},escapeRegex:function(e){return e.replace(ML,"\\$1")},set:function(e){if(de.isPlainObject(e))return At.util.set(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,o,s){e(t,"set",o,s)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,o){t[e]=o};var i=function(t,o,s){for(var h,w,D,M,k,l=A6(s),v=l[l.length-1],H=0,J=l.length-1;H<J;H++){if("__proto__"===l[H]||"constructor"===l[H])throw new Error("Cannot set prototype values");if(w=l[H].match(yT),D=l[H].match(gw),w){if(l[H]=l[H].replace(yT,""),t[l[H]]=[],(h=l.slice()).splice(0,H+1),k=h.join("."),Array.isArray(o))for(var X=0,ue=o.length;X<ue;X++)i(M={},o[X],k),t[l[H]].push(M);else t[l[H]]=o;return}D&&(l[H]=l[H].replace(gw,""),t=t[l[H]](o)),null==t[l[H]]&&(t[l[H]]={}),t=t[l[H]]}v.match(gw)?t=t[v.replace(gw,"")](o):t[v.replace(yT,"")]=o};return function(t,o){return i(t,o,e)}},get:function(e){if(de.isPlainObject(e)){var i={};return de.each(e,function(o,s){s&&(i[o]=At.util.get(s))}),function(o,s,l,h){var v=i[s]||i._;return void 0!==v?v(o,s,l,h):o}}if(null===e)return function(o){return o};if("function"==typeof e)return function(o,s,l,h){return e(o,s,l,h)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(o,s){return o[e]};var t=function(o,s,l){var h,v,w,D;if(""!==l)for(var M=A6(l),k=0,H=M.length;k<H;k++){if(h=M[k].match(yT),v=M[k].match(gw),h){if(M[k]=M[k].replace(yT,""),""!==M[k]&&(o=o[M[k]]),w=[],M.splice(0,k+1),D=M.join("."),Array.isArray(o))for(var J=0,X=o.length;J<X;J++)w.push(t(o[J],s,D));var ue=h[0].substring(1,h[0].length-1);o=""===ue?w:w.join(ue);break}if(v)M[k]=M[k].replace(gw,""),o=o[M[k]]();else{if(null===o||null===o[M[k]])return null;if(void 0===o||void 0===o[M[k]])return;o=o[M[k]]}}return o};return function(o,s){return t(o,s,e)}}};var Sc=function(e,i,t){void 0!==e[i]&&(e[t]=e[i])};function XM(e){Sc(e,"ordering","bSort"),Sc(e,"orderMulti","bSortMulti"),Sc(e,"orderClasses","bSortClasses"),Sc(e,"orderCellsTop","bSortCellsTop"),Sc(e,"order","aaSorting"),Sc(e,"orderFixed","aaSortingFixed"),Sc(e,"paging","bPaginate"),Sc(e,"pagingType","sPaginationType"),Sc(e,"pageLength","iDisplayLength"),Sc(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":"");var i=e.aoSearchCols;if(i)for(var t=0,o=i.length;t<o;t++)i[t]&&jg(At.models.oSearch,i[t])}function eO(e){Sc(e,"orderable","bSortable"),Sc(e,"orderData","aDataSort"),Sc(e,"orderSequence","asSorting"),Sc(e,"orderDataType","sortDataType");var i=e.aDataSort;"number"==typeof i&&!Array.isArray(i)&&(e.aDataSort=[i])}function tO(e){if(!At.__browser){var i={};At.__browser=i;var t=de("<div/>").css({position:"fixed",top:0,left:-1*de(window).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(de("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(de("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=t.children(),s=o.children();i.barWidth=o[0].offsetWidth-o[0].clientWidth,i.bScrollOversize=100===s[0].offsetWidth&&100!==o[0].clientWidth,i.bScrollbarLeft=1!==Math.round(s.offset().left),i.bBounding=!!t[0].getBoundingClientRect().width,t.remove()}de.extend(e.oBrowser,At.__browser),e.oScroll.iBarWidth=At.__browser.barWidth}function nO(e,i,t,o,s,l){var v,h=o,w=!1;for(void 0!==t&&(v=t,w=!0);h!==s;)!e.hasOwnProperty(h)||(v=w?i(v,e[h],h,e):e[h],w=!0,h+=l);return v}function T6(e,i){var t=At.defaults.column,o=e.aoColumns.length,s=de.extend({},At.models.oColumn,t,{nTh:i||document.createElement("th"),sTitle:t.sTitle?t.sTitle:i?i.innerHTML:"",aDataSort:t.aDataSort?t.aDataSort:[o],mData:t.mData?t.mData:o,idx:o});e.aoColumns.push(s);var l=e.aoPreSearchCols;l[o]=de.extend({},At.models.oSearch,l[o]),hD(e,o,de(i).data())}function hD(e,i,t){var o=e.aoColumns[i],s=e.oClasses,l=de(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=l.attr("width")||null;var h=(l.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);h&&(o.sWidthOrig=h[1])}if(null!=t){eO(t),jg(At.defaults.column,t,!0),void 0!==t.mDataProp&&!t.mData&&(t.mData=t.mDataProp),t.sType&&(o._sManualType=t.sType),t.className&&!t.sClass&&(t.sClass=t.className),t.sClass&&l.addClass(t.sClass);var v=o.sClass;de.extend(o,t),Th(o,t,"sWidth","sWidthOrig"),v!==o.sClass&&(o.sClass=v+" "+o.sClass),void 0!==t.iDataSort&&(o.aDataSort=[t.iDataSort]),Th(o,t,"aDataSort")}var w=o.mData,D=mw(w),M=o.mRender?mw(o.mRender):null,k=function(X){return"string"==typeof X&&-1!==X.indexOf("@")};o._bAttrSrc=de.isPlainObject(w)&&(k(w.sort)||k(w.type)||k(w.filter)),o._setter=null,o.fnGetData=function(X,ue,ve){var Ne=D(X,ue,void 0,ve);return M&&ue?M(Ne,ue,X,ve):Ne},o.fnSetData=function(X,ue,ve){return qv(w)(X,ue,ve)},"number"!=typeof w&&!o._isArrayHost&&(e._rowReadObject=!0),e.oFeatures.bSort||(o.bSortable=!1,l.addClass(s.sSortableNone));var H=-1!==de.inArray("asc",o.asSorting),J=-1!==de.inArray("desc",o.asSorting);o.bSortable&&(H||J)?H&&!J?(o.sSortingClass=s.sSortableAsc,o.sSortingClassJUI=s.sSortJUIAscAllowed):!H&&J?(o.sSortingClass=s.sSortableDesc,o.sSortingClassJUI=s.sSortJUIDescAllowed):(o.sSortingClass=s.sSortable,o.sSortingClassJUI=s.sSortJUI):(o.sSortingClass=s.sSortableNone,o.sSortingClassJUI="")}function gT(e){if(!1!==e.oFeatures.bAutoWidth){var i=e.aoColumns;N6(e);for(var t=0,o=i.length;t<o;t++)i[t].nTh.style.width=i[t].sWidth}var s=e.oScroll;(""!==s.sY||""!==s.sX)&&TD(e),Ni(e,null,"column-sizing",[e])}function mT(e,i){var t=pD(e,"bVisible");return"number"==typeof t[i]?t[i]:null}function vT(e,i){var t=pD(e,"bVisible"),o=de.inArray(i,t);return-1!==o?o:null}function pw(e){var i=0;return de.each(e.aoColumns,function(t,o){o.bVisible&&"none"!==de(o.nTh).css("display")&&i++}),i}function pD(e,i){var t=[];return de.map(e.aoColumns,function(o,s){o[i]&&t.push(s)}),t}function E6(e){var s,l,h,v,w,D,M,H,J,i=e.aoColumns,t=e.aoData,o=At.ext.type.detect;for(s=0,l=i.length;s<l;s++)if(J=[],!(M=i[s]).sType&&M._sManualType)M.sType=M._sManualType;else if(!M.sType){for(h=0,v=o.length;h<v;h++){for(w=0,D=t.length;w<D&&(void 0===J[w]&&(J[w]=Ic(e,w,s,"type")),((H=o[h](J[w],e))||h===o.length-1)&&("html"!==H||Ep(J[w])));w++);if(H){M.sType=H;break}}M.sType||(M.sType="string")}}function rO(e,i,t,o){var s,l,h,v,w,D,M,k=e.aoColumns;if(i)for(s=i.length-1;s>=0;s--){var H=void 0!==(M=i[s]).target?M.target:void 0!==M.targets?M.targets:M.aTargets;for(Array.isArray(H)||(H=[H]),h=0,v=H.length;h<v;h++)if("number"==typeof H[h]&&H[h]>=0){for(;k.length<=H[h];)T6(e);o(H[h],M)}else if("number"==typeof H[h]&&H[h]<0)o(k.length+H[h],M);else if("string"==typeof H[h])for(w=0,D=k.length;w<D;w++)("_all"==H[h]||de(k[w].nTh).hasClass(H[h]))&&o(w,M)}if(t)for(s=0,l=t.length;s<l;s++)o(s,t[s])}function Hv(e,i,t,o){var s=e.aoData.length,l=de.extend(!0,{},At.models.oRow,{src:t?"dom":"data",idx:s});l._aData=i,e.aoData.push(l);for(var w=e.aoColumns,D=0,M=w.length;D<M;D++)w[D].sType=null;e.aiDisplayMaster.push(s);var k=e.rowIdFn(i);return void 0!==k&&(e.aIds[k]=l),(t||!e.oFeatures.bDeferRender)&&I6(e,s,t,o),s}function gD(e,i){var t;return i instanceof de||(i=de(i)),i.map(function(o,s){return t=S6(e,s),Hv(e,t.data,s,t.cells)})}function Ic(e,i,t,o){"search"===o?o="filter":"order"===o&&(o="sort");var s=e.iDraw,l=e.aoColumns[t],h=e.aoData[i]._aData,v=l.sDefaultContent,w=l.fnGetData(h,o,{settings:e,row:i,col:t});if(void 0===w)return e.iDrawError!=s&&null===v&&(yf(e,0,"Requested unknown parameter "+("function"==typeof l.mData?"{function}":"'"+l.mData+"'")+" for row "+i+", column "+t,4),e.iDrawError=s),v;if(w!==h&&null!==w||null===v||void 0===o){if("function"==typeof w)return w.call(h)}else w=v;if(null===w&&"display"===o)return"";if("filter"===o){var D=At.ext.type.search;D[l.sType]&&(w=D[l.sType](w))}return w}function iO(e,i,t,o){e.aoColumns[t].fnSetData(e.aoData[i]._aData,o,{settings:e,row:i,col:t})}var yT=/\[.*?\]$/,gw=/\(\)$/;function A6(e){return de.map(e.match(/(\\.|[^\.])+/g)||[""],function(i){return i.replace(/\\\./g,".")})}var mw=At.util.get,qv=At.util.set;function D6(e){return fd(e.aoData,"_aData")}function mD(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function vD(e,i,t){for(var o=-1,s=0,l=e.length;s<l;s++)e[s]==i?o=s:e[s]>i&&e[s]--;-1!=o&&void 0===t&&e.splice(o,1)}function _T(e,i,t,o){var l,h,s=e.aoData[i],v=function(M,k){for(;M.childNodes.length;)M.removeChild(M.firstChild);M.innerHTML=Ic(e,i,k,"display")};if("dom"!==t&&(t&&"auto"!==t||"dom"!==s.src)){var w=s.anCells;if(w)if(void 0!==o)v(w[o],o);else for(l=0,h=w.length;l<h;l++)v(w[l],l)}else s._aData=S6(e,s,o,void 0===o?void 0:s._aData).data;s._aSortData=null,s._aFilterData=null;var D=e.aoColumns;if(void 0!==o)D[o].sType=null;else{for(l=0,h=D.length;l<h;l++)D[l].sType=null;x6(e,s)}}function S6(e,i,t,o){var h,v,M,s=[],l=i.firstChild,D=0,k=e.aoColumns,H=e._rowReadObject;o=void 0!==o?o:H?{}:[];var J=function(et,_t){if("string"==typeof et){var St=et.indexOf("@");if(-1!==St){var Ze=et.substring(St+1);qv(et)(o,_t.getAttribute(Ze))}}},X=function(et){void 0!==t&&t!==D||(v=k[D],M=et.innerHTML.trim(),v&&v._bAttrSrc?(qv(v.mData._)(o,M),J(v.mData.sort,et),J(v.mData.type,et),J(v.mData.filter,et)):H?(v._setter||(v._setter=qv(v.mData)),v._setter(o,M)):o[D]=M),D++};if(l)for(;l;)("TD"==(h=l.nodeName.toUpperCase())||"TH"==h)&&(X(l),s.push(l)),l=l.nextSibling;else for(var ue=0,ve=(s=i.anCells).length;ue<ve;ue++)X(s[ue]);var Ne=i.firstChild?i:i.nTr;if(Ne){var Ue=Ne.getAttribute("id");Ue&&qv(e.rowId)(o,Ue)}return{data:o,cells:s}}function I6(e,i,t,o){var v,w,D,M,k,H,s=e.aoData[i],l=s._aData,h=[];if(null===s.nTr){for(v=t||document.createElement("tr"),s.nTr=v,s.anCells=h,v._DT_RowIndex=i,x6(e,s),M=0,k=e.aoColumns.length;M<k;M++)D=e.aoColumns[M],(w=(H=!t)?document.createElement(D.sCellType):o[M])||yf(e,0,"Incorrect column count",18),w._DT_CellIndex={row:i,column:M},h.push(w),(H||(D.mRender||D.mData!==M)&&(!de.isPlainObject(D.mData)||D.mData._!==M+".display"))&&(w.innerHTML=Ic(e,i,M,"display")),D.sClass&&(w.className+=" "+D.sClass),D.bVisible&&!t?v.appendChild(w):!D.bVisible&&t&&w.parentNode.removeChild(w),D.fnCreatedCell&&D.fnCreatedCell.call(e.oInstance,w,Ic(e,i,M),l,i,M);Ni(e,"aoRowCreatedCallback",null,[v,l,i,h])}}function x6(e,i){var t=i.nTr,o=i._aData;if(t){var s=e.rowIdFn(o);if(s&&(t.id=s),o.DT_RowClass){var l=o.DT_RowClass.split(" ");i.__rowc=i.__rowc?fD(i.__rowc.concat(l)):l,de(t).removeClass(i.__rowc.join(" ")).addClass(o.DT_RowClass)}o.DT_RowAttr&&de(t).attr(o.DT_RowAttr),o.DT_RowData&&de(t).data(o.DT_RowData)}}function oO(e){var i,t,o,s,l,h=e.nTHead,v=e.nTFoot,w=0===de("th, td",h).length,D=e.oClasses,M=e.aoColumns;for(w&&(s=de("<tr/>").appendTo(h)),i=0,t=M.length;i<t;i++)o=de((l=M[i]).nTh).addClass(l.sClass),w&&o.appendTo(s),e.oFeatures.bSort&&(o.addClass(l.sSortingClass),!1!==l.bSortable&&(o.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),F6(e,l.nTh,i))),l.sTitle!=o[0].innerHTML&&o.html(l.sTitle),j6(e,"header")(e,o,l,D);if(w&&wT(e.aoHeader,h),de(h).children("tr").children("th, td").addClass(D.sHeaderTH),de(v).children("tr").children("th, td").addClass(D.sFooterTH),null!==v){var k=e.aoFooter[0];for(i=0,t=k.length;i<t;i++)(l=M[i])?(l.nTf=k[i].cell,l.sClass&&de(l.nTf).addClass(l.sClass)):yf(e,0,"Incorrect column count",18)}}function bT(e,i,t){var o,s,l,h,v,D,M,X,ue,k=[],H=[],J=e.aoColumns.length;if(i){for(void 0===t&&(t=!1),o=0,s=i.length;o<s;o++){for(k[o]=i[o].slice(),k[o].nTr=i[o].nTr,l=J-1;l>=0;l--)!e.aoColumns[l].bVisible&&!t&&k[o].splice(l,1);H.push([])}for(o=0,s=k.length;o<s;o++){if(M=k[o].nTr)for(;D=M.firstChild;)M.removeChild(D);for(l=0,h=k[o].length;l<h;l++)if(X=1,ue=1,void 0===H[o][l]){for(M.appendChild(k[o][l].cell),H[o][l]=1;void 0!==k[o+X]&&k[o][l].cell==k[o+X][l].cell;)H[o+X][l]=1,X++;for(;void 0!==k[o][l+ue]&&k[o][l].cell==k[o][l+ue].cell;){for(v=0;v<X;v++)H[o+v][l+ue]=1;ue++}de(k[o][l].cell).attr("rowspan",X).attr("colspan",ue)}}}}function Zv(e,i){!function LL(e){var i="ssp"==ol(e),t=e.iInitDisplayStart;void 0!==t&&-1!==t&&(e._iDisplayStart=i?t:t>=e.fnRecordsDisplay()?0:t,e.iInitDisplayStart=-1)}(e);var t=Ni(e,"aoPreDrawCallback","preDraw",[e]);if(-1===de.inArray(!1,t)){var o=[],s=0,l=e.asStripeClasses,h=l.length,v=e.oLanguage,w="ssp"==ol(e),D=e.aiDisplay,M=e._iDisplayStart,k=e.fnDisplayEnd();if(e.bDrawing=!0,e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,hd(e,!1);else if(w){if(!e.bDestroying&&!i)return void aO(e)}else e.iDraw++;if(0!==D.length)for(var J=w?e.aoData.length:k,X=w?0:M;X<J;X++){var ue=D[X],ve=e.aoData[ue];null===ve.nTr&&I6(e,ue);var Ne=ve.nTr;if(0!==h){var Ue=l[s%h];ve._sRowStripe!=Ue&&(de(Ne).removeClass(ve._sRowStripe).addClass(Ue),ve._sRowStripe=Ue)}Ni(e,"aoRowCallback",null,[Ne,ve._aData,s,X,ue]),o.push(Ne),s++}else{var et=v.sZeroRecords;1==e.iDraw&&"ajax"==ol(e)?et=v.sLoadingRecords:v.sEmptyTable&&0===e.fnRecordsTotal()&&(et=v.sEmptyTable),o[0]=de("<tr/>",{class:h?l[0]:""}).append(de("<td />",{valign:"top",colSpan:pw(e),class:e.oClasses.sRowEmpty}).html(et))[0]}Ni(e,"aoHeaderCallback","header",[de(e.nTHead).children("tr")[0],D6(e),M,k,D]),Ni(e,"aoFooterCallback","footer",[de(e.nTFoot).children("tr")[0],D6(e),M,k,D]);var _t=de(e.nTBody);_t.children().detach(),_t.append(de(o)),Ni(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else hd(e,!1)}function r_(e,i){var t=e.oFeatures,s=t.bFilter;t.bSort&&SO(e),s?TT(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==i&&(e._iDisplayStart=0),e._drawHold=i,Zv(e),e._drawHold=!1}function sO(e){var i=e.oClasses,t=de(e.nTable),o=de("<div/>").insertBefore(t),s=e.oFeatures,l=de("<div/>",{id:e.sTableId+"_wrapper",class:i.sWrapper+(e.nTFoot?"":" "+i.sNoFooter)});e.nHolding=o[0],e.nTableWrapper=l[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var v,w,D,M,k,H,h=e.sDom.split(""),J=0;J<h.length;J++){if(v=null,"<"==(w=h[J])){if(D=de("<div/>")[0],"'"==(M=h[J+1])||'"'==M){for(k="",H=2;h[J+H]!=M;)k+=h[J+H],H++;if("H"==k?k=i.sJUIHeader:"F"==k&&(k=i.sJUIFooter),-1!=k.indexOf(".")){var X=k.split(".");D.id=X[0].substr(1,X[0].length-1),D.className=X[1]}else"#"==k.charAt(0)?D.id=k.substr(1,k.length-1):D.className=k;J+=H}l.append(D),l=de(D)}else if(">"==w)l=l.parent();else if("l"==w&&s.bPaginate&&s.bLengthChange)v=bO(e);else if("f"==w&&s.bFilter)v=cO(e);else if("r"==w&&s.bProcessing)v=CO(e);else if("t"==w)v=TO(e);else if("i"==w&&s.bInfo)v=vO(e);else if("p"==w&&s.bPaginate)v=wO(e);else if(0!==At.ext.feature.length)for(var ue=At.ext.feature,ve=0,Ne=ue.length;ve<Ne;ve++)if(w==ue[ve].cFeature){v=ue[ve].fnInit(e);break}if(v){var Ue=e.aanFeatures;Ue[w]||(Ue[w]=[]),Ue[w].push(v),l.append(v)}}o.replaceWith(l),e.nHolding=null}function wT(e,i){var o,s,l,h,v,w,M,H,J,X,t=de(i).children("tr"),ue=function(ve,Ne,Ue){for(var et=ve[Ne];et[Ue];)Ue++;return Ue};for(e.splice(0,e.length),l=0,w=t.length;l<w;l++)e.push([]);for(l=0,w=t.length;l<w;l++)for(s=(o=t[l]).firstChild;s;){if("TD"==s.nodeName.toUpperCase()||"TH"==s.nodeName.toUpperCase())for(H=(H=1*s.getAttribute("colspan"))&&0!==H&&1!==H?H:1,J=(J=1*s.getAttribute("rowspan"))&&0!==J&&1!==J?J:1,M=ue(e,l,0),X=1===H,v=0;v<H;v++)for(h=0;h<J;h++)e[l+h][M+v]={cell:s,unique:X},e[l+h].nTr=o;s=s.nextSibling}}function yD(e,i,t){var o=[];t||(t=e.aoHeader,i&&wT(t=[],i));for(var s=0,l=t.length;s<l;s++)for(var h=0,v=t[s].length;h<v;h++)t[s][h].unique&&(!o[h]||!e.bSortCellsTop)&&(o[h]=t[s][h].cell);return o}function _D(e,i,t){if(Ni(e,"aoServerParams","serverParams",[i]),i&&Array.isArray(i)){var o={},s=/(.*?)\[\]$/;de.each(i,function(k,H){var J=H.name.match(s);if(J){var X=J[0];o[X]||(o[X]=[]),o[X].push(H.value)}else o[H.name]=H.value}),i=o}var l,h=e.ajax,v=e.oInstance,w=function(k){var H=e.jqXHR?e.jqXHR.status:null;(null===k||"number"==typeof H&&204==H)&&CT(e,k={},[]);var J=k.error||k.sError;J&&yf(e,0,J),e.json=k,Ni(e,null,"xhr",[e,k,e.jqXHR]),t(k)};if(de.isPlainObject(h)&&h.data){var D="function"==typeof(l=h.data)?l(i,e):l;i="function"==typeof l&&D?D:de.extend(!0,i,D),delete h.data}var M={data:i,success:w,dataType:"json",cache:!1,type:e.sServerMethod,error:function(k,H,J){var X=Ni(e,null,"xhr",[e,null,e.jqXHR]);-1===de.inArray(!0,X)&&("parsererror"==H?yf(e,0,"Invalid JSON response",1):4===k.readyState&&yf(e,0,"Ajax error",7)),hd(e,!1)}};e.oAjaxData=i,Ni(e,null,"preXhr",[e,i]),e.fnServerData?e.fnServerData.call(v,e.sAjaxSource,de.map(i,function(k,H){return{name:H,value:k}}),w,e):e.sAjaxSource||"string"==typeof h?e.jqXHR=de.ajax(de.extend(M,{url:h||e.sAjaxSource})):"function"==typeof h?e.jqXHR=h.call(v,i,w,e):(e.jqXHR=de.ajax(de.extend(M,h)),h.data=l)}function aO(e){e.iDraw++,hd(e,!0);var i=e._drawHold;_D(e,uO(e),function(t){e._drawHold=i,lO(e,t),e._drawHold=!1})}function uO(e){var h,w,D,M,i=e.aoColumns,t=i.length,o=e.oFeatures,s=e.oPreviousSearch,l=e.aoPreSearchCols,v=[],k=vw(e),H=e._iDisplayStart,J=!1!==o.bPaginate?e._iDisplayLength:-1,X=function(Ne,Ue){v.push({name:Ne,value:Ue})};X("sEcho",e.iDraw),X("iColumns",t),X("sColumns",fd(i,"sName").join(",")),X("iDisplayStart",H),X("iDisplayLength",J);var ue={draw:e.iDraw,columns:[],order:[],start:H,length:J,search:{value:s.sSearch,regex:s.bRegex}};for(h=0;h<t;h++)ue.columns.push({data:w="function"==typeof(D=i[h]).mData?"function":D.mData,name:D.sName,searchable:D.bSearchable,orderable:D.bSortable,search:{value:(M=l[h]).sSearch,regex:M.bRegex}}),X("mDataProp_"+h,w),o.bFilter&&(X("sSearch_"+h,M.sSearch),X("bRegex_"+h,M.bRegex),X("bSearchable_"+h,D.bSearchable)),o.bSort&&X("bSortable_"+h,D.bSortable);o.bFilter&&(X("sSearch",s.sSearch),X("bRegex",s.bRegex)),o.bSort&&(de.each(k,function(Ne,Ue){ue.order.push({column:Ue.col,dir:Ue.dir}),X("iSortCol_"+Ne,Ue.col),X("sSortDir_"+Ne,Ue.dir)}),X("iSortingCols",k.length));var ve=At.ext.legacy.ajax;return null===ve?e.sAjaxSource?v:ue:ve?v:ue}function lO(e,i){var t=function(D,M){return void 0!==i[D]?i[D]:i[M]},o=CT(e,i),s=t("sEcho","draw"),l=t("iTotalRecords","recordsTotal"),h=t("iTotalDisplayRecords","recordsFiltered");if(void 0!==s){if(1*s<e.iDraw)return;e.iDraw=1*s}o||(o=[]),mD(e),e._iRecordsTotal=parseInt(l,10),e._iRecordsDisplay=parseInt(h,10);for(var v=0,w=o.length;v<w;v++)Hv(e,o[v]);e.aiDisplay=e.aiDisplayMaster.slice(),Zv(e,!0),e._bInitComplete||wD(e,i),hd(e,!1)}function CT(e,i,t){var o=de.isPlainObject(e.ajax)&&void 0!==e.ajax.dataSrc?e.ajax.dataSrc:e.sAjaxDataProp;if(!t)return"data"===o?i.aaData||i[o]:""!==o?mw(o)(i):i;qv(o)(i,t)}function cO(e){var i=e.oClasses,t=e.sTableId,o=e.oLanguage,s=e.oPreviousSearch,l=e.aanFeatures,h='<input type="search" class="'+i.sFilterInput+'"/>',v=o.sSearch;v=v.match(/_INPUT_/)?v.replace("_INPUT_",h):v+h;var w=de("<div/>",{id:l.f?null:t+"_filter",class:i.sFilter}).append(de("<label/>").append(v)),D=function(H){var X=this.value?this.value:"";s.return&&"Enter"!==H.key||X!=s.sSearch&&(TT(e,{sSearch:X,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive,return:s.return}),e._iDisplayStart=0,Zv(e))},M=null!==e.searchDelay?e.searchDelay:"ssp"===ol(e)?400:0,k=de("input",w).val(s.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",M?k6(D,M):D).on("mouseup.DT",function(H){setTimeout(function(){D.call(k[0],H)},10)}).on("keypress.DT",function(H){if(13==H.keyCode)return!1}).attr("aria-controls",t);return de(e.nTable).on("search.dt.DT",function(H,J){if(e===J)try{k[0]!==document.activeElement&&k.val(s.sSearch)}catch{}}),w[0]}function TT(e,i,t){var o=e.oPreviousSearch,s=e.aoPreSearchCols,l=function(w){o.sSearch=w.sSearch,o.bRegex=w.bRegex,o.bSmart=w.bSmart,o.bCaseInsensitive=w.bCaseInsensitive,o.return=w.return},h=function(w){return void 0!==w.bEscapeRegex?!w.bEscapeRegex:w.bRegex};if(E6(e),"ssp"!=ol(e)){hO(e,i.sSearch,t,h(i),i.bSmart,i.bCaseInsensitive),l(i);for(var v=0;v<s.length;v++)fO(e,s[v].sSearch,v,h(s[v]),s[v].bSmart,s[v].bCaseInsensitive);dO(e)}else l(i);e.bFiltered=!0,Ni(e,null,"search",[e])}function dO(e){for(var o,s,i=At.ext.search,t=e.aiDisplay,l=0,h=i.length;l<h;l++){for(var v=[],w=0,D=t.length;w<D;w++)i[l](e,(o=e.aoData[s=t[w]])._aFilterData,s,o._aData,w)&&v.push(s);t.length=0,de.merge(t,v)}}function fO(e,i,t,o,s,l){if(""!==i){for(var v=[],w=e.aiDisplay,D=P6(i,o,s,l),M=0;M<w.length;M++)D.test(e.aoData[w[M]]._aFilterData[t])&&v.push(w[M]);e.aiDisplay=v}}function hO(e,i,t,o,s,l){var D,M,k,h=P6(i,o,s,l),v=e.oPreviousSearch.sSearch,w=e.aiDisplayMaster,H=[];if(0!==At.ext.search.length&&(t=!0),M=pO(e),i.length<=0)e.aiDisplay=w.slice();else{for((M||t||o||v.length>i.length||0!==i.indexOf(v)||e.bSorted)&&(e.aiDisplay=w.slice()),D=e.aiDisplay,k=0;k<D.length;k++)h.test(e.aoData[D[k]]._sFilterRow)&&H.push(D[k]);e.aiDisplay=H}}function P6(e,i,t,o){if(e=i?e:M6(e),t){var s=de.map(e.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],function(l){if('"'===l.charAt(0)){var h=l.match(/^"(.*)"$/);l=h?h[1]:l}else"\u201c"===l.charAt(0)&&(h=l.match(/^\u201C(.*)\u201D$/),l=h?h[1]:l);return l.replace('"',"")});e="^(?=.*?"+s.join(")(?=.*?")+").*$"}return new RegExp(e,o?"i":"")}var M6=At.util.escapeRegex,bD=de("<div>")[0],UL=void 0!==bD.textContent;function pO(e){var o,s,l,h,v,w,D,i=e.aoColumns,M=!1;for(o=0,l=e.aoData.length;o<l;o++)if(!(D=e.aoData[o])._aFilterData){for(v=[],s=0,h=i.length;s<h;s++)i[s].bSearchable?(null===(w=Ic(e,o,s,"filter"))&&(w=""),"string"!=typeof w&&w.toString&&(w=w.toString())):w="",w.indexOf&&-1!==w.indexOf("&")&&(bD.innerHTML=w,w=UL?bD.textContent:bD.innerText),w.replace&&(w=w.replace(/[\r\n\u2028]/g,"")),v.push(w);D._aFilterData=v,D._sFilterRow=v.join("  "),M=!0}return M}function gO(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function mO(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function vO(e){var i=e.sTableId,t=e.aanFeatures.i,o=de("<div/>",{class:e.oClasses.sInfo,id:t?null:i+"_info"});return t||(e.aoDrawCallback.push({fn:yO,sName:"information"}),o.attr("role","status").attr("aria-live","polite"),de(e.nTable).attr("aria-describedby",i+"_info")),o[0]}function yO(e){var i=e.aanFeatures.i;if(0!==i.length){var t=e.oLanguage,o=e._iDisplayStart+1,s=e.fnDisplayEnd(),l=e.fnRecordsTotal(),h=e.fnRecordsDisplay(),v=h?t.sInfo:t.sInfoEmpty;h!==l&&(v+=" "+t.sInfoFiltered),v=_O(e,v+=t.sInfoPostFix);var w=t.fnInfoCallback;null!==w&&(v=w.call(e.oInstance,e,o,s,l,h,v)),de(i).html(v)}}function _O(e,i){var t=e.fnFormatNumber,o=e._iDisplayStart+1,s=e._iDisplayLength,l=e.fnRecordsDisplay(),h=-1===s;return i.replace(/_START_/g,t.call(e,o)).replace(/_END_/g,t.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,t.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,t.call(e,l)).replace(/_PAGE_/g,t.call(e,h?1:Math.ceil(o/s))).replace(/_PAGES_/g,t.call(e,h?1:Math.ceil(l/s)))}function ET(e){var i,t,l,o=e.iInitDisplayStart,s=e.aoColumns,h=e.oFeatures,v=e.bDeferLoading;if(e.bInitialised){for(sO(e),oO(e),bT(e,e.aoHeader),bT(e,e.aoFooter),hd(e,!0),h.bAutoWidth&&N6(e),i=0,t=s.length;i<t;i++)(l=s[i]).sWidth&&(l.nTh.style.width=gs(l.sWidth));Ni(e,null,"preInit",[e]),r_(e);var w=ol(e);("ssp"!=w||v)&&("ajax"==w?_D(e,[],function(D){var M=CT(e,D);for(i=0;i<M.length;i++)Hv(e,M[i]);e.iInitDisplayStart=o,r_(e),hd(e,!1),wD(e,D)}):(hd(e,!1),wD(e)))}else setTimeout(function(){ET(e)},200)}function wD(e,i){e._bInitComplete=!0,(i||e.oInit.aaData)&&gT(e),Ni(e,null,"plugin-init",[e,i]),Ni(e,"aoInitComplete","init",[e,i])}function O6(e,i){var t=parseInt(i,10);e._iDisplayLength=t,V6(e),Ni(e,null,"length",[e,t])}function bO(e){for(var i=e.oClasses,t=e.sTableId,o=e.aLengthMenu,s=Array.isArray(o[0]),l=s?o[0]:o,h=s?o[1]:o,v=de("<select/>",{name:t+"_length","aria-controls":t,class:i.sLengthSelect}),w=0,D=l.length;w<D;w++)v[0][w]=new Option("number"==typeof h[w]?e.fnFormatNumber(h[w]):h[w],l[w]);var M=de("<div><label/></div>").addClass(i.sLength);return e.aanFeatures.l||(M[0].id=t+"_length"),M.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",v[0].outerHTML)),de("select",M).val(e._iDisplayLength).on("change.DT",function(k){O6(e,de(this).val()),Zv(e)}),de(e.nTable).on("length.dt.DT",function(k,H,J){e===H&&de("select",M).val(J)}),M[0]}function wO(e){var i=e.sPaginationType,t=At.ext.pager[i],o="function"==typeof t,s=function(v){Zv(v)},l=de("<div/>").addClass(e.oClasses.sPaging+i)[0],h=e.aanFeatures;return o||t.fnInit(e,l,s),h.p||(l.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(v){if(o){var ue,ve,w=v._iDisplayStart,D=v._iDisplayLength,M=v.fnRecordsDisplay(),k=-1===D,H=k?0:Math.ceil(w/D),J=k?1:Math.ceil(M/D),X=t(H,J);for(ue=0,ve=h.p.length;ue<ve;ue++)j6(v,"pageButton")(v,h.p[ue],ue,X,H,J)}else t.fnUpdate(v,s)},sName:"pagination"})),l}function CD(e,i,t){var o=e._iDisplayStart,s=e._iDisplayLength,l=e.fnRecordsDisplay();0===l||-1===s?o=0:"number"==typeof i?(o=i*s)>l&&(o=0):"first"==i?o=0:"previous"==i?(o=s>=0?o-s:0)<0&&(o=0):"next"==i?o+s<l&&(o+=s):"last"==i?o=Math.floor((l-1)/s)*s:yf(e,0,"Unknown paging action: "+i,5);var h=e._iDisplayStart!==o;return e._iDisplayStart=o,h?(Ni(e,null,"page",[e]),t&&Zv(e)):Ni(e,null,"page-nc",[e]),h}function CO(e){return de("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing,role:"status"}).html(e.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(e.nTable)[0]}function hd(e,i){e.oFeatures.bProcessing&&de(e.aanFeatures.r).css("display",i?"block":"none"),Ni(e,null,"processing",[e,i])}function TO(e){var i=de(e.nTable),t=e.oScroll;if(""===t.sX&&""===t.sY)return e.nTable;var o=t.sX,s=t.sY,l=e.oClasses,h=i.children("caption"),v=h.length?h[0]._captionSide:null,w=de(i[0].cloneNode(!1)),D=de(i[0].cloneNode(!1)),M=i.children("tfoot"),k="<div/>",H=function(Ue){return Ue?gs(Ue):null};M.length||(M=null);var J=de(k,{class:l.sScrollWrapper}).append(de(k,{class:l.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:o?H(o):"100%"}).append(de(k,{class:l.sScrollHeadInner}).css({"box-sizing":"content-box",width:t.sXInner||"100%"}).append(w.removeAttr("id").css("margin-left",0).append("top"===v?h:null).append(i.children("thead"))))).append(de(k,{class:l.sScrollBody}).css({position:"relative",overflow:"auto",width:H(o)}).append(i));M&&J.append(de(k,{class:l.sScrollFoot}).css({overflow:"hidden",border:0,width:o?H(o):"100%"}).append(de(k,{class:l.sScrollFootInner}).append(D.removeAttr("id").css("margin-left",0).append("bottom"===v?h:null).append(i.children("tfoot")))));var X=J.children(),ue=X[0],ve=X[1],Ne=M?X[2]:null;return o&&de(ve).on("scroll.DT",function(Ue){var et=this.scrollLeft;ue.scrollLeft=et,M&&(Ne.scrollLeft=et)}),de(ve).css("max-height",s),t.bCollapse||de(ve).css("height",s),e.nScrollHead=ue,e.nScrollBody=ve,e.nScrollFoot=Ne,e.aoDrawCallback.push({fn:TD,sName:"scrolling"}),J[0]}function TD(e){var Qn,ti,ao,Co,ki,Xa,ur,li,uo,i=e.oScroll,t=i.sX,o=i.sXInner,s=i.sY,l=i.iBarWidth,h=de(e.nScrollHead),v=h[0].style,w=h.children("div"),D=w[0].style,M=w.children("table"),k=e.nScrollBody,H=de(k),J=k.style,ue=de(e.nScrollFoot).children("div"),ve=ue.children("table"),Ne=de(e.nTHead),Ue=de(e.nTable),et=Ue[0],_t=et.style,St=e.nTFoot?de(e.nTFoot):null,Ze=e.oBrowser,Nn=Ze.bScrollOversize,sl=(fd(e.aoColumns,"nTh"),[]),en=[],xn=[],Qt=[],lo=function(Sr){var co=Sr.style;co.paddingTop="0",co.paddingBottom="0",co.borderTopWidth="0",co.borderBottomWidth="0",co.height=0},Zl=k.scrollHeight>k.clientHeight;if(e.scrollBarVis!==Zl&&void 0!==e.scrollBarVis)return e.scrollBarVis=Zl,void gT(e);e.scrollBarVis=Zl,Ue.children("thead, tfoot").remove(),St&&(Xa=St.clone().prependTo(Ue),ti=St.find("tr"),Co=Xa.find("tr"),Xa.find("[id]").removeAttr("id")),ki=Ne.clone().prependTo(Ue),Qn=Ne.find("tr"),ao=ki.find("tr"),ki.find("th, td").removeAttr("tabindex"),ki.find("[id]").removeAttr("id"),t||(J.width="100%",h[0].style.width="100%"),de.each(yD(e,ki),function(Sr,co){ur=mT(e,Sr),co.style.width=e.aoColumns[ur].sWidth}),St&&Ap(function(Sr){Sr.style.width=""},Co),uo=Ue.outerWidth(),""===t?(_t.width="100%",Nn&&(Ue.find("tbody").height()>k.offsetHeight||"scroll"==H.css("overflow-y"))&&(_t.width=gs(Ue.outerWidth()-l)),uo=Ue.outerWidth()):""!==o&&(_t.width=gs(o),uo=Ue.outerWidth()),Ap(lo,ao),Ap(function(Sr){var co=window.getComputedStyle?window.getComputedStyle(Sr).width:gs(de(Sr).width());xn.push(Sr.innerHTML),sl.push(co)},ao),Ap(function(Sr,co){Sr.style.width=sl[co]},Qn),de(ao).css("height",0),St&&(Ap(lo,Co),Ap(function(Sr){Qt.push(Sr.innerHTML),en.push(gs(de(Sr).css("width")))},Co),Ap(function(Sr,co){Sr.style.width=en[co]},ti),de(Co).height(0)),Ap(function(Sr,co){Sr.innerHTML='<div class="dataTables_sizing">'+xn[co]+"</div>",Sr.childNodes[0].style.height="0",Sr.childNodes[0].style.overflow="hidden",Sr.style.width=sl[co]},ao),St&&Ap(function(Sr,co){Sr.innerHTML='<div class="dataTables_sizing">'+Qt[co]+"</div>",Sr.childNodes[0].style.height="0",Sr.childNodes[0].style.overflow="hidden",Sr.style.width=en[co]},Co),Math.round(Ue.outerWidth())<Math.round(uo)?(li=k.scrollHeight>k.offsetHeight||"scroll"==H.css("overflow-y")?uo+l:uo,Nn&&(k.scrollHeight>k.offsetHeight||"scroll"==H.css("overflow-y"))&&(_t.width=gs(li-l)),(""===t||""!==o)&&yf(e,1,"Possible column misalignment",6)):li="100%",J.width=gs(li),v.width=gs(li),St&&(e.nScrollFoot.style.width=gs(li)),s||Nn&&(J.height=gs(et.offsetHeight+l));var Ri=Ue.outerWidth();M[0].style.width=gs(Ri),D.width=gs(Ri);var bw=Ue.height()>k.clientHeight||"scroll"==H.css("overflow-y"),a_="padding"+(Ze.bScrollbarLeft?"Left":"Right");D[a_]=bw?l+"px":"0px",St&&(ve[0].style.width=gs(Ri),ue[0].style.width=gs(Ri),ue[0].style[a_]=bw?l+"px":"0px"),Ue.children("colgroup").insertBefore(Ue.children("thead")),H.trigger("scroll"),(e.bSorted||e.bFiltered)&&!e._drawHold&&(k.scrollTop=0)}function Ap(e,i,t){for(var h,v,o=0,s=0,l=i.length;s<l;){for(h=i[s].firstChild,v=t?t[s].firstChild:null;h;)1===h.nodeType&&(t?e(h,v,o):e(h,o),o++),h=h.nextSibling,v=t?v.nextSibling:null;s++}}var BL=/<.*?>/g;function N6(e){var J,X,ue,i=e.nTable,t=e.aoColumns,o=e.oScroll,s=o.sY,l=o.sX,h=o.sXInner,v=t.length,w=pD(e,"bVisible"),D=de("th",e.nTHead),M=i.getAttribute("width"),k=i.parentNode,H=!1,Ue=e.oBrowser,et=Ue.bScrollOversize,_t=i.style.width;for(_t&&-1!==_t.indexOf("%")&&(M=_t),J=0;J<w.length;J++)null!==(X=t[w[J]]).sWidth&&(X.sWidth=EO(X.sWidthOrig,k),H=!0);if(et||!H&&!l&&!s&&v==pw(e)&&v==D.length)for(J=0;J<v;J++){var St=mT(e,J);null!==St&&(t[St].sWidth=gs(D.eq(J).width()))}else{var Ze=de(i).clone().css("visibility","hidden").removeAttr("id");Ze.find("tbody tr").remove();var Nn=de("<tr/>").appendTo(Ze.find("tbody"));for(Ze.find("thead, tfoot").remove(),Ze.append(de(e.nTHead).clone()).append(de(e.nTFoot).clone()),Ze.find("tfoot th, tfoot td").css("width",""),D=yD(e,Ze.find("thead")[0]),J=0;J<w.length;J++)D[J].style.width=null!==(X=t[w[J]]).sWidthOrig&&""!==X.sWidthOrig?gs(X.sWidthOrig):"",X.sWidthOrig&&l&&de(D[J]).append(de("<div/>").css({width:X.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(e.aoData.length)for(J=0;J<w.length;J++)X=t[ue=w[J]],de(AO(e,ue)).clone(!1).append(X.sContentPadding).appendTo(Nn);de("[name]",Ze).removeAttr("name");var Ti=de("<div/>").css(l||s?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(Ze).appendTo(k);l&&h?Ze.width(h):l?(Ze.css("width","auto"),Ze.removeAttr("width"),Ze.width()<k.clientWidth&&M&&Ze.width(k.clientWidth)):s?Ze.width(k.clientWidth):M&&Ze.width(M);var Qn=0;for(J=0;J<w.length;J++){var ti=de(D[J]),ao=ti.outerWidth()-ti.width(),Co=Ue.bBounding?Math.ceil(D[J].getBoundingClientRect().width):ti.outerWidth();Qn+=Co,t[w[J]].sWidth=gs(Co-ao)}i.style.width=gs(Qn),Ti.remove()}if(M&&(i.style.width=gs(M)),(M||l)&&!e._reszEvt){var ki=function(){de(window).on("resize.DT-"+e.sInstance,k6(function(){gT(e)}))};et?setTimeout(ki,1e3):ki(),e._reszEvt=!0}}var k6=At.util.throttle;function EO(e,i){if(!e)return 0;var t=de("<div/>").css("width",gs(e)).appendTo(i||document.body),o=t[0].offsetWidth;return t.remove(),o}function AO(e,i){var t=DO(e,i);if(t<0)return null;var o=e.aoData[t];return o.nTr?o.anCells[i]:de("<td/>").html(Ic(e,t,i,"display"))[0]}function DO(e,i){for(var t,o=-1,s=-1,l=0,h=e.aoData.length;l<h;l++)(t=(t=(t=Ic(e,l,i,"display")+"").replace(BL,"")).replace(/&nbsp;/g," ")).length>o&&(o=t.length,s=l);return s}function gs(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function vw(e){var i,o,s,w,D,M,k,l=[],v=e.aoColumns,H=e.aaSortingFixed,J=de.isPlainObject(H),X=[],ue=function(ve){ve.length&&!Array.isArray(ve[0])?X.push(ve):de.merge(X,ve)};for(Array.isArray(H)&&ue(H),J&&H.pre&&ue(H.pre),ue(e.aaSorting),J&&H.post&&ue(H.post),i=0;i<X.length;i++)for(o=0,s=(w=v[k=X[i][0]].aDataSort).length;o<s;o++)M=v[D=w[o]].sType||"string",void 0===X[i]._idx&&(X[i]._idx=de.inArray(X[i][1],v[D].asSorting)),l.push({src:k,col:D,dir:X[i][1],index:X[i]._idx,type:M,formatter:At.ext.type.order[M+"-pre"]});return l}function SO(e){var i,t,o,_t,Ze,M=[],k=At.ext.type.order,H=e.aoData,et=0,St=e.aiDisplayMaster;for(E6(e),i=0,t=(Ze=vw(e)).length;i<t;i++)(_t=Ze[i]).formatter&&et++,xO(e,_t.col);if("ssp"!=ol(e)&&0!==Ze.length){for(i=0,o=St.length;i<o;i++)M[St[i]]=i;St.sort(et===Ze.length?function(Nn,Ti){var Qn,ti,ao,Co,ki,Xa=Ze.length,sl=H[Nn]._aSortData,en=H[Ti]._aSortData;for(ao=0;ao<Xa;ao++)if(0!=(Co=(Qn=sl[(ki=Ze[ao]).col])<(ti=en[ki.col])?-1:Qn>ti?1:0))return"asc"===ki.dir?Co:-Co;return(Qn=M[Nn])<(ti=M[Ti])?-1:Qn>ti?1:0}:function(Nn,Ti){var Qn,ti,ao,ki,Xa,en=Ze.length,xn=H[Nn]._aSortData,Qt=H[Ti]._aSortData;for(ao=0;ao<en;ao++)if(0!==(ki=(k[(Xa=Ze[ao]).type+"-"+Xa.dir]||k["string-"+Xa.dir])(Qn=xn[Xa.col],ti=Qt[Xa.col])))return ki;return(Qn=M[Nn])<(ti=M[Ti])?-1:Qn>ti?1:0})}e.bSorted=!0}function IO(e){for(var i,t,o=e.aoColumns,s=vw(e),l=e.oLanguage.oAria,h=0,v=o.length;h<v;h++){var w=o[h],D=w.asSorting,M=w.ariaTitle||w.sTitle.replace(/<.*?>/g,""),k=w.nTh;k.removeAttribute("aria-sort"),w.bSortable?(s.length>0&&s[0].col==h?(k.setAttribute("aria-sort","asc"==s[0].dir?"ascending":"descending"),t=D[s[0].index+1]||D[0]):t=D[0],i=M+("asc"===t?l.sSortAscending:l.sSortDescending)):i=M,k.setAttribute("aria-label",i)}}function R6(e,i,t,o){var v,l=e.aaSorting,h=e.aoColumns[i].asSorting,w=function(M,k){var H=M._idx;return void 0===H&&(H=de.inArray(M[1],h)),H+1<h.length?H+1:k?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),t&&e.oFeatures.bSortMulti){var D=de.inArray(i,fd(l,"0"));-1!==D?(null===(v=w(l[D],!0))&&1===l.length&&(v=0),null===v?l.splice(D,1):(l[D][1]=h[v],l[D]._idx=v)):(l.push([i,h[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==i?(v=w(l[0]),l.length=1,l[0][1]=h[v],l[0]._idx=v):(l.length=0,l.push([i,h[0]]),l[0]._idx=0);r_(e),"function"==typeof o&&o(e)}function F6(e,i,t,o){var s=e.aoColumns[t];B6(i,{},function(l){!1!==s.bSortable&&(e.oFeatures.bProcessing?(hd(e,!0),setTimeout(function(){R6(e,t,l.shiftKey,o),"ssp"!==ol(e)&&hd(e,!1)},0)):R6(e,t,l.shiftKey,o))})}function ED(e){var l,h,i=e.aLastSort,t=e.oClasses.sSortColumn,o=vw(e),s=e.oFeatures;if(s.bSort&&s.bSortClasses){for(l=0,h=i.length;l<h;l++)de(fd(e.aoData,"anCells",i[l].src)).removeClass(t+(l<2?l+1:3));for(l=0,h=o.length;l<h;l++)de(fd(e.aoData,"anCells",o[l].src)).addClass(t+(l<2?l+1:3))}e.aLastSort=o}function xO(e,i){var s,t=e.aoColumns[i],o=At.ext.order[t.sSortDataType];o&&(s=o.call(e.oInstance,e,i,vT(e,i)));for(var l,h,v=At.ext.type.order[t.sType+"-pre"],w=0,D=e.aoData.length;w<D;w++)(l=e.aoData[w])._aSortData||(l._aSortData=[]),(!l._aSortData[i]||o)&&(h=o?s[w]:Ic(e,w,i,"sort"),l._aSortData[i]=v?v(h):h)}function AT(e){if(!e._bLoadingState){var i={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:de.extend(!0,[],e.aaSorting),search:gO(e.oPreviousSearch),columns:de.map(e.aoColumns,function(t,o){return{visible:t.bVisible,search:gO(e.aoPreSearchCols[o])}})};e.oSavedState=i,Ni(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.oFeatures.bStateSave&&!e.bDestroying&&e.fnStateSaveCallback.call(e.oInstance,e,i)}}function PO(e,i,t){if(e.oFeatures.bStateSave){var s=e.fnStateLoadCallback.call(e.oInstance,e,function(l){L6(e,l,t)});return void 0!==s&&L6(e,s,t),!0}t()}function L6(e,i,t){var o,s,l=e.aoColumns;e._bLoadingState=!0;var h=e._bInitComplete?new At.Api(e):null;if(!i||!i.time)return e._bLoadingState=!1,void t();var v=Ni(e,"aoStateLoadParams","stateLoadParams",[e,i]);if(-1!==de.inArray(!1,v))return e._bLoadingState=!1,void t();var w=e.iStateDuration;if(w>0&&i.time<+new Date-1e3*w)return e._bLoadingState=!1,void t();if(i.columns&&l.length!==i.columns.length)return e._bLoadingState=!1,void t();if(e.oLoadedState=de.extend(!0,{},i),void 0!==i.length&&(h?h.page.len(i.length):e._iDisplayLength=i.length),void 0!==i.start&&(null===h?(e._iDisplayStart=i.start,e.iInitDisplayStart=i.start):CD(e,i.start/e._iDisplayLength)),void 0!==i.order&&(e.aaSorting=[],de.each(i.order,function(M,k){e.aaSorting.push(k[0]>=l.length?[0,k[1]]:k)})),void 0!==i.search&&de.extend(e.oPreviousSearch,mO(i.search)),i.columns){for(o=0,s=i.columns.length;o<s;o++){var D=i.columns[o];void 0!==D.visible&&(h?h.column(o).visible(D.visible,!1):l[o].bVisible=D.visible),void 0!==D.search&&de.extend(e.aoPreSearchCols[o],mO(D.search))}h&&h.columns.adjust()}e._bLoadingState=!1,Ni(e,"aoStateLoaded","stateLoaded",[e,i]),t()}function AD(e){var i=At.settings,t=de.inArray(e,fd(i,"nTable"));return-1!==t?i[t]:null}function yf(e,i,t,o){if(t="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+t,o&&(t+=". For more information about this error, please see http://datatables.net/tn/"+o),i)window.console&&console.log&&console.log(t);else{var s=At.ext,l=s.sErrMode||s.errMode;if(e&&Ni(e,null,"error",[e,o,t]),"alert"==l)alert(t);else{if("throw"==l)throw new Error(t);"function"==typeof l&&l(e,o,t)}}}function Th(e,i,t,o){Array.isArray(t)?de.each(t,function(s,l){Array.isArray(l)?Th(e,i,l[0],l[1]):Th(e,i,l)}):(void 0===o&&(o=t),void 0!==i[t]&&(e[o]=i[t]))}function U6(e,i,t){var o;for(var s in i)i.hasOwnProperty(s)&&(de.isPlainObject(o=i[s])?(de.isPlainObject(e[s])||(e[s]={}),de.extend(!0,e[s],o)):e[s]=t&&"data"!==s&&"aaData"!==s&&Array.isArray(o)?o.slice():o);return e}function B6(e,i,t){de(e).on("click.DT",i,function(o){de(e).trigger("blur"),t(o)}).on("keypress.DT",i,function(o){13===o.which&&(o.preventDefault(),t(o))}).on("selectstart.DT",function(){return!1})}function ql(e,i,t,o){t&&e[i].push({fn:t,sName:o})}function Ni(e,i,t,o){var s=[];if(i&&(s=de.map(e[i].slice().reverse(),function(v,w){return v.fn.apply(e.oInstance,o)})),null!==t){var l=de.Event(t+".dt"),h=de(e.nTable);h.trigger(l,o),0===h.parents("body").length&&de("body").trigger(l,o),s.push(l.result)}return s}function V6(e){var i=e._iDisplayStart,t=e.fnDisplayEnd(),o=e._iDisplayLength;i>=t&&(i=t-o),i-=i%o,(-1===o||i<0)&&(i=0),e._iDisplayStart=i}function j6(e,i){var t=e.renderer,o=At.ext.renderer[i];return de.isPlainObject(t)&&t[i]?o[t[i]]||o._:"string"==typeof t&&o[t]||o._}function ol(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}var MO=[],Ja=Array.prototype;ei=function(e,i){if(!(this instanceof ei))return new ei(e,i);var t=[],o=function(h){var v=function(e){var i,t,o=At.settings,s=de.map(o,function(l,h){return l.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(i=de.inArray(e,s))?[o[i]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?t=de(e):e instanceof de&&(t=e),t?t.map(function(l){return-1!==(i=de.inArray(this,s))?o[i]:null}).toArray():void 0):[]}(h);v&&t.push.apply(t,v)};if(Array.isArray(e))for(var s=0,l=e.length;s<l;s++)o(e[s]);else o(e);this.context=fD(t),i&&de.merge(this,i),this.selector={rows:null,cols:null,opts:null},ei.extend(this,this,MO)},At.Api=ei,de.extend(ei.prototype,{any:function(){return 0!==this.count()},concat:Ja.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var i=0,t=this.length;i<t;i++)e.call(this,this[i],i,this);return this},eq:function(e){var i=this.context;return i.length>e?new ei(i[e],this[e]):null},filter:function(e){var i=[];if(Ja.filter)i=Ja.filter.call(this,e,this);else for(var t=0,o=this.length;t<o;t++)e.call(this,this[t],t,this)&&i.push(this[t]);return new ei(this.context,i)},flatten:function(){var e=[];return new ei(this.context,e.concat.apply(e,this.toArray()))},join:Ja.join,indexOf:Ja.indexOf||function(e,i){for(var t=i||0,o=this.length;t<o;t++)if(this[t]===e)return t;return-1},iterator:function(e,i,t,o){var l,h,v,w,D,k,H,J,s=[],M=this.context,X=this.selector;for("string"==typeof e&&(o=t,t=i,i=e,e=!1),h=0,v=M.length;h<v;h++){var ue=new ei(M[h]);if("table"===i)void 0!==(l=t.call(ue,M[h],h))&&s.push(l);else if("columns"===i||"rows"===i)void 0!==(l=t.call(ue,M[h],this[h],h))&&s.push(l);else if("column"===i||"column-rows"===i||"row"===i||"cell"===i)for(H=this[h],"column-rows"===i&&(k=DD(M[h],X.opts)),w=0,D=H.length;w<D;w++)J=H[w],void 0!==(l="cell"===i?t.call(ue,M[h],J.row,J.column,h,w):t.call(ue,M[h],J,h,w,k))&&s.push(l)}if(s.length||o){var ve=new ei(M,e?s.concat.apply([],s):s),Ne=ve.selector;return Ne.rows=X.rows,Ne.cols=X.cols,Ne.opts=X.opts,ve}return this},lastIndexOf:Ja.lastIndexOf||function(e,i){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var i=[];if(Ja.map)i=Ja.map.call(this,e,this);else for(var t=0,o=this.length;t<o;t++)i.push(e.call(this,this[t],t));return new ei(this.context,i)},pluck:function(e){var i=At.util.get(e);return this.map(function(t){return i(t)})},pop:Ja.pop,push:Ja.push,reduce:Ja.reduce||function(e,i){return nO(this,e,i,0,this.length,1)},reduceRight:Ja.reduceRight||function(e,i){return nO(this,e,i,this.length-1,-1,-1)},reverse:Ja.reverse,selector:null,shift:Ja.shift,slice:function(){return new ei(this.context,this)},sort:Ja.sort,splice:Ja.splice,toArray:function(){return Ja.slice.call(this)},to$:function(){return de(this)},toJQuery:function(){return de(this)},unique:function(){return new ei(this.context,fD(this))},unshift:Ja.unshift}),ei.extend=function(e,i,t){if(t.length&&i&&(i instanceof ei||i.__dt_wrapper)){var o,s,l,h=function(v,w,D){return function(){var M=w.apply(v,arguments);return ei.extend(M,M,D.methodExt),M}};for(o=0,s=t.length;o<s;o++)i[(l=t[o]).name]="function"===l.type?h(e,l.val,l):"object"===l.type?{}:l.val,i[l.name].__dt_wrapper=!0,ei.extend(e,i[l.name],l.propExt)}},ei.register=rr=function(e,i){if(Array.isArray(e))for(var t=0,o=e.length;t<o;t++)ei.register(e[t],i);else{var s,l,w,D,h=e.split("."),v=MO,M=function(H,J){for(var X=0,ue=H.length;X<ue;X++)if(H[X].name===J)return H[X];return null};for(s=0,l=h.length;s<l;s++){var k=M(v,w=(D=-1!==h[s].indexOf("()"))?h[s].replace("()",""):h[s]);k||v.push(k={name:w,val:{},methodExt:[],propExt:[],type:"object"}),s===l-1?(k.val=i,k.type="function"==typeof i?"function":de.isPlainObject(i)?"object":"other"):v=D?k.methodExt:k.propExt}}},ei.registerPlural=Uo=function(e,i,t){ei.register(e,t),ei.register(i,function(){var o=t.apply(this,arguments);return o===this?this:o instanceof ei?o.length?Array.isArray(o[0])?new ei(o.context,o[0]):o[0]:void 0:o})};var OO=function(e,i){if(Array.isArray(e))return de.map(e,function(o){return OO(o,i)});if("number"==typeof e)return[i[e]];var t=de.map(i,function(o,s){return o.nTable});return de(t).filter(e).map(function(o){var s=de.inArray(this,t);return i[s]}).toArray()};rr("tables()",function(e){return null!=e?new ei(OO(e,this.context)):this}),rr("table()",function(e){var i=this.tables(e),t=i.context;return t.length?new ei(t[0]):i}),Uo("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Uo("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),Uo("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Uo("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Uo("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),rr("draw()",function(e){return this.iterator("table",function(i){"page"===e?Zv(i):("string"==typeof e&&(e="full-hold"!==e),r_(i,!1===e))})}),rr("page()",function(e){return void 0===e?this.page.info().page:this.iterator("table",function(i){CD(i,e)})}),rr("page.info()",function(e){if(0!==this.context.length){var i=this.context[0],t=i._iDisplayStart,o=i.oFeatures.bPaginate?i._iDisplayLength:-1,s=i.fnRecordsDisplay(),l=-1===o;return{page:l?0:Math.floor(t/o),pages:l?1:Math.ceil(s/o),start:t,end:i.fnDisplayEnd(),length:o,recordsTotal:i.fnRecordsTotal(),recordsDisplay:s,serverSide:"ssp"===ol(i)}}}),rr("page.len()",function(e){return void 0===e?0!==this.context.length?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(i){O6(i,e)})});var NO=function(e,i,t){if(t){var o=new ei(e);o.one("draw",function(){t(o.ajax.json())})}if("ssp"==ol(e))r_(e,i);else{hd(e,!0);var s=e.jqXHR;s&&4!==s.readyState&&s.abort(),_D(e,[],function(l){mD(e);for(var h=CT(e,l),v=0,w=h.length;v<w;v++)Hv(e,h[v]);r_(e,i),hd(e,!1)})}};rr("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),rr("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),rr("ajax.reload()",function(e,i){return this.iterator("table",function(t){NO(t,!1===i,e)})}),rr("ajax.url()",function(e){var i=this.context;return void 0===e?0===i.length?void 0:(i=i[0]).ajax?de.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource:this.iterator("table",function(t){de.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),rr("ajax.url().load()",function(e,i){return this.iterator("table",function(t){NO(t,!1===i,e)})});var H6=function(e,i,t,o,s){var h,v,w,D,M,k,l=[],H=typeof i;for((!i||"string"===H||"function"===H||void 0===i.length)&&(i=[i]),w=0,D=i.length;w<D;w++)for(M=0,k=(v=i[w]&&i[w].split&&!i[w].match(/[\[\(:]/)?i[w].split(","):[i[w]]).length;M<k;M++)(h=t("string"==typeof v[M]?v[M].trim():v[M]))&&h.length&&(l=l.concat(h));var J=oa.selector[e];if(J.length)for(w=0,D=J.length;w<D;w++)l=J[w](o,s,l);return fD(l)},q6=function(e){return e||(e={}),e.filter&&void 0===e.search&&(e.search=e.filter),de.extend({search:"none",order:"current",page:"all"},e)},Z6=function(e){for(var i=0,t=e.length;i<t;i++)if(e[i].length>0)return e[0]=e[i],e[0].length=1,e.length=1,e.context=[e.context[i]],e;return e.length=0,e},DD=function(e,i){var s,l=[],h=e.aiDisplay,v=e.aiDisplayMaster,w=i.search,D=i.order,M=i.page;if("ssp"==ol(e))return"removed"===w?[]:hw(0,v.length);if("current"==M)for(t=e._iDisplayStart,o=e.fnDisplayEnd();t<o;t++)l.push(h[t]);else if("current"==D||"applied"==D){if("none"==w)l=v.slice();else if("applied"==w)l=h.slice();else if("removed"==w){for(var k={},t=0,o=h.length;t<o;t++)k[h[t]]=null;l=de.map(v,function(H){return k.hasOwnProperty(H)?null:H})}}else if("index"==D||"original"==D)for(t=0,o=e.aoData.length;t<o;t++)("none"==w||-1===(s=de.inArray(t,h))&&"removed"==w||s>=0&&"applied"==w)&&l.push(t);return l};rr("rows()",function(e,i){void 0===e?e="":de.isPlainObject(e)&&(i=e,e=""),i=q6(i);var t=this.iterator("table",function(o){return function(e,i,t){var o;return H6("row",i,function(l){var h=zM(l),D=e.aoData;if(null!==h&&!t)return[h];if(o||(o=DD(e,t)),null!==h&&-1!==de.inArray(h,o))return[h];if(null==l||""===l)return o;if("function"==typeof l)return de.map(o,function(ue){var ve=D[ue];return l(ue,ve._aData,ve.nTr)?ue:null});if(l.nodeName){var M=l._DT_RowIndex,k=l._DT_CellIndex;if(void 0!==M)return D[M]&&D[M].nTr===l?[M]:[];if(k)return D[k.row]&&D[k.row].nTr===l.parentNode?[k.row]:[];var H=de(l).closest("*[data-dt-row]");return H.length?[H.data("dt-row")]:[]}if("string"==typeof l&&"#"===l.charAt(0)){var J=e.aIds[l.replace(/^#/,"")];if(void 0!==J)return[J.idx]}var X=KM(hT(e.aoData,o,"nTr"));return de(X).filter(l).map(function(){return this._DT_RowIndex}).toArray()},e,t)}(o,e,i)},1);return t.selector.rows=e,t.selector.opts=i,t}),rr("rows().nodes()",function(){return this.iterator("row",function(e,i){return e.aoData[i].nTr||void 0},1)}),rr("rows().data()",function(){return this.iterator(!0,"rows",function(e,i){return hT(e.aoData,i,"_aData")},1)}),Uo("rows().cache()","row().cache()",function(e){return this.iterator("row",function(i,t){var o=i.aoData[t];return"search"===e?o._aFilterData:o._aSortData},1)}),Uo("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(i,t){_T(i,t,e)})}),Uo("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,i){return i},1)}),Uo("rows().ids()","row().id()",function(e){for(var i=[],t=this.context,o=0,s=t.length;o<s;o++)for(var l=0,h=this[o].length;l<h;l++){var v=t[o].rowIdFn(t[o].aoData[this[o][l]]._aData);i.push((!0===e?"#":"")+v)}return new ei(t,i)}),Uo("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(i,t,o){var h,v,w,D,M,k,s=i.aoData,l=s[t];for(s.splice(t,1),h=0,v=s.length;h<v;h++)if(k=(M=s[h]).anCells,null!==M.nTr&&(M.nTr._DT_RowIndex=h),null!==k)for(w=0,D=k.length;w<D;w++)k[w]._DT_CellIndex.row=h;vD(i.aiDisplayMaster,t),vD(i.aiDisplay,t),vD(e[o],t,!1),i._iRecordsDisplay>0&&i._iRecordsDisplay--,V6(i);var H=i.rowIdFn(l._aData);void 0!==H&&delete i.aIds[H]}),this.iterator("table",function(i){for(var t=0,o=i.aoData.length;t<o;t++)i.aoData[t].idx=t}),this}),rr("rows.add()",function(e){var i=this.iterator("table",function(o){var s,l,h,v=[];for(l=0,h=e.length;l<h;l++)(s=e[l]).nodeName&&"TR"===s.nodeName.toUpperCase()?v.push(gD(o,s)[0]):v.push(Hv(o,s));return v},1),t=this.rows(-1);return t.pop(),de.merge(t,i),t}),rr("row()",function(e,i){return Z6(this.rows(e,i))}),rr("row().data()",function(e){var i=this.context;if(void 0===e)return i.length&&this.length?i[0].aoData[this[0]]._aData:void 0;var t=i[0].aoData[this[0]];return t._aData=e,Array.isArray(e)&&t.nTr&&t.nTr.id&&qv(i[0].rowId)(e,t.nTr.id),_T(i[0],this[0],"data"),this}),rr("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),rr("row.add()",function(e){e instanceof de&&e.length&&(e=e[0]);var i=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?gD(t,e)[0]:Hv(t,e)});return this.row(i[0])}),de(document).on("plugin-init.dt",function(e,i){var t=new ei(i),o="on-plugin-init",s="stateSaveParams."+o,l="destroy. "+o;t.on(s,function(v,w,D){for(var M=w.rowIdFn,k=w.aoData,H=[],J=0;J<k.length;J++)k[J]._detailsShow&&H.push("#"+M(k[J]._aData));D.childRows=H}),t.on(l,function(){t.off(s+" "+l)});var h=t.state.loaded();h&&h.childRows&&t.rows(de.map(h.childRows,function(v){return v.replace(/:/g,"\\:")})).every(function(){Ni(i,null,"requestChild",[this])})});var kO=At.util.throttle(function(e){AT(e[0])},500),G6=function(e,i){var t=e.context;if(t.length){var o=t[0].aoData[void 0!==i?i:e[0]];o&&o._details&&(o._details.remove(),o._detailsShow=void 0,o._details=void 0,de(o.nTr).removeClass("dt-hasChild"),kO(t))}},RO=function(e,i){var t=e.context;if(t.length&&e.length){var o=t[0].aoData[e[0]];o._details&&(o._detailsShow=i,i?(o._details.insertAfter(o.nTr),de(o.nTr).addClass("dt-hasChild")):(o._details.detach(),de(o.nTr).removeClass("dt-hasChild")),Ni(t[0],null,"childRow",[i,e.row(e[0])]),qL(t[0]),kO(t))}},qL=function(e){var i=new ei(e),t=".dt.DT_details",o="draw"+t,s="column-sizing"+t,l="destroy"+t,h=e.aoData;i.off(o+" "+s+" "+l),fd(h,"_details").length>0&&(i.on(o,function(v,w){e===w&&i.rows({page:"current"}).eq(0).each(function(D){var M=h[D];M._detailsShow&&M._details.insertAfter(M.nTr)})}),i.on(s,function(v,w,D,M){if(e===w)for(var k,H=pw(w),J=0,X=h.length;J<X;J++)(k=h[J])._details&&k._details.children("td[colspan]").attr("colspan",H)}),i.on(l,function(v,w){if(e===w)for(var D=0,M=h.length;D<M;D++)h[D]._details&&G6(i,D)}))},DT="row().child",SD=DT+"()";rr(SD,function(e,i){var t=this.context;return void 0===e?t.length&&this.length?t[0].aoData[this[0]]._details:void 0:(!0===e?this.child.show():!1===e?G6(this):t.length&&this.length&&function(e,i,t,o){var s=[],l=function(h,v){if(Array.isArray(h)||h instanceof de)for(var w=0,D=h.length;w<D;w++)l(h[w],v);else if(h.nodeName&&"tr"===h.nodeName.toLowerCase())s.push(h);else{var M=de("<tr><td></td></tr>").addClass(v);de("td",M).addClass(v).html(h)[0].colSpan=pw(e),s.push(M[0])}};l(t,o),i._details&&i._details.detach(),i._details=de(s),i._detailsShow&&i._details.insertAfter(i.nTr)}(t[0],t[0].aoData[this[0]],e,i),this)}),rr([DT+".show()",SD+".show()"],function(e){return RO(this,!0),this}),rr([DT+".hide()",SD+".hide()"],function(){return RO(this,!1),this}),rr([DT+".remove()",SD+".remove()"],function(){return G6(this),this}),rr(DT+".isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var GL=/^([^:]+):(name|visIdx|visible)$/,FO=function(e,i,t,o,s){for(var l=[],h=0,v=s.length;h<v;h++)l.push(Ic(e,s[h],i));return l};rr("columns()",function(e,i){void 0===e?e="":de.isPlainObject(e)&&(i=e,e=""),i=q6(i);var t=this.iterator("table",function(o){return function(e,i,t){var o=e.aoColumns,s=fd(o,"sName"),l=fd(o,"nTh");return H6("column",i,function(v){var w=zM(v);if(""===v)return hw(o.length);if(null!==w)return[w>=0?w:o.length+w];if("function"==typeof v){var D=DD(e,t);return de.map(o,function(ue,ve){return v(ve,FO(e,ve,0,0,D),l[ve])?ve:null})}var M="string"==typeof v?v.match(GL):"";if(M)switch(M[2]){case"visIdx":case"visible":var k=parseInt(M[1],10);if(k<0){var H=de.map(o,function(ue,ve){return ue.bVisible?ve:null});return[H[H.length+k]]}return[mT(e,k)];case"name":return de.map(s,function(ue,ve){return ue===M[1]?ve:null});default:return[]}if(v.nodeName&&v._DT_CellIndex)return[v._DT_CellIndex.column];var J=de(l).filter(v).map(function(){return de.inArray(this,l)}).toArray();if(J.length||!v.nodeName)return J;var X=de(v).closest("*[data-dt-column]");return X.length?[X.data("dt-column")]:[]},e,t)}(o,e,i)},1);return t.selector.cols=e,t.selector.opts=i,t}),Uo("columns().header()","column().header()",function(e,i){return this.iterator("column",function(t,o){return t.aoColumns[o].nTh},1)}),Uo("columns().footer()","column().footer()",function(e,i){return this.iterator("column",function(t,o){return t.aoColumns[o].nTf},1)}),Uo("columns().data()","column().data()",function(){return this.iterator("column-rows",FO,1)}),Uo("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,i){return e.aoColumns[i].mData},1)}),Uo("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(i,t,o,s,l){return hT(i.aoData,l,"search"===e?"_aFilterData":"_aSortData",t)},1)}),Uo("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,i,t,o,s){return hT(e.aoData,s,"anCells",i)},1)}),Uo("columns().visible()","column().visible()",function(e,i){var t=this,o=this.iterator("column",function(s,l){if(void 0===e)return s.aoColumns[l].bVisible;!function(e,i,t){var v,w,D,M,o=e.aoColumns,s=o[i],l=e.aoData;if(void 0===t)return s.bVisible;if(s.bVisible!==t){if(t){var k=de.inArray(!0,fd(o,"bVisible"),i+1);for(w=0,D=l.length;w<D;w++)v=l[w].anCells,(M=l[w].nTr)&&M.insertBefore(v[i],v[k]||null)}else de(fd(e.aoData,"anCells",i)).detach();s.bVisible=t}}(s,l,e)});return void 0!==e&&this.iterator("table",function(s){bT(s,s.aoHeader),bT(s,s.aoFooter),s.aiDisplay.length||de(s.nTBody).find("td[colspan]").attr("colspan",pw(s)),AT(s),t.iterator("column",function(l,h){Ni(l,null,"column-visibility",[l,h,e,i])}),(void 0===i||i)&&t.columns.adjust()}),o}),Uo("columns().indexes()","column().index()",function(e){return this.iterator("column",function(i,t){return"visible"===e?vT(i,t):t},1)}),rr("columns.adjust()",function(){return this.iterator("table",function(e){gT(e)},1)}),rr("column.index()",function(e,i){if(0!==this.context.length){var t=this.context[0];if("fromVisible"===e||"toData"===e)return mT(t,i);if("fromData"===e||"toVisible"===e)return vT(t,i)}}),rr("column()",function(e,i){return Z6(this.columns(e,i))}),rr("cells()",function(e,i,t){if(de.isPlainObject(e)&&(void 0===e.row?(t=e,e=null):(t=i,i=null)),de.isPlainObject(i)&&(t=i,i=null),null==i)return this.iterator("table",function(H){return function(e,i,t){var v,D,M,k,H,J,X,o=e.aoData,s=DD(e,t),l=KM(hT(o,s,"anCells")),h=de(QM([],l)),w=e.aoColumns.length;return H6("cell",i,function(ve){var Ne="function"==typeof ve;if(null==ve||Ne){for(D=[],M=0,k=s.length;M<k;M++)for(v=s[M],H=0;H<w;H++)J={row:v,column:H},Ne?(X=o[v],ve(J,Ic(e,v,H),X.anCells?X.anCells[H]:null)&&D.push(J)):D.push(J);return D}if(de.isPlainObject(ve))return void 0!==ve.column&&void 0!==ve.row&&-1!==de.inArray(ve.row,s)?[ve]:[];var Ue=h.filter(ve).map(function(et,_t){return{row:_t._DT_CellIndex.row,column:_t._DT_CellIndex.column}}).toArray();return Ue.length||!ve.nodeName?Ue:(X=de(ve).closest("*[data-dt-row]")).length?[{row:X.data("dt-row"),column:X.data("dt-column")}]:[]},e,t)}(H,e,q6(t))});var h,v,w,D,o=t?{page:t.page,order:t.order,search:t.search}:{},s=this.columns(i,o),l=this.rows(e,o),M=this.iterator("table",function(H,J){var X=[];for(h=0,v=l[J].length;h<v;h++)for(w=0,D=s[J].length;w<D;w++)X.push({row:l[J][h],column:s[J][w]});return X},1),k=t&&t.selected?this.cells(M,t):M;return de.extend(k.selector,{cols:i,rows:e,opts:t}),k}),Uo("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,i,t){var o=e.aoData[i];return o&&o.anCells?o.anCells[t]:void 0},1)}),rr("cells().data()",function(){return this.iterator("cell",function(e,i,t){return Ic(e,i,t)},1)}),Uo("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(i,t,o){return i.aoData[t][e][o]},1)}),Uo("cells().render()","cell().render()",function(e){return this.iterator("cell",function(i,t,o){return Ic(i,t,o,e)},1)}),Uo("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,i,t){return{row:i,column:t,columnVisible:vT(e,t)}},1)}),Uo("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(i,t,o){_T(i,t,e,o)})}),rr("cell()",function(e,i,t){return Z6(this.cells(e,i,t))}),rr("cell().data()",function(e){var i=this.context,t=this[0];return void 0===e?i.length&&t.length?Ic(i[0],t[0].row,t[0].column):void 0:(iO(i[0],t[0].row,t[0].column,e),_T(i[0],t[0].row,"data",t[0].column),this)}),rr("order()",function(e,i){var t=this.context;return void 0===e?0!==t.length?t[0].aaSorting:void 0:("number"==typeof e?e=[[e,i]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(o){o.aaSorting=e.slice()}))}),rr("order.listener()",function(e,i,t){return this.iterator("table",function(o){F6(o,e,i,t)})}),rr("order.fixed()",function(e){if(!e){var i=this.context,t=i.length?i[0].aaSortingFixed:void 0;return Array.isArray(t)?{pre:t}:t}return this.iterator("table",function(o){o.aaSortingFixed=de.extend(!0,{},e)})}),rr(["columns().order()","column().order()"],function(e){var i=this;return this.iterator("table",function(t,o){var s=[];de.each(i[o],function(l,h){s.push([h,e])}),t.aaSorting=s})}),rr("search()",function(e,i,t,o){var s=this.context;return void 0===e?0!==s.length?s[0].oPreviousSearch.sSearch:void 0:this.iterator("table",function(l){!l.oFeatures.bFilter||TT(l,de.extend({},l.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===t||t,bCaseInsensitive:null===o||o}),1)})}),Uo("columns().search()","column().search()",function(e,i,t,o){return this.iterator("column",function(s,l){var h=s.aoPreSearchCols;if(void 0===e)return h[l].sSearch;!s.oFeatures.bFilter||(de.extend(h[l],{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===t||t,bCaseInsensitive:null===o||o}),TT(s,s.oPreviousSearch,1))})}),rr("state()",function(){return this.context.length?this.context[0].oSavedState:null}),rr("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),rr("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),rr("state.save()",function(){return this.iterator("table",function(e){AT(e)})}),At.use=function(e,i){"lib"===i||e.fn?de=e:"win"==i||e.document?(window=e,document=e.document):("datetime"===i||"DateTime"===e.type)&&(At.DateTime=e)},At.factory=function(e,i){var t=!1;return e&&e.document&&(window=e,document=e.document),i&&i.fn&&i.fn.jquery&&(de=i,t=!0),t},At.versionCheck=At.fnVersionCheck=function(e){for(var o,s,i=At.version.split("."),t=e.split("."),l=0,h=t.length;l<h;l++)if((o=parseInt(i[l],10)||0)!==(s=parseInt(t[l],10)||0))return o>s;return!0},At.isDataTable=At.fnIsDataTable=function(e){var i=de(e).get(0),t=!1;return e instanceof At.Api||(de.each(At.settings,function(o,s){var l=s.nScrollHead?de("table",s.nScrollHead)[0]:null,h=s.nScrollFoot?de("table",s.nScrollFoot)[0]:null;(s.nTable===i||l===i||h===i)&&(t=!0)}),t)},At.tables=At.fnTables=function(e){var i=!1;de.isPlainObject(e)&&(i=e.api,e=e.visible);var t=de.map(At.settings,function(o){if(!e||e&&de(o.nTable).is(":visible"))return o.nTable});return i?new ei(t):t},At.camelToHungarian=jg,rr("$()",function(e,i){var t=this.rows(i).nodes(),o=de(t);return de([].concat(o.filter(e).toArray(),o.find(e).toArray()))}),de.each(["on","one","off"],function(e,i){rr(i+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=de.map(t[0].split(/\s/),function(s){return s.match(/\.dt\b/)?s:s+".dt"}).join(" ");var o=de(this.tables().nodes());return o[i].apply(o,t),this})}),rr("clear()",function(){return this.iterator("table",function(e){mD(e)})}),rr("settings()",function(){return new ei(this.context,this.context)}),rr("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),rr("data()",function(){return this.iterator("table",function(e){return fd(e.aoData,"_aData")}).flatten()}),rr("destroy()",function(e){return e=e||!1,this.iterator("table",function(i){var H,t=i.oClasses,o=i.nTable,s=i.nTBody,l=i.nTHead,h=i.nTFoot,v=de(o),w=de(s),D=de(i.nTableWrapper),M=de.map(i.aoData,function(ve){return ve.nTr});i.bDestroying=!0,Ni(i,"aoDestroyCallback","destroy",[i]),e||new ei(i).columns().visible(!0),D.off(".DT").find(":not(tbody *)").off(".DT"),de(window).off(".DT-"+i.sInstance),o!=l.parentNode&&(v.children("thead").detach(),v.append(l)),h&&o!=h.parentNode&&(v.children("tfoot").detach(),v.append(h)),i.aaSorting=[],i.aaSortingFixed=[],ED(i),de(M).removeClass(i.asStripeClasses.join(" ")),de("th, td",l).removeClass(t.sSortable+" "+t.sSortableAsc+" "+t.sSortableDesc+" "+t.sSortableNone),w.children().detach(),w.append(M);var J=i.nTableWrapper.parentNode,X=e?"remove":"detach";v[X](),D[X](),!e&&J&&(J.insertBefore(o,i.nTableReinsertBefore),v.css("width",i.sDestroyWidth).removeClass(t.sTable),(H=i.asDestroyStripes.length)&&w.children().each(function(ve){de(this).addClass(i.asDestroyStripes[ve%H])}));var ue=de.inArray(i,At.settings);-1!==ue&&At.settings.splice(ue,1)})}),de.each(["column","row","cell"],function(e,i){rr(i+"s().every()",function(t){var o=this.selector.opts,s=this;return this.iterator(i,function(l,h,v,w,D){t.call(s[i](h,"cell"===i?v:o,"cell"===i?o:void 0),h,v,w,D)})})}),rr("i18n()",function(e,i,t){var o=this.context[0],s=mw(e)(o.oLanguage);return void 0===s&&(s=i),void 0!==t&&de.isPlainObject(s)&&(s=void 0!==s[t]?s[t]:s._),"string"==typeof s?s.replace("%d",t):s}),At.version="1.13.5",At.settings=[],At.models={},At.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1},At.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},At.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},At.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,i){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(i))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:de.extend({},At.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},pT(At.defaults),At.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},pT(At.defaults.column),At.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ol(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ol(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,i=this._iDisplayStart,t=i+e,o=this.aiDisplay.length,s=this.oFeatures,l=s.bPaginate;return s.bServerSide?!1===l||-1===e?i+o:Math.min(i+e,this._iRecordsDisplay):!l||t>o||-1===e?o:t},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},At.ext=oa={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:At.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:At.version},de.extend(oa,{afnFiltering:oa.search,aTypes:oa.type.detect,ofnSearch:oa.type.search,oSort:oa.type.order,afnSortData:oa.order,aoFeatures:oa.feature,oApi:oa.internal,oStdClasses:oa.classes,oPagination:oa.pager}),de.extend(At.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var LO=At.ext.pager;function ST(e,i){var t=[],o=LO.numbers_length,s=Math.floor(o/2);return i<=o?t=hw(0,i):e<=s?((t=hw(0,o-2)).push("ellipsis"),t.push(i-1)):e>=i-1-s?((t=hw(i-(o-2),i)).splice(0,0,"ellipsis"),t.splice(0,0,0)):((t=hw(e-s+2,e+s-1)).push("ellipsis"),t.push(i-1),t.splice(0,0,"ellipsis"),t.splice(0,0,0)),t.DT_el="span",t}de.extend(LO,{simple:function(e,i){return["previous","next"]},full:function(e,i){return["first","previous","next","last"]},numbers:function(e,i){return[ST(e,i)]},simple_numbers:function(e,i){return["previous",ST(e,i),"next"]},full_numbers:function(e,i){return["first","previous",ST(e,i),"next","last"]},first_last_numbers:function(e,i){return["first",ST(e,i),"last"]},_numbers:ST,numbers_length:7}),de.extend(!0,At.ext.renderer,{pageButton:{_:function(e,i,t,o,s,l){var D,M,H,h=e.oClasses,v=e.oLanguage.oPaginate,w=e.oLanguage.oAria.paginate||{},k=function(J,X){var ue,ve,Ue,et,_t=h.sPageButtonDisabled,St=function(Qn){CD(e,Qn.data.action,!0)};for(ue=0,ve=X.length;ue<ve;ue++)if(Ue=X[ue],Array.isArray(Ue)){var Ze=de("<"+(Ue.DT_el||"div")+"/>").appendTo(J);k(Ze,Ue)}else{switch(D=null,M=Ue,et=e.iTabIndex,Ue){case"ellipsis":J.append('<span class="ellipsis">&#x2026;</span>');break;case"first":D=v.sFirst,0===s&&(et=-1,M+=" "+_t);break;case"previous":D=v.sPrevious,0===s&&(et=-1,M+=" "+_t);break;case"next":D=v.sNext,(0===l||s===l-1)&&(et=-1,M+=" "+_t);break;case"last":D=v.sLast,(0===l||s===l-1)&&(et=-1,M+=" "+_t);break;default:D=e.fnFormatNumber(Ue+1),M=s===Ue?h.sPageButtonActive:""}if(null!==D){var Nn=e.oInit.pagingTag||"a",Ti=-1!==M.indexOf(_t);B6(de("<"+Nn+">",{class:h.sPageButton+" "+M,"aria-controls":e.sTableId,"aria-disabled":Ti?"true":null,"aria-label":w[Ue],role:"link","aria-current":M===h.sPageButtonActive?"page":null,"data-dt-idx":Ue,tabindex:et,id:0===t&&"string"==typeof Ue?e.sTableId+"_"+Ue:null}).html(D).appendTo(J),{action:Ue},St)}}};try{H=de(i).find(document.activeElement).data("dt-idx")}catch{}k(de(i).empty(),o),void 0!==H&&de(i).find("[data-dt-idx="+H+"]").trigger("focus")}}}),de.extend(At.ext.type.detect,[function(e,i){var t=i.oLanguage.sDecimal;return w6(e,t)?"num"+t:null},function(e,i){if(e&&!(e instanceof Date)&&!PL.test(e))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||Ep(e)?"date":null},function(e,i){var t=i.oLanguage.sDecimal;return w6(e,t,!0)?"num-fmt"+t:null},function(e,i){var t=i.oLanguage.sDecimal;return YM(e,t)?"html-num"+t:null},function(e,i){var t=i.oLanguage.sDecimal;return YM(e,t,!0)?"html-num-fmt"+t:null},function(e,i){return Ep(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),de.extend(At.ext.type.search,{html:function(e){return Ep(e)?e:"string"==typeof e?e.replace($M," ").replace(dD,""):""},string:function(e){return Ep(e)?e:"string"==typeof e?e.replace($M," "):e}});var ID=function(e,i,t,o){if(0!==e&&(!e||"-"===e))return-1/0;var s=typeof e;return"number"===s||"bigint"===s?e:(i&&(e=WM(e,i)),e.replace&&(t&&(e=e.replace(t,"")),o&&(e=e.replace(o,""))),1*e)};function $6(e){de.each({num:function(i){return ID(i,e)},"num-fmt":function(i){return ID(i,e,b6)},"html-num":function(i){return ID(i,e,dD)},"html-num-fmt":function(i){return ID(i,e,dD,b6)}},function(i,t){oa.type.order[i+e+"-pre"]=t,i.match(/^html\-/)&&(oa.type.search[i+e]=oa.type.search.html)})}de.extend(oa.type.order,{"date-pre":function(e){var i=Date.parse(e);return isNaN(i)?-1/0:i},"html-pre":function(e){return Ep(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return Ep(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,i){return e<i?-1:e>i?1:0},"string-desc":function(e,i){return e<i?1:e>i?-1:0}}),$6(""),de.extend(!0,At.ext.renderer,{header:{_:function(e,i,t,o){de(e.nTable).on("order.dt.DT",function(s,l,h,v){if(e===l){var w=t.idx;i.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==v[w]?o.sSortAsc:"desc"==v[w]?o.sSortDesc:t.sSortingClass)}})},jqueryui:function(e,i,t,o){de("<div/>").addClass(o.sSortJUIWrapper).append(i.contents()).append(de("<span/>").addClass(o.sSortIcon+" "+t.sSortingClassJUI)).appendTo(i),de(e.nTable).on("order.dt.DT",function(s,l,h,v){if(e===l){var w=t.idx;i.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==v[w]?o.sSortAsc:"desc"==v[w]?o.sSortDesc:t.sSortingClass),i.find("span."+o.sSortIcon).removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed).addClass("asc"==v[w]?o.sSortJUIAsc:"desc"==v[w]?o.sSortJUIDesc:t.sSortingClassJUI)}})}}});var xD=function(e){return Array.isArray(e)&&(e=e.join(",")),"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};function UO(e,i,t,o,s){return window.moment?e[i](s):window.luxon?e[t](s):o?e[o](s):e}var BO=!1;function PD(e,i,t){var o;if(window.moment){if(!(o=window.moment.utc(e,i,t,!0)).isValid())return null}else if(window.luxon){if(!(o=i&&"string"==typeof e?window.luxon.DateTime.fromFormat(e,i):window.luxon.DateTime.fromISO(e)).isValid)return null;o.setLocale(t)}else i?(BO||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),BO=!0):o=new Date(e);return o}function z6(e){return function(i,t,o,s){0===arguments.length?(o="en",t=null,i=null):1===arguments.length?(o="en",t=i,i=null):2===arguments.length&&(o=t,t=i,i=null);var l="datetime-"+t;return At.ext.type.order[l]||(At.ext.type.detect.unshift(function(h){return h===l&&l}),At.ext.type.order[l+"-asc"]=function(h,v){var w=h.valueOf(),D=v.valueOf();return w===D?0:w<D?-1:1},At.ext.type.order[l+"-desc"]=function(h,v){var w=h.valueOf(),D=v.valueOf();return w===D?0:w>D?-1:1}),function(h,v){if(null==h)if("--now"===s){var w=new Date;h=new Date(Date.UTC(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds()))}else h="";if("type"===v)return l;if(""===h)return"sort"!==v?"":PD("0000-01-01 00:00:00",null,o);if(null!==t&&i===t&&"sort"!==v&&"type"!==v&&!(h instanceof Date))return h;var D=PD(h,i,o);if(null===D)return h;if("sort"===v)return D;var M=null===t?UO(D,"toDate","toJSDate","")[e]():UO(D,"format","toFormat","toISOString",t);return"display"===v?xD(M):M}}}var VO=",",jO=".";if(void 0!==window.Intl)try{for(var IT=(new Intl.NumberFormat).formatToParts(100000.1),yw=0;yw<IT.length;yw++)"group"===IT[yw].type?VO=IT[yw].value:"decimal"===IT[yw].type&&(jO=IT[yw].value)}catch{}function HO(e){return function(){var i=[AD(this[At.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return At.ext.internal[e].apply(this,i)}}At.datetime=function(e,i){var t="datetime-detect-"+e;i||(i="en"),At.ext.type.order[t]||(At.ext.type.detect.unshift(function(o){var s=PD(o,e,i);return!(""!==o&&!s)&&t}),At.ext.type.order[t+"-pre"]=function(o){return PD(o,e,i)||0})},At.render={date:z6("toLocaleDateString"),datetime:z6("toLocaleString"),time:z6("toLocaleTimeString"),number:function(e,i,t,o,s){return null==e&&(e=VO),null==i&&(i=jO),{display:function(l){if("number"!=typeof l&&"string"!=typeof l||""===l||null===l)return l;var h=l<0?"-":"",v=parseFloat(l);if(isNaN(v))return xD(l);v=v.toFixed(t),l=Math.abs(v);var w=parseInt(l,10),D=t?i+(l-w).toFixed(t).substring(2):"";return 0===w&&0===parseFloat(D)&&(h=""),h+(o||"")+w.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+D+(s||"")}}},text:function(){return{display:xD,filter:xD}}},de.extend(At.ext.internal,{_fnExternApiFunc:HO,_fnBuildAjax:_D,_fnAjaxUpdate:aO,_fnAjaxParameters:uO,_fnAjaxUpdateDraw:lO,_fnAjaxDataSrc:CT,_fnAddColumn:T6,_fnColumnOptions:hD,_fnAdjustColumnSizing:gT,_fnVisibleToColumnIndex:mT,_fnColumnIndexToVisible:vT,_fnVisbleColumns:pw,_fnGetColumns:pD,_fnColumnTypes:E6,_fnApplyColumnDefs:rO,_fnHungarianMap:pT,_fnCamelToHungarian:jg,_fnLanguageCompat:C6,_fnBrowserDetect:tO,_fnAddData:Hv,_fnAddTr:gD,_fnNodeToDataIndex:function RL(e,i){return void 0!==i._DT_RowIndex?i._DT_RowIndex:null},_fnNodeToColumnIndex:function FL(e,i,t){return de.inArray(t,e.aoData[i].anCells)},_fnGetCellData:Ic,_fnSetCellData:iO,_fnSplitObjNotation:A6,_fnGetObjectDataFn:mw,_fnSetObjectDataFn:qv,_fnGetDataMaster:D6,_fnClearTable:mD,_fnDeleteIndex:vD,_fnInvalidate:_T,_fnGetRowElements:S6,_fnCreateTr:I6,_fnBuildHead:oO,_fnDrawHead:bT,_fnDraw:Zv,_fnReDraw:r_,_fnAddOptionsHtml:sO,_fnDetectHeader:wT,_fnGetUniqueThs:yD,_fnFeatureHtmlFilter:cO,_fnFilterComplete:TT,_fnFilterCustom:dO,_fnFilterColumn:fO,_fnFilter:hO,_fnFilterCreateSearch:P6,_fnEscapeRegex:M6,_fnFilterData:pO,_fnFeatureHtmlInfo:vO,_fnUpdateInfo:yO,_fnInfoMacros:_O,_fnInitialise:ET,_fnInitComplete:wD,_fnLengthChange:O6,_fnFeatureHtmlLength:bO,_fnFeatureHtmlPaginate:wO,_fnPageChange:CD,_fnFeatureHtmlProcessing:CO,_fnProcessingDisplay:hd,_fnFeatureHtmlTable:TO,_fnScrollDraw:TD,_fnApplyToChildren:Ap,_fnCalculateColumnWidths:N6,_fnThrottle:k6,_fnConvertToWidth:EO,_fnGetWidestNode:AO,_fnGetMaxLenString:DO,_fnStringToCss:gs,_fnSortFlatten:vw,_fnSort:SO,_fnSortAria:IO,_fnSortListener:R6,_fnSortAttachListener:F6,_fnSortingClasses:ED,_fnSortData:xO,_fnSaveState:AT,_fnLoadState:PO,_fnImplementState:L6,_fnSettingsFromNode:AD,_fnLog:yf,_fnMap:Th,_fnBindAction:B6,_fnCallbackReg:ql,_fnCallbackFire:Ni,_fnLengthOverflow:V6,_fnRenderer:j6,_fnDataSource:ol,_fnRowAttributes:x6,_fnExtend:U6,_fnCalculateEnd:function(){}}),de.fn.dataTable=At,At.$=de,de.fn.dataTableSettings=At.settings,de.fn.dataTableExt=At.ext,de.fn.DataTable=function(e){return de(this).dataTable(e).api()},de.each(At,function(e,i){de.fn.DataTable[e]=i});var xT=function(){function e(i){this.el=i,this.dtOptions={}}return e.prototype.ngOnInit=function(){var i=this;this.dtTrigger?this.dtTrigger.subscribe(function(){i.displayTable()}):this.displayTable()},e.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},e.prototype.displayTable=function(){var i=this;this.dtInstance=new Promise(function(t,o){Promise.resolve(i.dtOptions).then(function(s){setTimeout(function(){i.dt=$(i.el.nativeElement).DataTable(s),t(i.dt)})})})},e.ctorParameters=function(){return[{type:a.SBq}]},e.propDecorators={dtOptions:[{type:a.IIB}],dtTrigger:[{type:a.IIB}]},e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq))},e.\u0275dir=a.lG2({type:e,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),e}(),YL=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[Us]}),e}();const KL=["*"];let qO=(()=>{class e{constructor(t,o,s){this.el=t,this.zone=o,this.platformId=s,this.afterChange=new a.vpe,this.beforeChange=new a.vpe,this.breakpoint=new a.vpe,this.destroy=new a.vpe,this.init=new a.vpe,this.currentIndex=0,this.slides=[],this.initialized=!1,this._removedSlides=[],this._addedSlides=[]}ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!ca(this.platformId)&&(this._addedSlides.length>0||this._removedSlides.length>0)){const t=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===t?this.unslick():(this._addedSlides.forEach(o=>{this.slides.push(o),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickAdd",o.el.nativeElement)})}),this._addedSlides=[],this._removedSlides.forEach(o=>{const s=this.slides.indexOf(o);this.slides=this.slides.filter(l=>l!==o),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickRemove",s)})}),this._removedSlides=[]):t>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.zone.runOutsideAngular(()=>{this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(t,o)=>{this.zone.run(()=>{this.init.emit({event:t,slick:o})})}),this.$instance.slick(this.config),this.zone.run(()=>{this.initialized=!0,this.currentIndex=this.config?.initialSlide||0}),this.$instance.on("afterChange",(t,o,s)=>{this.zone.run(()=>{this.afterChange.emit({event:t,slick:o,currentSlide:s,first:0===s,last:o.$slides.length===s+o.options.slidesToScroll}),this.currentIndex=s})}),this.$instance.on("beforeChange",(t,o,s,l)=>{this.zone.run(()=>{this.beforeChange.emit({event:t,slick:o,currentSlide:s,nextSlide:l}),this.currentIndex=l})}),this.$instance.on("breakpoint",(t,o,s)=>{this.zone.run(()=>{this.breakpoint.emit({event:t,slick:o,breakpoint:s})})}),this.$instance.on("destroy",(t,o)=>{this.zone.run(()=>{this.destroy.emit({event:t,slick:o}),this.initialized=!1})})})}addSlide(t){this._addedSlides.push(t)}removeSlide(t){this._removedSlides.push(t)}slickGoTo(t){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickGoTo",t)})}slickNext(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickNext")})}slickPrev(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPrev")})}slickPause(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPause")})}slickPlay(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPlay")})}unslick(){this.$instance&&(this.zone.runOutsideAngular(()=>{this.$instance.slick("unslick")}),this.$instance=void 0),this.initialized=!1}ngOnChanges(t){if(this.initialized){const o=t.config;if(o.previousValue!==o.currentValue&&void 0!==o.currentValue){const s=o.currentValue.refresh,l=Object.assign({},o.currentValue);delete l.refresh,this.zone.runOutsideAngular(()=>{this.$instance.slick("slickSetOption",l,s)})}}}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.Lbi))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],features:[a._Bn([{provide:_u,useExisting:(0,a.Gpc)(()=>e),multi:!0}]),a.TTD],ngContentSelectors:KL,decls:1,vars:0,template:function(t,o){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2}),e})(),QL=(()=>{class e{constructor(t,o,s,l){this.el=t,this.renderer=o,this.platformId=s,this.carousel=l}ngOnInit(){this.carousel.addSlide(this),ca(this.platformId)&&this.carousel.slides.length>0&&this.renderer.setStyle(this.el,"display","none")}ngOnDestroy(){this.carousel.removeSlide(this)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.Lbi),a.Y36(qO,1))},e.\u0275dir=a.lG2({type:e,selectors:[["","ngxSlickItem",""]]}),e})(),JL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[Us]}),e})();function XL(e,i){if(1&e&&(a.TgZ(0,"div",49),a._UZ(1,"img",50),a.qZA()),2&e){const t=i.$implicit;a.xp6(1),a.s9C("src",t.imageurl,a.LSH)}}function eU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._uU(12),a.qZA(),a.TgZ(13,"td")(14,"button",39),a.NdJ("click",function(){const l=a.CHM(t).$implicit,h=a.oxw();return a.KtG(h.onselectproduct(l))}),a._UZ(15,"i",40),a.qZA(),a.TgZ(16,"div",41)(17,"div",17)(18,"div",18)(19,"div",19)(20,"h5",20),a._uU(21),a.qZA(),a.TgZ(22,"button",21)(23,"span",22),a._uU(24,"\xd7"),a.qZA()()(),a.TgZ(25,"div",23)(26,"ngx-slick-carousel",42,43),a.YNc(28,XL,2,1,"div",44),a.qZA()()()()()(),a.TgZ(29,"td"),a._uU(30),a.qZA(),a.TgZ(31,"td")(32,"button",45),a.NdJ("click",function(){const l=a.CHM(t).$implicit,h=a.oxw();return a.KtG(h.onSelect(l))}),a._UZ(33,"i",46),a.qZA(),a.TgZ(34,"button",47),a.NdJ("click",function(){const l=a.CHM(t).$implicit,h=a.oxw();return a.KtG(h.deleteproduct(l))}),a._UZ(35,"i",48),a.qZA()()()}if(2&e){const t=i.$implicit,o=i.index,s=a.oxw();a.xp6(2),a.Oqu(o+1),a.xp6(2),a.Oqu(t.productcode),a.xp6(2),a.Oqu(t.productname),a.xp6(2),a.Oqu(t.saleprice),a.xp6(2),a.Oqu(t.buyprice),a.xp6(2),a.Oqu(t.productcat),a.xp6(9),a.hij("\u0635\u0648\u0631 ",t.productname,""),a.xp6(5),a.Q6J("config",s.slideConfig),a.xp6(2),a.Q6J("ngForOf",t.selectedFile),a.xp6(2),a.Oqu(t.mount)}}function tU(e,i){if(1&e&&(a.TgZ(0,"div"),a._UZ(1,"img",51),a.qZA()),2&e){const t=i.$implicit;a.xp6(1),a.Q6J("src",t.imageurl,a.LSH)}}let nU=(()=>{class e{constructor(t,o,s){this.Product=t,this.FB=o,this.auth=s,this.closeModalEvent=new a.vpe,this.dtTrigger=new zr.x,this.dtOptions={},this.selectedItem={},this.submitted=!1,this.language={sProcessing:"\u062c\u0627\u0631\u064d \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",sLengthMenu:"\u0623\u0638\u0647\u0631 _MENU_ \u0645\u062f\u062e\u0644\u0627\u062a",sZeroRecords:"\u0644\u0645 \u064a\u0639\u062b\u0631 \u0639\u0644\u0649 \u0623\u064a\u0629 \u0633\u062c\u0644\u0627\u062a",sInfo:"\u0625\u0638\u0647\u0627\u0631 _START_ \u0625\u0644\u0649 _END_ \u0645\u0646 \u0623\u0635\u0644 _TOTAL_ \u0645\u062f\u062e\u0644",sInfoEmpty:"\u064a\u0639\u0631\u0636 0 \u0625\u0644\u0649 0 \u0645\u0646 \u0623\u0635\u0644 0 \u0633\u062c\u0644",sInfoFiltered:"(\u0645\u0646\u062a\u0642\u0627\u0629 \u0645\u0646 \u0645\u062c\u0645\u0648\u0639 _MAX_ \u0645\u064f\u062f\u062e\u0644)",sInfoPostFix:"",sSearch:"\u0627\u0628\u062d\u062b:",sUrl:"",oPaginate:{sFirst:"\u0627\u0644\u0623\u0648\u0644",sPrevious:"\u0627\u0644\u0633\u0627\u0628\u0642",sNext:"\u0627\u0644\u062a\u0627\u0644\u064a",sLast:"\u0627\u0644\u0623\u062e\u064a\u0631"}},this.slideConfig={slidesToShow:1,slidesToScroll:1,dots:!0,infinite:!1,rtl:!0,arrows:!1}}ngOnInit(){this.getAllProduct(),this.selectedItem={...this.productitem},this.dtOptions={pagingType:"full_numbers",language:this.language,responsive:!0,retrieve:!0,dom:"Bfrtip"},this.updateform=this.FB.group({productname:new mn(this.selectedItem.productname),productcode:new mn(this.selectedItem.productcode),saleprice:new mn(this.selectedItem.saleprice),buyprice:new mn(this.selectedItem.buyprice),notice:new mn(this.selectedItem.notice),productcat:new mn(this.selectedItem.productcat),mount:new mn(this.selectedItem.mount)})}getAllProduct(){return console.log(this.auth.userData.email),new Promise(t=>{this.Product.getProductByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.Products=o,this.dtTrigger.next()})})}onSelect(t){this.selectedItem=t,console.log("Selected item Id: ",t),this.updateform=this.FB.group({productname:new mn(this.selectedItem.productname),productcode:new mn(this.selectedItem.productcode),saleprice:new mn(this.selectedItem.saleprice),buyprice:new mn(this.selectedItem.buyprice),notice:new mn(this.selectedItem.notice),productcat:new mn(this.selectedItem.productcat),mount:new mn(this.selectedItem.mount)})}onselectproduct(t){this.selectedItem=t}updateproduct(){this.Product.update(this.selectedItem.id,this.updateform.value).then(()=>this.message="The tutorial was updated successfully!").catch(o=>console.log(o)),this.submitted=!0,this.closeModalEvent.emit(!1)}deleteproduct(t){vf().fire({title:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u062a\u062c",icon:"warning",showCancelButton:!0,confirmButtonText:"\u062d\u0630\u0641",cancelButtonText:"\u0627\u0644\u063a\u0627\u0621"}).then(o=>{o.value?(this.selectedItem=t,console.log(this.selectedItem.id),this.Product.delete(this.selectedItem.id).catch(s=>console.log(s)),vf().fire("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0646\u062c\u0627\u062d")):o.dismiss===vf().DismissReason.cancel&&vf().fire("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u062d\u0630\u0641")})}ngOnDestroy(){this.dtTrigger.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(_c),a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-product-details"]],inputs:{productitem:"productitem"},outputs:{closeModalEvent:"closeModalEvent"},decls:90,vars:5,consts:[[1,"d-flex","flex-row","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../home",2,"text-decoration","none"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","../ProductDetails",2,"text-decoration","none"],[1,"row"],[1,"col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"p-3","table-responsive"],["datatable","","id","producttable",1,"table","table-bordered","table-striped","table-hover","table-responsive","display","nowrap",2,"width","auto",3,"dtOptions","dtTrigger"],[1,"table-head"],[4,"ngFor","ngForOf"],["id","updateModal","tabindex","-1","role","dialog","aria-labelledby","updateeModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"mt-5","col-md-12","m-auto",3,"formGroup"],[1,"form-row"],[1,"form-group","col-md-12"],["readonly","","formControlName","productcat","required","true",1,"form-control"],[1,"form-group","col-md-12","mt-3"],["type","text","formControlName","productname","required","true",1,"form-control"],["type","number","placeholder","\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062f","formControlName","productcode","required","true",1,"form-control"],["type","number","placeholder","\u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639","formControlName","saleprice","required","true",1,"form-control"],["for","inputAddress2 col-md-12"],["type","number","placeholder","\u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629","formControlName","buyprice","required","true",1,"form-control"],["type","number","placeholder","\u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629","formControlName","mount","readonly","",1,"form-control"],["formControlName","notice",1,"form-control"],[1,"form-group","float-right","mt-5","d-flex","flex-row","justify-content-end","col-md-12"],["type","submit","id","closeModal","data-dismiss","modal",1,"btn","btn-warning","m-2","text-white",3,"click"],["data-dismiss","modal",1,"btn","btn-danger","m-2"],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-primary",2,"background-color","#000",3,"click"],[1,"fa","fa-image"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"carousel",3,"config"],["slickModal","slick-carousel"],["ngxSlickItem","","class","slide text-center",4,"ngFor","ngForOf"],["data-toggle","modal","data-target","#updateModal",1,"btn","btn-warning","btn-sm","text-white",2,"border-radius","10px","margin-left","3px",3,"click"],[1,"fa","fa-edit"],[1,"btn","btn-danger","btn-sm","text-white",2,"border-radius","10px",3,"click"],[1,"fa","fa-trash-alt"],["ngxSlickItem","",1,"slide","text-center"],[1,"m-auto",2,"width","300px",3,"src"],[1,"img-fluid",3,"src"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2," \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 "),a.qZA(),a.TgZ(3,"ol",2)(4,"li",3)(5,"a",4),a._uU(6,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629/"),a.qZA()(),a.TgZ(7,"li",5)(8,"a",6),a._uU(9," \u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"),a.qZA()()()(),a.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"h6",11),a._uU(15,"\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a "),a.qZA()(),a.TgZ(16,"div",12)(17,"table",13)(18,"thead",14)(19,"tr")(20,"th"),a._uU(21,"\u0645 "),a.qZA(),a.TgZ(22,"th"),a._uU(23,"\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(24,"th"),a._uU(25,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(26,"th"),a._uU(27,"\u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),a.qZA(),a.TgZ(28,"th"),a._uU(29,"\u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629"),a.qZA(),a.TgZ(30,"th"),a._uU(31," \u0627\u0644\u062a\u0635\u0646\u064a\u0641"),a.qZA(),a.TgZ(32,"th"),a._uU(33,"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(34,"th"),a._uU(35,"\u0627\u0644\u0643\u0645\u064a\u0629"),a.qZA(),a.TgZ(36,"th"),a._uU(37,"\u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a"),a.qZA()()(),a.TgZ(38,"tbody"),a.YNc(39,eU,36,10,"tr",15),a.qZA()()()()()(),a.TgZ(40,"div",16)(41,"div",17)(42,"div",18)(43,"div",19)(44,"h5",20),a._uU(45," \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(46,"button",21)(47,"span",22),a._uU(48,"\xd7"),a.qZA()()(),a.TgZ(49,"div",23)(50,"form",24)(51,"div",25)(52,"div",26)(53,"label"),a._uU(54,"\u0627\u0644\u062a\u0635\u0646\u064a\u0641"),a.qZA(),a._UZ(55,"input",27),a.qZA(),a.TgZ(56,"div",28)(57,"label"),a._uU(58,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a._UZ(59,"input",29),a.qZA(),a.TgZ(60,"div",28)(61,"label"),a._uU(62,"\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062f"),a.qZA(),a._UZ(63,"input",30),a.qZA(),a.TgZ(64,"div",28)(65,"label"),a._uU(66,"\u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639"),a.qZA(),a._UZ(67,"input",31),a.qZA(),a.TgZ(68,"div",28)(69,"label",32),a._uU(70,"\u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629 "),a.qZA(),a._UZ(71,"input",33),a.qZA(),a.TgZ(72,"div",28)(73,"label",32),a._uU(74," \u0627\u0644\u0643\u0645\u064a\u0629 "),a.qZA(),a._UZ(75,"input",34),a.qZA(),a.TgZ(76,"div",28)(77,"label",32),a._uU(78," \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a "),a.qZA(),a.TgZ(79,"textarea",35),a._uU(80,"              "),a.qZA()(),a.TgZ(81,"div",28)(82,"label",32),a._uU(83," \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c "),a.qZA(),a.YNc(84,tU,2,1,"div",15),a.qZA(),a.TgZ(85,"div",36)(86,"button",37),a.NdJ("click",function(){return o.updateproduct()}),a._uU(87,"\u062a\u0639\u062f\u064a\u0644 "),a.qZA(),a.TgZ(88,"button",38),a._uU(89,"\u0627\u0644\u063a\u0627\u0621 "),a.qZA()()()()()()()()),2&t&&(a.xp6(17),a.Q6J("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),a.xp6(22),a.Q6J("ngForOf",o.Products),a.xp6(11),a.Q6J("formGroup",o.updateform),a.xp6(34),a.Q6J("ngForOf",o.selectedItem.selectedFile))},dependencies:[Jt,p,ko,I,Qs,wa,$a,No,xT,Js,Ku,qO,QL],styles:[".slick-wrapper[_ngcontent-%COMP%]{width:auto;margin:20px auto}.slick-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{font-size:50px!important}"]}),e})();class W6{}let ZO=(()=>{class e{constructor(){this._printStyle=[],this.previewOnly=!1,this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(t){for(let o in t)t.hasOwnProperty(o)&&this._printStyle.push((o+JSON.stringify(t[o])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(t){let o=function(s){return`<link rel="stylesheet" type="text/css" href="${s}">`};if(-1!==t.indexOf(",")){const s=t.split(",");for(let l of s)this._styleSheetFile=this._styleSheetFile+o(l)}else this._styleSheetFile=o(t)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(t){const o=[],s=document.getElementsByTagName(t);for(let l=0;l<s.length;l++)o.push(s[l].outerHTML);return o.join("\r\n")}getFormData(t){for(var o=0;o<t.length;o++)t[o].defaultValue=t[o].value,t[o].checked&&(t[o].defaultChecked=!0)}getHtmlContents(){let t=document.getElementById(this.printSectionId),o=t.getElementsByTagName("input");this.getFormData(o);let s=t.getElementsByTagName("textarea");return this.getFormData(s),t.innerHTML}print(){let t,o,s="",l="";const h=this.getElementTag("base");this.useExistingCss&&(s=this.getElementTag("style"),l=this.getElementTag("link")),t=this.getHtmlContents(),o=window.open("","_blank","top=0,left=0,height=auto,width=auto"),o.document.open(),o.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${h}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${s}\n          ${l}\n        </head>\n        <body>\n          ${t}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              ${this.previewOnly?"":`setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});`}\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),o.document.close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.lG2({type:e,selectors:[["button","ngxPrint",""]],hostBindings:function(t,o){1&t&&a.NdJ("click",function(){return o.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile"}}),e})(),rU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({}),e})();function iU(e,i){1&e&&(a.TgZ(0,"span",34),a._uU(1," \u064a\u062c\u0628 \u0627\u0646 \u062a\u062e\u062a\u0627\u0631 \u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0631\u062f "),a.qZA())}function oU(e,i){1&e&&(a.TgZ(0,"span",34),a._uU(1," \u064a\u062c\u0628 \u0627\u0646 \u062a\u062e\u062a\u0627\u0631 \u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646 "),a.qZA())}function sU(e,i){1&e&&(a.TgZ(0,"span",34),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0646\u062a\u062c "),a.qZA())}function aU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"tr",42)(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._UZ(4,"input",43),a.qZA(),a.TgZ(5,"td"),a._UZ(6,"input",44),a.qZA(),a.TgZ(7,"td"),a._UZ(8,"input",45),a.qZA(),a.TgZ(9,"td"),a._UZ(10,"input",46),a.qZA(),a.TgZ(11,"td"),a._UZ(12,"input",47),a.qZA(),a.TgZ(13,"td"),a._UZ(14,"input",48),a.qZA(),a.TgZ(15,"td")(16,"button",49),a.NdJ("click",function(){const l=a.CHM(t).index,h=a.oxw(2);return a.KtG(h.deleteRow(l))}),a._UZ(17,"i",50),a.qZA()()()}if(2&e){const t=i.$implicit,o=i.index,s=a.oxw(2);a.Q6J("formGroupName",o),a.xp6(2),a.hij(" ",o+1," "),a.xp6(10),a.Q6J("ngModel",s.Total(t.value.price,t.value.mount))}}function uU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div")(1,"div",51)(2,"table",52)(3,"tr")(4,"th",53),a._uU(5,"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a"),a.qZA(),a.TgZ(6,"td"),a._UZ(7,"input",54),a.qZA()(),a.TgZ(8,"tr",55)(9,"th",53),a._uU(10,"\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645 "),a.qZA(),a.TgZ(11,"td")(12,"input",56),a.NdJ("ngModelChange",function(s){a.CHM(t);const l=a.oxw(2);return a.KtG(l.discount=s)}),a.qZA()()(),a.TgZ(13,"tr",55)(14,"th",53),a._uU(15," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645"),a.qZA(),a.TgZ(16,"td"),a._UZ(17,"input",57),a.qZA()()()(),a.TgZ(18,"div",40)(19,"button",58),a.NdJ("click",function(){a.CHM(t);const s=a.oxw(2);return a.KtG(s.AddBuyProduct())}),a._uU(20,"\u062d\u0641\u0638"),a.qZA(),a.TgZ(21,"button",59),a._uU(22,"\u0627\u0644\u063a\u0627\u0621"),a.qZA(),a.TgZ(23,"button",60),a._uU(24,"\u0637\u0628\u0627\u0639\u0629"),a.qZA()()()}if(2&e){const t=a.oxw(2);a.xp6(7),a.Q6J("ngModel",t.fullTotal),a.xp6(5),a.Q6J("ngModel",t.discount),a.xp6(5),a.Q6J("ngModel",t.totalafterDiscount(t.discount)),a.xp6(6),a.Q6J("useExistingCss",!0)}}function lU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div",35)(1,"div",36)(2,"table",37)(3,"thead",38)(4,"tr")(5,"th"),a._uU(6,"\u0645 "),a.qZA(),a.TgZ(7,"th"),a._uU(8,"\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"\u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629 "),a.qZA(),a.TgZ(13,"th"),a._uU(14,"\u0627\u0644\u0643\u0645\u064a\u0629"),a.qZA(),a.TgZ(15,"th"),a._uU(16,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0633\u0639\u0631"),a.qZA(),a.TgZ(17,"th"),a._uU(18,"\u0627\u0644\u0633\u0631\u064a\u0627\u0644"),a.qZA(),a.TgZ(19,"th"),a._uU(20,"\u062d\u0630\u0641"),a.qZA()()(),a.TgZ(21,"tbody"),a.YNc(22,aU,18,3,"tr",39),a.qZA()()(),a.TgZ(23,"div",40)(24,"button",32),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.findsum(s.BuyProductControls))}),a._uU(25," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a "),a.qZA()(),a.YNc(26,uU,25,4,"div",41),a.qZA()}if(2&e){const t=a.oxw();a.xp6(22),a.Q6J("ngForOf",t.BuyProduct.controls),a.xp6(4),a.Q6J("ngIf",t.click)}}let cU=(()=>{class e{constructor(t,o,s,l,h,v){this.productS=t,this.FB=o,this.config=s,this._router=l,this.Toastr=h,this.auth=v,this.addBuyProduct=new W6,this.GetAllBuyProduct=[],this.TotalPrice=0,this.fullTotal=0,this.mounts=[],this.selectedfulldata=[],this.today=new Date,this.submitted=!1,this.discount=0,this.click=!1,this.getAllProduct(),this.getallStores(),this.getAllBuyProduct(),this.getallExperter(),this.config.notFoundText="\u0644\u0627\u064a\u0648\u062c\u062f ",this.config.appendTo="body",this.config.bindValue="value"}ngOnInit(){this.BuyForm=this.FB.group({date:[null,jt.required],store:[null,jt.required],exportname:[null,jt.required],BillNumber:[this.BillNumber,jt.required],selectvalue:[null,jt.required],FullTotal:[this.fullTotal,jt.required],discount:[""],discounttotal:[],BuyProduct:this.FB.array([],jt.required)})}get store(){return this.BuyForm.get("store")}get BuyProduct(){return this.BuyForm.get("BuyProduct")}getProduct(){}get BuyProductControls(){return this.BuyForm.get("BuyProduct").controls}getBillNumber(){return this.BillNumber="SHOP"+Number(this.GetAllBuyProduct.length+1)}addBuyproduct(){}Total(t,o){return this.TotalPrice=t*o}totalafterDiscount(t){return this.fullTotal-t}deleteRow(t){this.BuyProduct.removeAt(t)}getAllProduct(){return new Promise(t=>{this.productS.getProductByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.product=o})})}getAllBuyProduct(){return new Promise(t=>{this.productS.getSaleProductByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.GetAllBuyProduct=o,this.BillNumber="BNM"+this.GetAllBuyProduct.length})})}selecteproduct(){var t=this;return ps(function*(){return t.selectedvalue=t.BuyForm.controls.selectvalue.value,t.selectedProduct=yield t.productS.getoneProduct(t.selectedvalue),console.log(t.selectedProduct),t.selectedProduct.forEach(o=>{if(void 0===t.BuyProduct.controls.find(l=>l.get("productname")?.value===o.productname))return t.BuyProduct.push(t.FB.group({productcode:new mn(o.productcode,jt.required),productname:new mn(o.productname,jt.required),price:new mn,mount:new mn,Total:new mn,serial:new mn}));t.Toastr.error("\u062a\u0645 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0646 \u0642\u0628\u0644")}),console.log(t.BuyProduct.value),console.log(t.selectedProduct),t.BuyProduct})()}findsum(t){this.fullTotal=0,this.value=t,console.log(this.value);for(let o=0;o<t.length;o++)this.fullTotal+=this.value[o].get("Total").value,console.log(this.fullTotal);return this.click=!0,this.fullTotal}getallStores(){return new Promise(t=>{this.productS.getStoreByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.Stores=o})})}ondestory(){}getallExperter(){return new Promise(t=>{this.productS.getExperterByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.Experter=o})})}inputChanged(t){console.log(t.target.getAttribute("formControlName"))}AddBuyProduct(){var t=this;this.addBuyProduct.store=this.BuyForm.controls.store.value,this.addBuyProduct.exportname=this.BuyForm.controls.exportname.value,this.addBuyProduct=this.BuyForm.value,this.addBuyProduct.FullTotal=this.BuyForm.controls.FullTotal.value,this.addBuyProduct.discount=this.BuyForm.controls.discount.value,this.addBuyProduct.discountTotal=this.BuyForm.controls.discounttotal.value,this.addBuyProduct.useremail=this.auth.userData.email,this.addBuyProduct.date=this.today.toLocaleString(),this.addBuyProduct.BillNumber=this.getBillNumber(),this.addBuyProduct.BuyProduct=this.BuyForm.controls.BuyProduct.value,console.log(this.addBuyProduct),this.productS.addBuyProduct(this.addBuyProduct).then(()=>{console.log("created Buy Product"),this.addBuyProduct.BuyProduct?.forEach(function(){var s=ps(function*(l){t.productS.getProductname(l.productname).subscribe(h=>{h.forEach(v=>{t.newProduct=v.data(),console.log(t.newProduct);const w={mount:Number(t.newProduct.mount)+Number(l.mount),price:l.price,store:t.addBuyProduct.store,BuyMount:Number(t.newProduct.BuyMount)+Number(l.mount),Expertname:t.addBuyProduct.exportname};console.log(v.id),t.productS.update(v.id,w).then(()=>{console.log("updatesuccessful")}).catch(D=>console.log(D))})})});return function(l){return s.apply(this,arguments)}}()),this.submitted=!0,this.Toastr.success("\u062a\u0645 \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d");let o=this._router.url;this._router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this._router.navigate([o])})})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(_c),a.Y36(dw),a.Y36(_r),a.Y36(Tp),a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-buy-products"]],inputs:{selectedvalue:"selectedvalue"},decls:55,vars:25,consts:[[1,"d-flex","flex-row","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../home",2,"text-decoration","none"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","../BuyProduct",2,"text-decoration","none"],[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],["id","print-section",3,"formGroup"],[1,"row"],[1,"fulldata","mb-4"],[1,"col-md-4","col-sm-12","col-xs-12"],[1,"form-group"],["for","formGroupExampleInput"],[1,"form-group","mt-4"],["for","formGroupExampleInput2",1,"mb-2"],["type","text","formControlName","BillNumber","readonly","",1,"form-control",3,"ngModel","disabled","required"],[1,"float-right","d-flex","flex-column","justify-content-end","col-md-4","col-sm-12","col-xs-12"],[1,"col-md-12"],["for","formGroupExampleInput2"],["bindValue","ExpertName","formControlName","exportname","bindLabel","ExpertName",3,"items","searchable","required"],["class","text-danger",4,"ngIf"],[1,"form-group","mt-3","col-md-12"],["bindValue","storeName","formControlName","store","bindLabel","storeName",3,"items","searchable","required"],[1,"mt-2","col-md-12","mb-4"],[1,"col-md-10"],["bindLabel","productname","bindValue","productname","formControlName","selectvalue","placeholder","\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0646\u062a\u062c \u0627\u0644\u0630\u064a \u062a\u0631\u064a\u062f \u0627\u0636\u0627\u0641\u062a\u0647 \u0627\u0644\u064a \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629",1,"mt-4",3,"items","searchable","required","keyup.enter"],[1,"mt-4","col-md-2"],[1,"btn","btn-info","text-white",3,"click"],["class"," p-3 ","class","table-header",4,"ngIf"],[1,"text-danger"],[1,"table-header"],[1,"table-responsive"],["id","producttable","formArrayName","BuyProduct",1,"table","table-bordered","width-auto"],[1,"table-head","with-auto"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-group","float-right","mt-5","d-flex","flex-row","justify-content-end","col-md-12"],[4,"ngIf"],[3,"formGroupName"],["formControlName","productcode","readonly","",1,"border-0","form-control"],["formControlName","productname","readonly","",1,"border-0","form-control"],["type","number","formControlName","price",1,"form-control"],["type","number","formControlName","mount",1,"form-control"],["formControlName","Total","readonly","",1,"border-0","form-control",3,"ngModel"],["type","text","formControlName","serial",1,"form-control"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash-alt"],[1,"form-group","float-right","mt-5","d-flex","flex-column","align-items-end","justify-content-end","col-md-12"],[1,"col-md-6","table-bordered"],["scope","3"],["formControlName","FullTotal",1,"form-control",3,"ngModel"],[1,"mt-2"],["formControlName","discount",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","discounttotal",1,"form-control",3,"ngModel"],["type","submit",1,"btn","btn-warning","m-2","text-white",3,"click"],[1,"btn","btn-danger","m-2"],["printSectionId","print-section","ngxPrint","",1,"btn","btn-info","m-2","text-white","print",3,"useExistingCss"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2," \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 "),a.qZA(),a.TgZ(3,"ol",2)(4,"li",3)(5,"a",4),a._uU(6,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629/"),a.qZA()(),a.TgZ(7,"li",5)(8,"a",6),a._uU(9,"\u0641\u0627\u0646\u0648\u0631\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a"),a.qZA()()()(),a.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"h6",10),a._uU(14," \u0627\u0646\u0634\u0627\u0621 \u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0634\u062a\u0631\u064a\u0627\u062a"),a.qZA()(),a.TgZ(15,"div",11)(16,"div")(17,"form",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"label",17),a._uU(23," \u0627\u0644\u062a\u0627\u0631\u064a\u062e :"),a.qZA(),a._uU(24),a.ALo(25,"date"),a.qZA(),a.TgZ(26,"div",16)(27,"label",17),a._uU(28," \u0627\u0644\u0648\u0642\u062a :"),a.qZA(),a._uU(29),a.ALo(30,"date"),a.qZA(),a.TgZ(31,"div",18)(32,"label",19),a._uU(33," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),a.qZA(),a._UZ(34,"input",20),a.qZA()(),a.TgZ(35,"div",21)(36,"div",22)(37,"div",16)(38,"label",23),a._uU(39,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0631\u062f"),a.qZA(),a._UZ(40,"ng-select",24),a.YNc(41,iU,2,0,"span",25),a.qZA()(),a.TgZ(42,"div",26)(43,"label",17),a._uU(44," \u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646"),a.qZA(),a._UZ(45,"ng-select",27),a.YNc(46,oU,2,0,"span",25),a.qZA()()(),a.TgZ(47,"div",28)(48,"div",29)(49,"ng-select",30),a.NdJ("keyup.enter",function(){return o.selecteproduct()}),a.qZA(),a.YNc(50,sU,2,0,"span",25),a.qZA(),a.TgZ(51,"div",31)(52,"button",32),a.NdJ("click",function(){return o.selecteproduct()}),a._uU(53,"\u0627\u0636\u0627\u0641\u0629 "),a.qZA()()(),a.YNc(54,lU,27,2,"div",33),a.qZA()()()()()()),2&t&&(a.xp6(17),a.Q6J("formGroup",o.BuyForm),a.xp6(7),a.hij(" ",a.xi3(25,19,o.today,"dd/MM/yyyy ")," "),a.xp6(5),a.hij(" ",a.xi3(30,22,o.today,"HH:mm:ss")," "),a.xp6(5),a.Q6J("ngModel",o.getBillNumber())("disabled",!0)("required",!0),a.xp6(6),a.Q6J("items",o.Experter)("searchable",!0)("required",!0),a.xp6(1),a.Q6J("ngIf",!o.BuyForm.controls.exportname.valid&&o.BuyForm.controls.exportname.touched),a.xp6(4),a.Q6J("items",o.Stores)("searchable",!0)("required",!0),a.xp6(1),a.Q6J("ngIf",!o.BuyForm.controls.store.valid&&o.BuyForm.controls.store.touched),a.xp6(3),a.Q6J("items",o.product)("searchable",!0)("required",!0),a.xp6(1),a.Q6J("ngIf",!o.BuyForm.controls.selectvalue.valid&&o.BuyForm.controls.selectvalue.touched),a.xp6(4),a.Q6J("ngIf",null!=o.selectedvalue))},dependencies:[Jt,Sn,p,ko,I,Qs,wa,$a,ZO,No,lT,Js,Ku,pg,nf,_s],styles:[".fulldata[_ngcontent-%COMP%]{border:1px solid rgb(233,227,227);padding:2%}#producttable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{width:auto}"]}),e})();class GO{}function dU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"button",33),a.NdJ("click",function(){a.CHM(t);const s=a.oxw().index,l=a.oxw(2);return a.KtG(l.deleteinput(s))}),a._UZ(1,"i",34),a.qZA()}}function fU(e,i){if(1&e&&(a.TgZ(0,"div",29)(1,"div",30)(2,"div",17)(3,"label",18),a._uU(4," \u0631\u0642\u0645 \u062a\u0644\u064a\u0641\u0648\u0646 \u0627\u0644\u0645\u062e\u0632\u0646 "),a.qZA(),a._UZ(5,"input",31),a.qZA()(),a.TgZ(6,"div"),a.YNc(7,dU,2,0,"button",32),a.qZA()()),2&e){const t=i.index;a.xp6(5),a.Q6J("formControlName",t),a.xp6(2),a.Q6J("ngIf",t>0)}}function hU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div",12)(1,"form",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"label",18),a._uU(7," \u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646"),a.qZA(),a.TgZ(8,"input",19),a.NdJ("ngModelChange",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l.Stores.storeName=s)}),a.qZA()()(),a.TgZ(9,"div",16)(10,"div",17)(11,"label",18),a._uU(12," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),a.qZA(),a.TgZ(13,"input",20),a.NdJ("ngModelChange",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l.Stores.Address=s)}),a.qZA()()(),a.TgZ(14,"div",21),a.YNc(15,fU,8,2,"div",22),a.TgZ(16,"div",23)(17,"button",24),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.addPhone())}),a._UZ(18,"i",25),a.qZA()()()()(),a.TgZ(19,"div",26)(20,"button",27),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.AddStore())}),a._uU(21,"\u0627\u0636\u0627\u0641\u0629"),a.qZA(),a.TgZ(22,"button",28),a._uU(23,"\u0627\u0644\u063a\u0627\u0621"),a.qZA()()()()}if(2&e){const t=a.oxw();a.xp6(1),a.Q6J("formGroup",t.AddStoreForm),a.xp6(7),a.Q6J("ngModel",t.Stores.storeName),a.xp6(5),a.Q6J("ngModel",t.Stores.Address),a.xp6(2),a.Q6J("ngForOf",t.Phone.controls)}}let pU=(()=>{class e{constructor(t,o,s,l,h){this.FB=t,this.ProductS=o,this._router=s,this.auth=l,this.Toastr=h,this.Stores=new GO,this.submitted=!1}ngOnInit(){this.AddStoreForm=this.FB.group({storeName:["",[jt.required]],Phone:this.FB.array([["",[jt.required,jt.minLength(11)]]]),Address:["",[jt.required,jt.email]]})}get Phone(){return this.AddStoreForm.get("Phone")}addPhone(){this.Phone.push(new mn)}deleteinput(t){this.Phone.removeAt(t)}AddStore(){this.Stores.storeName=this.AddStoreForm.controls.storeName.value,this.Stores.Address=this.AddStoreForm.controls.Address.value,this.Stores=this.AddStoreForm.value,this.Stores.useremail=this.auth.userData.email,console.log(this.Stores),this.ProductS.addStores(this.Stores).then(()=>{console.log("created new submit"),this.submitted=!0,this.Toastr.success("\u062a\u0645 \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d");let t=this._router.url;this._router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this._router.navigate([t])})})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(_c),a.Y36(Hl),a.Y36(_r),a.Y36(ia),a.Y36(Tp))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-add-stores"]],decls:16,vars:1,consts:[[1,"d-flex","flex-row","justify-content-between","mb-4","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../home",2,"text-decoration","none"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","../AddStore",2,"text-decoration","none"],[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],["class","card-body",4,"ngIf"],[1,"card-body"],[3,"formGroup"],[1,"d-flex","flex-column","justify-content-center","col-md-7","addForm"],[1,"row"],[1,"col-md-12"],[1,"form-group","mt-3"],["for","formGroupExampleInput",1,"mb-2"],["type","text","placeholder","\u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646","formControlName","storeName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","\u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646","formControlName","Address",1,"form-control",3,"ngModel","ngModelChange"],["formArrayName","Phone",1,"col-md-12"],["class","d-flex flex-row justify-content-between",4,"ngFor","ngForOf"],[1,"addbuton"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],[1,"form-group","float-right","mt-5","d-flex","flex-row","justify-content-end","col-md-12"],["type","submit",1,"btn","btn-warning","m-2","text-white",3,"click"],[1,"btn","btn-danger","m-2"],[1,"d-flex","flex-row","justify-content-between"],[1,"col-md-11"],["type","text","placeholder","\u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646",1,"form-control",3,"formControlName"],["class","btn btn-danger col-md-1 mt-5","style","width:auto",3,"click",4,"ngIf"],[1,"btn","btn-danger","col-md-1","mt-5",2,"width","auto",3,"click"],[1,"fa","fa-trash-alt"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2," \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 "),a.qZA(),a.TgZ(3,"ol",2)(4,"li",3)(5,"a",4),a._uU(6,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629/"),a.qZA()(),a.TgZ(7,"li",5)(8,"a",6),a._uU(9," \u0627\u0636\u0627\u0641\u0629 \u0645\u062e\u0632\u0646"),a.qZA()()()(),a.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"h6",10),a._uU(14,"\u0627\u0646\u0634\u0627\u0621 \u0645\u062e\u0632\u0646"),a.qZA()(),a.YNc(15,hU,24,4,"div",11),a.qZA()()),2&t&&(a.xp6(15),a.Q6J("ngIf",!o.submitted))},dependencies:[Jt,Sn,p,ko,Qs,wa,No,Js,Ku,nf]}),e})();class $O{}function gU(e,i){1&e&&(a.TgZ(0,"span",30),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0631\u062f"),a.qZA())}function mU(e,i){1&e&&(a.TgZ(0,"span",30),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0648\u0631\u062f "),a.qZA())}function vU(e,i){1&e&&(a.TgZ(0,"span",30),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0631\u0642\u0645 \u062a\u0644\u064a\u0641\u0648\u0646 \u0627\u0644\u0645\u0648\u0631\u062f"),a.qZA())}function yU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"button",36),a.NdJ("click",function(){a.CHM(t);const s=a.oxw().index,l=a.oxw(2);return a.KtG(l.deleteinput(s))}),a._UZ(1,"i",37),a.qZA()}}function _U(e,i){if(1&e&&(a.TgZ(0,"div",31)(1,"div",32)(2,"div",33)(3,"label",18),a._uU(4," \u0631\u0642\u0645 \u062a\u0644\u064a\u0641\u0648\u0646 \u0627\u0644\u0645\u0648\u0631\u062f "),a.qZA(),a._UZ(5,"input",34),a.YNc(6,vU,2,0,"span",20),a.qZA()(),a.TgZ(7,"div"),a.YNc(8,yU,2,0,"button",35),a.qZA()()),2&e){const t=i.index,o=a.oxw(2);a.xp6(5),a.Q6J("formControlName",t),a.xp6(1),a.Q6J("ngIf",!o.AddExpertForm.controls.Phone.valid&&o.AddExpertForm.controls.Phone.touched),a.xp6(2),a.Q6J("ngIf",t>0)}}function bU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div",12)(1,"form",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"label",18),a._uU(7," \u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0631\u062f"),a.qZA(),a.TgZ(8,"input",19),a.NdJ("ngModelChange",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l.Experters.ExpertName=s)}),a.qZA(),a.YNc(9,gU,2,0,"span",20),a.qZA()(),a.TgZ(10,"div",16)(11,"div",17)(12,"label",18),a._uU(13," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),a.qZA(),a.TgZ(14,"input",21),a.NdJ("ngModelChange",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l.Experters.Address=s)}),a.qZA(),a.YNc(15,mU,2,0,"span",20),a.qZA()(),a.TgZ(16,"div",22),a.YNc(17,_U,9,3,"div",23),a.TgZ(18,"div",24)(19,"button",25),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.addPhone())}),a._UZ(20,"i",26),a.qZA()()()()(),a.TgZ(21,"div",27)(22,"button",28),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.AddExpert())}),a._uU(23,"\u0627\u0636\u0627\u0641\u0629"),a.qZA(),a.TgZ(24,"button",29),a._uU(25,"\u0627\u0644\u063a\u0627\u0621"),a.qZA()()()()}if(2&e){const t=a.oxw();a.xp6(1),a.Q6J("formGroup",t.AddExpertForm),a.xp6(7),a.Q6J("ngModel",t.Experters.ExpertName),a.xp6(1),a.Q6J("ngIf",!t.AddExpertForm.controls.ExpertName.valid&&t.AddExpertForm.controls.ExpertName.touched),a.xp6(5),a.Q6J("ngModel",t.Experters.Address),a.xp6(1),a.Q6J("ngIf",!t.AddExpertForm.controls.Address.valid&&t.AddExpertForm.controls.Address.touched),a.xp6(2),a.Q6J("ngForOf",t.Phone.controls),a.xp6(5),a.Q6J("disabled",!t.AddExpertForm.valid)}}let wU=(()=>{class e{constructor(t,o,s,l,h){this.FB=t,this.ProductS=o,this.auth=s,this._router=l,this.Toastr=h,this.Experters=new $O,this.submitted=!1}ngOnInit(){this.AddExpertForm=this.FB.group({ExpertName:["",[jt.required]],Phone:this.FB.array([["",[jt.required,jt.maxLength(11),jt.minLength(11)]]]),Address:["",[jt.required]]})}get Phone(){return this.AddExpertForm.get("Phone")}addPhone(){this.Phone.push(new mn)}deleteinput(t){this.Phone.removeAt(t)}AddExpert(){this.Experters.ExpertName=this.AddExpertForm.controls.ExpertName.value,this.Experters.Address=this.AddExpertForm.controls.Address.value,this.Experters=this.AddExpertForm.value,this.Experters.useremail=this.auth.userData.email,console.log(this.Experters),this.ProductS.addExperter(this.Experters).then(()=>{console.log("created new submit"),this.submitted=!0,this.Toastr.success("\u062a\u0645 \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d");let t=this._router.url;this._router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this._router.navigate([t])})})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(_c),a.Y36(Hl),a.Y36(ia),a.Y36(_r),a.Y36(Tp))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-add-experter"]],decls:16,vars:1,consts:[[1,"d-flex","flex-row","justify-content-between","mb-4","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../home",2,"text-decoration","none"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","../AddExpert",2,"text-decoration","none"],[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],["class","card-body",4,"ngIf"],[1,"card-body"],[3,"formGroup"],[1,"d-flex","flex-column","justify-content-center","col-md-7","addForm"],[1,"row"],[1,"col-md-12"],[1,"form-group","mt-3"],["for","formGroupExampleInput",1,"mb-2"],["type","text","placeholder","\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0631\u062f","formControlName","ExpertName",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["type","text","placeholder","\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0648\u0631\u062f ","formControlName","Address",1,"form-control",3,"ngModel","ngModelChange"],["formArrayName","Phone",1,"col-md-12"],["class","form-group d-flex flex-row justify-content-between",4,"ngFor","ngForOf"],[1,"addbuton"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],[1,"form-group","float-right","mt-5","d-flex","flex-row","justify-content-end","col-md-12"],["type","submit",1,"btn","btn-warning","m-2","text-white",3,"disabled","click"],[1,"btn","btn-danger","m-2"],[1,"text-danger"],[1,"form-group","d-flex","flex-row","justify-content-between"],[1,"col-md-11"],[1,"mt-3"],["type","text","placeholder","\u0631\u0642\u0645 \u062a\u0644\u064a\u0641\u0648\u0646 \u0627\u0644\u0645\u0648\u0631\u062f ","minlength","11",1,"form-control",3,"formControlName"],["class","btn btn-danger col-md-1 mt-5","style","width:auto",3,"click",4,"ngIf"],[1,"btn","btn-danger","col-md-1","mt-5",2,"width","auto",3,"click"],[1,"fa","fa-trash-alt"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2," \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 "),a.qZA(),a.TgZ(3,"ol",2)(4,"li",3)(5,"a",4),a._uU(6,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629/"),a.qZA()(),a.TgZ(7,"li",5)(8,"a",6),a._uU(9," \u0627\u0636\u0627\u0641\u0629 \u0645\u0648\u0631\u062f"),a.qZA()()()(),a.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"h6",10),a._uU(14,"\u0627\u0636\u0627\u0641\u0629 \u0645\u0648\u0631\u062f \u062c\u062f\u064a\u062f"),a.qZA()(),a.YNc(15,bU,26,7,"div",11),a.qZA()()),2&t&&(a.xp6(15),a.Q6J("ngIf",!o.submitted))},dependencies:[Jt,Sn,p,ko,Qs,wa,up,No,Js,Ku,nf]}),e})();function CU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td")(12,"button",43),a.NdJ("click",function(){const l=a.CHM(t).$implicit,h=a.oxw();return a.KtG(h.onSelect(l))}),a._UZ(13,"i",44),a.qZA()(),a.TgZ(14,"td")(15,"a",45)(16,"button",46),a._UZ(17,"i",47),a.qZA()(),a.TgZ(18,"button",48),a.NdJ("click",function(){const l=a.CHM(t).$implicit,h=a.oxw();return a.KtG(h.deleteproduct(l))}),a._UZ(19,"i",49),a.qZA()()()}if(2&e){const t=i.$implicit,o=i.index;a.xp6(2),a.Oqu(o+1),a.xp6(2),a.Oqu(t.BillNumber),a.xp6(2),a.Oqu(t.exportname),a.xp6(2),a.Oqu(t.store),a.xp6(2),a.Oqu(t.date),a.xp6(5),a.MGl("routerLink","../updateBuyProduct/",null==t?null:t.id,"")}}function TU(e,i){if(1&e&&(a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._uU(12),a.qZA(),a.TgZ(13,"td"),a._uU(14),a.qZA()()),2&e){const t=i.$implicit,o=i.index;a.xp6(2),a.hij(" ",o," "),a.xp6(2),a.hij(" ",t.productcode," "),a.xp6(2),a.hij(" ",t.productname," "),a.xp6(2),a.hij(" ",t.saleprice," "),a.xp6(2),a.hij(" ",t.mount," "),a.xp6(2),a.hij(" ",t.Total," "),a.xp6(2),a.hij(" ",t.serial," ")}}let EU=(()=>{class e{constructor(t,o){this.ProductSer=t,this.auth=o,this.NewProduct=new Am,this.dtTrigger=new zr.x,this.dtOptions={},this.selectedItem={},this.language={sProcessing:"\u062c\u0627\u0631\u064d \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",sLengthMenu:"\u0623\u0638\u0647\u0631 _MENU_ \u0645\u062f\u062e\u0644\u0627\u062a",sZeroRecords:"\u0644\u0645 \u064a\u0639\u062b\u0631 \u0639\u0644\u0649 \u0623\u064a\u0629 \u0633\u062c\u0644\u0627\u062a",sInfo:"\u0625\u0638\u0647\u0627\u0631 _START_ \u0625\u0644\u0649 _END_ \u0645\u0646 \u0623\u0635\u0644 _TOTAL_ \u0645\u062f\u062e\u0644",sInfoEmpty:"\u064a\u0639\u0631\u0636 0 \u0625\u0644\u0649 0 \u0645\u0646 \u0623\u0635\u0644 0 \u0633\u062c\u0644",sInfoFiltered:"(\u0645\u0646\u062a\u0642\u0627\u0629 \u0645\u0646 \u0645\u062c\u0645\u0648\u0639 _MAX_ \u0645\u064f\u062f\u062e\u0644)",sInfoPostFix:"",sSearch:"\u0627\u0628\u062d\u062b:",sUrl:"",oPaginate:{sFirst:"\u0627\u0644\u0623\u0648\u0644",sPrevious:"\u0627\u0644\u0633\u0627\u0628\u0642",sNext:"\u0627\u0644\u062a\u0627\u0644\u064a",sLast:"\u0627\u0644\u0623\u062e\u064a\u0631"}}}ngOnInit(){this.getAllProduct(),this.selectedItem={...this.productitem},this.dtOptions={pagingType:"full_numbers",language:this.language,retrieve:!0,dom:"Bfrtip"}}getProduct(){this.ProductSer.getAllProduct().snapshotChanges().pipe((0,Kt.U)(t=>t.map(o=>({id:o.payload.doc.id,...o.payload.doc.data()})))).subscribe(t=>{this.product=t})}getAllProduct(){return new Promise(t=>{this.ProductSer.getBuyProductByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.GetAllBuyProduct=o,this.dtTrigger.next()})})}deleteproduct(t){var o=this;vf().fire({title:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u062a\u062c",icon:"warning",showCancelButton:!0,confirmButtonText:"\u062d\u0630\u0641",cancelButtonText:"\u0627\u0644\u063a\u0627\u0621"}).then(s=>{s.value?(this.selectedItem=t,console.log(this.selectedItem.id),this.ProductSer.deleteBuyProduct(this.selectedItem.id).catch(l=>console.log(l)),this.selectedItem.BuyProduct?.forEach(function(){var l=ps(function*(h){o.ProductSer.getProductname(h.productname).subscribe(v=>{v.forEach(w=>{o.NewProduct=w.data(),console.log(o.NewProduct);const D={mount:Number(o.NewProduct.mount)-Number(h.mount),BuyMount:Number(o.NewProduct.BuyMount)-Number(h.mount)};console.log(w.id),o.ProductSer.update(w.id,D).then(()=>{console.log("updatesuccessful")}).catch(M=>console.log(M))})})});return function(h){return l.apply(this,arguments)}}()),vf().fire("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0646\u062c\u0627\u062d")):s.dismiss===vf().DismissReason.cancel&&vf().fire("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u062d\u0630\u0641")})}ngOnDestroy(){this.dtTrigger.unsubscribe()}onSelect(t){this.selectedItem=t,console.log("Selected item Id: ",t)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-buy-reports"]],inputs:{productitem:"productitem"},decls:107,vars:12,consts:[[1,"d-flex","flex-row","justify-content-between","mb-4","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../home",2,"text-decoration","none"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","../BuyReport",2,"text-decoration","none"],[1,"row"],[1,"col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"table-responsive","p-3"],["datatable","","id","buyproducttable",1,"table","table-bordered","table-striped","table-hover","table-responsive",2,"width","100%",3,"dtOptions","dtTrigger"],[1,"table-head"],[4,"ngFor","ngForOf"],["id","displaydata","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role"," document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"fulldata","p-2"],[1,"col-md-4","col-sm-12","col-xs-12"],[1,"form-group"],["for","formGroupExampleInput"],[1,"form-group","mt-4"],["for","formGroupExampleInput2",1,"mb-2"],["type","text","readonly","",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"float-right","d-flex","flex-column","justify-content-end","col-md-4","col-sm-12","col-xs-12"],[1,"col-md-12"],["for","formGroupExampleInput2"],[1,"form-control"],[1,"form-group","mt-3","col-md-12"],[1,"table-responsive"],["id","producttable",1,"table","table-bordered","table-hover","table-responsive","width-auto"],[1,"table-head","width-auto"],[1,"form-group","float-right","mt-5","d-flex","flex-column","align-items-end","justify-content-end","col-md-12"],[1,"col-md-6","table-bordered"],["scope","3"],[1,"mt-2"],["data-toggle","modal","data-target","#displaydata",1,"btn","btn-warning","text-white",2,"background","#000","border","none",3,"click"],[1,"fa","fa-info-circle"],[3,"routerLink"],["data-toggle","modal","data-target","#updateModal",1,"btn","btn-warning","btn-sm","text-white",2,"border-radius","10px","margin-left","3px"],[1,"fa","fa-edit"],[1,"btn","btn-danger","btn-sm","text-white",2,"border-radius","10px",3,"click"],[1,"fa","fa-trash-alt"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2," \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 "),a.qZA(),a.TgZ(3,"ol",2)(4,"li",3)(5,"a",4),a._uU(6,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629/"),a.qZA()(),a.TgZ(7,"li",5)(8,"a",6),a._uU(9," \u062a\u0642\u0627\u0631\u064a\u0631 \u0645\u0634\u062a\u0631\u064a\u0627\u062a"),a.qZA()()()(),a.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"h6",11),a._uU(15,"\u062a\u0642\u0627\u0631\u064a\u0631 \u0641\u0648\u0627\u062a\u064a\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),a.qZA()(),a.TgZ(16,"div",12)(17,"table",13)(18,"thead",14)(19,"tr")(20,"th"),a._uU(21,"\u0645 "),a.qZA(),a.TgZ(22,"th"),a._uU(23,"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),a.qZA(),a.TgZ(24,"th"),a._uU(25," \u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0631\u062f "),a.qZA(),a.TgZ(26,"th"),a._uU(27," \u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646 "),a.qZA(),a.TgZ(28,"th"),a._uU(29,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),a.qZA(),a.TgZ(30,"th"),a._uU(31," \u062a\u0641\u0627\u0635\u064a\u0644 "),a.qZA(),a.TgZ(32,"th"),a._uU(33,"\u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a"),a.qZA()()(),a.TgZ(34,"tbody"),a.YNc(35,CU,20,6,"tr",15),a.qZA()()()()()(),a.TgZ(36,"div",16)(37,"div",17)(38,"div",18)(39,"div",19)(40,"h5",20),a._uU(41," \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),a.qZA(),a.TgZ(42,"button",21)(43,"span",22),a._uU(44,"\xd7"),a.qZA()()(),a.TgZ(45,"div",23)(46,"form")(47,"div",7)(48,"div",24)(49,"div",25)(50,"div",26)(51,"label",27),a._uU(52," \u0627\u0644\u062a\u0627\u0631\u064a\u062e :"),a.qZA(),a._uU(53),a.qZA(),a.TgZ(54,"div",28)(55,"label",29),a._uU(56," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),a.qZA(),a.TgZ(57,"input",30),a.NdJ("ngModelChange",function(l){return o.selectedItem.BillNumber=l}),a.qZA()()(),a.TgZ(58,"div",31)(59,"div",32)(60,"div",26)(61,"label",33),a._uU(62,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0631\u062f"),a.qZA(),a.TgZ(63,"label",34),a._uU(64),a.qZA()()(),a.TgZ(65,"div",35)(66,"label",27),a._uU(67," \u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646"),a.qZA(),a.TgZ(68,"label",34),a._uU(69),a.qZA()()()(),a.TgZ(70,"div",36)(71,"table",37)(72,"thead",38)(73,"tr")(74,"th"),a._uU(75,"\u0645 "),a.qZA(),a.TgZ(76,"th"),a._uU(77,"\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(78,"th"),a._uU(79,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(80,"th"),a._uU(81,"\u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629 "),a.qZA(),a.TgZ(82,"th"),a._uU(83,"\u0627\u0644\u0643\u0645\u064a\u0629"),a.qZA(),a.TgZ(84,"th"),a._uU(85,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0633\u0639\u0631"),a.qZA(),a.TgZ(86,"th"),a._uU(87,"\u0627\u0644\u0633\u0631\u064a\u0627\u0644"),a.qZA()()(),a.TgZ(88,"tbody"),a.YNc(89,TU,15,7,"tr",15),a.qZA()()(),a.TgZ(90,"div",39)(91,"table",40)(92,"tr")(93,"th",41),a._uU(94,"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a"),a.qZA(),a.TgZ(95,"td"),a._uU(96),a.qZA()(),a.TgZ(97,"tr",42)(98,"th",41),a._uU(99,"\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645 "),a.qZA(),a.TgZ(100,"td"),a._uU(101),a.qZA()(),a.TgZ(102,"tr",42)(103,"th",41),a._uU(104," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645"),a.qZA(),a.TgZ(105,"td"),a._uU(106),a.qZA()()()()()()()()()()),2&t&&(a.xp6(17),a.Q6J("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),a.xp6(18),a.Q6J("ngForOf",o.GetAllBuyProduct),a.xp6(18),a.hij(" ",o.selectedItem.date," "),a.xp6(4),a.Q6J("ngModel",o.selectedItem.BillNumber)("disabled",!0),a.xp6(7),a.Oqu(o.selectedItem.exportname),a.xp6(5),a.Oqu(o.selectedItem.store),a.xp6(20),a.Q6J("ngForOf",o.selectedItem.BuyProduct),a.xp6(7),a.hij(" ",o.selectedItem.FullTotal," "),a.xp6(5),a.hij(" ",o.selectedItem.discount," "),a.xp6(5),a.hij(" ",o.selectedItem.discounttotal," "))},dependencies:[Jt,p,ko,Qs,wa,u,fg,No,xT]}),e})();function AU(e,i){1&e&&(a.TgZ(0,"span",34),a._uU(1," \u064a\u062c\u0628 \u0627\u0646 \u062a\u062e\u062a\u0627\u0631 \u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0631\u062f "),a.qZA())}function DU(e,i){1&e&&(a.TgZ(0,"span",34),a._uU(1," \u064a\u062c\u0628 \u0627\u0646 \u062a\u062e\u062a\u0627\u0631 \u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646 "),a.qZA())}function SU(e,i){1&e&&(a.TgZ(0,"span",34),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0646\u062a\u062c "),a.qZA())}function IU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"tr",49)(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._UZ(4,"input",50),a.qZA(),a.TgZ(5,"td"),a._UZ(6,"input",51),a.qZA(),a.TgZ(7,"td"),a._UZ(8,"input",52),a.qZA(),a.TgZ(9,"td"),a._UZ(10,"input",53),a.qZA(),a.TgZ(11,"td"),a._UZ(12,"input",54),a.qZA(),a.TgZ(13,"td"),a._UZ(14,"input",55),a.qZA(),a.TgZ(15,"td")(16,"button",56),a.NdJ("click",function(){const l=a.CHM(t).index,h=a.oxw(2);return a.KtG(h.deleteRow(l))}),a._UZ(17,"i",57),a.qZA()()()}if(2&e){const t=i.$implicit,o=i.index,s=a.oxw(2);a.Q6J("formGroupName",o),a.xp6(2),a.hij(" ",o+1," "),a.xp6(10),a.Q6J("ngModel",s.Total(t.value.price,t.value.mount))}}function xU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div",35)(1,"table",36)(2,"thead",37)(3,"tr")(4,"th"),a._uU(5,"\u0645 "),a.qZA(),a.TgZ(6,"th"),a._uU(7,"\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(8,"th"),a._uU(9,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(10,"th"),a._uU(11,"\u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629 "),a.qZA(),a.TgZ(12,"th"),a._uU(13,"\u0627\u0644\u0643\u0645\u064a\u0629"),a.qZA(),a.TgZ(14,"th"),a._uU(15,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0633\u0639\u0631"),a.qZA(),a.TgZ(16,"th"),a._uU(17,"\u0627\u0644\u0633\u0631\u064a\u0627\u0644"),a.qZA(),a.TgZ(18,"th"),a._uU(19,"\u062d\u0630\u0641"),a.qZA()()(),a.TgZ(20,"tbody"),a.YNc(21,IU,18,3,"tr",38),a.qZA()(),a.TgZ(22,"div",39)(23,"button",32),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.findsum(s.BuyProductControls))}),a._uU(24," \u0627\u0636\u0627\u0641\u0629 "),a.qZA()(),a.TgZ(25,"div")(26,"div",40)(27,"table",41)(28,"tr")(29,"th",42),a._uU(30,"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a"),a.qZA(),a.TgZ(31,"td"),a._UZ(32,"input",43),a.qZA()(),a.TgZ(33,"tr",44)(34,"th",42),a._uU(35,"\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645 "),a.qZA(),a.TgZ(36,"td")(37,"input",45),a.NdJ("ngModelChange",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l.discount=s)}),a.qZA()()(),a.TgZ(38,"tr",44)(39,"th",42),a._uU(40," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645"),a.qZA(),a.TgZ(41,"td"),a._UZ(42,"input",46),a.qZA()()()(),a.TgZ(43,"div",39)(44,"button",47),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.AddBuyProduct())}),a._uU(45,"\u062d\u0641\u0638"),a.qZA(),a.TgZ(46,"button",48),a._uU(47,"\u0627\u0644\u063a\u0627\u0621"),a.qZA()()()()}if(2&e){const t=a.oxw();a.xp6(21),a.Q6J("ngForOf",t.BuyProduct.controls),a.xp6(11),a.Q6J("ngModel",t.fullTotal),a.xp6(5),a.Q6J("ngModel",t.discount),a.xp6(5),a.Q6J("ngModel",t.totalafterDiscount(t.discount)),a.xp6(2),a.Q6J("disabled",!t.UpdateBuyForm.valid)}}let PU=(()=>{class e{constructor(t,o,s,l,h,v,w){this.productS=t,this.FB=o,this.config=s,this._router=l,this.Toastr=h,this.router=v,this.auth=w,this.GetProduct=new W6,this.addBuyProduct=new W6,this.GetAllBuyProduct=[],this.TotalPrice=0,this.fullTotal=0,this.mounts=[],this.selectedfulldata=[],this.today=new Date,this.submitted=!1,this.discount=0,this.click=!1,this.getAllProduct(),this.getallStores(),this.getAllBuyProduct(),this.getallExperter(),this.config.notFoundText="\u0644\u0627\u064a\u0648\u062c\u062f ",this.config.appendTo="body",this.config.bindValue="value"}ngOnInit(){}ngAfterContentInit(){this.id=this.router.snapshot.params.id,this.productS.getBuyProductById(this.id).subscribe(t=>{this.GetProduct=t,this.today=this.GetProduct.date,console.log(this.GetProduct),this.UpdateBuyForm=this.FB.group({date:[this.GetProduct.date,jt.required],store:[this.GetProduct.store,jt.required],exportname:[this.GetProduct.exportname,jt.required],BillNumber:[this.GetProduct.BillNumber,jt.required],selectvalue:[this.GetProduct.selectvalue,jt.required],FullTotal:[this.GetProduct.FullTotal,jt.required],discount:[this.GetProduct.discount,jt.required],discounttotal:[this.GetProduct.discountTotal,jt.required],BuyProduct:this.FB.array([],jt.required)}),this.getBuyproductvalue(),this.selectedvalue=this.UpdateBuyForm.controls.selectvalue.value,console.log(this.GetProduct.BuyProduct)})}getBuyproductvalue(){const t=this.UpdateBuyForm.get("BuyProduct");this.GetProduct.BuyProduct.map(o=>{t.push(this.FB.group({productcode:this.FB.control(o.productcode),productname:this.FB.control(o.productname),price:this.FB.control(o.price),mount:this.FB.control(o.mount),Total:this.FB.control(o.Total),serial:this.FB.control(o.serial)}))})}get store(){return this.UpdateBuyForm.get("store")}get BuyProduct(){return this.UpdateBuyForm.get("BuyProduct")}getProduct(){}get BuyProductControls(){return this.UpdateBuyForm.get("BuyProduct").controls}getBillNumber(){return this.UpdateBuyForm.controls.BillNumber.value}addBuyproduct(){}Total(t,o){return this.TotalPrice=t*o}totalafterDiscount(t){return this.fullTotal-t}deleteRow(t){this.BuyProduct.removeAt(t)}getAllProduct(){return new Promise(t=>{this.productS.getProductByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.product=o})})}getAllBuyProduct(){this.productS.getBuyProduct().snapshotChanges().pipe((0,Kt.U)(t=>t.map(o=>({id:o.payload.doc.id,...o.payload.doc.data()})))).subscribe(t=>{this.GetAllBuyProduct=t,console.log(this.GetAllBuyProduct.length)})}selecteproduct(){var t=this;return ps(function*(){return t.selectedvalue=t.UpdateBuyForm.controls.selectvalue.value,t.selectedProduct=yield t.productS.getoneProduct(t.selectedvalue),console.log(t.selectedProduct),t.selectedProduct.forEach(o=>{if(void 0===t.BuyProduct.controls.find(l=>l.get("productname")?.value===o.productname))return t.BuyProduct.push(t.FB.group({productcode:new mn(o.productcode,jt.required),productname:new mn(o.productname,jt.required),price:new mn,mount:new mn,Total:new mn,serial:new mn}));t.Toastr.error("\u062a\u0645 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0646 \u0642\u0628\u0644")}),console.log(t.BuyProduct.value),console.log(t.selectedProduct),t.BuyProduct})()}findsum(t){this.fullTotal=0,this.value=t,console.log(this.value);for(let o=0;o<t.length;o++)this.fullTotal+=this.value[o].get("Total").value,console.log(this.fullTotal);return this.click=!0,this.fullTotal}getallStores(){return new Promise(t=>{this.productS.getStoreByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.Stores=o})})}ondestory(){}getallExperter(){return new Promise(t=>{this.productS.getExperterByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.Experter=o})})}inputChanged(t){console.log(t.target.getAttribute("formControlName"))}AddBuyProduct(){var t=this;this.addBuyProduct.store=this.UpdateBuyForm.controls.store.value,this.addBuyProduct.exportname=this.UpdateBuyForm.controls.exportname.value,this.addBuyProduct=this.UpdateBuyForm.value,this.addBuyProduct.FullTotal=this.UpdateBuyForm.controls.FullTotal.value,this.addBuyProduct.discount=this.UpdateBuyForm.controls.discount.value,this.addBuyProduct.discountTotal=this.UpdateBuyForm.controls.discounttotal.value,this.addBuyProduct.date=this.today.toLocaleString(),this.addBuyProduct.BillNumber=this.getBillNumber(),this.addBuyProduct.BuyProduct=this.UpdateBuyForm.controls.BuyProduct.value,console.log(this.addBuyProduct),this.productS.updateBuyproduct(this.id,this.addBuyProduct).then(()=>{console.log("created Buy Product"),this.addBuyProduct.BuyProduct?.forEach(function(){var s=ps(function*(l){t.productS.getProductname(l.productname).subscribe(h=>{h.forEach(v=>{t.newProduct=v.data(),console.log(t.newProduct);const w={mount:Number(t.newProduct.mount)+Number(l.mount),price:l.price,store:t.addBuyProduct.store,BuyMount:Number(t.newProduct.BuyMount)+Number(l.mount),Expertname:t.addBuyProduct.exportname};console.log(v.id),t.productS.update(v.id,w).then(()=>{console.log("updatesuccessful")}).catch(D=>console.log(D))})})});return function(l){return s.apply(this,arguments)}}()),this.submitted=!0,this.Toastr.success("\u062a\u0645 \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d"),this._router.navigateByUrl("home/BuyReport",{skipLocationChange:!0}).then(()=>{this._router.navigate(["BuyReport"])})})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(_c),a.Y36(dw),a.Y36(_r),a.Y36(Tp),a.Y36(as),a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-update-buy-product"]],decls:55,vars:25,consts:[[1,"d-flex","flex-row","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../home",2,"text-decoration","none"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","../updateBuyProduct/",2,"text-decoration","none"],[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"d-flex","flex-row","justify-content-between","fulldata","p-2"],[1,"col-md-4"],[1,"form-group"],["for","formGroupExampleInput"],[1,"form-group","mt-4"],["for","formGroupExampleInput2",1,"mb-2"],["type","text","formControlName","BillNumber","readonly","",1,"form-control",3,"disabled","ngModel","required"],[1,"float-right","d-flex","flex-column","justify-content-end","col-md-4"],[1,"col-md-12"],["for","formGroupExampleInput2"],["bindValue","ExpertName","formControlName","exportname","bindLabel","ExpertName",3,"items","searchable","required"],["class","text-danger",4,"ngIf"],[1,"form-group","mt-3","col-md-12"],["bindValue","storeName","formControlName","store","bindLabel","storeName",3,"items","searchable","required"],[1,"mt-2","col-md-12"],[1,"col-md-8"],["bindLabel","productname","bindValue","productname","formControlName","selectvalue","placeholder","\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0646\u062a\u062c \u0627\u0644\u0630\u064a \u062a\u0631\u064a\u062f \u0627\u0636\u0627\u0641\u062a\u0647 \u0627\u0644\u064a \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629",1,"mt-4",3,"items","searchable","required"],[1,"mt-4","col-md-4"],[1,"btn","btn-success",3,"click"],["class"," p-3",4,"ngIf"],[1,"text-danger"],[1,"p-3"],["id","producttable","formArrayName","BuyProduct",1,"table","table-bordered","table-hover","table-responsive","width-auto"],[1,"table-head","width-auto"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-group","float-right","mt-5","d-flex","flex-row","justify-content-end","col-md-12"],[1,"form-group","float-right","mt-5","d-flex","flex-column","align-items-end","justify-content-end","col-md-12"],[1,"col-md-6","table-bordered"],["scope","3"],["formControlName","FullTotal",1,"form-control",3,"ngModel"],[1,"mt-2"],["formControlName","discount",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","discounttotal",1,"form-control",3,"ngModel"],["type","submit",1,"btn","btn-success","m-2",3,"disabled","click"],[1,"btn","btn-danger","m-2"],[3,"formGroupName"],["formControlName","productcode","readonly","",1,"border-0","bg-white"],["formControlName","productname","readonly","",1,"border-0","bg-white"],["type","number","formControlName","price",1,"form-control"],["type","number","formControlName","mount",1,"form-control"],["formControlName","Total","readonly","",1,"border-0","bg-white",3,"ngModel"],["type","text","formControlName","serial",1,"form-control"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash-alt"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2," \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 "),a.qZA(),a.TgZ(3,"ol",2)(4,"li",3)(5,"a",4),a._uU(6,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629/"),a.qZA()(),a.TgZ(7,"li",5)(8,"a",6),a._uU(9," \u062a\u0639\u062f\u0628\u0644 \u0641\u0627\u062a\u0648\u0631\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a"),a.qZA()()()(),a.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"h6",10),a._uU(14," \u0627\u0646\u0634\u0627\u0621 \u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0634\u062a\u0631\u064a\u0627\u062a"),a.qZA()(),a.TgZ(15,"div",11)(16,"div")(17,"form",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"label",17),a._uU(23," \u0627\u0644\u062a\u0627\u0631\u064a\u062e :"),a.qZA(),a._uU(24),a.ALo(25,"date"),a.qZA(),a.TgZ(26,"div",16)(27,"label",17),a._uU(28," \u0627\u0644\u0648\u0642\u062a :"),a.qZA(),a._uU(29),a.ALo(30,"date"),a.qZA(),a.TgZ(31,"div",18)(32,"label",19),a._uU(33," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),a.qZA(),a._UZ(34,"input",20),a.qZA()(),a.TgZ(35,"div",21)(36,"div",22)(37,"div",16)(38,"label",23),a._uU(39,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0631\u062f"),a.qZA(),a._UZ(40,"ng-select",24),a.YNc(41,AU,2,0,"span",25),a.qZA()(),a.TgZ(42,"div",26)(43,"label",17),a._uU(44," \u0627\u0633\u0645 \u0627\u0644\u0645\u062e\u0632\u0646"),a.qZA(),a._UZ(45,"ng-select",27),a.YNc(46,DU,2,0,"span",25),a.qZA()()(),a.TgZ(47,"div",28)(48,"div",29),a._UZ(49,"ng-select",30),a.YNc(50,SU,2,0,"span",25),a.qZA(),a.TgZ(51,"div",31)(52,"button",32),a.NdJ("click",function(){return o.selecteproduct()}),a._uU(53,"\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u064a \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),a.qZA()()(),a.YNc(54,xU,48,5,"div",33),a.qZA()()()()()()),2&t&&(a.xp6(17),a.Q6J("formGroup",o.UpdateBuyForm),a.xp6(7),a.hij(" ",a.xi3(25,19,o.today,"dd/MM/yyyy ")," "),a.xp6(5),a.hij(" ",a.xi3(30,22,o.today,"HH:mm:ss")," "),a.xp6(5),a.Q6J("disabled",!0)("ngModel",o.getBillNumber())("required",!0),a.xp6(6),a.Q6J("items",o.Experter)("searchable",!0)("required",!0),a.xp6(1),a.Q6J("ngIf",!o.UpdateBuyForm.controls.exportname.valid&&o.UpdateBuyForm.controls.exportname.touched),a.xp6(4),a.Q6J("items",o.Stores)("searchable",!0)("required",!0),a.xp6(1),a.Q6J("ngIf",!o.UpdateBuyForm.controls.store.valid&&o.UpdateBuyForm.controls.store.touched),a.xp6(3),a.Q6J("items",o.product)("searchable",!0)("required",!0),a.xp6(1),a.Q6J("ngIf",!o.UpdateBuyForm.controls.selectvalue.valid&&o.UpdateBuyForm.controls.selectvalue.touched),a.xp6(4),a.Q6J("ngIf",null!=o.selectedvalue))},dependencies:[Jt,Sn,p,ko,I,Qs,wa,$a,No,lT,Js,Ku,pg,nf,_s]}),e})();const MU=function(e){return["../","StoresDetail",e]};function OU(e,i){if(1&e&&(a.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9),a._UZ(5,"i",10),a.qZA(),a.TgZ(6,"div",11)(7,"div",12),a._uU(8),a.qZA(),a.TgZ(9,"div",13)(10,"a",14)(11,"button",15),a._uU(12," \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644 "),a.qZA()()()()()()()()),2&e){const t=i.$implicit;a.xp6(8),a.Oqu(t.storeName),a.xp6(2),a.Q6J("routerLink",a.VKq(2,MU,t.id))}}let NU=(()=>{class e{constructor(t,o,s,l,h){this.productSer=t,this._router=o,this._activatedRoute=s,this._location=l,this.auth=h,this.getallStores()}ngOnInit(){}getallStores(){return new Promise(t=>{this.productSer.getStoreByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.Stores=o})})}backClicked(){this._location.back()}onselect(t,o){o.preventDefault(),this._router.navigate(["StoresDetail",t.id])}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(_r),a.Y36(as),a.Y36(Tt),a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-stores-operations"]],decls:5,vars:1,consts:[[1,"back"],[1,"btn","float-right",3,"click"],[1,"fa","fa-arrow-left"],[1,"row","mb-3"],["class","col-xl-3 col-md-6 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-3","col-md-6","mb-4"],[1,"card","h-100"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-auto"],[1,"fas","fa-calendar","fa-2x","text-danger"],[1,"col","mr-2"],[1,"h8","mb-0","font-weight-bold","text-gray-800"],[1,"mt-4","mb-0","text-muted","text-xs","float-left"],[3,"routerLink"],[1,"btn","btn-warning","text-white"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(){return o.backClicked()}),a._UZ(2,"i",2),a.qZA()(),a.TgZ(3,"div",3),a.YNc(4,OU,13,4,"div",4),a.qZA()),2&t&&(a.xp6(4),a.Q6J("ngForOf",o.Stores))},dependencies:[Jt,No]}),e})();function kU(e,i){if(1&e&&(a.TgZ(0,"label",13),a._uU(1),a.qZA()),2&e){const t=i.$implicit;a.xp6(1),a.Oqu(t)}}function RU(e,i){if(1&e&&(a.TgZ(0,"tr",18)(1,"th"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"th"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._uU(12),a.qZA(),a.TgZ(13,"td"),a._uU(14),a.qZA(),a.TgZ(15,"td"),a._uU(16),a.qZA(),a.TgZ(17,"td"),a._uU(18),a.qZA()()),2&e){const t=i.$implicit,o=i.index;a.xp6(2),a.Oqu(o+1),a.xp6(2),a.Oqu(t.productname),a.xp6(2),a.Oqu(t.productcode),a.xp6(2),a.Oqu(t.price),a.xp6(2),a.Oqu(t.buyprice),a.xp6(2),a.Oqu(t.saleprice),a.xp6(2),a.Oqu(t.BuyMount),a.xp6(2),a.Oqu(t.saleMount),a.xp6(2),a.Oqu(t.mount)}}function FU(e,i){if(1&e&&(a.TgZ(0,"div",14)(1,"table",15)(2,"thead",16)(3,"tr")(4,"th"),a._uU(5,"\u0645"),a.qZA(),a.TgZ(6,"th"),a._uU(7," \u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(8,"th"),a._uU(9,"\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(10,"th"),a._uU(11,"\u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621"),a.qZA(),a.TgZ(12,"th"),a._uU(13,"\u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629"),a.qZA(),a.TgZ(14,"th"),a._uU(15,"\u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639"),a.qZA(),a.TgZ(16,"th"),a._uU(17,"\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a"),a.qZA(),a.TgZ(18,"th"),a._uU(19,"\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"),a.qZA(),a.TgZ(20,"th"),a._uU(21," \u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629"),a.qZA()()(),a.TgZ(22,"tbody"),a.YNc(23,RU,19,9,"tr",17),a.qZA()()()),2&e){const t=a.oxw();a.xp6(1),a.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),a.xp6(22),a.Q6J("ngForOf",t.product)}}let LU=(()=>{class e{constructor(t,o,s){this.productSer=t,this.router=o,this._location=s,this.store=new GO,this.dtTrigger=new zr.x,this.dtOptions={},this.language={sProcessing:"\u062c\u0627\u0631\u064d \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",sLengthMenu:"\u0623\u0638\u0647\u0631 _MENU_ \u0645\u062f\u062e\u0644\u0627\u062a",sZeroRecords:"\u0644\u0645 \u064a\u0639\u062b\u0631 \u0639\u0644\u0649 \u0623\u064a\u0629 \u0633\u062c\u0644\u0627\u062a",sInfo:"\u0625\u0638\u0647\u0627\u0631 _START_ \u0625\u0644\u0649 _END_ \u0645\u0646 \u0623\u0635\u0644 _TOTAL_ \u0645\u062f\u062e\u0644",sInfoEmpty:"\u064a\u0639\u0631\u0636 0 \u0625\u0644\u0649 0 \u0645\u0646 \u0623\u0635\u0644 0 \u0633\u062c\u0644",sInfoFiltered:"(\u0645\u0646\u062a\u0642\u0627\u0629 \u0645\u0646 \u0645\u062c\u0645\u0648\u0639 _MAX_ \u0645\u064f\u062f\u062e\u0644)",sInfoPostFix:"",sSearch:"\u0627\u0628\u062d\u062b:",sUrl:"",oPaginate:{sFirst:"\u0627\u0644\u0623\u0648\u0644",sPrevious:"\u0627\u0644\u0633\u0627\u0628\u0642",sNext:"\u0627\u0644\u062a\u0627\u0644\u064a",sLast:"\u0627\u0644\u0623\u062e\u064a\u0631"}},this.route=(0,a.f3M)(as),this.dtOptions={pagingType:"full_numbers",language:this.language,retrieve:!0,dom:"Bfrtip"}}ngOnInit(){this.dtTrigger.next()}ngAfterContentInit(){this.id=this.route.snapshot.params.id,this.productSer.getStoreById(this.id).subscribe(t=>{this.store=t,console.log(this.store),this.filterByStoreName(this.store.storeName)})}backClicked(){this._location.back()}filterByStoreName(t){var o=this;return ps(function*(){return o.product=yield o.productSer.filterBy(t),o.product.forEach(s=>{o.dtTrigger.next()}),console.log(o.product),o.product})()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(_r),a.Y36(Tt))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-store-details"]],decls:20,vars:4,consts:[[1,"back"],[1,"btn","float-right",3,"click"],[1,"fa","fa-arrow-left"],[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"mb-3","col-md-4"],[1,"mb-2"],[1,"form-control"],["class","form-control mb-2",4,"ngFor","ngForOf"],["class","p-3 table-responsive",4,"ngIf"],[1,"form-control","mb-2"],[1,"p-3","table-responsive"],["datatable","","id","producttable",1,"table","table-bordered","table-striped","table-responsive","table-hov",2,"width","100%",3,"dtOptions","dtTrigger"],[1,"table-head"],["class","text-right",4,"ngFor","ngForOf"],[1,"text-right"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(){return o.backClicked()}),a._UZ(2,"i",2),a.qZA()(),a.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6),a._uU(7),a.qZA()(),a.TgZ(8,"div",7)(9,"div",8)(10,"div")(11,"label",9),a._uU(12,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u062e\u0632\u0646"),a.qZA(),a.TgZ(13,"label",10),a._uU(14),a.qZA()(),a.TgZ(15,"div")(16,"label",9),a._uU(17," \u062a\u0644\u064a\u0641\u0648\u0646 \u0627\u0644\u0645\u062e\u0632\u0646 "),a.qZA(),a.YNc(18,kU,2,1,"label",11),a.qZA()()(),a.YNc(19,FU,24,3,"div",12),a.qZA()()),2&t&&(a.xp6(7),a.hij(" ",o.store.storeName,""),a.xp6(7),a.Oqu(o.store.Address),a.xp6(4),a.Q6J("ngForOf",o.store.Phone),a.xp6(1),a.Q6J("ngIf",o.product.length>0))},dependencies:[Jt,Sn,xT]}),e})();const UU=function(e){return["../","ExportDetail",e]};function BU(e,i){if(1&e&&(a.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),a._UZ(5,"i",7),a.qZA(),a.TgZ(6,"div",8)(7,"div",9),a._uU(8),a.qZA(),a.TgZ(9,"div",10)(10,"a",11)(11,"button",12),a._uU(12," \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644 "),a.qZA()()()()()()()()),2&e){const t=i.$implicit;a.xp6(8),a.Oqu(t.ExpertName),a.xp6(2),a.Q6J("routerLink",a.VKq(2,UU,t.id))}}let VU=(()=>{class e{constructor(t,o,s,l){this.productSer=t,this._router=o,this._activatedRoute=s,this.auth=l,this.getallExperter()}ngOnInit(){}getallExperter(){return new Promise(t=>{this.productSer.getExperterByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.Expert=o})})}onselect(t,o){o.preventDefault(),this._router.navigate(["ExpertDetail",t.id])}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(_r),a.Y36(as),a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-exporter-operation"]],decls:2,vars:1,consts:[[1,"row","mb-3"],["class","col-xl-3 col-md-6 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-3","col-md-6","mb-4"],[1,"card","h-100"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-auto"],[1,"fas","fa-calendar","fa-2x","text-danger"],[1,"col","mr-2"],[1,"h8","mb-0","font-weight-bold","text-gray-800"],[1,"mt-4","mb-0","text-muted","text-xs","float-left"],[3,"routerLink"],[1,"btn","btn-warning","text-white"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0),a.YNc(1,BU,13,4,"div",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",o.Expert))},dependencies:[Jt,No]}),e})();function jU(e,i){if(1&e&&(a.TgZ(0,"label",10),a._uU(1),a.qZA()),2&e){const t=i.$implicit;a.xp6(1),a.Oqu(t)}}function HU(e,i){if(1&e&&(a.TgZ(0,"tr",15)(1,"th"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._uU(12),a.qZA(),a.TgZ(13,"td"),a._uU(14),a.qZA()()),2&e){const t=i.$implicit,o=i.index;a.xp6(2),a.Oqu(o+1),a.xp6(2),a.Oqu(t.productname),a.xp6(2),a.Oqu(t.productcode),a.xp6(2),a.Oqu(t.price),a.xp6(2),a.Oqu(t.buyprice),a.xp6(2),a.Oqu(t.saleprice),a.xp6(2),a.Oqu(t.mount)}}function qU(e,i){if(1&e&&(a.TgZ(0,"div",11)(1,"table",12)(2,"thead",13)(3,"tr")(4,"th"),a._uU(5,"\u0645"),a.qZA(),a.TgZ(6,"th"),a._uU(7," \u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(8,"th"),a._uU(9,"\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(10,"th"),a._uU(11,"\u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621"),a.qZA(),a.TgZ(12,"th"),a._uU(13,"\u0633\u0639\u0631 \u0627\u0644\u062c\u0645\u0644\u0629"),a.qZA(),a.TgZ(14,"th"),a._uU(15,"\u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639"),a.qZA(),a.TgZ(16,"th"),a._uU(17," \u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0627\u062d\u0629"),a.qZA()()(),a.TgZ(18,"tbody"),a.YNc(19,HU,15,7,"tr",14),a.qZA()()()),2&e){const t=a.oxw();a.xp6(1),a.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),a.xp6(18),a.Q6J("ngForOf",t.product)}}let ZU=(()=>{class e{constructor(t,o){this.productSer=t,this.router=o,this.Expert=new $O,this.dtTrigger=new zr.x,this.dtOptions={},this.language={sProcessing:"\u062c\u0627\u0631\u064d \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",sLengthMenu:"\u0623\u0638\u0647\u0631 _MENU_ \u0645\u062f\u062e\u0644\u0627\u062a",sZeroRecords:"\u0644\u0645 \u064a\u0639\u062b\u0631 \u0639\u0644\u0649 \u0623\u064a\u0629 \u0633\u062c\u0644\u0627\u062a",sInfo:"\u0625\u0638\u0647\u0627\u0631 _START_ \u0625\u0644\u0649 _END_ \u0645\u0646 \u0623\u0635\u0644 _TOTAL_ \u0645\u062f\u062e\u0644",sInfoEmpty:"\u064a\u0639\u0631\u0636 0 \u0625\u0644\u0649 0 \u0645\u0646 \u0623\u0635\u0644 0 \u0633\u062c\u0644",sInfoFiltered:"(\u0645\u0646\u062a\u0642\u0627\u0629 \u0645\u0646 \u0645\u062c\u0645\u0648\u0639 _MAX_ \u0645\u064f\u062f\u062e\u0644)",sInfoPostFix:"",sSearch:"\u0627\u0628\u062d\u062b:",sUrl:"",oPaginate:{sFirst:"\u0627\u0644\u0623\u0648\u0644",sPrevious:"\u0627\u0644\u0633\u0627\u0628\u0642",sNext:"\u0627\u0644\u062a\u0627\u0644\u064a",sLast:"\u0627\u0644\u0623\u062e\u064a\u0631"}},this.route=(0,a.f3M)(as),this.dtOptions={pagingType:"full_numbers",language:this.language,retrieve:!0,dom:"Bfrtip"}}ngOnInit(){this.dtTrigger.next()}ngAfterContentInit(){this.id=this.route.snapshot.params.id,this.productSer.getExpertById(this.id).subscribe(t=>{this.Expert=t,console.log(this.Expert),this.filterByExpertName(this.Expert.ExpertName)})}filterByExpertName(t){var o=this;return ps(function*(){return o.product=yield o.productSer.filterByExperet(t),o.product.forEach(s=>{o.dtTrigger.next()}),console.log(o.product),o.product})()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(_r))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-export-details"]],decls:17,vars:4,consts:[[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"mb-3","col-md-4"],[1,"mb-2"],[1,"form-control"],["class","form-control mb-2",4,"ngFor","ngForOf"],["class","p-3 table-responsive",4,"ngIf"],[1,"form-control","mb-2"],[1,"p-3","table-responsive"],["datatable","","id","producttable",1,"table","table-bordered","table-striped","table-responsive","table-hov",2,"width","100%",3,"dtOptions","dtTrigger"],[1,"table-head"],["class","text-right",4,"ngFor","ngForOf"],[1,"text-right"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6",3),a._uU(4),a.qZA()(),a.TgZ(5,"div",4)(6,"div",5)(7,"div")(8,"label",6),a._uU(9,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u062e\u0632\u0646"),a.qZA(),a.TgZ(10,"label",7),a._uU(11),a.qZA()(),a.TgZ(12,"div")(13,"label",6),a._uU(14," \u062a\u0644\u064a\u0641\u0648\u0646 \u0627\u0644\u0645\u062e\u0632\u0646 "),a.qZA(),a.YNc(15,jU,2,1,"label",8),a.qZA()()(),a.YNc(16,qU,20,3,"div",9),a.qZA()()),2&t&&(a.xp6(4),a.hij(" ",o.Expert.ExpertName,""),a.xp6(7),a.Oqu(o.Expert.Address),a.xp6(4),a.Q6J("ngForOf",o.Expert.Phone),a.xp6(1),a.Q6J("ngIf",o.product.length>0))},dependencies:[Jt,Sn,xT]}),e})();class Y6{}function GU(e,i){1&e&&(a.TgZ(0,"span",35),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0646\u062a\u062c "),a.qZA())}function $U(e,i){if(1&e&&(a.TgZ(0,"span",35),a._uU(1),a.qZA()),2&e){const t=a.oxw().$implicit;a.xp6(1),a.hij("\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0648\u0641\u0631 ",t.value.Totalmount,"")}}function zU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"tr",42)(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._UZ(4,"input",43),a.qZA(),a.TgZ(5,"td"),a._UZ(6,"input",44),a.qZA(),a.TgZ(7,"td"),a._UZ(8,"input",45),a.qZA(),a.TgZ(9,"td"),a._UZ(10,"input",46),a.YNc(11,$U,2,1,"span",47),a.qZA(),a.TgZ(12,"td"),a._UZ(13,"input",48),a.qZA(),a.TgZ(14,"td")(15,"button",49),a.NdJ("click",function(){const l=a.CHM(t).index,h=a.oxw(2);return a.KtG(h.deleteRow(l))}),a._UZ(16,"i",50),a.qZA()()()}if(2&e){const t=i.$implicit,o=i.index,s=a.oxw(2);a.Q6J("formGroupName",o),a.xp6(2),a.hij(" ",o+1," "),a.xp6(9),a.Q6J("ngIf",t.value.mount>t.value.Totalmount),a.xp6(2),a.Q6J("ngModel",s.Total(t.value.saleprice,t.value.mount))}}function WU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div")(1,"div",51)(2,"table",52)(3,"tr")(4,"th",53),a._uU(5,"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a"),a.qZA(),a.TgZ(6,"td"),a._UZ(7,"input",54),a.qZA()(),a.TgZ(8,"tr",55)(9,"th",53),a._uU(10,"\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645 "),a.qZA(),a.TgZ(11,"td")(12,"input",56),a.NdJ("ngModelChange",function(s){a.CHM(t);const l=a.oxw(2);return a.KtG(l.discount=s)}),a.qZA()()(),a.TgZ(13,"tr",55)(14,"th",53),a._uU(15," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645"),a.qZA(),a.TgZ(16,"td"),a._UZ(17,"input",57),a.qZA()()()(),a.TgZ(18,"div",40)(19,"button",58),a.NdJ("click",function(){a.CHM(t);const s=a.oxw(2);return a.KtG(s.AddBuyProduct())}),a._uU(20,"\u0627\u0636\u0627\u0641\u0629"),a.qZA(),a.TgZ(21,"button",59),a._uU(22,"\u0627\u0644\u063a\u0627\u0621"),a.qZA(),a.TgZ(23,"button",60),a._uU(24,"\u0637\u0628\u0627\u0639\u0629"),a.qZA()()()}if(2&e){const t=a.oxw(2);a.xp6(7),a.Q6J("ngModel",t.fullTotal),a.xp6(5),a.Q6J("ngModel",t.discount),a.xp6(5),a.Q6J("ngModel",t.totalafterDiscount(t.discount)),a.xp6(2),a.Q6J("disabled",!t.SaleForm.valid),a.xp6(4),a.Q6J("useExistingCss",!0)}}function YU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div",36)(1,"table",37)(2,"thead",38)(3,"tr")(4,"th"),a._uU(5,"\u0645 "),a.qZA(),a.TgZ(6,"th"),a._uU(7,"\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(8,"th"),a._uU(9,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(10,"th"),a._uU(11,"\u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639 "),a.qZA(),a.TgZ(12,"th"),a._uU(13,"\u0627\u0644\u0643\u0645\u064a\u0629"),a.qZA(),a.TgZ(14,"th"),a._uU(15,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0633\u0639\u0631"),a.qZA(),a.TgZ(16,"th"),a._uU(17,"\u062d\u0630\u0641"),a.qZA()()(),a.TgZ(18,"tbody"),a.YNc(19,zU,17,4,"tr",39),a.qZA()(),a.TgZ(20,"div",40)(21,"button",33),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.findsum(s.SaleProductControls))}),a._uU(22," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a "),a.qZA()(),a.YNc(23,WU,25,5,"div",41),a.qZA()}if(2&e){const t=a.oxw();a.xp6(19),a.Q6J("ngForOf",t.SaleProduct.controls),a.xp6(4),a.Q6J("ngIf",t.click)}}let KU=(()=>{class e{constructor(t,o,s,l,h,v){this.productS=t,this.FB=o,this.config=s,this._router=l,this.Toastr=h,this.auth=v,this.addSaleProduct=new Y6,this.GetAllBuyProduct=[],this.TotalPrice=0,this.fullTotal=0,this.mounts=[],this.selectedfulldata=[],this.today=new Date,this.submitted=!1,this.discount=0,this.click=!1,this.getAllProduct(),this.getAllBuyProduct(),this.config.notFoundText="\u0644\u0627\u064a\u0648\u062c\u062f ",this.config.appendTo="body",this.config.bindValue="value"}ngOnInit(){this.SaleForm=this.FB.group({phone:[null],address:[null],Clientname:[null,jt.required],BillNumber:[this.BillNumber,jt.required],selectvalue:[null,jt.required],FullTotal:[this.fullTotal,jt.required],discount:[""],discounttotal:[],SaleProduct:this.FB.array([],jt.required)})}get SaleProduct(){return this.SaleForm.get("SaleProduct")}get SaleProductControls(){return this.SaleForm.get("SaleProduct").controls}getBillNumber(){return this.BillNumber="SO"+Number(this.GetAllBuyProduct.length+1)}addBuyproduct(){}Total(t,o){return this.TotalPrice=t*o}totalafterDiscount(t){return this.fullTotal-t}deleteRow(t){this.SaleProduct.removeAt(t)}getAllProduct(){return new Promise(t=>{this.productS.getProductByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.product=o})})}getAllBuyProduct(){this.productS.getBuyProduct().snapshotChanges().pipe((0,Kt.U)(t=>t.map(o=>({id:o.payload.doc.id,...o.payload.doc.data()})))).subscribe(t=>{this.GetAllBuyProduct=t,console.log(this.GetAllBuyProduct.length),this.BillNumber="OS"+this.GetAllBuyProduct.length})}getProductcat(t){var o=this;return ps(function*(){return o.productcat=t=o.SaleForm.controls.productcat.value,console.log(t),o.productcategory=yield o.productS.getProductByCategoty(t),o.productcategory})()}selecteproduct(){var t=this;return ps(function*(){return t.selectedvalue=t.SaleForm.controls.selectvalue.value,t.selectedProduct=yield t.productS.getoneProduct(t.selectedvalue),console.log(t.selectedProduct),t.selectedProduct.forEach(o=>{if(void 0===t.SaleProduct.controls.find(l=>l.get("productname")?.value===o.productname))return t.SaleProduct.push(t.FB.group({productcode:new mn(o.productcode,jt.required),productname:new mn(o.productname,jt.required),saleprice:new mn(o.saleprice,jt.required),Totalmount:new mn(o.mount),mount:new mn,Total:new mn}));t.Toastr.error("\u062a\u0645 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0646 \u0642\u0628\u0644")}),console.log(t.SaleProduct.value),console.log(t.selectedProduct),t.SaleProduct})()}findsum(t){this.fullTotal=0,this.value=t,console.log(this.value);for(let o=0;o<t.length;o++)this.fullTotal+=this.value[o].get("Total").value,console.log(this.fullTotal);return this.click=!0,this.fullTotal}inputChanged(t){console.log(t.target.getAttribute("formControlName"))}AddBuyProduct(){var t=this;this.addSaleProduct.phone=this.SaleForm.controls.phone.value,this.addSaleProduct.address=this.SaleForm.controls.address.value,this.addSaleProduct.Clientname=this.SaleForm.controls.Clientname.value,this.addSaleProduct=this.SaleForm.value,this.addSaleProduct.FullTotal=this.SaleForm.controls.FullTotal.value,this.addSaleProduct.discount=this.SaleForm.controls.discount.value,this.addSaleProduct.discountTotal=this.SaleForm.controls.discounttotal.value,this.addSaleProduct.date=this.today.toLocaleString(),this.addSaleProduct.BillNumber=this.getBillNumber(),this.addSaleProduct.useremail=this.auth.userData.email,this.addSaleProduct.SaleProduct=this.SaleForm.controls.SaleProduct.value,console.log(this.addSaleProduct),this.productS.addSale(this.addSaleProduct).then(()=>{this.addSaleProduct.SaleProduct?.forEach(function(){var s=ps(function*(l){t.productS.getProductname(l.productname).subscribe(h=>{h.forEach(v=>{t.newProduct=v.data(),console.log(t.newProduct);const w={mount:Number(t.newProduct.mount)-Number(l.mount),saleMount:Number(t.newProduct.saleMount)+Number(l.mount)};console.log(v.id),t.productS.update(v.id,w).then(()=>{console.log("updatesuccessful")}).catch(D=>console.log(D))})})});return function(l){return s.apply(this,arguments)}}()),console.log("created Buy Product")}),this.submitted=!0,this.Toastr.success("\u062a\u0645 \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d");let o=this._router.url;this._router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this._router.navigate([o])})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(_c),a.Y36(dw),a.Y36(_r),a.Y36(Tp),a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-sale-bill"]],inputs:{SaleForm:"SaleForm"},decls:59,vars:16,consts:[[1,"d-flex","flex-row","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../home",2,"text-decoration","none"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","../SaleBill",2,"text-decoration","none"],[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],["id","print-section",3,"formGroup"],[1,"row"],[1,"fulldata"],[1,"col-md-4"],[1,"form-group"],["for","formGroupExampleInput"],[1,"form-group","mt-4"],["for","formGroupExampleInput2",1,"mb-2"],["type","text","formControlName","BillNumber","readonly","",1,"form-control",3,"ngModel","disabled"],[1,"float-right","d-flex","flex-column","justify-content-end","col-md-4"],[1,"col-md-12","form-group","mt-3"],["for","formGroupExampleInput2"],["type","text","formControlName","Clientname",1,"form-control"],[1,"form-group","mt-3","col-md-12"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","address",1,"form-control"],[1,"mt-2","col-md-12"],[1,"col-md-10"],["bindLabel","productname","bindValue","productname","formControlName","selectvalue","placeholder","\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0646\u062a\u062c \u0627\u0644\u0630\u064a \u062a\u0631\u064a\u062f \u0627\u0636\u0627\u0641\u062a\u0647 \u0627\u0644\u064a \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629",1,"mt-4",3,"items","searchable","required"],["class","text-danger",4,"ngIf"],[1,"mt-4","col-md-2"],[1,"btn","btn-info","text-white",3,"click"],["class"," p-3","class","table-header",4,"ngIf"],[1,"text-danger"],[1,"table-header"],["id","producttable","formArrayName","SaleProduct",1,"table","table-bordered","table-hover","table-responsive","width-auto"],[1,"table-head","width-auto"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-group","float-right","mt-5","d-flex","flex-row","justify-content-end","col-md-12"],[4,"ngIf"],[3,"formGroupName"],["formControlName","productcode","readonly","",1,"border-0","bg-white"],["formControlName","productname","readonly","",1,"border-0","bg-white"],["formControlName","saleprice","readonly","",1,"border-0","bg-white"],["formControlName","mount",1,"form-control"],["class"," text-danger",4,"ngIf"],["formControlName","Total","readonly","",1,"border-0","bg-white",3,"ngModel"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash-alt"],[1,"form-group","float-right","mt-5","d-flex","flex-column","align-items-end","justify-content-end","col-md-12"],[1,"col-md-6","table-bordered"],["scope","3"],["formControlName","FullTotal",1,"form-control",3,"ngModel"],[1,"mt-2"],["formControlName","discount",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","discounttotal",1,"form-control",3,"ngModel"],["type","submit",1,"btn","btn-warning","m-2",3,"disabled","click"],[1,"btn","btn-danger","m-2"],["printSectionId","print-section","ngxPrint","",1,"btn","btn-info","m-2","text-white","print",3,"useExistingCss"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2," \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 "),a.qZA(),a.TgZ(3,"ol",2)(4,"li",3)(5,"a",4),a._uU(6,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629/"),a.qZA()(),a.TgZ(7,"li",5)(8,"a",6),a._uU(9,"\u0641\u0627\u0646\u0648\u0631\u0629 \u0645\u0628\u064a\u0639\u0627\u062a"),a.qZA()()()(),a.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"h6",10),a._uU(14," \u0627\u0646\u0634\u0627\u0621 \u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0628\u064a\u0639\u0627\u062a"),a.qZA()(),a.TgZ(15,"div",11)(16,"div")(17,"form",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"label",17),a._uU(23," \u0627\u0644\u062a\u0627\u0631\u064a\u062e :"),a.qZA(),a._uU(24),a.ALo(25,"date"),a.qZA(),a.TgZ(26,"div",16)(27,"label",17),a._uU(28," \u0627\u0644\u0648\u0642\u062a :"),a.qZA(),a._uU(29),a.ALo(30,"date"),a.qZA(),a.TgZ(31,"div",18)(32,"label",19),a._uU(33," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),a.qZA(),a._UZ(34,"input",20),a.qZA()(),a.TgZ(35,"div",21)(36,"div",22)(37,"div",16)(38,"label",23),a._uU(39,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644"),a.qZA(),a._UZ(40,"input",24),a.qZA()(),a.TgZ(41,"div",25)(42,"div",16)(43,"label",17),a._uU(44," \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646 "),a.qZA(),a._UZ(45,"input",26),a.qZA()(),a.TgZ(46,"div",25)(47,"div",16)(48,"label",17),a._uU(49," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),a.qZA(),a._UZ(50,"input",27),a.qZA()()()(),a.TgZ(51,"div",28)(52,"div",29),a._UZ(53,"ng-select",30),a.YNc(54,GU,2,0,"span",31),a.qZA(),a.TgZ(55,"div",32)(56,"button",33),a.NdJ("click",function(){return o.selecteproduct()}),a._uU(57,"\u0627\u0636\u0627\u0641\u0629 "),a.qZA()()(),a.YNc(58,YU,24,2,"div",34),a.qZA()()()()()()),2&t&&(a.xp6(17),a.Q6J("formGroup",o.SaleForm),a.xp6(7),a.hij(" ",a.xi3(25,10,o.today,"dd/MM/yyyy ")," "),a.xp6(5),a.hij(" ",a.xi3(30,13,o.today,"HH:mm:ss")," "),a.xp6(5),a.Q6J("ngModel",o.getBillNumber())("disabled",!0),a.xp6(19),a.Q6J("items",o.product)("searchable",!0)("required",!0),a.xp6(1),a.Q6J("ngIf",!o.SaleForm.controls.selectvalue.valid&&o.SaleForm.controls.selectvalue.touched),a.xp6(4),a.Q6J("ngIf",null!=o.selectedvalue))},dependencies:[Jt,Sn,p,ko,Qs,wa,$a,ZO,No,lT,Js,Ku,pg,nf,_s]}),e})();function QU(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td")(12,"button",43),a.NdJ("click",function(){const l=a.CHM(t).$implicit,h=a.oxw();return a.KtG(h.onSelect(l))}),a._UZ(13,"i",44),a.qZA()(),a.TgZ(14,"td")(15,"a",45)(16,"button",46),a._UZ(17,"i",47),a.qZA()(),a.TgZ(18,"button",48),a.NdJ("click",function(){const l=a.CHM(t).$implicit,h=a.oxw();return a.KtG(h.deleteproduct(l))}),a._UZ(19,"i",49),a.qZA()()()}if(2&e){const t=i.$implicit,o=i.index;a.xp6(2),a.Oqu(o+1),a.xp6(2),a.Oqu(t.BillNumber),a.xp6(2),a.Oqu(t.Clientname),a.xp6(2),a.Oqu(t.phone),a.xp6(2),a.Oqu(t.date),a.xp6(5),a.MGl("routerLink","../UpdateSaleBill/",null==t?null:t.id,"")}}function JU(e,i){if(1&e&&(a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._uU(12),a.qZA()()),2&e){const t=i.$implicit,o=i.index;a.xp6(2),a.hij(" ",o," "),a.xp6(2),a.hij(" ",t.productcode," "),a.xp6(2),a.hij(" ",t.productname," "),a.xp6(2),a.hij(" ",t.saleprice," "),a.xp6(2),a.hij(" ",t.mount," "),a.xp6(2),a.hij(" ",t.Total," ")}}let XU=(()=>{class e{constructor(t,o){this.ProductSer=t,this.auth=o,this.NewProduct=new Am,this.dtTrigger=new zr.x,this.dtOptions={},this.selectedItem={},this.language={sProcessing:"\u062c\u0627\u0631\u064d \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",sLengthMenu:"\u0623\u0638\u0647\u0631 _MENU_ \u0645\u062f\u062e\u0644\u0627\u062a",sZeroRecords:"\u0644\u0645 \u064a\u0639\u062b\u0631 \u0639\u0644\u0649 \u0623\u064a\u0629 \u0633\u062c\u0644\u0627\u062a",sInfo:"\u0625\u0638\u0647\u0627\u0631 _START_ \u0625\u0644\u0649 _END_ \u0645\u0646 \u0623\u0635\u0644 _TOTAL_ \u0645\u062f\u062e\u0644",sInfoEmpty:"\u064a\u0639\u0631\u0636 0 \u0625\u0644\u0649 0 \u0645\u0646 \u0623\u0635\u0644 0 \u0633\u062c\u0644",sInfoFiltered:"(\u0645\u0646\u062a\u0642\u0627\u0629 \u0645\u0646 \u0645\u062c\u0645\u0648\u0639 _MAX_ \u0645\u064f\u062f\u062e\u0644)",sInfoPostFix:"",sSearch:"\u0627\u0628\u062d\u062b:",sUrl:"",oPaginate:{sFirst:"\u0627\u0644\u0623\u0648\u0644",sPrevious:"\u0627\u0644\u0633\u0627\u0628\u0642",sNext:"\u0627\u0644\u062a\u0627\u0644\u064a",sLast:"\u0627\u0644\u0623\u062e\u064a\u0631"}}}ngOnInit(){this.getAllProduct(),this.selectedItem={...this.productitem},this.dtOptions={pagingType:"full_numbers",language:this.language,retrieve:!0,dom:"Bfrtip"}}getProduct(){this.ProductSer.getAllProduct().snapshotChanges().pipe((0,Kt.U)(t=>t.map(o=>({id:o.payload.doc.id,...o.payload.doc.data()})))).subscribe(t=>{this.product=t})}getAllProduct(){return new Promise(t=>{this.ProductSer.getSaleProductByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.GetAllBuyProduct=o,this.dtTrigger.next()})})}deleteproduct(t){var o=this;vf().fire({title:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u062a\u062c",icon:"warning",showCancelButton:!0,confirmButtonText:"\u062d\u0630\u0641",cancelButtonText:"\u0627\u0644\u063a\u0627\u0621"}).then(s=>{s.value?(this.selectedItem=t,console.log(this.selectedItem.id),this.ProductSer.deleteSaleProduct(this.selectedItem.id).catch(l=>console.log(l)),this.selectedItem.SaleProduct?.forEach(function(){var l=ps(function*(h){o.ProductSer.getProductname(h.productname).subscribe(v=>{v.forEach(w=>{o.NewProduct=w.data(),console.log(o.NewProduct);const D={mount:Number(o.NewProduct.mount)+Number(h.mount),saleMount:Number(o.NewProduct.BuyMount)+Number(h.mount)};console.log(w.id),o.ProductSer.update(w.id,D).then(()=>{console.log("updatesuccessful")}).catch(M=>console.log(M))})})});return function(h){return l.apply(this,arguments)}}()),vf().fire("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u062a\u062c \u0628\u0646\u062c\u0627\u062d")):s.dismiss===vf().DismissReason.cancel&&vf().fire("\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u062d\u0630\u0641")})}ngOnDestroy(){this.dtTrigger.unsubscribe()}onSelect(t){this.selectedItem=t,console.log("Selected item Id: ",t)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-sale-report"]],inputs:{productitem:"productitem"},decls:110,vars:13,consts:[[1,"d-flex","flex-row","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","../../home",2,"text-decoration","none"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","../SaleReport",2,"text-decoration","none"],[1,"row"],[1,"col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"table-responsive","p-3"],["datatable","","id","buyproducttable","cellspacing","0","width","100%",1,"table","table-bordered","able-striped","table-hover","table-responsive","datatable-font","nowrap",3,"dtOptions","dtTrigger"],[1,"table-head"],[4,"ngFor","ngForOf"],["id","displaydata","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role"," document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"d-flex","flex-row","justify-content-between","fulldata","p-2"],[1,"col-md-4"],[1,"form-group"],["for","formGroupExampleInput"],[1,"form-group","mt-4"],["for","formGroupExampleInput2",1,"mb-2"],["type","text","readonly","",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"float-right","d-flex","flex-column","justify-content-end","col-md-4"],[1,"col-md-12"],["for","formGroupExampleInput2"],[1,"form-control"],[1,"form-group","mt-3","col-md-12"],[1,"mt-2","col-md-12"],["id","producttable",1,"table","table-bordered","table-hover","table-responsive","width-auto"],[1,"bg-warning","text-white","width-auto"],[1,"form-group","float-right","mt-5","d-flex","flex-column","align-items-end","justify-content-end","col-md-12"],[1,"col-md-6","table-bordered"],["scope","3"],[1,"mt-2"],["data-toggle","modal","data-target","#displaydata",1,"btn","btn-warning","text-white",2,"background","#000","border","none",3,"click"],[1,"fa","fa-info-circle"],[3,"routerLink"],["data-toggle","modal","data-target","#updateModal",1,"btn","btn-warning","btn-sm","text-white",2,"border-radius","10px","margin-left","3px"],[1,"fa","fa-edit"],[1,"btn","btn-danger","btn-sm","text-white",2,"border-radius","10px",3,"click"],[1,"fa","fa-trash-alt"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2," \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 "),a.qZA(),a.TgZ(3,"ol",2)(4,"li",3)(5,"a",4),a._uU(6,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629/"),a.qZA()(),a.TgZ(7,"li",5)(8,"a",6),a._uU(9,"\u062a\u0642\u0627\u0631\u064a\u0631 \u0645\u0628\u064a\u0639\u0627\u062a"),a.qZA()()()(),a.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"h6",11),a._uU(15,"\u062a\u0642\u0627\u0631\u064a\u0631 \u0641\u0648\u0627\u062a\u064a\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),a.qZA()(),a.TgZ(16,"div",12)(17,"table",13)(18,"thead",14)(19,"tr")(20,"th"),a._uU(21,"\u0645 "),a.qZA(),a.TgZ(22,"th"),a._uU(23,"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),a.qZA(),a.TgZ(24,"th"),a._uU(25," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),a.qZA(),a.TgZ(26,"th"),a._uU(27," \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646 "),a.qZA(),a.TgZ(28,"th"),a._uU(29,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),a.qZA(),a.TgZ(30,"th"),a._uU(31," \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),a.qZA(),a.TgZ(32,"th"),a._uU(33,"\u0627\u0644\u0639\u0645\u0644\u064a\u0627\u062a"),a.qZA()()(),a.TgZ(34,"tbody"),a.YNc(35,QU,20,6,"tr",15),a.qZA()()()()()(),a.TgZ(36,"div",16)(37,"div",17)(38,"div",18)(39,"div",19)(40,"h5",20),a._uU(41," \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),a.qZA(),a.TgZ(42,"button",21)(43,"span",22),a._uU(44,"\xd7"),a.qZA()()(),a.TgZ(45,"div",23)(46,"form")(47,"div",7)(48,"div",24)(49,"div",25)(50,"div",26)(51,"label",27),a._uU(52," \u0627\u0644\u062a\u0627\u0631\u064a\u062e :"),a.qZA(),a._uU(53),a.qZA(),a.TgZ(54,"div",28)(55,"label",29),a._uU(56," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),a.qZA(),a.TgZ(57,"input",30),a.NdJ("ngModelChange",function(l){return o.selectedItem.BillNumber=l}),a.qZA()()(),a.TgZ(58,"div",31)(59,"div",32)(60,"div",26)(61,"label",33),a._uU(62,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644"),a.qZA(),a.TgZ(63,"label",34),a._uU(64),a.qZA()()(),a.TgZ(65,"div",35)(66,"label",27),a._uU(67," \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646"),a.qZA(),a.TgZ(68,"label",34),a._uU(69),a.qZA()(),a.TgZ(70,"div",35)(71,"label",27),a._uU(72," \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646"),a.qZA(),a.TgZ(73,"label",34),a._uU(74),a.qZA()()()(),a._UZ(75,"div",36),a.TgZ(76,"table",37)(77,"thead",38)(78,"tr")(79,"th"),a._uU(80,"\u0645 "),a.qZA(),a.TgZ(81,"th"),a._uU(82,"\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(83,"th"),a._uU(84,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(85,"th"),a._uU(86,"\u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639 "),a.qZA(),a.TgZ(87,"th"),a._uU(88,"\u0627\u0644\u0643\u0645\u064a\u0629"),a.qZA(),a.TgZ(89,"th"),a._uU(90,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0633\u0639\u0631"),a.qZA()()(),a.TgZ(91,"tbody"),a.YNc(92,JU,13,6,"tr",15),a.qZA()(),a.TgZ(93,"div",39)(94,"table",40)(95,"tr")(96,"th",41),a._uU(97,"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a"),a.qZA(),a.TgZ(98,"td"),a._uU(99),a.qZA()(),a.TgZ(100,"tr",42)(101,"th",41),a._uU(102,"\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645 "),a.qZA(),a.TgZ(103,"td"),a._uU(104),a.qZA()(),a.TgZ(105,"tr",42)(106,"th",41),a._uU(107," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645"),a.qZA(),a.TgZ(108,"td"),a._uU(109),a.qZA()()()()()()()()()()),2&t&&(a.xp6(17),a.Q6J("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),a.xp6(18),a.Q6J("ngForOf",o.GetAllBuyProduct),a.xp6(18),a.hij(" ",o.selectedItem.date," "),a.xp6(4),a.Q6J("ngModel",o.selectedItem.BillNumber)("disabled",!0),a.xp6(7),a.Oqu(o.selectedItem.Clientname),a.xp6(5),a.Oqu(o.selectedItem.phone),a.xp6(5),a.Oqu(o.selectedItem.address),a.xp6(18),a.Q6J("ngForOf",o.selectedItem.SaleProduct),a.xp6(7),a.hij(" ",o.selectedItem.FullTotal," "),a.xp6(5),a.hij(" ",o.selectedItem.discount," "),a.xp6(5),a.hij(" ",o.selectedItem.discounttotal," "))},dependencies:[Jt,p,ko,Qs,wa,u,fg,No,xT]}),e})();function eB(e,i){1&e&&(a.TgZ(0,"span",34),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0646\u062a\u062c "),a.qZA())}function tB(e,i){if(1&e&&(a.TgZ(0,"span",34),a._uU(1),a.qZA()),2&e){const t=a.oxw().$implicit;a.xp6(1),a.hij("\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0648\u0641\u0631 ",t.value.Totalmount,"")}}function nB(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"tr",49)(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._UZ(4,"input",50),a.qZA(),a.TgZ(5,"td"),a._UZ(6,"input",51),a.qZA(),a.TgZ(7,"td"),a._UZ(8,"input",52),a.qZA(),a.TgZ(9,"td"),a._UZ(10,"input",53),a.YNc(11,tB,2,1,"span",54),a.qZA(),a.TgZ(12,"td"),a._UZ(13,"input",55),a.qZA(),a.TgZ(14,"td")(15,"button",56),a.NdJ("click",function(){const l=a.CHM(t).index,h=a.oxw(2);return a.KtG(h.deleteRow(l))}),a._UZ(16,"i",57),a.qZA()()()}if(2&e){const t=i.$implicit,o=i.index,s=a.oxw(2);a.Q6J("formGroupName",o),a.xp6(2),a.hij(" ",o+1," "),a.xp6(9),a.Q6J("ngIf",t.value.mount>t.value.Totalmount),a.xp6(2),a.Q6J("ngModel",s.Total(t.value.saleprice,t.value.mount))}}function rB(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div",35)(1,"table",36)(2,"thead",37)(3,"tr")(4,"th"),a._uU(5,"\u0645 "),a.qZA(),a.TgZ(6,"th"),a._uU(7,"\u0627\u0644\u0628\u0627\u0631\u0643\u0648\u062f \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(8,"th"),a._uU(9,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c"),a.qZA(),a.TgZ(10,"th"),a._uU(11,"\u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639 "),a.qZA(),a.TgZ(12,"th"),a._uU(13,"\u0627\u0644\u0643\u0645\u064a\u0629"),a.qZA(),a.TgZ(14,"th"),a._uU(15,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0633\u0639\u0631"),a.qZA(),a.TgZ(16,"th"),a._uU(17,"\u062d\u0630\u0641"),a.qZA()()(),a.TgZ(18,"tbody"),a.YNc(19,nB,17,4,"tr",38),a.qZA()(),a.TgZ(20,"div",39)(21,"button",32),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.findsum(s.SaleProductControls))}),a._uU(22," \u0627\u0636\u0627\u0641\u0629 "),a.qZA()(),a.TgZ(23,"div")(24,"div",40)(25,"table",41)(26,"tr")(27,"th",42),a._uU(28,"\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a"),a.qZA(),a.TgZ(29,"td"),a._UZ(30,"input",43),a.qZA()(),a.TgZ(31,"tr",44)(32,"th",42),a._uU(33,"\u0642\u064a\u0645\u0629 \u0627\u0644\u062e\u0635\u0645 "),a.qZA(),a.TgZ(34,"td")(35,"input",45),a.NdJ("ngModelChange",function(s){a.CHM(t);const l=a.oxw();return a.KtG(l.discount=s)}),a.qZA()()(),a.TgZ(36,"tr",44)(37,"th",42),a._uU(38," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645"),a.qZA(),a.TgZ(39,"td"),a._UZ(40,"input",46),a.qZA()()()(),a.TgZ(41,"div",39)(42,"button",47),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.AddBuyProduct())}),a._uU(43,"\u0627\u0636\u0627\u0641\u0629"),a.qZA(),a.TgZ(44,"button",48),a._uU(45,"\u0627\u0644\u063a\u0627\u0621"),a.qZA()()()()}if(2&e){const t=a.oxw();a.xp6(19),a.Q6J("ngForOf",t.SaleProduct.controls),a.xp6(11),a.Q6J("ngModel",t.fullTotal),a.xp6(5),a.Q6J("ngModel",t.discount),a.xp6(5),a.Q6J("ngModel",t.totalafterDiscount(t.discount)),a.xp6(2),a.Q6J("disabled",!t.UpdateSaleForm.valid)}}let iB=(()=>{class e{constructor(t,o,s,l,h,v,w){this.productS=t,this.FB=o,this.config=s,this._router=l,this.Toastr=h,this.router=v,this.auth=w,this.GetProduct=new Y6,this.addBuyProduct=new Y6,this.GetAllBuyProduct=[],this.TotalPrice=0,this.fullTotal=0,this.mounts=[],this.selectedfulldata=[],this.today=new Date,this.submitted=!1,this.discount=0,this.click=!1,this.getAllProduct(),this.config.notFoundText="\u0644\u0627\u064a\u0648\u062c\u062f ",this.config.appendTo="body",this.config.bindValue="value"}ngOnInit(){}ngAfterContentInit(){this.id=this.router.snapshot.params.id,this.productS.getSaleProductById(this.id).subscribe(t=>{this.GetProduct=t,this.today=this.GetProduct.date,console.log(this.GetProduct),this.UpdateSaleForm=this.FB.group({date:[this.GetProduct.date,jt.required],Clientname:[this.GetProduct.Clientname,jt.required],phone:[this.GetProduct.phone],address:[this.GetProduct.address],BillNumber:[this.GetProduct.BillNumber,jt.required],selectvalue:[this.GetProduct.selectvalue,jt.required],FullTotal:[this.GetProduct.FullTotal,jt.required],discount:[this.GetProduct.discount,jt.required],discountTotal:[this.GetProduct.discountTotal,jt.required],SaleProduct:this.FB.array([],jt.required)}),this.getBuyproductvalue(),this.selectedvalue=this.UpdateSaleForm.controls.selectvalue.value,console.log(this.GetProduct.BuyProduct)})}getBuyproductvalue(){const t=this.UpdateSaleForm.get("SaleProduct");this.GetProduct.SaleProduct.map(o=>{t.push(this.FB.group({productcode:new mn(o.productcode,jt.required),productname:new mn(o.productname,jt.required),saleprice:new mn(o.saleprice,jt.required),Totalmount:new mn(o.Totalmount,jt.required),mount:new mn(o.mount,jt.required),Total:new mn(o.Total,jt.required)}))})}get store(){return this.UpdateSaleForm.get("store")}get SaleProduct(){return this.UpdateSaleForm.get("SaleProduct")}getProduct(){}get SaleProductControls(){return this.UpdateSaleForm.get("SaleProduct").controls}getBillNumber(){return this.UpdateSaleForm.controls.BillNumber.value}addBuyproduct(){}Total(t,o){return this.TotalPrice=t*o}totalafterDiscount(t){return this.fullTotal-t}deleteRow(t){this.SaleProduct.removeAt(t)}getAllProduct(){return new Promise(t=>{this.productS.getProductByMail(this.auth.userData.email).subscribe(o=>{t(o),console.log(o),this.product=o})})}selecteproduct(){var t=this;return ps(function*(){return t.selectedvalue=t.UpdateSaleForm.controls.selectvalue.value,t.selectedProduct=yield t.productS.getoneProduct(t.selectedvalue),console.log(t.selectedProduct),t.selectedProduct.forEach(o=>{if(void 0===t.SaleProduct.controls.find(l=>l.get("productname")?.value===o.productname))return t.SaleProduct.push(t.FB.group({productcode:new mn(o.productcode,jt.required),productname:new mn(o.productname,jt.required),saleprice:new mn(o.saleprice,jt.required),Totalmount:new mn(o.mount),mount:new mn,Total:new mn}));t.Toastr.error("\u062a\u0645 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0646 \u0642\u0628\u0644")}),console.log(t.SaleProduct.value),console.log(t.selectedProduct),t.SaleProduct})()}findsum(t){this.fullTotal=0,this.value=t,console.log(this.value);for(let o=0;o<t.length;o++)this.fullTotal+=this.value[o].get("Total").value,console.log(this.fullTotal);return this.click=!0,this.fullTotal}inputChanged(t){console.log(t.target.getAttribute("formControlName"))}AddBuyProduct(){var t=this;this.addBuyProduct.phone=this.UpdateSaleForm.controls.phone.value,this.addBuyProduct.address=this.UpdateSaleForm.controls.address.value,this.addBuyProduct.Clientname=this.UpdateSaleForm.controls.Clientname.value,this.addBuyProduct=this.UpdateSaleForm.value,this.addBuyProduct.FullTotal=this.UpdateSaleForm.controls.FullTotal.value,this.addBuyProduct.discount=this.UpdateSaleForm.controls.discount.value,this.addBuyProduct.discountTotal=this.UpdateSaleForm.controls.discountTotal.value,this.addBuyProduct.date=this.today.toLocaleString(),this.addBuyProduct.BillNumber=this.getBillNumber(),this.addBuyProduct.SaleProduct=this.UpdateSaleForm.controls.SaleProduct.value,console.log(this.addBuyProduct),this.productS.UpdateSaleProduct(this.id,this.addBuyProduct).then(()=>{console.log("created Buy Product"),this.addBuyProduct.SaleProduct?.forEach(function(){var s=ps(function*(l){t.productS.getProductname(l.productname).subscribe(h=>{h.forEach(v=>{t.newProduct=v.data(),console.log(t.newProduct);const w={mount:Number(t.newProduct.mount)+Number(l.mount),price:l.price,SaleMount:Number(t.newProduct.SaleMount)+Number(l.mount)};console.log(v.id),t.productS.update(v.id,w).then(()=>{console.log("updatesuccessful")}).catch(D=>console.log(D))})})});return function(l){return s.apply(this,arguments)}}()),this.submitted=!0,this.Toastr.success("\u062a\u0645 \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d"),this._router.navigateByUrl("home/SaleReport",{skipLocationChange:!0}).then(()=>{this._router.navigate(["SaleReport"])})})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Hl),a.Y36(_c),a.Y36(dw),a.Y36(_r),a.Y36(Tp),a.Y36(as),a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-update-sale-bill"]],decls:57,vars:16,consts:[[1,"d-sm-flex","align-items-center","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","./"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"d-flex","flex-row","justify-content-between","fulldata","p-2"],[1,"col-md-4"],[1,"form-group"],["for","formGroupExampleInput"],[1,"form-group","mt-4"],["for","formGroupExampleInput2",1,"mb-2"],["type","text","formControlName","BillNumber","readonly","",1,"form-control",3,"disabled","ngModel"],[1,"float-right","d-flex","flex-column","justify-content-end","col-md-4"],[1,"col-md-12","form-group","mt-3"],["for","formGroupExampleInput2"],["type","text","formControlName","Clientname",1,"form-control"],[1,"form-group","mt-3","col-md-12"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","address",1,"form-control"],[1,"mt-2","col-md-12"],[1,"col-md-8"],["bindLabel","productname","bindValue","productname","formControlName","selectvalue","placeholder","\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0646\u062a\u062c \u0627\u0644\u0630\u064a \u062a\u0631\u064a\u062f \u0627\u0636\u0627\u0641\u062a\u0647 \u0627\u0644\u064a \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629",1,"mt-4",3,"items","searchable","required"],["class","text-danger",4,"ngIf"],[1,"mt-4","col-md-4"],[1,"btn","btn-success",3,"click"],["class"," p-3","class","table-header",4,"ngIf"],[1,"text-danger"],[1,"table-header"],["id","producttable","formArrayName","SaleProduct",1,"table","table-bordered","table-hover","table-responsive","width-auto"],[1,"table-head","width-auto"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-group","float-right","mt-5","d-flex","flex-row","justify-content-end","col-md-12"],[1,"form-group","float-right","mt-5","d-flex","flex-column","align-items-end","justify-content-end","col-md-12"],[1,"col-md-6","table-bordered"],["scope","3"],["formControlName","FullTotal",1,"form-control",3,"ngModel"],[1,"mt-2"],["formControlName","discount",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","discountTotal",1,"form-control",3,"ngModel"],["type","submit",1,"btn","btn-success","m-2",3,"disabled","click"],[1,"btn","btn-danger","m-2"],[3,"formGroupName"],["formControlName","productcode","readonly","",1,"border-0","bg-white"],["formControlName","productname","readonly","",1,"border-0","bg-white"],["formControlName","saleprice","readonly","",1,"border-0","bg-white"],["formControlName","mount",1,"form-control"],["class"," text-danger",4,"ngIf"],["formControlName","Total","readonly","",1,"border-0","bg-white",3,"ngModel"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash-alt"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2,"\u062f\u0627\u0634 \u0628\u0648\u0631\u062f"),a.qZA(),a.TgZ(3,"ol",2)(4,"li",3)(5,"a",4),a._uU(6,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629/"),a.qZA()(),a._UZ(7,"li",5),a.qZA()(),a.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),a._uU(12," \u0627\u0646\u0634\u0627\u0621 \u0641\u0627\u062a\u0648\u0631\u0629 \u0645\u0634\u062a\u0631\u064a\u0627\u062a"),a.qZA()(),a.TgZ(13,"div",10)(14,"div")(15,"form",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"label",16),a._uU(21," \u0627\u0644\u062a\u0627\u0631\u064a\u062e :"),a.qZA(),a._uU(22),a.ALo(23,"date"),a.qZA(),a.TgZ(24,"div",15)(25,"label",16),a._uU(26," \u0627\u0644\u0648\u0642\u062a :"),a.qZA(),a._uU(27),a.ALo(28,"date"),a.qZA(),a.TgZ(29,"div",17)(30,"label",18),a._uU(31," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),a.qZA(),a._UZ(32,"input",19),a.qZA()(),a.TgZ(33,"div",20)(34,"div",21)(35,"div",15)(36,"label",22),a._uU(37,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644"),a.qZA(),a._UZ(38,"input",23),a.qZA()(),a.TgZ(39,"div",24)(40,"div",15)(41,"label",16),a._uU(42," \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646 "),a.qZA(),a._UZ(43,"input",25),a.qZA()(),a.TgZ(44,"div",24)(45,"div",15)(46,"label",16),a._uU(47," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),a.qZA(),a._UZ(48,"input",26),a.qZA()()()(),a.TgZ(49,"div",27)(50,"div",28),a._UZ(51,"ng-select",29),a.YNc(52,eB,2,0,"span",30),a.qZA(),a.TgZ(53,"div",31)(54,"button",32),a.NdJ("click",function(){return o.selecteproduct()}),a._uU(55,"\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u064a \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629"),a.qZA()()(),a.YNc(56,rB,46,5,"div",33),a.qZA()()()()()()),2&t&&(a.xp6(15),a.Q6J("formGroup",o.UpdateSaleForm),a.xp6(7),a.hij(" ",a.xi3(23,10,o.today,"dd/MM/yyyy ")," "),a.xp6(5),a.hij(" ",a.xi3(28,13,o.today,"HH:mm:ss")," "),a.xp6(5),a.Q6J("disabled",!0)("ngModel",o.getBillNumber()),a.xp6(19),a.Q6J("items",o.product)("searchable",!0)("required",!0),a.xp6(1),a.Q6J("ngIf",!o.UpdateSaleForm.controls.selectvalue.valid&&o.UpdateSaleForm.controls.selectvalue.touched),a.xp6(4),a.Q6J("ngIf",null!=o.selectedvalue))},dependencies:[Jt,Sn,p,ko,Qs,wa,$a,lT,Js,Ku,pg,nf,_s]}),e})();function oB(e,i){1&e&&(a.TgZ(0,"div",23),a._uU(1," \u0627\u062f\u062e\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a "),a.qZA())}function sB(e,i){1&e&&(a.TgZ(0,"div",23),a._uU(1," \u0627\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0646 \u0641\u0636\u0644\u0643 "),a.qZA())}let aB=(()=>{class e{constructor(t,o){this.FB=t,this.authSer=o}ngOnInit(){this.LoginForm=this.FB.group({email:[null,jt.required],password:[null,jt.required]})}login(){this.email=this.LoginForm.controls.email.value,this.password=this.LoginForm.controls.password.value,this.authSer.SignIn(this.email,this.password)}loginwithgoogle(){this.authSer.SigninWithGoogle()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(_c),a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-login"]],decls:35,vars:3,consts:[[1,"card-body","mt-5","col-md-12","col-xs-12","justify-content-center","d-flex"],[1,"col-md-6","col-xs-12","form-design",3,"formGroup"],[1,"logindesign","col-md-4","col-xs-12"],[1,"design-details"],[1,"col-md-8","col-xs-12","addForm"],[1,"row"],[1,"text-center"],[1,"col-md-12"],[1,"form-group","mt-3"],["for","formGroupExampleInput",1,"mb-2"],["type","email","placeholder"," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a ","formControlName","email",1,"form-control"],["class","text-danger\n                            ",4,"ngIf"],["type","password","placeholder","  \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 ","formControlName","password",1,"form-control"],["class","text-danger",4,"ngIf"],["routerLink","/forgetpassword",1,"mt-3",2,"text-decoration","none","float","left"],[1,"form-group","float-right","mt-5","mb-5","d-flex","flex-row","justify-content-end","col-md-12"],["type","submit",1,"btn","btn-warning","text-white","m-2",3,"click"],[1,"form-group","mt-5","d-flex","flex-row","col-md-12"],["type","submit",1,"btn","text-white","m-2",2,"background","#0dcaf0","width","100%"],["routerLink","/register",2,"text-decoration","none","color","white"],[1,"form-group","mt-2","d-flex","flex-row","col-md-12"],["type","submit",1,"btn","text-white","m-2",2,"background","linear-gradient(47deg, #b14100, #ffc107)","width","100%",3,"click"],[1,"fab","fa-google"],[1,"text-danger"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"form",1)(2,"div",2),a._UZ(3,"div",3),a.qZA(),a.TgZ(4,"div",4)(5,"div",5)(6,"h4",6),a._uU(7,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "),a.qZA(),a.TgZ(8,"div",7)(9,"div",8)(10,"label",9),a._uU(11," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a "),a.qZA(),a._UZ(12,"input",10),a.qZA(),a.YNc(13,oB,2,0,"div",11),a.qZA(),a.TgZ(14,"div",7)(15,"div",8)(16,"label",9),a._uU(17," \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 "),a.qZA(),a._UZ(18,"input",12),a.qZA(),a.YNc(19,sB,2,0,"div",13),a.qZA(),a.TgZ(20,"div")(21,"a",14),a._uU(22," \u0647\u0644 \u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u061f"),a.qZA()(),a.TgZ(23,"div",15)(24,"button",16),a.NdJ("click",function(){return o.login()}),a._uU(25,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"),a.qZA()(),a._UZ(26,"hr"),a.TgZ(27,"div",17)(28,"button",18)(29,"a",19),a._uU(30," \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628"),a.qZA()()(),a.TgZ(31,"div",20)(32,"button",21),a.NdJ("click",function(){return o.loginwithgoogle()}),a._uU(33," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0648\u0627\u0633\u0637\u0629 \u062c\u0648\u062c\u0644 "),a._UZ(34,"i",22),a.qZA()()()()()()),2&t&&(a.xp6(1),a.Q6J("formGroup",o.LoginForm),a.xp6(12),a.Q6J("ngIf",o.LoginForm.controls.email.touched&&!o.LoginForm.controls.email.valid),a.xp6(6),a.Q6J("ngIf",o.LoginForm.controls.password.touched&&!o.LoginForm.controls.password.valid))},dependencies:[Sn,p,ko,Qs,wa,No,Js,Ku],styles:[".logindesign[_ngcontent-%COMP%]{background:rgb(34,193,195);background:linear-gradient(162deg,#0d6efd 0%,#0dcaf0 100%);font-family:cursive;border-top-right-radius:20px;border-bottom-right-radius:20px}.design-details[_ngcontent-%COMP%]{margin-top:60%}.addForm[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px px}@media (max-width:785px){.logindesign[_ngcontent-%COMP%]{display:none}}@media (min-width:785px){.form-design[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}}"]}),e})();class uB{}class lB{constructor(i){this.createdAt=new Date,this.file=i}}function cB(e,i){1&e&&(a.TgZ(0,"span",27),a._uU(1," \u0645\u0646 \u0642\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),a.qZA())}function dB(e,i){1&e&&(a.TgZ(0,"span",27),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),a.qZA())}function fB(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"ngx-dropzone-image-preview",28),a.NdJ("removed",function(){const l=a.CHM(t).$implicit,h=a.oxw();return a.KtG(h.onRemove(l))}),a.TgZ(1,"ngx-dropzone-label"),a._uU(2),a.qZA()()}if(2&e){const t=i.$implicit;a.Q6J("file",t)("removable",!0),a.xp6(2),a.AsE("",t.name," (",t.type,")")}}const hB=function(e){return{width:e}};function pB(e,i){if(1&e&&(a.TgZ(0,"div",29)(1,"div",30),a._uU(2),a.qZA()()),2&e){const t=a.oxw();a.xp6(1),a.Q6J("ngStyle",a.VKq(3,hB,t.percentage+"%")),a.uIk("aria-valuenow",t.percentage),a.xp6(1),a.hij(" ",t.percentage,"% ")}}function gB(e,i){1&e&&(a.TgZ(0,"span",27),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),a.qZA())}function mB(e,i){1&e&&(a.TgZ(0,"span",27),a._uU(1," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),a.qZA())}function vB(e,i){1&e&&(a.TgZ(0,"span",27),a._uU(1," \u0643\u0644\u0645\u062a\u064a\u0646 \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0645\u062a\u0635\u0627\u0628\u0642\u064a\u0646 "),a.qZA())}let yB=(()=>{class e{constructor(t,o,s,l,h,v){this.FB=t,this.AuthSer=o,this.router=s,this.ProductSer=l,this.storage=h,this.dbupload=v,this.User=new uB,this.base2Path="/loginphoto"}ngOnInit(){this.RegisterForm=this.FB.group({displayName:["",jt.required],email:["",[jt.required,jt.email]],password:["",jt.required],confpassword:["",jt.required],photoURL:[""]})}register(){this.User.displayName=this.RegisterForm.controls.displayName.value,this.User.email=this.RegisterForm.controls.email.value,this.User.password=this.RegisterForm.controls.password.value;let t=this.RegisterForm.controls.confpassword.value;console.log("image"+this.currentFileUpload?.url),this.User=this.RegisterForm.value,this.User.photoURL=this.currentFileUpload.url,console.log(this.User.photoURL),t==this.User.password?this.AuthSer.SignUp(this.User.email,this.User.password,this.User.displayName,this.User.photoURL):console.log("error")}pushphotoToStorage(t){const o=`${this.base2Path}/${t.file.name}`,s=this.storage.ref(o),l=this.storage.upload(o,t.file);return l.snapshotChanges().pipe(Vc(()=>{s.getDownloadURL().subscribe(h=>{t.url=h,console.log(t.url),t.name=t.file.name,this.dbupload.list(this.base2Path).push(t)})})).subscribe(),l.percentageChanges()}selectFile(t){this.files=[],this.files.push(...t.addedFiles)}onRemove(t){console.log(t),this.files.splice(this.files.indexOf(t),1)}upload(){for(const t of this.files)t&&(this.currentFileUpload=new lB(t),this.pushphotoToStorage(this.currentFileUpload).subscribe(o=>{this.percentage=Math.round(o||0)},o=>{console.log(o)}),console.log(this.currentFileUpload.url))}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(_c),a.Y36(ia),a.Y36(_r),a.Y36(Hl),a.Y36(oT),a.Y36(zA))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-register"]],decls:55,vars:14,consts:[[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-body","mt-5","col-md-12","justify-content-center","d-flex"],[1,"col-md-6","d-flex","flex-row","justify-content-center","form-design",3,"formGroup"],[1,"logindesign","col-md-4"],[1,"design-details"],[1,"text-white","text-center","m-auto"],[1,"col-md-8","addForm"],[1,"row"],[1,"text-center",2,"color","#0dcaf0"],[1,"col-md-12"],[1,"form-group","mt-3"],["for","formGroupExampleInput",1,"mb-2"],["type","text","placeholder","\u0627\u0633\u0645  \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","formControlName","displayName",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","placeholder"," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a ","formControlName","email",1,"form-control",3,"required"],["ngx-dropzone","",1,"custom-dropzone",3,"accept","multiple","change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm","uploadbtn",3,"disabled","hidden","click"],["class","progress mt-2",4,"ngIf"],["type","password","placeholder","  \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631  ","formControlName","password",1,"form-control"],["type","password\n                                ","placeholder","  \u062a\u0627\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 ","formControlName","confpassword",1,"form-control"],[1,"form-group","float-right","mt-5","mb-5","d-flex","flex-row","justify-content-end","col-md-12"],["type","submit",1,"btn","btn-warning","text-white","m-2",3,"disabled","click"],[1,"form-group","mt-5","d-flex","flex-row","col-md-12"],["type","submit",1,"btn","text-white","m-2",2,"background","#0dcaf0","width","100%",3,"click"],["routerLink","/login",1,"text-white",2,"text-decoration","none"],[1,"text-danger"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",3,"ngStyle"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",5),a._UZ(6,"div",6),a.qZA()(),a.TgZ(7,"div",7)(8,"div",8)(9,"h4",9),a._uU(10," \u0623\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628"),a.qZA(),a.TgZ(11,"div",10)(12,"div",11)(13,"label",12),a._uU(14," \u0627\u0644\u0627\u0633\u0645 "),a.qZA(),a._UZ(15,"input",13),a.qZA(),a.YNc(16,cB,2,0,"span",14),a.qZA(),a.TgZ(17,"div",10)(18,"div",11)(19,"label",12),a._uU(20," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a "),a.qZA(),a._UZ(21,"input",15),a.qZA(),a.YNc(22,dB,2,0,"span",14),a.qZA(),a.TgZ(23,"div",10)(24,"div",11)(25,"label",12),a._uU(26," \u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0634\u062e\u0635\u064a\u0629 "),a.qZA(),a.TgZ(27,"ngx-dropzone",16),a.NdJ("change",function(l){return o.selectFile(l)}),a.TgZ(28,"ngx-dropzone-label"),a._uU(29,"\u0627\u0633\u062d\u0628 \u0627\u0644\u0635\u0648\u0631\u0629"),a.qZA(),a.YNc(30,fB,3,4,"ngx-dropzone-image-preview",17),a.qZA(),a.TgZ(31,"button",18),a.NdJ("click",function(){return o.upload()}),a._uU(32," \u062a\u062d\u0645\u064a\u0644 "),a.qZA(),a.YNc(33,pB,3,5,"div",19),a.qZA()(),a.TgZ(34,"div",10)(35,"div",11)(36,"label",12),a._uU(37," \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 "),a.qZA(),a._UZ(38,"input",20),a.qZA(),a.YNc(39,gB,2,0,"span",14),a.qZA(),a.TgZ(40,"div",10)(41,"div",11)(42,"label",12),a._uU(43," \u062a\u0627\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 "),a.qZA(),a._UZ(44,"input",21),a.qZA(),a.YNc(45,mB,2,0,"span",14),a.YNc(46,vB,2,0,"span",14),a.qZA(),a.TgZ(47,"div",22)(48,"button",23),a.NdJ("click",function(){return o.register()}),a._uU(49,"\u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 "),a.qZA()(),a._UZ(50,"hr"),a.TgZ(51,"div",24)(52,"button",25),a.NdJ("click",function(){return o.register()}),a.TgZ(53,"a",26),a._uU(54," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"),a.qZA()()()()()()()()()),2&t&&(a.xp6(3),a.Q6J("formGroup",o.RegisterForm),a.xp6(13),a.Q6J("ngIf",!o.RegisterForm.controls.displayName.valid&&o.RegisterForm.controls.displayName.touched),a.xp6(5),a.Q6J("required",!0),a.xp6(1),a.Q6J("ngIf",!o.RegisterForm.controls.email.valid&&o.RegisterForm.controls.email.touched),a.xp6(5),a.Q6J("accept","image/*")("multiple",!1),a.xp6(3),a.Q6J("ngForOf",o.files),a.xp6(1),a.Q6J("disabled",!o.files)("hidden",!o.files),a.xp6(2),a.Q6J("ngIf",o.currentFileUpload),a.xp6(6),a.Q6J("ngIf",!o.RegisterForm.controls.password.valid&&o.RegisterForm.controls.password.touched),a.xp6(6),a.Q6J("ngIf",!o.RegisterForm.controls.confpassword.valid&&o.RegisterForm.controls.confpassword.touched),a.xp6(1),a.Q6J("ngIf",o.RegisterForm.controls.password.value!=o.RegisterForm.controls.confpassword.value),a.xp6(2),a.Q6J("disabled",o.RegisterForm.invalid))},dependencies:[Jt,Sn,fo,p,ko,Qs,wa,$a,No,Js,Ku,ZM,jM,GM],styles:[".dropzone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;font-weight:200;height:300px;border:2px dashed #f16624;border-radius:5px;background:white;margin:10px 0}.dropzone[_ngcontent-%COMP%]::hovering{border:2px solid #f16624;color:#dadada!important}.file-label[_ngcontent-%COMP%]{font-size:1.2em}progress[_ngcontent-%COMP%]::-webkit-progress-value{-webkit-transition:width .1s ease;transition:width .1s ease}.uploadbtn[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;box-shadow:2px 2px #faf6f6;z-index:100000}.logindesign[_ngcontent-%COMP%]{background:rgb(34,193,195);background:linear-gradient(162deg,#0d6efd 0%,#0dcaf0 100%);font-family:cursive;border-top-right-radius:20px;border-bottom-right-radius:20px}.design-details[_ngcontent-%COMP%]{margin-top:60%}.addForm[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px px}@media (max-width:600px){.logindesign[_ngcontent-%COMP%]{display:none}}"]}),e})();function _B(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"li",42)(1,"a",43),a._UZ(2,"img",44),a.TgZ(3,"div",45),a._uU(4),a.qZA(),a.TgZ(5,"a",46),a.NdJ("click",function(){a.CHM(t);const s=a.oxw();return a.KtG(s.signout())}),a._UZ(6,"i",47),a._uU(7," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c "),a.qZA()()()}if(2&e){const t=i.ngIf;a.xp6(2),a.s9C("src",t.photoURL,a.LSH),a.xp6(2),a.Oqu(t.displayName)}}let bB=(()=>{class e{constructor(t){this.auth=t}ngOnInit(){}closeMemu(){const t=document.getElementById("accordionSidebar");null===t?console.log("error"):t.style.display="none"}signout(){this.auth.SignOut()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-sidebar"]],decls:73,vars:1,consts:[["id","accordionSidebar",1,"navbar-nav","sidebar","sidebartoggle","sidebar-light","accordion"],[1,"closes","btn","btn-primary",3,"click"],[1,"fa","fa-times"],[1,"sidebar-brand","d-flex","align-items-center","justify-content-center"],[1,"sidebar-brand-icon"],["src","../../assets/Image/online-shopping_3081559 (1).png"],[1,"sidebar-brand-text","mx-3"],[1,"sidebar-divider","my-0"],["class","profile",4,"ngIf"],[1,"nav-item","active"],["routerLink","SubHome",1,"nav-link"],[1,"fab","fa-fw","fa-dashcube"],[1,"sidebar-divider"],[1,"nav-item"],["data-toggle","collapse","data-target","#collapseBootstrap","aria-expanded","true","aria-controls","collapseBootstrap",1,"nav-link","collapsed"],[1,"far","fa-fw","fa-window-maximize"],["id","collapseBootstrap","aria-labelledby","headingBootstrap","data-parent","#accordionSidebar",1,"collapse"],[1,"bg-white","py-2","collapse-inner"],["routerLink","addProduct",1,"collapse-item"],["routerLink","ProductDetails",1,"collapse-item"],["href","#","data-toggle","collapse","data-target","#collapseForm","aria-expanded","true","aria-controls","collapseForm",1,"nav-link"],[1,"fab","fa-buysellads"],["id","collapseForm","aria-labelledby","headingForm","data-parent","#accordionSidebar",1,"collapse"],["routerLink","BuyProduct",1,"collapse-item"],["routerLink","BuyReport",1,"collapse-item"],["href","#","data-toggle","collapse","data-target","#collapseTable","aria-expanded","true","aria-controls","collapseTable",1,"nav-link","collapsed"],[1,"fa","fa-shopping-basket"],["id","collapseTable","aria-labelledby","headingTable","data-parent","#accordionSidebar",1,"collapse"],[1,"bg-white","py-2","collapse-inner","rounded"],["routerLink","SaleBill",1,"collapse-item"],["routerLink","SaleReport",1,"collapse-item"],["href","#","data-toggle","collapse","data-target","#collapsePage","aria-expanded","true","aria-controls","collapsePage",1,"nav-link","collapsed"],[1,"fas","fa-fw","fa-columns"],["id","collapsePage","aria-labelledby","headingPage","data-parent","#accordionSidebar",1,"collapse"],["routerLink","AddStore",1,"collapse-item"],["routerLink","Stores",1,"collapse-item"],["href","#","data-toggle","collapse","data-target","#collapseExpert","aria-expanded","true","aria-controls","collapsePage",1,"nav-link","collapsed"],[1,"fa","fa-users"],["id","collapseExpert","aria-labelledby","headingPage","data-parent","#accordionSidebar",1,"collapse"],["routerLink","AddExperter",1,"collapse-item"],["routerLink","Experter",1,"collapse-item"],["id","version-ruangadmin",1,"version"],[1,"profile"],["routerLink","userProfile",1,"nav-link"],[1,"img-profile","rounded-circle",2,"max-width","100px",3,"src"],[1,"ml-2","font-weight-bold","mt-2","mb-4"],["role","button","data-toggle","dropdown",1,"mt-4",2,"text-decoration","none",3,"click"],[1,"fa","fa-toggle-off","fa-fw"]],template:function(t,o){1&t&&(a.TgZ(0,"ul",0)(1,"button",1),a.NdJ("click",function(){return o.closeMemu()}),a._UZ(2,"i",2),a.qZA(),a.TgZ(3,"a",3)(4,"div",4),a._UZ(5,"img",5),a.qZA(),a.TgZ(6,"div",6),a._uU(7," \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645"),a.qZA()(),a._UZ(8,"hr",7),a.YNc(9,_B,8,2,"li",8),a.TgZ(10,"li",9)(11,"a",10),a._UZ(12,"i",11),a.TgZ(13,"span"),a._uU(14,"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"),a.qZA()()(),a._UZ(15,"hr",12),a.TgZ(16,"li",13)(17,"a",14),a._UZ(18,"i",15),a.TgZ(19,"span"),a._uU(20," \u0627\u0644\u0627\u0635\u0646\u0627\u0641"),a.qZA()(),a.TgZ(21,"div",16)(22,"div",17)(23,"a",18),a._uU(24,"\u0627\u0636\u0627\u0641\u0629 \u0635\u0646\u0641 "),a.qZA(),a.TgZ(25,"a",19),a._uU(26," \u0639\u0645\u0644\u064a\u0627\u062a \u0627\u0644\u0627\u0635\u0646\u0627\u0641"),a.qZA()()()(),a.TgZ(27,"li",13)(28,"a",20),a._UZ(29,"i",21),a.TgZ(30,"span"),a._uU(31,"\u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a"),a.qZA()(),a.TgZ(32,"div",22)(33,"div",17)(34,"a",23),a._uU(35,"\u0627\u0646\u0634\u0627\u0621 \u0641\u0627\u062a\u0648\u0631\u0629 \u0634\u0631\u0627\u0621"),a.qZA(),a.TgZ(36,"a",24),a._uU(37," \u0639\u0645\u0644\u064a\u0627\u062a \u0641\u0648\u0627\u062a\u064a\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),a.qZA()()()(),a.TgZ(38,"li",13)(39,"a",25),a._UZ(40,"i",26),a.TgZ(41,"span"),a._uU(42,"\u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"),a.qZA()(),a.TgZ(43,"div",27)(44,"div",28)(45,"a",29),a._uU(46," \u0627\u0646\u0634\u0627\u0621 \u0641\u0627\u062a\u0648\u0631\u0629 \u0628\u064a\u0639"),a.qZA(),a.TgZ(47,"a",30),a._uU(48," \u0639\u0645\u0644\u064a\u0627\u062a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"),a.qZA()()()(),a.TgZ(49,"li",13)(50,"a",31),a._UZ(51,"i",32),a.TgZ(52,"span"),a._uU(53,"\u0627\u0644\u0645\u062e\u0627\u0632\u0646 "),a.qZA()(),a.TgZ(54,"div",33)(55,"div",28)(56,"a",34),a._uU(57,"\u0627\u0646\u0634\u0627\u0621 \u0645\u062e\u0632\u0646 \u062c\u062f\u064a\u062f"),a.qZA(),a.TgZ(58,"a",35),a._uU(59," \u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u062e\u0627\u0632\u0646"),a.qZA()()()(),a.TgZ(60,"li",13)(61,"a",36),a._UZ(62,"i",37),a.TgZ(63,"span"),a._uU(64," \u0627 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0648\u0627\u0644\u0645\u0648\u0627\u0631\u062f\u064a\u0646 "),a.qZA()(),a.TgZ(65,"div",38)(66,"div",28)(67,"a",39),a._uU(68," \u0627\u0636\u0627\u0641\u0629 \u0645\u0648\u0631\u062f \u062c\u062f\u064a\u062f"),a.qZA(),a.TgZ(69,"a",40),a._uU(70," \u0639\u0645\u0644\u064a\u0627\u062a \u0627\u0644\u0645\u0648\u0627\u0631\u062f\u064a\u0646 "),a.qZA()()()(),a._UZ(71,"hr",12)(72,"div",41),a.qZA()),2&t&&(a.xp6(9),a.Q6J("ngIf",o.auth.userData))},dependencies:[Sn,No],styles:['.sidebar[_ngcontent-%COMP%]   .nav-item.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after, .topbar[_ngcontent-%COMP%]   .nav-item.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{width:1rem;text-align:center;float:right;vertical-align:0;border:0;font-weight:900;content:"\\f105";font-family:"Font Awesome 5 Free"}.profile[_ngcontent-%COMP%]{text-align:center;margin-top:10%;margin-bottom:10%}.profile[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-family:Cairo,sans-serif;font-family:Readex Pro,sans-serif;font-weight:700}.sidebar[_ngcontent-%COMP%]   .nav-item.dropdown.show[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after, .topbar[_ngcontent-%COMP%]   .nav-item.dropdown.show[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{content:"\\f107"}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .topbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{position:relative;font-family:Cairo,sans-serif;font-family:Readex Pro,sans-serif}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .badge-counter[_ngcontent-%COMP%], .topbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .badge-counter[_ngcontent-%COMP%]{position:absolute;transform:scale(.7);transform-origin:top right;right:.25rem;margin-top:-.25rem;background-color:#6777ef;border-radius:50%}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .img-profile[_ngcontent-%COMP%], .topbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .img-profile[_ngcontent-%COMP%]{height:2rem;width:2rem;border:1px solid #fafafa}.topbar[_ngcontent-%COMP%]{height:4.375rem;z-index:2;box-shadow:0 .15rem 1.75rem #3a3b4526!important}.topbar[_ngcontent-%COMP%]   #sidebarToggleTop[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;box-shadow:0 0!important}.topbar[_ngcontent-%COMP%]   #sidebarToggleTop[_ngcontent-%COMP%]:hover{background-color:#fafafa}.topbar[_ngcontent-%COMP%]   #sidebarToggleTop[_ngcontent-%COMP%]:active{background-color:#dddfeb}.topbar[_ngcontent-%COMP%]   .navbar-search[_ngcontent-%COMP%]{width:25rem}.topbar[_ngcontent-%COMP%]   .navbar-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.85rem;border-radius:20px;border-color:#dcdcdc}.topbar[_ngcontent-%COMP%]   .topbar-divider[_ngcontent-%COMP%]{width:0;border-right:1px solid #e3e6f0;height:2.375rem;margin:auto 1rem}.topbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{height:4.375rem;display:flex;align-items:center;padding:0 .75rem}.topbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{outline:0}.topbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:focus{outline:0}.topbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:static}.topbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:calc(100% - 1.5rem);right:.75rem}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]{padding:0;border:none;overflow:hidden}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{background-color:#3f51b5;border:1px solid #3f51b5;padding-top:.75rem;padding-bottom:.75rem;color:#fff}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding-top:.5rem;padding-bottom:.5rem;border-left:1px solid #e3e6f0;border-right:1px solid #e3e6f0;border-bottom:1px solid #e3e6f0;line-height:1.3rem}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-list-image[_ngcontent-%COMP%]{position:relative;height:2.5rem;width:2.5rem}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-list-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-list-image[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{background-color:#eaecf4;height:.75rem;width:.75rem;border-radius:100%;position:absolute;bottom:0;right:0;border:.125rem solid #fff}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%]{max-width:10rem}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active{background-color:#eaecf4;color:#3a3b45}@media (min-width:576px){.topbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative}.topbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:auto;right:0}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]{width:20rem!important}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%]{max-width:13.375rem}}.topbar.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#5a5c69;transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out}.topbar.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#e0e0e0;transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out}.topbar.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active{color:#858796}.bg-navbar[_ngcontent-%COMP%]{background-color:#f8f9fc}.sidebar[_ngcontent-%COMP%]{min-height:100vh;background-color:#fff!important;box-shadow:0 .15rem 1.75rem #3a3b4526!important;z-index:0}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{position:relative;margin-bottom:-15px}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:last-child{margin-bottom:1rem}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:block;width:100%;text-align:right;padding:1rem;width:14rem}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem;margin-right:.25rem}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;display:inline}.sidebar[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:800}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[data-toggle=collapse][_ngcontent-%COMP%]:after{width:1rem;text-align:center;float:left;vertical-align:0;border:0;font-weight:900;content:"\\f107";font-family:"Font Awesome 5 Free"}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[data-toggle=collapse].collapsed[_ngcontent-%COMP%]:after{content:"\\f104"}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{position:relative;left:0;z-index:1;top:0;animation:none}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]{border-radius:.35rem;box-shadow:0 .15rem 1.75rem #3a3b4526;transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]{display:block;transition:height .3s ease}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]{margin:0 1rem}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]{padding:.5rem 0;min-width:10rem;font-size:.85rem;margin:0 0 1rem}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-header[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-header[_ngcontent-%COMP%]{margin:0;white-space:nowrap;padding:.5rem 1.5rem;text-transform:uppercase;font-weight:800;font-size:.65rem;color:#b7b9cc}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%]{padding:.5rem 1rem;margin:0 .5rem;display:block;color:#3a3b45;text-decoration:none;border-radius:.35rem;white-space:nowrap}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%]:hover{background-color:#eaecf4;transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%]:active, .sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%]:active{background-color:#dddfeb}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item.active[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item.active[_ngcontent-%COMP%]{color:#3a3b45;font-weight:800}.sidebar[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;text-align:center;margin-bottom:1rem;cursor:pointer}.sidebar[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]:after{font-weight:900;content:"\\f104";font-family:"Font Awesome 5 Free";display:block}.sidebar[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]:hover{text-decoration:none}.sidebar[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]:focus{outline:0}.sidebar[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]{height:4.375rem;text-decoration:none;font-size:1rem;font-weight:800;padding:1.5rem 1rem;text-align:center;letter-spacing:.05rem;z-index:1}.sidebar[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   .sidebar-brand-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:2.3rem;border-radius:50%;background:#3f51b5}.sidebar[_ngcontent-%COMP%]   hr.sidebar-divider[_ngcontent-%COMP%]{margin:1rem 0}.sidebar[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]{text-align:left;padding:0 1rem;font-weight:800;font-size:.65rem;letter-spacing:.13rem}.sidebar[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{text-align:left;font-size:.6rem;padding:0 1rem;color:#b7b9cc;letter-spacing:.03rem}.sidebar[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   .sidebar-brand-text[_ngcontent-%COMP%]{display:inline;font-family:Cairo,sans-serif;font-family:Readex Pro,sans-serif}.sidebar.toggled[_ngcontent-%COMP%]{overflow:visible;width:6.5rem!important;transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out;z-index:1}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:0}.sidebar.toggled[_ngcontent-%COMP%]   hr.sidebar-divider[_ngcontent-%COMP%]{margin:0 0 1rem}.sidebar.toggled[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]:after{content:"\\f105";font-family:"Font Awesome 5 Free";margin-left:.25rem}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{position:absolute;left:7.25rem;top:2px;animation-name:growIn;animation-duration:.2s;animation-timing-function:transform cubic-bezier(.18,1.25,.4,1),opacity cubic-bezier(0,1,.4,1)}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%], .sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]{margin:0}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]{box-shadow:0 .15rem 1.75rem #3a3b4526;border-radius:.35rem}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]{display:none;transition:none}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:last-child{margin-bottom:1rem}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{text-align:center;padding:.75rem 1rem;width:6.5rem}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:transparent!important}.sidebar.toggled[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%], .sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:left;text-align:center;font-size:1rem;margin:0 0 .7rem 1rem}.sidebar.toggled[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   .sidebar-brand-text[_ngcontent-%COMP%]{display:none}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[data-toggle=collapse][_ngcontent-%COMP%]:after{width:1rem;text-align:center;float:right;vertical-align:0;border:0;font-weight:900;content:"\\f107";font-family:"Font Awesome 5 Free"}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[data-toggle=collapse].collapsed[_ngcontent-%COMP%]:after{content:"\\f105"}.login-form[_ngcontent-%COMP%]{padding:3rem!important}@media (max-width:768px){#container-wrapper[_ngcontent-%COMP%]{min-width:100vw}.closes[_ngcontent-%COMP%]{position:absolute;left:0}.sidebar.toggled[_ngcontent-%COMP%]{width:100vw!important;transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:-1rem;position:relative;margin-bottom:-15px}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:block;width:100%;text-align:left;padding:1rem}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem;margin-top:.4rem;margin-right:.5rem}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;display:inline}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:700}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[data-toggle=collapse][_ngcontent-%COMP%]:after{width:1rem;text-align:center;float:right;vertical-align:0;border:0;font-weight:900;content:"\\f107";font-family:"Font Awesome 5 Free"}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[data-toggle=collapse].collapsed[_ngcontent-%COMP%]:after{content:"\\f105"}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{position:relative;padding-right:1rem;right:0;z-index:1;top:0;transition:height .15s ease}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]{border-radius:.35rem;box-shadow:0 .15rem 1.75rem #3a3b4526}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%], .sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]{margin:0 1rem}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%], .sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]{padding:.5rem 0;min-width:10rem;font-size:.85rem;margin:0 0 1rem}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-header[_ngcontent-%COMP%], .sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-header[_ngcontent-%COMP%]{margin:0;white-space:nowrap;padding:.5rem 1.5rem;text-transform:uppercase;font-weight:800;font-size:.65rem;color:#b7b9cc}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%], .sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%]{padding:.5rem 1rem;margin:0 .5rem;display:block;color:#3a3b45;text-decoration:none;border-radius:.35rem;white-space:nowrap}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%]:hover, .sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%]:hover{background-color:#eaecf4;transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%]:active, .sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item[_ngcontent-%COMP%]:active{background-color:#dddfeb}.sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item.active[_ngcontent-%COMP%], .sidebar.toggled[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapsing[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   .collapse-item.active[_ngcontent-%COMP%]{color:#3f51b5;font-weight:800}.sidebar.toggled[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]{height:4.375rem;text-decoration:none;font-size:1rem;font-weight:800;padding:1.5rem 1rem;text-align:center;letter-spacing:.05rem;z-index:1}.sidebar.toggled[_ngcontent-%COMP%]   hr.sidebar-divider[_ngcontent-%COMP%]{margin:1rem 0}.sidebar.toggled[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]{display:block;text-align:left;padding:0 1rem;font-weight:800;font-size:.65rem;letter-spacing:.13rem}.sidebar.toggled[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   .sidebar-brand-text[_ngcontent-%COMP%]{display:inline}.sidebar[_ngcontent-%COMP%]{position:fixed;z-index:1000;transition:all .3s ease;-webkit-transition:all .3s ease}.sidebartoggle[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   .sidebar-brand-text[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   .sidebar-brand-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{overflow:hidden}.sidebar[_ngcontent-%COMP%]   hr.sidebar-divider[_ngcontent-%COMP%]{margin:1rem 0}.topbar[_ngcontent-%COMP%]   .navbar-search[_ngcontent-%COMP%]{width:100%}.login-form[_ngcontent-%COMP%]{padding:3rem 2rem!important}}.breadcrumb[_ngcontent-%COMP%]{background-color:transparent;font-size:12px;font-weight:700}.sidebar-light[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]{color:#4e63d7}.sidebar-light[_ngcontent-%COMP%]   hr.sidebar-divider[_ngcontent-%COMP%]{border-top:1px solid #eaecf4}.sidebar-light[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]{color:#b7b9cc}.sidebar-light[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#858796;font-family:Cairo,sans-serif;font-family:Readex Pro,sans-serif}.sidebar-light[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9e9e9e}.sidebar-light[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active, .sidebar-light[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .sidebar-light[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#6e707e;background-color:#eee}.sidebar-light[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active   i[_ngcontent-%COMP%], .sidebar-light[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus   i[_ngcontent-%COMP%], .sidebar-light[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#6e707e}.sidebar-light[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[data-toggle=collapse][_ngcontent-%COMP%]:after{color:#b7b9cc}.sidebar-light[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .sidebar-light[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6777ef}.sidebar-light[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]{background-color:#eaecf4}.sidebar-light[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]:after{color:#b7b9cc}.sidebar-light[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]:hover{background-color:#dddfeb}.sidebar-dark[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]{color:#fff}.sidebar-dark[_ngcontent-%COMP%]   hr.sidebar-divider[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.15)}.sidebar-dark[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]{color:#fff6}.sidebar-dark[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fffc}.sidebar-dark[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d1d3e2}.sidebar-dark[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active, .sidebar-dark[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus, .sidebar-dark[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-dark[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active   i[_ngcontent-%COMP%], .sidebar-dark[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus   i[_ngcontent-%COMP%], .sidebar-dark[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.sidebar-dark[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[data-toggle=collapse][_ngcontent-%COMP%]:after{color:#ffffff80}.sidebar-dark[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .sidebar-dark[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.sidebar-dark[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]{background-color:#fff3}.sidebar-dark[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]:after{color:#ffffff80}.sidebar-dark[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]:hover{background-color:#ffffff40}.sidebar-dark.toggled[_ngcontent-%COMP%]   #sidebarToggle[_ngcontent-%COMP%]:after{color:#ffffff80}@media (min-width:768px){.closes[_ngcontent-%COMP%]{display:none}}']}),e})(),wB=(()=>{class e{constructor(t){this.auth=t}ngOnInit(){}sigout(){this.auth.SignOut()}openMenu(){const t=document.getElementById("accordionSidebar");null===t?console.log("error"):t.style.display="block"}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-nav-bar"]],decls:11,vars:0,consts:[[1,"navbar","navbar-expand","navbar-light","bg-navbar","topbar","mb-4","static-top"],[1,"navbar-nav","mr-auto","menu"],[1,"nav-item","no-arrow"],[1,"sidebar-toggle",3,"click"],[1,"fa","fa-bars","fa-fw"],[1,"navbar-nav","mr-auto"],[1,"nav-item","dropdown","no-arrow","my-2","my-lg-0"],["aria-labelledby","messagesDropdown",1,"dropdown-list","dropdown-menu","dropdown-menu-right","shadow","animated--grow-in"],[1,"btn","btn-none",3,"click"]],template:function(t,o){1&t&&(a.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"button",3),a.NdJ("click",function(){return o.openMenu()}),a._UZ(4,"i",4),a.qZA()()(),a.TgZ(5,"ul",5)(6,"li",6)(7,"div",7)(8,"a")(9,"button",8),a.NdJ("click",function(){return o.sigout()}),a._uU(10," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c "),a.qZA()()()()()())},styles:[".topbar[_ngcontent-%COMP%]{height:3.375rem;display:flex;flex-direction:row;justify-content:space-between;z-index:2;box-shadow:0 .15rem 1.75rem #3a3b4526!important;width:100%}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:static}.sidebar-toggle[_ngcontent-%COMP%]{background:#0dcaf0;color:#fff;border-radius:5px;border:1px solid white}@media (min-width:785px){.menu[_ngcontent-%COMP%]{display:none}}"]}),e})(),CB=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-home"]],decls:7,vars:0,consts:[["id","wrapper"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],["id","container-wrapper",1,"container-fluid"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"app-sidebar"),a.TgZ(2,"div",1)(3,"div",2),a._UZ(4,"app-nav-bar"),a.TgZ(5,"div",3),a._UZ(6,"router-outlet"),a.qZA()()()())},dependencies:[Zh,bB,wB]}),e})();function TB(e,i){if(1&e&&(a.TgZ(0,"div",13)(1,"p",14),a._uU(2,"\u062a\u0645 \u0627\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 \u0644\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u0628\u0631\u064a\u062f \u0629\u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),a.TgZ(3,"strong"),a._uU(4),a.qZA(),a._uU(5,". "),a.qZA(),a.TgZ(6,"p",14),a._uU(7," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u0643\u062f \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),a.qZA()()),2&e){const t=i.ngIf;a.xp6(4),a.Oqu(t.email)}}let EB=(()=>{class e{constructor(t){this.auth=t}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-verify-enail-address"]],decls:21,vars:1,consts:[[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"d-flex","flex-column","justify-content-center","col-md-7","addForm"],[1,"row"],[1,"col-md-12"],["class","formGroup",4,"ngIf"],[1,"form-group","float-right","mt-5","d-flex","flex-row","justify-content-end","col-md-12"],["type","submit",1,"btn","btn-success","m-2",3,"click"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"],[1,"formGroup"],[1,"text-center"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6",3),a._uU(4," \u062a\u0627\u0643\u064a\u062f \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),a.qZA()(),a.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h3"),a._uU(10," \u0634\u0643\u0631\u0627 \u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "),a.qZA(),a.YNc(11,TB,8,1,"div",8),a._UZ(12,"div",7),a.qZA()(),a.TgZ(13,"div",9)(14,"button",10),a.NdJ("click",function(){return o.auth.SendVerificationMail()}),a._uU(15,"\u062a\u0627\u0643\u064a\u062f "),a.qZA()(),a.TgZ(16,"div",11)(17,"span"),a._uU(18,"Go back to?"),a.TgZ(19,"span",12),a._uU(20," Sign in"),a.qZA()()()()()()()),2&t&&(a.xp6(11),a.Q6J("ngIf",o.auth.userData))},dependencies:[Sn,rh]}),e})(),AB=(()=>{class e{constructor(t,o){this.authService=t,this.router=o}canActivate(t,o){return!0!==this.authService.isLoggedIn&&this.router.navigate(["login"]),!0}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(ia),a.LFG(_r))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function DB(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"div",7)(1,"div",8)(2,"div",9),a._UZ(3,"img",10),a.qZA()(),a.TgZ(4,"div",8)(5,"div",9)(6,"label",11),a._uU(7,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),a.qZA(),a.TgZ(8,"input",12),a.NdJ("ngModelChange",function(s){const h=a.CHM(t).ngIf;return a.KtG(h.displayName=s)}),a.qZA()()(),a.TgZ(9,"div",11)(10,"div",9)(11,"label"),a._uU(12," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),a.qZA(),a.TgZ(13,"input",12),a.NdJ("ngModelChange",function(s){const h=a.CHM(t).ngIf;return a.KtG(h.email=s)}),a.qZA()()(),a.TgZ(14,"div",11)(15,"div",9)(16,"label"),a._uU(17," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),a.qZA(),a.TgZ(18,"input",13),a.NdJ("ngModelChange",function(s){const h=a.CHM(t).ngIf;return a.KtG(h.password=s)}),a.qZA()()()()}if(2&e){const t=i.ngIf;a.xp6(3),a.s9C("src",t.photoURL,a.LSH),a.xp6(5),a.Q6J("ngModel",t.displayName),a.xp6(5),a.Q6J("ngModel",t.email),a.xp6(5),a.Q6J("ngModel",t.password)}}let SB=(()=>{class e{constructor(t){this.auth=t}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(ia))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-user-profile"]],decls:8,vars:1,consts:[[1,"col-xl-12","col-lg-12"],[1,"card","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"d-flex","flex-column","justify-content-center","col-md-5","addForm"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"form-group","mt-3"],[1,"img-responsive","userimage",3,"src"],[1,"mb-2"],["readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","password ","readonly","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6",3),a._uU(4," \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a"),a.qZA()(),a.TgZ(5,"div",4)(6,"div",5),a.YNc(7,DB,19,4,"div",6),a.qZA()()()()),2&t&&(a.xp6(7),a.Q6J("ngIf",o.auth.userData))},dependencies:[Sn,ko,Qs,u],styles:[".userimage[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:20%;margin:auto;display:table}"]}),e})(),IB=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-sub-home"]],decls:111,vars:0,consts:[[1,"row","mb-3"],[1,"col-xl-3","col-md-6","mb-4"],[1,"card","subhome","bg-success"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-auto"],[1,"fa","fa-ad","fa-2x","text-white"],[1,"col","mr-2"],[1,"h8","mb-0","font-weight-bold","text-gray-800"],["routerLink","../BuyProduct"],[1,"btn","btn-none","text-white"],[1,"card","subhome","bg-info"],[1,"fa","fa-info-circle","fa-2x","text-white"],["routerLink","../BuyReport"],[1,"card","subhome","bg-danger"],[1,"fa","fa-money-bill","fa-2x","text-white"],["routerLink","../SaleReport"],[1,"card","subhome","bg-warning"],[1,"card","h-100","subhome","bg-primary"],[1,"fa","fa-store","fa-2x","text-white"],["routerLink","../AddStore"],["routerLink","../Stores"],[1,"fa","fa-address-book","fa-2x","text-white"],["routerLink","../AddExperter"],["routerLink","../Experter"],[1,"card","subhome"],["routerLink","../addProduct"],[1,"btn","btn-warning","text-white"],[1,"card","subhome","bg-primary"],["routerLink","../ProductDetails"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),a._UZ(6,"i",6),a.qZA(),a.TgZ(7,"div",7)(8,"div",8)(9,"a",9)(10,"button",10),a._uU(11," \u0627\u0646\u0634\u0627\u0621 \u0641\u0627\u062a\u0648\u0631\u0629 \u0634\u0631\u0627\u0621 "),a.qZA()()()()()()()(),a.TgZ(12,"div",1)(13,"div",11)(14,"div",3)(15,"div",4)(16,"div",5),a._UZ(17,"i",12),a.qZA(),a.TgZ(18,"div",7)(19,"div",8)(20,"a",13)(21,"button",10),a._uU(22," \u0639\u0645\u0644\u064a\u0627\u062a \u0641\u0648\u0627\u062a\u064a\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),a.qZA()()()()()()()(),a.TgZ(23,"div",1)(24,"div",14)(25,"div",3)(26,"div",4)(27,"div",5),a._UZ(28,"i",15),a.qZA(),a.TgZ(29,"div",7)(30,"div",8)(31,"a",16)(32,"button",10),a._uU(33," \u0627\u0646\u0634\u0627\u0621 \u0641\u0627\u062a\u0648\u0631\u0629 \u0628\u064a\u0639 "),a.qZA()()()()()()()(),a.TgZ(34,"div",1)(35,"div",17)(36,"div",3)(37,"div",4)(38,"div",5),a._UZ(39,"i",12),a.qZA(),a.TgZ(40,"div",7)(41,"div",8)(42,"a",16)(43,"button",10),a._uU(44," \u0639\u0645\u0644\u064a\u0627\u062a \u0641\u0648\u0627\u062a\u064a\u0631 \u0627\u0644\u0628\u064a\u0639 "),a.qZA()()()()()()()(),a.TgZ(45,"div",1)(46,"div",18)(47,"div",3)(48,"div",4)(49,"div",5),a._UZ(50,"i",19),a.qZA(),a.TgZ(51,"div",7)(52,"div",8)(53,"a",20)(54,"button",10),a._uU(55," \u0627\u0646\u0634\u0627\u0621 \u0645\u062e\u0632\u0646 "),a.qZA()()()()()()()(),a.TgZ(56,"div",1)(57,"div",2)(58,"div",3)(59,"div",4)(60,"div",5),a._UZ(61,"i",12),a.qZA(),a.TgZ(62,"div",7)(63,"div",8)(64,"a",21)(65,"button",10),a._uU(66," \u062a\u0642\u0631\u064a\u0631 \u0645\u062e\u0627\u0632\u0646 "),a.qZA()()()()()()()(),a.TgZ(67,"div",1)(68,"div",17)(69,"div",3)(70,"div",4)(71,"div",5),a._UZ(72,"i",22),a.qZA(),a.TgZ(73,"div",7)(74,"div",8)(75,"a",23)(76,"button",10),a._uU(77," \u0627\u0646\u0634\u0627\u0621 \u0645\u0648\u0631\u062f "),a.qZA()()()()()()()(),a.TgZ(78,"div",1)(79,"div",14)(80,"div",3)(81,"div",4)(82,"div",5),a._UZ(83,"i",12),a.qZA(),a.TgZ(84,"div",7)(85,"div",8)(86,"a",24)(87,"button",10),a._uU(88," \u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0648\u0627\u0631\u062f\u064a\u0646 "),a.qZA()()()()()()()(),a.TgZ(89,"div",1)(90,"div",25)(91,"div",3)(92,"div",4)(93,"div",5),a._UZ(94,"i",6),a.qZA(),a.TgZ(95,"div",7)(96,"div",8)(97,"a",26)(98,"button",27),a._uU(99," \u0627\u0636\u0627\u0641\u0629 \u0635\u0646\u0641 \u062c\u062f\u064a\u062f "),a.qZA()()()()()()()(),a.TgZ(100,"div",1)(101,"div",28)(102,"div",3)(103,"div",4)(104,"div",5),a._UZ(105,"i",12),a.qZA(),a.TgZ(106,"div",7)(107,"div",8)(108,"a",29)(109,"button",10),a._uU(110," \u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0627\u0635\u0646\u0627\u0641 "),a.qZA()()()()()()()()())},dependencies:[No],styles:[".card[_ngcontent-%COMP%]:nth-child(1){background-color:#ffc107;color:#fff;border-radius:30px 0;font-weight:700}.card[_ngcontent-%COMP%]:nth-child(2){background-color:#8fd40f;color:#fff;border-radius:30px 0;font-weight:700}"]}),e})();function xB(e,i){1&e&&(a.TgZ(0,"div",17),a._uU(1," \u0627\u062f\u062e\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a "),a.qZA())}const PB=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"register",component:yB},{path:"login",component:aB},{path:"VerifyEmail",component:EB},{path:"forgetpassword",component:(()=>{class e{constructor(t,o){this.auth=t,this.FB=o}ngOnInit(){this.Form=this.FB.group({email:[null,jt.required]})}foregetpassword(){this.email=this.Form.controls.email.value,this.auth.ForgotPassword(this.email)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(ia),a.Y36(_c))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-forgetpassword"]],decls:22,vars:2,consts:[[1,"card-body","mt-5","col-md-12","col-xs-12","justify-content-center","d-flex"],[1,"col-md-6","col-xs-12","form-design",3,"formGroup"],[1,"logindesign","col-md-4","col-xs-12"],[1,"design-details"],[1,"col-md-8","col-xs-12","addForm"],[1,"row"],[1,"text-center"],[1,"col-md-12"],[1,"form-group","mt-3"],["for","formGroupExampleInput",1,"mb-2"],["type","email","placeholder"," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a ","formControlName","email",1,"form-control"],["class","text-danger\n                            ",4,"ngIf"],[1,"form-group","float-right","mt-5","mb-5","d-flex","flex-row","justify-content-end","col-md-12"],["type","submit",1,"btn","btn-warning","text-white","m-2",3,"click"],[1,"form-group","mt-5","d-flex","flex-row","col-md-12"],["type","submit",1,"btn","text-white","m-2",2,"background","#0dcaf0","width","100%"],["routerLink","/login",2,"text-decoration","none","color","white"],[1,"text-danger"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0)(1,"form",1)(2,"div",2),a._UZ(3,"div",3),a.qZA(),a.TgZ(4,"div",4)(5,"div",5)(6,"h4",6),a._uU(7,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "),a.qZA(),a.TgZ(8,"div",7)(9,"div",8)(10,"label",9),a._uU(11," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a "),a.qZA(),a._UZ(12,"input",10),a.qZA(),a.YNc(13,xB,2,0,"div",11),a.qZA(),a.TgZ(14,"div",12)(15,"button",13),a.NdJ("click",function(){return o.foregetpassword()}),a._uU(16," \u0627\u0631\u0633\u0627\u0644 "),a.qZA()(),a._UZ(17,"hr"),a.TgZ(18,"div",14)(19,"button",15)(20,"a",16),a._uU(21," \u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644"),a.qZA()()()()()()()),2&t&&(a.xp6(1),a.Q6J("formGroup",o.Form),a.xp6(12),a.Q6J("ngIf",o.Form.controls.email.touched&&!o.Form.controls.email.valid))},dependencies:[Sn,p,ko,Qs,wa,No,Js,Ku]}),e})()},{path:"home",component:CB,canActivate:[AB],children:[{path:"SubHome",component:IB},{path:"addProduct",component:SL},{path:"ProductDetails",component:nU},{path:"BuyProduct",component:cU},{path:"AddStore",component:pU},{path:"AddExperter",component:wU},{path:"BuyReport",component:EU},{path:"updateBuyProduct/:id",component:PU},{path:"UpdateSaleBill/:id",component:iB},{path:"Stores",component:NU},{path:"StoresDetail/:id",component:LU},{path:"Experter",component:VU},{path:"ExportDetail/:id",component:ZU},{path:"SaleBill",component:KU},{path:"SaleReport",component:XU},{path:"userProfile",component:SB}]}];let MB=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[Cy.forRoot(PB),Cy]}),e})(),OB=(()=>{class e{constructor(){this.title="OriginalShop"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,o){1&t&&a._UZ(0,"router-outlet")},dependencies:[Zh],styles:['html[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{position:relative;min-height:100%;font-family:Cairo,sans-serif;font-family:Readex Pro,sans-serif}body[_ngcontent-%COMP%]{height:100%}a[_ngcontent-%COMP%]:focus{outline:0}#wrapper[_ngcontent-%COMP%]{display:flex}#wrapper[_ngcontent-%COMP%]   #content-wrapper[_ngcontent-%COMP%]{background-color:#fafdfb;width:100%;overflow-x:hidden}#wrapper[_ngcontent-%COMP%]   #content-wrapper[_ngcontent-%COMP%]   #content[_ngcontent-%COMP%]{flex:1 0 auto}.container[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%], .container-login[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}.scroll-to-top[_ngcontent-%COMP%]{position:fixed;right:1rem;bottom:1rem;display:none;width:2.75rem;height:2.75rem;text-align:center;color:#fff;background:rgba(90,92,105,.5);line-height:46px;transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out}.scroll-to-top[_ngcontent-%COMP%]:focus, .scroll-to-top[_ngcontent-%COMP%]:hover{color:#fff;transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out}.scroll-to-top[_ngcontent-%COMP%]:hover{background:#5a5c69;transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out}.scroll-to-top[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-weight:800}@keyframes growIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.nav-item.active[_ngcontent-%COMP%]{background-color:#e3e6f0;border-radius:20px}.animated--grow-in[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{animation-name:growIn;animation-duration:.2s;animation-timing-function:transform cubic-bezier(.18,1.25,.4,1),opacity cubic-bezier(0,1,.4,1)}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.animated--fade-in[_ngcontent-%COMP%]{animation-name:fadeIn;animation-duration:.2s;animation-timing-function:opacity cubic-bezier(0,1,.4,1)}.bg-gradient-primary[_ngcontent-%COMP%]{background-color:#6777ef;background-image:linear-gradient(180deg,#6777ef 10%,#303f9f 100%);background-size:cover}.bg-gradient-secondary[_ngcontent-%COMP%]{background-color:#757575;background-image:linear-gradient(180deg,#757575 10%,#60616f 100%);background-size:cover}.bg-gradient-success[_ngcontent-%COMP%]{background-color:#66bb6a;background-image:linear-gradient(180deg,#66bb6a 10%,#13855c 100%);background-size:cover}.bg-gradient-info[_ngcontent-%COMP%]{background-color:#3abaf4;background-image:linear-gradient(180deg,#3abaf4 10%,#258391 100%);background-size:cover}.bg-gradient-warning[_ngcontent-%COMP%]{background-color:#ffa426;background-image:linear-gradient(180deg,#f6c23e 10%,#ffa426 100%);background-size:cover}.bg-gradient-danger[_ngcontent-%COMP%]{background-color:#fc544b;background-image:linear-gradient(180deg,#fc544b 10%,#be2617 100%);background-size:cover}.bg-gradient-light[_ngcontent-%COMP%]{background-color:#e3eaef;background-image:linear-gradient(180deg,#e3eaef 10%,#c2cbe5 100%);background-size:cover}.bg-gradient-dark[_ngcontent-%COMP%]{background-color:#212121;background-image:linear-gradient(180deg,#212121 10%,#373840 100%);background-size:cover}.bg-gradient-default[_ngcontent-%COMP%]{background:linear-gradient(87deg,#172b4d 0,#1a174d 100%)!important}.bg-gradient-login[_ngcontent-%COMP%]{background-color:#f8f9fc;background-size:cover}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f8f9fc!important}.bg-gray-200[_ngcontent-%COMP%]{background-color:#eaecf4!important}.bg-gray-300[_ngcontent-%COMP%]{background-color:#dddfeb!important}.bg-gray-400[_ngcontent-%COMP%]{background-color:#d1d3e2!important}.bg-gray-500[_ngcontent-%COMP%]{background-color:#b7b9cc!important}.bg-gray-600[_ngcontent-%COMP%]{background-color:#858796!important}.bg-gray-700[_ngcontent-%COMP%]{background-color:#6e707e!important}.bg-gray-800[_ngcontent-%COMP%]{background-color:#5a5c69!important}.bg-gray-900[_ngcontent-%COMP%]{background-color:#3a3b45!important}.o-hidden[_ngcontent-%COMP%]{overflow:hidden!important}.text-xs[_ngcontent-%COMP%]{font-size:.5rem}.text-lg[_ngcontent-%COMP%]{font-size:1.2rem}.text-gray-100[_ngcontent-%COMP%]{color:#f8f9fc!important}.text-gray-200[_ngcontent-%COMP%]{color:#eaecf4!important}.text-gray-300[_ngcontent-%COMP%]{color:#dddfeb!important}.text-gray-400[_ngcontent-%COMP%]{color:#d1d3e2!important}.text-gray-500[_ngcontent-%COMP%]{color:#b7b9cc!important}.text-gray-600[_ngcontent-%COMP%]{color:#858796!important}.text-gray-700[_ngcontent-%COMP%]{color:#6e707e!important}.text-gray-800[_ngcontent-%COMP%]{color:#5a5c69!important}.text-gray-900[_ngcontent-%COMP%]{color:#3a3b45!important}.icon-circle[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border-radius:100%;display:flex;align-items:center;justify-content:center}.border-left-primary[_ngcontent-%COMP%]{border-left:.25rem solid #3f51b5!important}.border-bottom-primary[_ngcontent-%COMP%]{border-bottom:.25rem solid #3f51b5!important}.border-left-secondary[_ngcontent-%COMP%]{border-left:.25rem solid #757575!important}.border-bottom-secondary[_ngcontent-%COMP%]{border-bottom:.25rem solid #757575!important}.border-left-success[_ngcontent-%COMP%]{border-left:.25rem solid #66bb6a!important}.border-bottom-success[_ngcontent-%COMP%]{border-bottom:.25rem solid #66bb6a!important}.border-left-info[_ngcontent-%COMP%]{border-left:.25rem solid #4dd0e1!important}.border-bottom-info[_ngcontent-%COMP%]{border-bottom:.25rem solid #4dd0e1!important}.border-left-warning[_ngcontent-%COMP%]{border-left:.25rem solid #ffeb3b!important}.border-bottom-warning[_ngcontent-%COMP%]{border-bottom:.25rem solid #ffeb3b!important}.border-left-danger[_ngcontent-%COMP%]{border-left:.25rem solid #ef5350!important}.border-bottom-danger[_ngcontent-%COMP%]{border-bottom:.25rem solid #ef5350!important}.border-left-light[_ngcontent-%COMP%]{border-left:.25rem solid #f8f9fc!important}.border-bottom-light[_ngcontent-%COMP%]{border-bottom:.25rem solid #f8f9fc!important}.border-left-dark[_ngcontent-%COMP%]{border-left:.25rem solid #5a5c69!important}.border-bottom-dark[_ngcontent-%COMP%]{border-bottom:.25rem solid #5a5c69!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}.rotate-15[_ngcontent-%COMP%]{transform:rotate(15deg)}.rotate-n-15[_ngcontent-%COMP%]{transform:rotate(-15deg)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{font-size:.85rem;box-shadow:0 .15rem 1.75rem #3a3b4526!important}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{font-weight:800;font-size:.65rem;color:#b7b9cc}.dropdown.no-arrow[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{line-height:1.5}.card[_ngcontent-%COMP%]   .card-header[data-toggle=collapse][_ngcontent-%COMP%]{text-decoration:none;position:relative;padding:.75rem 3.25rem .75rem 1.25rem}.card[_ngcontent-%COMP%]   .card-header[data-toggle=collapse][_ngcontent-%COMP%]:after{position:absolute;right:0;top:0;padding-right:1.725rem;line-height:51px;font-weight:900;content:"\\f107";font-family:"Font Awesome 5 Free"}']}),e})();const NB={apiKey:"AIzaSyC4Pvl4JLKHgEDdK-iA_CxM_wVVQw28XRQ",authDomain:"e-commerce-56d61.firebaseapp.com",databaseURL:"https://e-commerce-56d61-default-rtdb.firebaseio.com",projectId:"e-commerce-56d61",storageBucket:"e-commerce-56d61.appspot.com",messagingSenderId:"78674212438",appId:"1:78674212438:web:9409d9853b274378662df7",measurementId:"G-76TXKZ7KLP"};function zO(e){return new a.vHH(3e3,!1)}function p5(){return typeof window<"u"&&typeof window.document<"u"}function K6(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Gv(e){switch(e.length){case 0:return new dT;case 1:return e[0];default:return new kM(e)}}function WO(e,i,t,o,s=new Map,l=new Map){const h=[],v=[];let w=-1,D=null;if(o.forEach(M=>{const k=M.get("offset"),H=k==w,J=H&&D||new Map;M.forEach((X,ue)=>{let ve=ue,Ne=X;if("offset"!==ue)switch(ve=i.normalizePropertyName(ve,h),Ne){case"!":Ne=s.get(ue);break;case Vg:Ne=l.get(ue);break;default:Ne=i.normalizeStyleValue(ue,ve,Ne,h)}J.set(ve,Ne)}),H||v.push(J),D=J,w=k}),h.length)throw function n5(e){return new a.vHH(3502,!1)}();return v}function Q6(e,i,t,o){switch(i){case"start":e.onStart(()=>o(t&&J6(t,"start",e)));break;case"done":e.onDone(()=>o(t&&J6(t,"done",e)));break;case"destroy":e.onDestroy(()=>o(t&&J6(t,"destroy",e)))}}function J6(e,i,t){const l=X6(e.element,e.triggerName,e.fromState,e.toState,i||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),h=e._data;return null!=h&&(l._data=h),l}function X6(e,i,t,o,s="",l=0,h){return{element:e,triggerName:i,fromState:t,toState:o,phaseName:s,totalTime:l,disabled:!!h}}function pd(e,i,t){let o=e.get(i);return o||e.set(i,o=t),o}function YO(e){const i=e.indexOf(":");return[e.substring(1,i),e.slice(i+1)]}let e2=(e,i)=>!1,KO=(e,i,t)=>[],QO=null;function t2(e){const i=e.parentNode||e.host;return i===QO?null:i}(K6()||typeof Element<"u")&&(p5()?(QO=(()=>document.documentElement)(),e2=(e,i)=>{for(;i;){if(i===e)return!0;i=t2(i)}return!1}):e2=(e,i)=>e.contains(i),KO=(e,i,t)=>{if(t)return Array.from(e.querySelectorAll(i));const o=e.querySelector(i);return o?[o]:[]});let i_=null,JO=!1;const XO=e2,eN=KO;let tN=(()=>{class e{validateStyleProperty(t){return function m5(e){i_||(i_=function v5(){return typeof document<"u"?document.body:null}()||{},JO=!!i_.style&&"WebkitAppearance"in i_.style);let i=!0;return i_.style&&!function g5(e){return"ebkit"==e.substring(1,6)}(e)&&(i=e in i_.style,!i&&JO&&(i="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in i_.style)),i}(t)}matchesElement(t,o){return!1}containsElement(t,o){return XO(t,o)}getParentElement(t){return t2(t)}query(t,o,s){return eN(t,o,s)}computeStyle(t,o,s){return s||""}animate(t,o,s,l,h,v=[],w){return new dT(s,l)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})(),n2=(()=>{class e{}return e.NOOP=new tN,e})();const r2="ng-enter",MD="ng-leave",OD="ng-trigger",ND=".ng-trigger",rN="ng-animating",i2=".ng-animating";function Hg(e){if("number"==typeof e)return e;const i=e.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:o2(parseFloat(i[1]),i[2])}function o2(e,i){return"s"===i?1e3*e:e}function kD(e,i,t){return e.hasOwnProperty("duration")?e:function b5(e,i,t){let s,l=0,h="";if("string"==typeof e){const v=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return i.push(zO()),{duration:0,delay:0,easing:""};s=o2(parseFloat(v[1]),v[2]);const w=v[3];null!=w&&(l=o2(parseFloat(w),v[4]));const D=v[5];D&&(h=D)}else s=e;if(!t){let v=!1,w=i.length;s<0&&(i.push(function kB(){return new a.vHH(3100,!1)}()),v=!0),l<0&&(i.push(function RB(){return new a.vHH(3101,!1)}()),v=!0),v&&i.splice(w,0,zO())}return{duration:s,delay:l,easing:h}}(e,i,t)}function PT(e,i={}){return Object.keys(e).forEach(t=>{i[t]=e[t]}),i}function iN(e){const i=new Map;return Object.keys(e).forEach(t=>{i.set(t,e[t])}),i}function $v(e,i=new Map,t){if(t)for(let[o,s]of t)i.set(o,s);for(let[o,s]of e)i.set(o,s);return i}function sN(e,i,t){return t?i+":"+t+";":""}function aN(e){let i="";for(let t=0;t<e.style.length;t++){const o=e.style.item(t);i+=sN(0,o,e.style.getPropertyValue(o))}for(const t in e.style)e.style.hasOwnProperty(t)&&!t.startsWith("_")&&(i+=sN(0,E5(t),e.style[t]));e.setAttribute("style",i)}function Dp(e,i,t){e.style&&(i.forEach((o,s)=>{const l=a2(s);t&&!t.has(s)&&t.set(s,e.style[l]),e.style[l]=o}),K6()&&aN(e))}function o_(e,i){e.style&&(i.forEach((t,o)=>{const s=a2(o);e.style[s]=""}),K6()&&aN(e))}function MT(e){return Array.isArray(e)?1==e.length?e[0]:MM(e):e}const s2=new RegExp("{{\\s*(.+?)\\s*}}","g");function uN(e){let i=[];if("string"==typeof e){let t;for(;t=s2.exec(e);)i.push(t[1]);s2.lastIndex=0}return i}function OT(e,i,t){const o=e.toString(),s=o.replace(s2,(l,h)=>{let v=i[h];return null==v&&(t.push(function LB(e){return new a.vHH(3003,!1)}()),v=""),v.toString()});return s==o?e:s}function RD(e){const i=[];let t=e.next();for(;!t.done;)i.push(t.value),t=e.next();return i}const T5=/-+([a-z0-9])/g;function a2(e){return e.replace(T5,(...i)=>i[1].toUpperCase())}function E5(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gd(e,i,t){switch(i.type){case 7:return e.visitTrigger(i,t);case 0:return e.visitState(i,t);case 1:return e.visitTransition(i,t);case 2:return e.visitSequence(i,t);case 3:return e.visitGroup(i,t);case 4:return e.visitAnimate(i,t);case 5:return e.visitKeyframes(i,t);case 6:return e.visitStyle(i,t);case 8:return e.visitReference(i,t);case 9:return e.visitAnimateChild(i,t);case 10:return e.visitAnimateRef(i,t);case 11:return e.visitQuery(i,t);case 12:return e.visitStagger(i,t);default:throw function UB(e){return new a.vHH(3004,!1)}()}}function lN(e,i){return window.getComputedStyle(e)[i]}function P5(e,i){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(o=>function M5(e,i,t){if(":"==e[0]){const w=function O5(e,i){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return i.push(function JB(e){return new a.vHH(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof w)return void i.push(w);e=w}const o=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(function QB(e){return new a.vHH(3015,!1)}()),i;const s=o[1],l=o[2],h=o[3];i.push(cN(s,h));"<"==l[0]&&!("*"==s&&"*"==h)&&i.push(cN(h,s))}(o,t,i)):t.push(e),t}const BD=new Set(["true","1"]),VD=new Set(["false","0"]);function cN(e,i){const t=BD.has(e)||VD.has(e),o=BD.has(i)||VD.has(i);return(s,l)=>{let h="*"==e||e==s,v="*"==i||i==l;return!h&&t&&"boolean"==typeof s&&(h=s?BD.has(e):VD.has(e)),!v&&o&&"boolean"==typeof l&&(v=l?BD.has(i):VD.has(i)),h&&v}}const N5=new RegExp("s*:selfs*,?","g");function u2(e,i,t,o){return new k5(e).build(i,t,o)}class k5{constructor(i){this._driver=i}build(i,t,o){const s=new L5(t);return this._resetContextStyleTimingState(s),gd(this,MT(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,t){let o=t.queryCount=0,s=t.depCount=0;const l=[],h=[];return"@"==i.name.charAt(0)&&t.errors.push(function VB(){return new a.vHH(3006,!1)}()),i.definitions.forEach(v=>{if(this._resetContextStyleTimingState(t),0==v.type){const w=v,D=w.name;D.toString().split(/\s*,\s*/).forEach(M=>{w.name=M,l.push(this.visitState(w,t))}),w.name=D}else if(1==v.type){const w=this.visitTransition(v,t);o+=w.queryCount,s+=w.depCount,h.push(w)}else t.errors.push(function jB(){return new a.vHH(3007,!1)}())}),{type:7,name:i.name,states:l,transitions:h,queryCount:o,depCount:s,options:null}}visitState(i,t){const o=this.visitStyle(i.styles,t),s=i.options&&i.options.params||null;if(o.containsDynamicStyles){const l=new Set,h=s||{};o.styles.forEach(v=>{v instanceof Map&&v.forEach(w=>{uN(w).forEach(D=>{h.hasOwnProperty(D)||l.add(D)})})}),l.size&&(RD(l.values()),t.errors.push(function HB(e,i){return new a.vHH(3008,!1)}()))}return{type:0,name:i.name,style:o,options:s?{params:s}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const o=gd(this,MT(i.animation),t);return{type:1,matchers:P5(i.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:s_(i.options)}}visitSequence(i,t){return{type:2,steps:i.steps.map(o=>gd(this,o,t)),options:s_(i.options)}}visitGroup(i,t){const o=t.currentTime;let s=0;const l=i.steps.map(h=>{t.currentTime=o;const v=gd(this,h,t);return s=Math.max(s,t.currentTime),v});return t.currentTime=s,{type:3,steps:l,options:s_(i.options)}}visitAnimate(i,t){const o=function B5(e,i){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return l2(kD(e,i).duration,0,"");const t=e;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=l2(0,0,"");return l.dynamic=!0,l.strValue=t,l}const s=kD(t,i);return l2(s.duration,s.delay,s.easing)}(i.timings,t.errors);t.currentAnimateTimings=o;let s,l=i.styles?i.styles:cT({});if(5==l.type)s=this.visitKeyframes(l,t);else{let h=i.styles,v=!1;if(!h){v=!0;const D={};o.easing&&(D.easing=o.easing),h=cT(D)}t.currentTime+=o.duration+o.delay;const w=this.visitStyle(h,t);w.isEmptyStep=v,s=w}return t.currentAnimateTimings=null,{type:4,timings:o,style:s,options:null}}visitStyle(i,t){const o=this._makeStyleAst(i,t);return this._validateStyleAst(o,t),o}_makeStyleAst(i,t){const o=[],s=Array.isArray(i.styles)?i.styles:[i.styles];for(let v of s)"string"==typeof v?v===Vg?o.push(v):t.errors.push(new a.vHH(3002,!1)):o.push(iN(v));let l=!1,h=null;return o.forEach(v=>{if(v instanceof Map&&(v.has("easing")&&(h=v.get("easing"),v.delete("easing")),!l))for(let w of v.values())if(w.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:o,easing:h,offset:i.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(i,t){const o=t.currentAnimateTimings;let s=t.currentTime,l=t.currentTime;o&&l>0&&(l-=o.duration+o.delay),i.styles.forEach(h=>{"string"!=typeof h&&h.forEach((v,w)=>{const D=t.collectedStyles.get(t.currentQuerySelector),M=D.get(w);let k=!0;M&&(l!=s&&l>=M.startTime&&s<=M.endTime&&(t.errors.push(function ZB(e,i,t,o,s){return new a.vHH(3010,!1)}()),k=!1),l=M.startTime),k&&D.set(w,{startTime:l,endTime:s}),t.options&&function C5(e,i,t){const o=i.params||{},s=uN(e);s.length&&s.forEach(l=>{o.hasOwnProperty(l)||t.push(function FB(e){return new a.vHH(3001,!1)}())})}(v,t.options,t.errors)})})}visitKeyframes(i,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function GB(){return new a.vHH(3011,!1)}()),o;let l=0;const h=[];let v=!1,w=!1,D=0;const M=i.steps.map(Ne=>{const Ue=this._makeStyleAst(Ne,t);let et=null!=Ue.offset?Ue.offset:function U5(e){if("string"==typeof e)return null;let i=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const o=t;i=parseFloat(o.get("offset")),o.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;i=parseFloat(t.get("offset")),t.delete("offset")}return i}(Ue.styles),_t=0;return null!=et&&(l++,_t=Ue.offset=et),w=w||_t<0||_t>1,v=v||_t<D,D=_t,h.push(_t),Ue});w&&t.errors.push(function $B(){return new a.vHH(3012,!1)}()),v&&t.errors.push(function zB(){return new a.vHH(3200,!1)}());const k=i.steps.length;let H=0;l>0&&l<k?t.errors.push(function WB(){return new a.vHH(3202,!1)}()):0==l&&(H=1/(k-1));const J=k-1,X=t.currentTime,ue=t.currentAnimateTimings,ve=ue.duration;return M.forEach((Ne,Ue)=>{const et=H>0?Ue==J?1:H*Ue:h[Ue],_t=et*ve;t.currentTime=X+ue.delay+_t,ue.duration=_t,this._validateStyleAst(Ne,t),Ne.offset=et,o.styles.push(Ne)}),o}visitReference(i,t){return{type:8,animation:gd(this,MT(i.animation),t),options:s_(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:9,options:s_(i.options)}}visitAnimateRef(i,t){return{type:10,animation:this.visitReference(i.animation,t),options:s_(i.options)}}visitQuery(i,t){const o=t.currentQuerySelector,s=i.options||{};t.queryCount++,t.currentQuery=i;const[l,h]=function R5(e){const i=!!e.split(/\s*,\s*/).find(t=>":self"==t);return i&&(e=e.replace(N5,"")),e=e.replace(/@\*/g,ND).replace(/@\w+/g,t=>ND+"-"+t.slice(1)).replace(/:animating/g,i2),[e,i]}(i.selector);t.currentQuerySelector=o.length?o+" "+l:l,pd(t.collectedStyles,t.currentQuerySelector,new Map);const v=gd(this,MT(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:l,limit:s.limit||0,optional:!!s.optional,includeSelf:h,animation:v,originalSelector:i.selector,options:s_(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function YB(){return new a.vHH(3013,!1)}());const o="full"===i.timings?{duration:0,delay:0,easing:"full"}:kD(i.timings,t.errors,!0);return{type:12,animation:gd(this,MT(i.animation),t),timings:o,options:null}}}class L5{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function s_(e){return e?(e=PT(e)).params&&(e.params=function F5(e){return e?PT(e):null}(e.params)):e={},e}function l2(e,i,t){return{duration:e,delay:i,easing:t}}function c2(e,i,t,o,s,l,h=null,v=!1){return{type:1,element:e,keyframes:i,preStyleProps:t,postStyleProps:o,duration:s,delay:l,totalTime:s+l,easing:h,subTimeline:v}}class jD{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let o=this._map.get(i);o||this._map.set(i,o=[]),o.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const H5=new RegExp(":enter","g"),Z5=new RegExp(":leave","g");function d2(e,i,t,o,s,l=new Map,h=new Map,v,w,D=[]){return(new G5).buildKeyframes(e,i,t,o,s,l,h,v,w,D)}class G5{buildKeyframes(i,t,o,s,l,h,v,w,D,M=[]){D=D||new jD;const k=new f2(i,t,D,s,l,M,[]);k.options=w;const H=w.delay?Hg(w.delay):0;k.currentTimeline.delayNextStep(H),k.currentTimeline.setStyles([h],null,k.errors,w),gd(this,o,k);const J=k.timelines.filter(X=>X.containsAnimation());if(J.length&&v.size){let X;for(let ue=J.length-1;ue>=0;ue--){const ve=J[ue];if(ve.element===t){X=ve;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([v],null,k.errors,w)}return J.length?J.map(X=>X.buildKeyframes()):[c2(t,[],[],[],0,H,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const o=t.subInstructions.get(t.element);if(o){const s=t.createSubContext(i.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(o,s,s.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=i}visitAnimateRef(i,t){const o=t.createSubContext(i.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],t,o),this.visitReference(i.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=i}_applyAnimationRefDelays(i,t,o){for(const s of i){const l=s?.delay;if(l){const h="number"==typeof l?l:Hg(OT(l,s?.params??{},t.errors));o.delayNextStep(h)}}}_visitSubInstructions(i,t,o){let l=t.currentTimeline.currentTime;const h=null!=o.duration?Hg(o.duration):null,v=null!=o.delay?Hg(o.delay):null;return 0!==h&&i.forEach(w=>{const D=t.appendInstructionToTimeline(w,h,v);l=Math.max(l,D.duration+D.delay)}),l}visitReference(i,t){t.updateOptions(i.options,!0),gd(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const o=t.subContextCount;let s=t;const l=i.options;if(l&&(l.params||l.delay)&&(s=t.createSubContext(l),s.transformIntoNewTimeline(),null!=l.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=HD);const h=Hg(l.delay);s.delayNextStep(h)}i.steps.length&&(i.steps.forEach(h=>gd(this,h,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>o&&s.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const o=[];let s=t.currentTimeline.currentTime;const l=i.options&&i.options.delay?Hg(i.options.delay):0;i.steps.forEach(h=>{const v=t.createSubContext(i.options);l&&v.delayNextStep(l),gd(this,h,v),s=Math.max(s,v.currentTimeline.currentTime),o.push(v.currentTimeline)}),o.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(s),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const o=i.strValue;return kD(t.params?OT(o,t.params,t.errors):o,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const o=t.currentAnimateTimings=this._visitTiming(i.timings,t),s=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),s.snapshotCurrentStyles());const l=i.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(o.duration),this.visitStyle(l,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const o=t.currentTimeline,s=t.currentAnimateTimings;!s&&o.hasCurrentStyleProperties()&&o.forwardFrame();const l=s&&s.easing||i.easing;i.isEmptyStep?o.applyEmptyStep(l):o.setStyles(i.styles,l,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const o=t.currentAnimateTimings,s=t.currentTimeline.duration,l=o.duration,v=t.createSubContext().currentTimeline;v.easing=o.easing,i.styles.forEach(w=>{v.forwardTime((w.offset||0)*l),v.setStyles(w.styles,w.easing,t.errors,t.options),v.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(v),t.transformIntoNewTimeline(s+l),t.previousNode=i}visitQuery(i,t){const o=t.currentTimeline.currentTime,s=i.options||{},l=s.delay?Hg(s.delay):0;l&&(6===t.previousNode.type||0==o&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=HD);let h=o;const v=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=v.length;let w=null;v.forEach((D,M)=>{t.currentQueryIndex=M;const k=t.createSubContext(i.options,D);l&&k.delayNextStep(l),D===t.element&&(w=k.currentTimeline),gd(this,i.animation,k),k.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,k.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const o=t.parentContext,s=t.currentTimeline,l=i.timings,h=Math.abs(l.duration),v=h*(t.currentQueryTotal-1);let w=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":w=v-w;break;case"full":w=o.currentStaggerTime}const M=t.currentTimeline;w&&M.delayNextStep(w);const k=M.currentTime;gd(this,i.animation,t),t.previousNode=i,o.currentStaggerTime=s.currentTime-k+(s.startTime-o.currentTimeline.startTime)}}const HD={};class f2{constructor(i,t,o,s,l,h,v,w){this._driver=i,this.element=t,this.subInstructions=o,this._enterClassName=s,this._leaveClassName=l,this.errors=h,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=HD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new qD(this._driver,t,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const o=i;let s=this.options;null!=o.duration&&(s.duration=Hg(o.duration)),null!=o.delay&&(s.delay=Hg(o.delay));const l=o.params;if(l){let h=s.params;h||(h=this.options.params={}),Object.keys(l).forEach(v=>{(!t||!h.hasOwnProperty(v))&&(h[v]=OT(l[v],h,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const o=i.params={};Object.keys(t).forEach(s=>{o[s]=t[s]})}}return i}createSubContext(i=null,t,o){const s=t||this.element,l=new f2(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,o||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(i),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(i){return this.previousNode=HD,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,o){const s={duration:t??i.duration,delay:this.currentTimeline.currentTime+(o??0)+i.delay,easing:""},l=new $5(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,s,i.stretchStartingKeyframe);return this.timelines.push(l),s}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,o,s,l,h){let v=[];if(s&&v.push(this.element),i.length>0){i=(i=i.replace(H5,"."+this._enterClassName)).replace(Z5,"."+this._leaveClassName);let D=this._driver.query(this.element,i,1!=o);0!==o&&(D=o<0?D.slice(D.length+o,D.length):D.slice(0,o)),v.push(...D)}return!l&&0==v.length&&h.push(function KB(e){return new a.vHH(3014,!1)}()),v}}class qD{constructor(i,t,o,s){this._driver=i,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new qD(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles.set(i,t),this._globalTimelineStyles.set(i,t),this._styleSummary.set(i,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[t,o]of this._globalTimelineStyles)this._backFill.set(t,o||Vg),this._currentKeyframe.set(t,Vg);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,o,s){t&&this._previousKeyframe.set("easing",t);const l=s&&s.params||{},h=function z5(e,i){const t=new Map;let o;return e.forEach(s=>{if("*"===s){o=o||i.keys();for(let l of o)t.set(l,Vg)}else $v(s,t)}),t}(i,this._globalTimelineStyles);for(let[v,w]of h){const D=OT(w,l,o);this._pendingStyles.set(v,D),this._localTimelineStyles.has(v)||this._backFill.set(v,this._globalTimelineStyles.get(v)??Vg),this._updateStyle(v,D)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,t)=>{this._currentKeyframe.set(t,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,i)}))}snapshotCurrentStyles(){for(let[i,t]of this._localTimelineStyles)this._pendingStyles.set(i,t),this._updateStyle(i,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((t,o)=>{const s=this._styleSummary.get(o);(!s||t.time>s.time)&&this._updateStyle(o,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((v,w)=>{const D=$v(v,new Map,this._backFill);D.forEach((M,k)=>{"!"===M?i.add(k):M===Vg&&t.add(k)}),o||D.set("offset",w/this.duration),s.push(D)});const l=i.size?RD(i.values()):[],h=t.size?RD(t.values()):[];if(o){const v=s[0],w=new Map(v);v.set("offset",0),w.set("offset",1),s=[v,w]}return c2(this.element,s,l,h,this.duration,this.startTime,this.easing,!1)}}class $5 extends qD{constructor(i,t,o,s,l,h,v=!1){super(i,t,h.delay),this.keyframes=o,this.preStyleProps=s,this.postStyleProps=l,this._stretchStartingKeyframe=v,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:o,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=o+t,v=t/h,w=$v(i[0]);w.set("offset",0),l.push(w);const D=$v(i[0]);D.set("offset",hN(v)),l.push(D);const M=i.length-1;for(let k=1;k<=M;k++){let H=$v(i[k]);const J=H.get("offset");H.set("offset",hN((t+J*o)/h)),l.push(H)}o=h,t=0,s="",i=l}return c2(this.element,i,this.preStyleProps,this.postStyleProps,o,t,s,!0)}}function hN(e,i=3){const t=Math.pow(10,i-1);return Math.round(e*t)/t}class h2{}const W5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Y5 extends h2{normalizePropertyName(i,t){return a2(i)}normalizeStyleValue(i,t,o,s){let l="";const h=o.toString().trim();if(W5.has(t)&&0!==o&&"0"!==o)if("number"==typeof o)l="px";else{const v=o.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&s.push(function BB(e,i){return new a.vHH(3005,!1)}())}return h+l}}function pN(e,i,t,o,s,l,h,v,w,D,M,k,H){return{type:0,element:e,triggerName:i,isRemovalTransition:s,fromState:t,fromStyles:l,toState:o,toStyles:h,timelines:v,queriedElements:w,preStyleProps:D,postStyleProps:M,totalTime:k,errors:H}}const p2={};class gN{constructor(i,t,o){this._triggerName=i,this.ast=t,this._stateStyles=o}match(i,t,o,s){return function K5(e,i,t,o,s){return e.some(l=>l(i,t,o,s))}(this.ast.matchers,i,t,o,s)}buildStyles(i,t,o){let s=this._stateStyles.get("*");return void 0!==i&&(s=this._stateStyles.get(i?.toString())||s),s?s.buildStyles(t,o):new Map}build(i,t,o,s,l,h,v,w,D,M){const k=[],H=this.ast.options&&this.ast.options.params||p2,X=this.buildStyles(o,v&&v.params||p2,k),ue=w&&w.params||p2,ve=this.buildStyles(s,ue,k),Ne=new Set,Ue=new Map,et=new Map,_t="void"===s,St={params:Q5(ue,H),delay:this.ast.options?.delay},Ze=M?[]:d2(i,t,this.ast.animation,l,h,X,ve,St,D,k);let Nn=0;if(Ze.forEach(Qn=>{Nn=Math.max(Qn.duration+Qn.delay,Nn)}),k.length)return pN(t,this._triggerName,o,s,_t,X,ve,[],[],Ue,et,Nn,k);Ze.forEach(Qn=>{const ti=Qn.element,ao=pd(Ue,ti,new Set);Qn.preStyleProps.forEach(ki=>ao.add(ki));const Co=pd(et,ti,new Set);Qn.postStyleProps.forEach(ki=>Co.add(ki)),ti!==t&&Ne.add(ti)});const Ti=RD(Ne.values());return pN(t,this._triggerName,o,s,_t,X,ve,Ze,Ti,Ue,et,Nn)}}function Q5(e,i){const t=PT(i);for(const o in e)e.hasOwnProperty(o)&&null!=e[o]&&(t[o]=e[o]);return t}class J5{constructor(i,t,o){this.styles=i,this.defaultParams=t,this.normalizer=o}buildStyles(i,t){const o=new Map,s=PT(this.defaultParams);return Object.keys(i).forEach(l=>{const h=i[l];null!==h&&(s[l]=h)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,v)=>{h&&(h=OT(h,s,t));const w=this.normalizer.normalizePropertyName(v,t);h=this.normalizer.normalizeStyleValue(v,w,h,t),o.set(w,h)})}),o}}class eV{constructor(i,t,o){this.name=i,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states=new Map,t.states.forEach(s=>{this.states.set(s.name,new J5(s.style,s.options&&s.options.params||{},o))}),mN(this.states,"true","1"),mN(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new gN(i,s,this.states))}),this.fallbackTransition=function tV(e,i,t){return new gN(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,v)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,o,s){return this.transitionFactories.find(h=>h.match(i,t,o,s))||null}matchStyles(i,t,o){return this.fallbackTransition.buildStyles(i,t,o)}}function mN(e,i,t){e.has(i)?e.has(t)||e.set(t,e.get(i)):e.has(t)&&e.set(i,e.get(t))}const nV=new jD;class rV{constructor(i,t,o){this.bodyNode=i,this._driver=t,this._normalizer=o,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,t){const o=[],l=u2(this._driver,t,o,[]);if(o.length)throw function r5(e){return new a.vHH(3503,!1)}();this._animations.set(i,l)}_buildPlayer(i,t,o){const s=i.element,l=WO(0,this._normalizer,0,i.keyframes,t,o);return this._driver.animate(s,l,i.duration,i.delay,i.easing,[],!0)}create(i,t,o={}){const s=[],l=this._animations.get(i);let h;const v=new Map;if(l?(h=d2(this._driver,t,l,r2,MD,new Map,new Map,o,nV,s),h.forEach(M=>{const k=pd(v,M.element,new Map);M.postStyleProps.forEach(H=>k.set(H,null))})):(s.push(function i5(){return new a.vHH(3300,!1)}()),h=[]),s.length)throw function o5(e){return new a.vHH(3504,!1)}();v.forEach((M,k)=>{M.forEach((H,J)=>{M.set(J,this._driver.computeStyle(k,J,Vg))})});const D=Gv(h.map(M=>{const k=v.get(M.element);return this._buildPlayer(M,new Map,k)}));return this._playersById.set(i,D),D.onDestroy(()=>this.destroy(i)),this.players.push(D),D}destroy(i){const t=this._getPlayer(i);t.destroy(),this._playersById.delete(i);const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(i){const t=this._playersById.get(i);if(!t)throw function s5(e){return new a.vHH(3301,!1)}();return t}listen(i,t,o,s){const l=X6(t,"","","");return Q6(this._getPlayer(i),o,l,s),()=>{}}command(i,t,o,s){if("register"==o)return void this.register(i,s[0]);if("create"==o)return void this.create(i,t,s[0]||{});const l=this._getPlayer(i);switch(o){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(i)}}}const vN="ng-animate-queued",g2="ng-animate-disabled",uV=[],yN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_f="__ng_removed";class m2{constructor(i,t=""){this.namespaceId=t;const o=i&&i.hasOwnProperty("value");if(this.value=function hV(e){return e??null}(o?i.value:i),o){const l=PT(i);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const t=i.params;if(t){const o=this.options.params;Object.keys(t).forEach(s=>{null==o[s]&&(o[s]=t[s])})}}}const NT="void",v2=new m2(NT);class cV{constructor(i,t,o){this.id=i,this.hostElement=t,this._engine=o,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,bf(t,this._hostClassName)}listen(i,t,o,s){if(!this._triggers.has(t))throw function a5(e,i){return new a.vHH(3302,!1)}();if(null==o||0==o.length)throw function u5(e){return new a.vHH(3303,!1)}();if(!function pV(e){return"start"==e||"done"==e}(o))throw function l5(e,i){return new a.vHH(3400,!1)}();const l=pd(this._elementListeners,i,[]),h={name:t,phase:o,callback:s};l.push(h);const v=pd(this._engine.statesByElement,i,new Map);return v.has(t)||(bf(i,OD),bf(i,OD+"-"+t),v.set(t,v2)),()=>{this._engine.afterFlush(()=>{const w=l.indexOf(h);w>=0&&l.splice(w,1),this._triggers.has(t)||v.delete(t)})}}register(i,t){return!this._triggers.has(i)&&(this._triggers.set(i,t),!0)}_getTrigger(i){const t=this._triggers.get(i);if(!t)throw function c5(e){return new a.vHH(3401,!1)}();return t}trigger(i,t,o,s=!0){const l=this._getTrigger(t),h=new y2(this.id,t,i);let v=this._engine.statesByElement.get(i);v||(bf(i,OD),bf(i,OD+"-"+t),this._engine.statesByElement.set(i,v=new Map));let w=v.get(t);const D=new m2(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&w&&D.absorbOptions(w.options),v.set(t,D),w||(w=v2),D.value!==NT&&w.value===D.value){if(!function vV(e,i){const t=Object.keys(e),o=Object.keys(i);if(t.length!=o.length)return!1;for(let s=0;s<t.length;s++){const l=t[s];if(!i.hasOwnProperty(l)||e[l]!==i[l])return!1}return!0}(w.params,D.params)){const ue=[],ve=l.matchStyles(w.value,w.params,ue),Ne=l.matchStyles(D.value,D.params,ue);ue.length?this._engine.reportError(ue):this._engine.afterFlush(()=>{o_(i,ve),Dp(i,Ne)})}return}const H=pd(this._engine.playersByElement,i,[]);H.forEach(ue=>{ue.namespaceId==this.id&&ue.triggerName==t&&ue.queued&&ue.destroy()});let J=l.matchTransition(w.value,D.value,i,D.params),X=!1;if(!J){if(!s)return;J=l.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:J,fromState:w,toState:D,player:h,isFallbackTransition:X}),X||(bf(i,vN),h.onStart(()=>{_w(i,vN)})),h.onDone(()=>{let ue=this.players.indexOf(h);ue>=0&&this.players.splice(ue,1);const ve=this._engine.playersByElement.get(i);if(ve){let Ne=ve.indexOf(h);Ne>=0&&ve.splice(Ne,1)}}),this.players.push(h),H.push(h),h}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(t=>t.delete(i)),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(s=>s.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const o=this._engine.driver.query(i,ND,!0);o.forEach(s=>{if(s[_f])return;const l=this._engine.fetchNamespacesByElement(s);l.size?l.forEach(h=>h.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(i,t,o,s){const l=this._engine.statesByElement.get(i),h=new Map;if(l){const v=[];if(l.forEach((w,D)=>{if(h.set(D,w.value),this._triggers.has(D)){const M=this.trigger(i,D,NT,s);M&&v.push(M)}}),v.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,h),o&&Gv(v).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),o=this._engine.statesByElement.get(i);if(t&&o){const s=new Set;t.forEach(l=>{const h=l.name;if(s.has(h))return;s.add(h);const w=this._triggers.get(h).fallbackTransition,D=o.get(h)||v2,M=new m2(NT),k=new y2(this.id,h,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:h,transition:w,fromState:D,toState:M,player:k,isFallbackTransition:!0})})}}removeNode(i,t){const o=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let s=!1;if(o.totalAnimations){const l=o.players.length?o.playersByQueriedElement.get(i):[];if(l&&l.length)s=!0;else{let h=i;for(;h=h.parentNode;)if(o.statesByElement.get(h)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(i),s)o.markElementAsRemoved(this.id,i,!1,t);else{const l=i[_f];(!l||l===yN)&&(o.afterFlush(()=>this.clearElementCache(i)),o.destroyInnerAnimations(i),o._onRemovalComplete(i,t))}}insertNode(i,t){bf(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(o=>{const s=o.player;if(s.destroyed)return;const l=o.element,h=this._elementListeners.get(l);h&&h.forEach(v=>{if(v.name==o.triggerName){const w=X6(l,o.triggerName,o.fromState.value,o.toState.value);w._data=i,Q6(o.player,v.phase,w,v.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(o)}),this._queue=[],t.sort((o,s)=>{const l=o.transition.ast.depCount,h=s.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(o.element,s.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let t=!1;return this._elementListeners.has(i)&&(t=!0),t=!!this._queue.find(o=>o.element===i)||t,t}}class dV{constructor(i,t,o){this.bodyNode=i,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,l)=>{}}_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&i.push(o)})}),i}createNamespace(i,t){const o=new cV(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[i]=o}_balanceNamespaceList(i,t){const o=this._namespaceList,s=this.namespacesByHostElement;if(o.length-1>=0){let h=!1,v=this.driver.getParentElement(t);for(;v;){const w=s.get(v);if(w){const D=o.indexOf(w);o.splice(D+1,0,i),h=!0;break}v=this.driver.getParentElement(v)}h||o.unshift(i)}else o.push(i);return s.set(t,i),i}register(i,t){let o=this._namespaceLookup[i];return o||(o=this.createNamespace(i,t)),o}registerTrigger(i,t,o){let s=this._namespaceLookup[i];s&&s.register(t,o)&&this.totalAnimations++}destroy(i,t){if(!i)return;const o=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[i];const s=this._namespaceList.indexOf(o);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,o=this.statesByElement.get(i);if(o)for(let s of o.values())if(s.namespaceId){const l=this._fetchNamespace(s.namespaceId);l&&t.add(l)}return t}trigger(i,t,o,s){if(ZD(t)){const l=this._fetchNamespace(i);if(l)return l.trigger(t,o,s),!0}return!1}insertNode(i,t,o,s){if(!ZD(t))return;const l=t[_f];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(i){const h=this._fetchNamespace(i);h&&h.insertNode(t,o)}s&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),bf(i,g2)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),_w(i,g2))}removeNode(i,t,o,s){if(ZD(t)){const l=i?this._fetchNamespace(i):null;if(l?l.removeNode(t,s):this.markElementAsRemoved(i,t,!1,s),o){const h=this.namespacesByHostElement.get(t);h&&h.id!==i&&h.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(i,t,o,s,l){this.collectedLeaveElements.push(t),t[_f]={namespaceId:i,setForRemoval:s,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:l}}listen(i,t,o,s,l){return ZD(t)?this._fetchNamespace(i).listen(t,o,s,l):()=>{}}_buildInstruction(i,t,o,s,l){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,o,s,i.fromState.options,i.toState.options,t,l)}destroyInnerAnimations(i){let t=this.driver.query(i,ND,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,i2,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Gv(this.players).onDone(()=>i());i()})}processLeaveNode(i){const t=i[_f];if(t&&t.setForRemoval){if(i[_f]=yN,t.namespaceId){this.destroyInnerAnimations(i);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(i)}this._onRemovalComplete(i,t.setForRemoval)}i.classList?.contains(g2)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,s)=>this._balanceNamespaceList(o,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)bf(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,i)}finally{for(let s=0;s<o.length;s++)o[s]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?Gv(t).onDone(()=>{o.forEach(s=>s())}):o.forEach(s=>s())}}reportError(i){throw function d5(e){return new a.vHH(3402,!1)}()}_flushAnimations(i,t){const o=new jD,s=[],l=new Map,h=[],v=new Map,w=new Map,D=new Map,M=new Set;this.disabledNodes.forEach(en=>{M.add(en);const xn=this.driver.query(en,".ng-animate-queued",!0);for(let Qt=0;Qt<xn.length;Qt++)M.add(xn[Qt])});const k=this.bodyNode,H=Array.from(this.statesByElement.keys()),J=wN(H,this.collectedEnterElements),X=new Map;let ue=0;J.forEach((en,xn)=>{const Qt=r2+ue++;X.set(xn,Qt),en.forEach(ur=>bf(ur,Qt))});const ve=[],Ne=new Set,Ue=new Set;for(let en=0;en<this.collectedLeaveElements.length;en++){const xn=this.collectedLeaveElements[en],Qt=xn[_f];Qt&&Qt.setForRemoval&&(ve.push(xn),Ne.add(xn),Qt.hasAnimation?this.driver.query(xn,".ng-star-inserted",!0).forEach(ur=>Ne.add(ur)):Ue.add(xn))}const et=new Map,_t=wN(H,Array.from(Ne));_t.forEach((en,xn)=>{const Qt=MD+ue++;et.set(xn,Qt),en.forEach(ur=>bf(ur,Qt))}),i.push(()=>{J.forEach((en,xn)=>{const Qt=X.get(xn);en.forEach(ur=>_w(ur,Qt))}),_t.forEach((en,xn)=>{const Qt=et.get(xn);en.forEach(ur=>_w(ur,Qt))}),ve.forEach(en=>{this.processLeaveNode(en)})});const St=[],Ze=[];for(let en=this._namespaceList.length-1;en>=0;en--)this._namespaceList[en].drainQueuedTransitions(t).forEach(Qt=>{const ur=Qt.player,li=Qt.element;if(St.push(ur),this.collectedEnterElements.length){const Sr=li[_f];if(Sr&&Sr.setForMove){if(Sr.previousTriggersValues&&Sr.previousTriggersValues.has(Qt.triggerName)){const co=Sr.previousTriggersValues.get(Qt.triggerName),wf=this.statesByElement.get(Qt.element);if(wf&&wf.has(Qt.triggerName)){const zD=wf.get(Qt.triggerName);zD.value=co,wf.set(Qt.triggerName,zD)}}return void ur.destroy()}}const uo=!k||!this.driver.containsElement(k,li),lo=et.get(li),Zl=X.get(li),Ri=this._buildInstruction(Qt,o,Zl,lo,uo);if(Ri.errors&&Ri.errors.length)return void Ze.push(Ri);if(uo)return ur.onStart(()=>o_(li,Ri.fromStyles)),ur.onDestroy(()=>Dp(li,Ri.toStyles)),void s.push(ur);if(Qt.isFallbackTransition)return ur.onStart(()=>o_(li,Ri.fromStyles)),ur.onDestroy(()=>Dp(li,Ri.toStyles)),void s.push(ur);const bw=[];Ri.timelines.forEach(Sr=>{Sr.stretchStartingKeyframe=!0,this.disabledNodes.has(Sr.element)||bw.push(Sr)}),Ri.timelines=bw,o.append(li,Ri.timelines),h.push({instruction:Ri,player:ur,element:li}),Ri.queriedElements.forEach(Sr=>pd(v,Sr,[]).push(ur)),Ri.preStyleProps.forEach((Sr,co)=>{if(Sr.size){let wf=w.get(co);wf||w.set(co,wf=new Set),Sr.forEach((zD,w2)=>wf.add(w2))}}),Ri.postStyleProps.forEach((Sr,co)=>{let wf=D.get(co);wf||D.set(co,wf=new Set),Sr.forEach((zD,w2)=>wf.add(w2))})});if(Ze.length){const en=[];Ze.forEach(xn=>{en.push(function f5(e,i){return new a.vHH(3505,!1)}())}),St.forEach(xn=>xn.destroy()),this.reportError(en)}const Nn=new Map,Ti=new Map;h.forEach(en=>{const xn=en.element;o.has(xn)&&(Ti.set(xn,xn),this._beforeAnimationBuild(en.player.namespaceId,en.instruction,Nn))}),s.forEach(en=>{const xn=en.element;this._getPreviousPlayers(xn,!1,en.namespaceId,en.triggerName,null).forEach(ur=>{pd(Nn,xn,[]).push(ur),ur.destroy()})});const Qn=ve.filter(en=>TN(en,w,D)),ti=new Map;bN(ti,this.driver,Ue,D,Vg).forEach(en=>{TN(en,w,D)&&Qn.push(en)});const Co=new Map;J.forEach((en,xn)=>{bN(Co,this.driver,new Set(en),w,"!")}),Qn.forEach(en=>{const xn=ti.get(en),Qt=Co.get(en);ti.set(en,new Map([...Array.from(xn?.entries()??[]),...Array.from(Qt?.entries()??[])]))});const ki=[],Xa=[],sl={};h.forEach(en=>{const{element:xn,player:Qt,instruction:ur}=en;if(o.has(xn)){if(M.has(xn))return Qt.onDestroy(()=>Dp(xn,ur.toStyles)),Qt.disabled=!0,Qt.overrideTotalTime(ur.totalTime),void s.push(Qt);let li=sl;if(Ti.size>1){let lo=xn;const Zl=[];for(;lo=lo.parentNode;){const Ri=Ti.get(lo);if(Ri){li=Ri;break}Zl.push(lo)}Zl.forEach(Ri=>Ti.set(Ri,li))}const uo=this._buildAnimation(Qt.namespaceId,ur,Nn,l,Co,ti);if(Qt.setRealPlayer(uo),li===sl)ki.push(Qt);else{const lo=this.playersByElement.get(li);lo&&lo.length&&(Qt.parentPlayer=Gv(lo)),s.push(Qt)}}else o_(xn,ur.fromStyles),Qt.onDestroy(()=>Dp(xn,ur.toStyles)),Xa.push(Qt),M.has(xn)&&s.push(Qt)}),Xa.forEach(en=>{const xn=l.get(en.element);if(xn&&xn.length){const Qt=Gv(xn);en.setRealPlayer(Qt)}}),s.forEach(en=>{en.parentPlayer?en.syncPlayerEvents(en.parentPlayer):en.destroy()});for(let en=0;en<ve.length;en++){const xn=ve[en],Qt=xn[_f];if(_w(xn,MD),Qt&&Qt.hasAnimation)continue;let ur=[];if(v.size){let uo=v.get(xn);uo&&uo.length&&ur.push(...uo);let lo=this.driver.query(xn,i2,!0);for(let Zl=0;Zl<lo.length;Zl++){let Ri=v.get(lo[Zl]);Ri&&Ri.length&&ur.push(...Ri)}}const li=ur.filter(uo=>!uo.destroyed);li.length?gV(this,xn,li):this.processLeaveNode(xn)}return ve.length=0,ki.forEach(en=>{this.players.push(en),en.onDone(()=>{en.destroy();const xn=this.players.indexOf(en);this.players.splice(xn,1)}),en.play()}),ki}elementContainsData(i,t){let o=!1;const s=t[_f];return s&&s.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(i).elementContainsData(t)||o}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,o,s,l){let h=[];if(t){const v=this.playersByQueriedElement.get(i);v&&(h=v)}else{const v=this.playersByElement.get(i);if(v){const w=!l||l==NT;v.forEach(D=>{D.queued||!w&&D.triggerName!=s||h.push(D)})}}return(o||s)&&(h=h.filter(v=>!(o&&o!=v.namespaceId||s&&s!=v.triggerName))),h}_beforeAnimationBuild(i,t,o){const l=t.element,h=t.isRemovalTransition?void 0:i,v=t.isRemovalTransition?void 0:t.triggerName;for(const w of t.timelines){const D=w.element,M=D!==l,k=pd(o,D,[]);this._getPreviousPlayers(D,M,h,v,t.toState).forEach(J=>{const X=J.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),J.destroy(),k.push(J)})}o_(l,t.fromStyles)}_buildAnimation(i,t,o,s,l,h){const v=t.triggerName,w=t.element,D=[],M=new Set,k=new Set,H=t.timelines.map(X=>{const ue=X.element;M.add(ue);const ve=ue[_f];if(ve&&ve.removedBeforeQueried)return new dT(X.duration,X.delay);const Ne=ue!==w,Ue=function mV(e){const i=[];return CN(e,i),i}((o.get(ue)||uV).map(Nn=>Nn.getRealPlayer())).filter(Nn=>!!Nn.element&&Nn.element===ue),et=l.get(ue),_t=h.get(ue),St=WO(0,this._normalizer,0,X.keyframes,et,_t),Ze=this._buildPlayer(X,St,Ue);if(X.subTimeline&&s&&k.add(ue),Ne){const Nn=new y2(i,v,ue);Nn.setRealPlayer(Ze),D.push(Nn)}return Ze});D.forEach(X=>{pd(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function fV(e,i,t){let o=e.get(i);if(o){if(o.length){const s=o.indexOf(t);o.splice(s,1)}0==o.length&&e.delete(i)}return o}(this.playersByQueriedElement,X.element,X))}),M.forEach(X=>bf(X,rN));const J=Gv(H);return J.onDestroy(()=>{M.forEach(X=>_w(X,rN)),Dp(w,t.toStyles)}),k.forEach(X=>{pd(s,X,[]).push(J)}),J}_buildPlayer(i,t,o){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,o):new dT(i.duration,i.delay)}}class y2{constructor(i,t,o){this.namespaceId=i,this.triggerName=t,this.element=o,this._player=new dT,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((t,o)=>{t.forEach(s=>Q6(i,o,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){pd(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function ZD(e){return e&&1===e.nodeType}function _N(e,i){const t=e.style.display;return e.style.display=i??"none",t}function bN(e,i,t,o,s){const l=[];t.forEach(w=>l.push(_N(w)));const h=[];o.forEach((w,D)=>{const M=new Map;w.forEach(k=>{const H=i.computeStyle(D,k,s);M.set(k,H),(!H||0==H.length)&&(D[_f]=lV,h.push(D))}),e.set(D,M)});let v=0;return t.forEach(w=>_N(w,l[v++])),h}function wN(e,i){const t=new Map;if(e.forEach(v=>t.set(v,[])),0==i.length)return t;const s=new Set(i),l=new Map;function h(v){if(!v)return 1;let w=l.get(v);if(w)return w;const D=v.parentNode;return w=t.has(D)?D:s.has(D)?1:h(D),l.set(v,w),w}return i.forEach(v=>{const w=h(v);1!==w&&t.get(w).push(v)}),t}function bf(e,i){e.classList?.add(i)}function _w(e,i){e.classList?.remove(i)}function gV(e,i,t){Gv(t).onDone(()=>e.processLeaveNode(i))}function CN(e,i){for(let t=0;t<e.length;t++){const o=e[t];o instanceof kM?CN(o.players,i):i.push(o)}}function TN(e,i,t){const o=t.get(e);if(!o)return!1;let s=i.get(e);return s?o.forEach(l=>s.add(l)):i.set(e,o),t.delete(e),!0}class GD{constructor(i,t,o){this.bodyNode=i,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(s,l)=>{},this._transitionEngine=new dV(i,t,o),this._timelineEngine=new rV(i,t,o),this._transitionEngine.onRemovalComplete=(s,l)=>this.onRemovalComplete(s,l)}registerTrigger(i,t,o,s,l){const h=i+"-"+s;let v=this._triggerCache[h];if(!v){const w=[],M=u2(this._driver,l,w,[]);if(w.length)throw function t5(e,i){return new a.vHH(3404,!1)}();v=function X5(e,i,t){return new eV(e,i,t)}(s,M,this._normalizer),this._triggerCache[h]=v}this._transitionEngine.registerTrigger(t,s,v)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,o,s){this._transitionEngine.insertNode(i,t,o,s)}onRemove(i,t,o,s){this._transitionEngine.removeNode(i,t,s||!1,o)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,o,s){if("@"==o.charAt(0)){const[l,h]=YO(o);this._timelineEngine.command(l,t,h,s)}else this._transitionEngine.trigger(i,t,o,s)}listen(i,t,o,s,l){if("@"==o.charAt(0)){const[h,v]=YO(o);return this._timelineEngine.listen(h,t,v,l)}return this._transitionEngine.listen(i,t,o,s,l)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _V=(()=>{class e{constructor(t,o,s){this._element=t,this._startStyles=o,this._endStyles=s,this._state=0;let l=e.initialStylesByElement.get(t);l||e.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Dp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dp(this._element,this._initialStyles),this._endStyles&&(Dp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(o_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(o_(this._element,this._endStyles),this._endStyles=null),Dp(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function _2(e){let i=null;return e.forEach((t,o)=>{(function bV(e){return"display"===e||"position"===e})(o)&&(i=i||new Map,i.set(o,t))}),i}class EN{constructor(i,t,o,s){this.element=i,this.keyframes=t,this.options=o,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const t=[];return i.forEach(o=>{t.push(Object.fromEntries(o))}),t}_triggerWebAnimation(i,t,o){return i.animate(this._convertKeyframesToObject(t),o)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,s)=>{"offset"!==s&&i.set(s,this._finished?o:lN(this.element,s))}),this.currentSnapshot=i}triggerCallback(i){const t="start"===i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class wV{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,t){return!1}containsElement(i,t){return XO(i,t)}getParentElement(i){return t2(i)}query(i,t,o){return eN(i,t,o)}computeStyle(i,t,o){return window.getComputedStyle(i)[t]}animate(i,t,o,s,l,h=[]){const w={duration:o,delay:s,fill:0==s?"both":"forwards"};l&&(w.easing=l);const D=new Map,M=h.filter(J=>J instanceof EN);(function A5(e,i){return 0===e||0===i})(o,s)&&M.forEach(J=>{J.currentSnapshot.forEach((X,ue)=>D.set(ue,X))});let k=function w5(e){return e.length?e[0]instanceof Map?e:e.map(i=>iN(i)):[]}(t).map(J=>$v(J));k=function D5(e,i,t){if(t.size&&i.length){let o=i[0],s=[];if(t.forEach((l,h)=>{o.has(h)||s.push(h),o.set(h,l)}),s.length)for(let l=1;l<i.length;l++){let h=i[l];s.forEach(v=>h.set(v,lN(e,v)))}}return i}(i,k,D);const H=function yV(e,i){let t=null,o=null;return Array.isArray(i)&&i.length?(t=_2(i[0]),i.length>1&&(o=_2(i[i.length-1]))):i instanceof Map&&(t=_2(i)),t||o?new _V(e,t,o):null}(i,k);return new EN(i,k,w,H)}}let CV=(()=>{class e extends xM{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?MM(t):t;return AN(this._renderer,null,o,"register",[s]),new TV(o,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(a.FYo),a.LFG(rt))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();class TV extends class j3{}{constructor(i,t){super(),this._id=i,this._renderer=t}create(i,t){return new EV(this._id,i,t||{},this._renderer)}}class EV{constructor(i,t,o,s){this.id=i,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(i,t){return this._renderer.listen(this.element,`@@${this.id}:${i}`,t)}_command(i,...t){return AN(this._renderer,this.element,this.id,i,t)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function AN(e,i,t,o,s){return e.setProperty(i,`@@${t}:${o}`,s)}const DN="@.disabled";let AV=(()=>{class e{constructor(t,o,s){this.delegate=t,this.engine=o,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(l,h)=>{const v=h?.parentNode(l);v&&h.removeChild(v,l)}}createRenderer(t,o){const l=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let M=this._rendererCache.get(l);return M||(M=new SN("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,M)),M}const h=o.id,v=o.id+"-"+this._currentId;this._currentId++,this.engine.register(v,t);const w=M=>{Array.isArray(M)?M.forEach(w):this.engine.registerTrigger(h,v,t,M.name,M)};return o.data.animation.forEach(w),new DV(this,v,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,s){t>=0&&t<this._microtaskId?this._zone.run(()=>o(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,v]=l;h(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(a.FYo),a.LFG(GD),a.LFG(a.R0b))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();class SN{constructor(i,t,o,s){this.namespaceId=i,this.delegate=t,this.engine=o,this._onDestroy=s,this.destroyNode=this.delegate.destroyNode?l=>t.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,o,s=!0){this.delegate.insertBefore(i,t,o),this.engine.onInsert(this.namespaceId,t,i,s)}removeChild(i,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,o,s){this.delegate.setAttribute(i,t,o,s)}removeAttribute(i,t,o){this.delegate.removeAttribute(i,t,o)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,o,s){this.delegate.setStyle(i,t,o,s)}removeStyle(i,t,o){this.delegate.removeStyle(i,t,o)}setProperty(i,t,o){"@"==t.charAt(0)&&t==DN?this.disableAnimations(i,!!o):this.delegate.setProperty(i,t,o)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,o){return this.delegate.listen(i,t,o)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class DV extends SN{constructor(i,t,o,s,l){super(t,o,s,l),this.factory=i,this.namespaceId=t}setProperty(i,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==DN?this.disableAnimations(i,o=void 0===o||!!o):this.engine.process(this.namespaceId,i,t.slice(1),o):this.delegate.setProperty(i,t,o)}listen(i,t,o){if("@"==t.charAt(0)){const s=function SV(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(i);let l=t.slice(1),h="";return"@"!=l.charAt(0)&&([l,h]=function IV(e){const i=e.indexOf(".");return[e.substring(0,i),e.slice(i+1)]}(l)),this.engine.listen(this.namespaceId,s,l,h,v=>{this.factory.scheduleListenerCallback(v._data||-1,o,v)})}return this.delegate.listen(i,t,o)}}let xV=(()=>{class e extends GD{constructor(t,o,s,l){super(t.body,o,s)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(rt),a.LFG(n2),a.LFG(h2),a.LFG(a.z2F))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();const IN=[{provide:xM,useClass:CV},{provide:h2,useFactory:function PV(){return new Y5}},{provide:GD,useClass:xV},{provide:a.FYo,useFactory:function MV(e,i,t){return new AV(e,i,t)},deps:[bd,GD,a.R0b]}],b2=[{provide:n2,useFactory:()=>new wV},{provide:a.QbO,useValue:"BrowserAnimations"},...IN],xN=[{provide:n2,useClass:tN},{provide:a.QbO,useValue:"NoopAnimations"},...IN];let OV=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?xN:b2}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:b2,imports:[Ad]}),e})(),NV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e,bootstrap:[OB]}),e.\u0275inj=a.cJS({imports:[Ad,HT,rU,OV,lL.forRoot({closeButton:!0,timeOut:1e3,progressBar:!0}),MB,jr.hO.initializeApp(NB),wR,f4,RR,gR,V3,YL,eC,vL,JL]}),e})();(0,a.G48)(),Zg().bootstrapModule(NV).catch(e=>console.error(e))},5867:(an,pt,ae)=>{"use strict";ae.d(pt,{Z:()=>a.Z});var a=ae(8367),Y="8.10.1";a.Z.registerVersion("firebase",Y,"app"),a.Z.SDK_VERSION=Y},7315:(an,pt,ae)=>{"use strict";ae.r(pt);var a=ae(8367);(function(){var Q,Y="function"==typeof Object.defineProperties?Object.defineProperty:function(u,p,C){u!=Array.prototype&&u!=Object.prototype&&(u[p]=C.value)},ot=function De(u){u=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,u];for(var p=0;p<u.length;++p){var C=u[p];if(C&&C.Math==Math)return C}return globalThis}(this);function rt(u){var p=0;return function(){return p<u.length?{done:!1,value:u[p++]}:{done:!0}}}function at(u){var p=typeof Symbol<"u"&&Symbol.iterator&&u[Symbol.iterator];return p?p.call(u):{next:rt(u)}}!function he(u,p){if(p){var C=ot;u=u.split(".");for(var I=0;I<u.length-1;I++){var B=u[I];B in C||(C[B]={}),C=C[B]}(p=p(I=C[u=u[u.length-1]]))!=I&&null!=p&&Y(C,u,{configurable:!0,writable:!0,value:p})}}("Promise",function(u){function p(ee){this.b=0,this.c=void 0,this.a=[];var ye=this.f();try{ee(ye.resolve,ye.reject)}catch(it){ye.reject(it)}}function C(){this.a=null}function I(ee){return ee instanceof p?ee:new p(function(ye){ye(ee)})}if(u)return u;C.prototype.b=function(ee){if(null==this.a){this.a=[];var ye=this;this.c(function(){ye.g()})}this.a.push(ee)};var B=ot.setTimeout;C.prototype.c=function(ee){B(ee,0)},C.prototype.g=function(){for(;this.a&&this.a.length;){var ee=this.a;this.a=[];for(var ye=0;ye<ee.length;++ye){var it=ee[ye];ee[ye]=null;try{it()}catch(mt){this.f(mt)}}}this.a=null},C.prototype.f=function(ee){this.c(function(){throw ee})},p.prototype.f=function(){function ee(mt){return function(Yn){it||(it=!0,mt.call(ye,Yn))}}var ye=this,it=!1;return{resolve:ee(this.m),reject:ee(this.g)}},p.prototype.m=function(ee){if(ee===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(ee instanceof p)this.s(ee);else{e:switch(typeof ee){case"object":var ye=null!=ee;break e;case"function":ye=!0;break e;default:ye=!1}ye?this.v(ee):this.h(ee)}},p.prototype.v=function(ee){var ye=void 0;try{ye=ee.then}catch(it){return void this.g(it)}"function"==typeof ye?this.u(ye,ee):this.h(ee)},p.prototype.g=function(ee){this.i(2,ee)},p.prototype.h=function(ee){this.i(1,ee)},p.prototype.i=function(ee,ye){if(0!=this.b)throw Error("Cannot settle("+ee+", "+ye+"): Promise already settled in state"+this.b);this.b=ee,this.c=ye,this.l()},p.prototype.l=function(){if(null!=this.a){for(var ee=0;ee<this.a.length;++ee)W.b(this.a[ee]);this.a=null}};var W=new C;return p.prototype.s=function(ee){var ye=this.f();ee.Ra(ye.resolve,ye.reject)},p.prototype.u=function(ee,ye){var it=this.f();try{ee.call(ye,it.resolve,it.reject)}catch(mt){it.reject(mt)}},p.prototype.then=function(ee,ye){function it(Xr,Wo){return"function"==typeof Xr?function(wu){try{mt(Xr(wu))}catch(Js){Yn(Js)}}:Wo}var mt,Yn,Jr=new p(function(Xr,Wo){mt=Xr,Yn=Wo});return this.Ra(it(ee,mt),it(ye,Yn)),Jr},p.prototype.catch=function(ee){return this.then(void 0,ee)},p.prototype.Ra=function(ee,ye){function it(){switch(mt.b){case 1:ee(mt.c);break;case 2:ye(mt.c);break;default:throw Error("Unexpected state: "+mt.b)}}var mt=this;null==this.a?W.b(it):this.a.push(it)},p.resolve=I,p.reject=function(ee){return new p(function(ye,it){it(ee)})},p.race=function(ee){return new p(function(ye,it){for(var mt=at(ee),Yn=mt.next();!Yn.done;Yn=mt.next())I(Yn.value).Ra(ye,it)})},p.all=function(ee){var ye=at(ee),it=ye.next();return it.done?I([]):new p(function(mt,Yn){function Jr(wu){return function(Js){Xr[wu]=Js,0==--Wo&&mt(Xr)}}var Xr=[],Wo=0;do{Xr.push(void 0),Wo++,I(it.value).Ra(Jr(Xr.length-1),Yn),it=ye.next()}while(!it.done)})},p});var ze=ze||{},oe=this||self,Ie=/^[\w+/_-]+[=]{0,2}$/,Ce=null;function Qe(u){return(u=u.querySelector&&u.querySelector("script[nonce]"))&&(u=u.nonce||u.getAttribute("nonce"))&&Ie.test(u)?u:""}function Ge(){}function Me(u){var p=typeof u;return"object"!=p?p:u?Array.isArray(u)?"array":p:"null"}function ht(u){var p=Me(u);return"array"==p||"object"==p&&"number"==typeof u.length}function ut(u){return"function"==Me(u)}function qe(u){var p=typeof u;return"object"==p&&null!=u||"function"==p}function bn(u){return Object.prototype.hasOwnProperty.call(u,Dn)&&u[Dn]||(u[Dn]=++Tt)}var Dn="closure_uid_"+(1e9*Math.random()>>>0),Tt=0;function Ye(u,p,C){return u.call.apply(u.bind,arguments)}function Je(u,p,C){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),u.apply(p,B)}}return function(){return u.apply(p,arguments)}}function F(u,p,C){return(F=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ye:Je).apply(null,arguments)}function Lt(u,p){var C=Array.prototype.slice.call(arguments,1);return function(){var I=C.slice();return I.push.apply(I,arguments),u.apply(this,I)}}var yt=Date.now;function Dt(u,p){function C(){}C.prototype=p.prototype,u.bb=p.prototype,u.prototype=new C,u.prototype.constructor=u}function br(u){return u}function Te(u,p,C){this.code=xt+u,this.message=p||yn[u]||"",this.a=C||null}function qt(u){var p=u&&u.code;return p?new Te(p.substring(xt.length),u.message,u.serverResponse):null}Dt(Te,Error),Te.prototype.w=function(){var u={code:this.code,message:this.message};return this.a&&(u.serverResponse=this.a),u},Te.prototype.toJSON=function(){return this.w()};var kn,xt="auth/",yn={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},wn={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Gt(u){for(var p in wn)if(wn[p].id===u)return{firebaseEndpoint:(u=wn[p]).Ua,secureTokenEndpoint:u.$a,identityPlatformEndpoint:u.Xa};return null}function Oe(u){if(!u)return!1;try{return!!u.$goog_Thenable}catch{return!1}}function Ee(u){if(Error.captureStackTrace)Error.captureStackTrace(this,Ee);else{var p=Error().stack;p&&(this.stack=p)}u&&(this.message=String(u))}function Le(u,p){for(var C="",I=(u=u.split("%s")).length-1,B=0;B<I;B++)C+=u[B]+(B<p.length?p[B]:"%s");Ee.call(this,C+u[I])}function Pe(u,p){throw new Le("Failure"+(u?": "+u:""),Array.prototype.slice.call(arguments,1))}function lt(u,p){this.c=u,this.f=p,this.b=0,this.a=null}function Xe(u,p){u.f(p),100>u.b&&(u.b++,p.next=u.a,u.a=p)}function $t(){this.b=this.a=null}kn=Gt("__EID__")?"__EID__":void 0,Dt(Ee,Error),Ee.prototype.name="CustomError",Dt(Le,Ee),Le.prototype.name="AssertionError",lt.prototype.get=function(){if(0<this.b){this.b--;var u=this.a;this.a=u.next,u.next=null}else u=this.c();return u};var on=new lt(function(){return new zt},function(u){u.reset()});function Lr(){var u=vd,p=null;return u.a&&(p=u.a,u.a=u.a.next,u.a||(u.b=null),p.next=null),p}function zt(){this.next=this.b=this.a=null}$t.prototype.add=function(u,p){var C=on.get();C.set(u,p),this.b?this.b.next=C:this.a=C,this.b=C},zt.prototype.set=function(u,p){this.a=u,this.b=p,this.next=null},zt.prototype.reset=function(){this.next=this.b=this.a=null};var zn=Array.prototype.indexOf?function(u,p){return Array.prototype.indexOf.call(u,p,void 0)}:function(u,p){if("string"==typeof u)return"string"!=typeof p||1!=p.length?-1:u.indexOf(p,0);for(var C=0;C<u.length;C++)if(C in u&&u[C]===p)return C;return-1},Cn=Array.prototype.forEach?function(u,p,C){Array.prototype.forEach.call(u,p,C)}:function(u,p,C){for(var I=u.length,B="string"==typeof u?u.split(""):u,W=0;W<I;W++)W in B&&p.call(C,B[W],W,u)},ci=Array.prototype.filter?function(u,p){return Array.prototype.filter.call(u,p,void 0)}:function(u,p){for(var C=u.length,I=[],B=0,W="string"==typeof u?u.split(""):u,ee=0;ee<C;ee++)if(ee in W){var ye=W[ee];p.call(void 0,ye,ee,u)&&(I[B++]=ye)}return I},Tn=Array.prototype.map?function(u,p){return Array.prototype.map.call(u,p,void 0)}:function(u,p){for(var C=u.length,I=Array(C),B="string"==typeof u?u.split(""):u,W=0;W<C;W++)W in B&&(I[W]=p.call(void 0,B[W],W,u));return I},Mn=Array.prototype.some?function(u,p){return Array.prototype.some.call(u,p,void 0)}:function(u,p){for(var C=u.length,I="string"==typeof u?u.split(""):u,B=0;B<C;B++)if(B in I&&p.call(void 0,I[B],B,u))return!0;return!1};function tr(u,p){return 0<=zn(u,p)}function Et(u,p){var C;return(C=0<=(p=zn(u,p)))&&Array.prototype.splice.call(u,p,1),C}function ir(u,p){!function er(u,p){for(var C="string"==typeof u?u.split(""):u,I=u.length-1;0<=I;--I)I in C&&p.call(void 0,C[I],I,u)}(u,function(I,B){p.call(void 0,I,B,u)&&Array.prototype.splice.call(u,B,1)})}function Tr(u){return Array.prototype.concat.apply([],arguments)}function Rn(u){var p=u.length;if(0<p){for(var C=Array(p),I=0;I<p;I++)C[I]=u[I];return C}return[]}var ji,sa=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]},Xi=/&/g,Mr=/</g,Wi=/>/g,Nt=/"/g,Wt=/'/g,_n=/\x00/g,mi=/[\x00&<>"']/;function Or(u,p){return-1!=u.indexOf(p)}function To(u,p){return u<p?-1:u>p?1:0}e:{var hn=oe.navigator;if(hn){var Bo=hn.userAgent;if(Bo){ji=Bo;break e}}ji=""}function Fn(u){return Or(ji,u)}function Ko(u,p){for(var C in u)p.call(void 0,u[C],C,u)}function be(u){for(var p in u)return!1;return!0}function we(u){var C,p={};for(C in u)p[C]=u[C];return p}var ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(u,p){for(var C,I,B=1;B<arguments.length;B++){for(C in I=arguments[B])u[C]=I[C];for(var W=0;W<ke.length;W++)C=ke[W],Object.prototype.hasOwnProperty.call(I,C)&&(u[C]=I[C])}}function Fe(u,p){e:{try{var C=u&&u.ownerDocument,I=C&&(C.defaultView||C.parentWindow);if((I=I||oe).Element&&I.Location){var B=I;break e}}catch{}B=null}if(B&&typeof B[p]<"u"&&(!u||!(u instanceof B[p])&&(u instanceof B.Location||u instanceof B.Element))){if(qe(u))try{var W=u.constructor.displayName||u.constructor.name||Object.prototype.toString.call(u)}catch{W="<object could not be stringified>"}else W=void 0===u?"undefined":null===u?"null":typeof u;Pe("Argument is not a %s (or a non-Element, non-Location mock); got: %s",p,W)}}function bt(u,p){this.a=u===mr&&p||"",this.b=gr}function pn(u){return u instanceof bt&&u.constructor===bt&&u.b===gr?u.a:(Pe("expected object of type Const, got '"+u+"'"),"type_error:Const")}bt.prototype.ta=!0,bt.prototype.sa=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var Un,gr={},mr={};function Ur(){if(void 0===Un){var u=null,p=oe.trustedTypes;if(p&&p.createPolicy){try{u=p.createPolicy("goog#html",{createHTML:br,createScript:br,createScriptURL:br})}catch(C){oe.console&&oe.console.error(C.message)}Un=u}else Un=u}return Un}function vi(u,p){this.a=p===Ao?u:""}function Eo(u){return u instanceof vi&&u.constructor===vi?u.a:(Pe("expected object of type TrustedResourceUrl, got '"+u+"' of type "+Me(u)),"type_error:TrustedResourceUrl")}function dr(u,p){var C=pn(u);if(!Fi.test(C))throw Error("Invalid TrustedResourceUrl format: "+C);return function Do(u){var p=Ur();return new vi(u=p?p.createScriptURL(u):u,Ao)}(u=C.replace(Yi,function(I,B){if(!Object.prototype.hasOwnProperty.call(p,B))throw Error('Found marker, "'+B+'", in format string, "'+C+'", but no valid label mapping found in args: '+JSON.stringify(p));return(I=p[B])instanceof bt?pn(I):encodeURIComponent(String(I))}))}vi.prototype.ta=!0,vi.prototype.sa=function(){return this.a.toString()},vi.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Yi=/%{(\w+)}/g,Fi=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ao={};function Br(u,p){this.a=p===ni?u:""}function Ot(u){return u instanceof Br&&u.constructor===Br?u.a:(Pe("expected object of type SafeUrl, got '"+u+"' of type "+Me(u)),"type_error:SafeUrl")}Br.prototype.ta=!0,Br.prototype.sa=function(){return this.a.toString()},Br.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pn=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ir=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Hi=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ms(u){if(u instanceof Br)return u;if(u="object"==typeof u&&u.ta?u.sa():String(u),Hi.test(u))u=new Br(u,ni);else{var p=(u=(u=String(u)).replace(/(%0A|%0D)/g,"")).match(Ir);u=p&&Pn.test(p[1])?new Br(u,ni):null}return u}function yi(u){return u instanceof Br?u:(u="object"==typeof u&&u.ta?u.sa():String(u),Hi.test(u)||(u="about:invalid#zClosurez"),new Br(u,ni))}var ni={},ri=new Br("about:invalid#zClosurez",ni);function eo(u,p,C){this.a=C===Zn?u:""}eo.prototype.ta=!0,eo.prototype.sa=function(){return this.a.toString()},eo.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Zn={};function Os(u,p,C,I){return u=u instanceof Br?u:yi(u),p=p||oe,C=C instanceof bt?pn(C):C||"",p.open(Ot(u),C,I,void 0)}function Iu(u,p){for(var C=u.split("%s"),I="",B=Array.prototype.slice.call(arguments,1);B.length&&1<C.length;)I+=C.shift()+B.shift();return I+C.join("%s")}function vs(u){return mi.test(u)&&(-1!=u.indexOf("&")&&(u=u.replace(Xi,"&amp;")),-1!=u.indexOf("<")&&(u=u.replace(Mr,"&lt;")),-1!=u.indexOf(">")&&(u=u.replace(Wi,"&gt;")),-1!=u.indexOf('"')&&(u=u.replace(Nt,"&quot;")),-1!=u.indexOf("'")&&(u=u.replace(Wt,"&#39;")),-1!=u.indexOf("\0")&&(u=u.replace(_n,"&#0;"))),u}function ii(u){return ii[" "](u),u}ii[" "]=Ge;var sr,u,Sa=Fn("Opera"),_i=Fn("Trident")||Fn("MSIE"),Ia=Fn("Edge"),xc=Ia||_i,Nr=Fn("Gecko")&&!(Or(ji.toLowerCase(),"webkit")&&!Fn("Edge"))&&!(Fn("Trident")||Fn("MSIE"))&&!Fn("Edge"),md=Or(ji.toLowerCase(),"webkit")&&!Fn("Edge");function Gl(){var u=oe.document;return u?u.documentMode:void 0}e:{var fr="",Jt=(u=ji,Nr?/rv:([^\);]+)(\)|;)/.exec(u):Ia?/Edge\/([\d\.]+)/.exec(u):_i?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):md?/WebKit\/(\S+)/.exec(u):Sa?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(Jt&&(fr=Jt?Jt[1]:""),_i){var So=Gl();if(null!=So&&So>parseFloat(fr)){sr=String(So);break e}}sr=fr}var jn={};function Sn(u){return function Ns(u,p){var C=jn;return Object.prototype.hasOwnProperty.call(C,u)?C[u]:C[u]=p(u)}(u,function(){for(var p=0,C=sa(String(sr)).split("."),I=sa(String(u)).split("."),B=Math.max(C.length,I.length),W=0;0==p&&W<B;W++){var ee=C[W]||"",ye=I[W]||"";do{if(ee=/(\d*)(\D*)(.*)/.exec(ee)||["","","",""],ye=/(\d*)(\D*)(.*)/.exec(ye)||["","","",""],0==ee[0].length&&0==ye[0].length)break;p=To(0==ee[1].length?0:parseInt(ee[1],10),0==ye[1].length?0:parseInt(ye[1],10))||To(0==ee[2].length,0==ye[2].length)||To(ee[2],ye[2]),ee=ee[3],ye=ye[3]}while(0==p)}return 0<=p})}var bi=oe.document&&_i&&(Gl()||parseInt(sr,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var kr=!_i||9<=Number(bi);function Bn(u){var p=document;return"string"==typeof u?p.getElementById(u):u}function Ei(u,p){Ko(p,function(C,I){C&&"object"==typeof C&&C.ta&&(C=C.sa()),"style"==I?u.style.cssText=C:"class"==I?u.className=C:"for"==I?u.htmlFor=C:Qo.hasOwnProperty(I)?u.setAttribute(Qo[I],C):0==I.lastIndexOf("aria-",0)||0==I.lastIndexOf("data-",0)?u.setAttribute(I,C):u[I]=C})}var al,la,Qo={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ys(u,p,C){function I(ye){ye&&p.appendChild("string"==typeof ye?u.createTextNode(ye):ye)}for(var B=2;B<C.length;B++){var W=C[B];if(!ht(W)||qe(W)&&0<W.nodeType)I(W);else{e:{if(W&&"number"==typeof W.length){if(qe(W)){var ee="function"==typeof W.item||"string"==typeof W.item;break e}if(ut(W)){ee="function"==typeof W.item;break e}}ee=!1}Cn(ee?Rn(W):W,I)}}}function fo(u,p){return p=String(p),"application/xhtml+xml"===u.contentType&&(p=p.toLowerCase()),u.createElement(p)}function ua(u){oe.setTimeout(function(){throw u},0)}function ks(u,p){la||function Rs(){if(oe.Promise&&oe.Promise.resolve){var u=oe.Promise.resolve(void 0);la=function(){u.then(xu)}}else la=function(){var p=xu;!ut(oe.setImmediate)||oe.Window&&oe.Window.prototype&&!Fn("Edge")&&oe.Window.prototype.setImmediate==oe.setImmediate?(al||(al=function Jo(){var u=oe.MessageChannel;if(typeof u>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Fn("Presto")&&(u=function(){var B=fo(document,"IFRAME");B.style.display="none",document.documentElement.appendChild(B);var W=B.contentWindow;(B=W.document).open(),B.close();var ee="callImmediate"+Math.random(),ye="file:"==W.location.protocol?"*":W.location.protocol+"//"+W.location.host;B=F(function(it){("*"==ye||it.origin==ye)&&it.data==ee&&this.port1.onmessage()},this),W.addEventListener("message",B,!1),this.port1={},this.port2={postMessage:function(){W.postMessage(ee,ye)}}}),typeof u<"u"&&!Fn("Trident")&&!Fn("MSIE")){var p=new u,C={},I=C;return p.port1.onmessage=function(){if(void 0!==C.next){var B=(C=C.next).Hb;C.Hb=null,B()}},function(B){I.next={Hb:B},I=I.next,p.port2.postMessage(0)}}return function(B){oe.setTimeout(B,0)}}()),al(p)):oe.setImmediate(p)}}(),zl||(la(),zl=!0),vd.add(u,p)}var zl=!1,vd=new $t;function xu(){for(var u;u=Lr();){try{u.a.call(u.b)}catch(p){ua(p)}Xe(on,u)}zl=!1}function hr(u,p){if(this.a=xa,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,u!=Ge)try{var C=this;u.call(p,function(I){ho(C,Fs,I)},function(I){if(!(I instanceof ll))try{throw I instanceof Error?I:Error("Promise rejected.")}catch{}ho(C,Ls,I)})}catch(I){ho(this,Ls,I)}}var xa=0,Fs=2,Ls=3;function _s(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_s.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var lr=new lt(function(){return new _s},function(u){u.reset()});function nu(u,p,C){var I=lr.get();return I.g=u,I.b=p,I.f=C,I}function Yt(u){if(u instanceof hr)return u;var p=new hr(Ge);return ho(p,Fs,u),p}function Wr(u){return new hr(function(p,C){C(u)})}function bs(u,p,C){iu(u,p,C,null)||ks(Lt(p,u))}function qi(u){return new hr(function(p){var C=u.length,I=[];if(C)for(var B=function(ye,it,mt){C--,I[ye]=it?{Qb:!0,value:mt}:{Qb:!1,reason:mt},0==C&&p(I)},W=0;W<u.length;W++)bs(u[W],Lt(B,W,!0),Lt(B,W,!1));else p(I)})}function yd(u,p){if(u.a==xa)if(u.c){var C=u.c;if(C.b){for(var I=0,B=null,W=null,ee=C.b;ee&&(ee.c||(I++,ee.a==u&&(B=ee),!(B&&1<I)));ee=ee.next)B||(W=ee);B&&(C.a==xa&&1==I?yd(C,p):(W?((I=W).next==C.f&&(C.f=I),I.next=I.next.next):Us(C),ou(C,B,Ls,p)))}u.c=null}else ho(u,Ls,p)}function $o(u,p){u.b||u.a!=Fs&&u.a!=Ls||Kl(u),u.f?u.f.next=p:u.b=p,u.f=p}function Wl(u,p,C,I){var B=nu(null,null,null);return B.a=new hr(function(W,ee){B.g=p?function(ye){try{var it=p.call(I,ye);W(it)}catch(mt){ee(mt)}}:W,B.b=C?function(ye){try{var it=C.call(I,ye);void 0===it&&ye instanceof ll?ee(ye):W(it)}catch(mt){ee(mt)}}:ee}),B.a.c=u,$o(u,B),B.a}function ho(u,p,C){u.a==xa&&(u===C&&(p=Ls,C=new TypeError("Promise cannot resolve to itself")),u.a=1,iu(C,u.$c,u.ad,u)||(u.i=C,u.a=p,u.c=null,Kl(u),p!=Ls||C instanceof ll||function Io(u,p){u.g=!0,ks(function(){u.g&&ul.call(null,p)})}(u,C)))}function iu(u,p,C,I){if(u instanceof hr)return $o(u,nu(p||Ge,C||null,I)),!0;if(Oe(u))return u.then(p,C,I),!0;if(qe(u))try{var B=u.then;if(ut(B))return function Yl(u,p,C,I,B){function W(it){ye||(ye=!0,I.call(B,it))}var ye=!1;try{p.call(u,function ee(it){ye||(ye=!0,C.call(B,it))},W)}catch(it){W(it)}}(u,B,p,C,I),!0}catch(W){return C.call(I,W),!0}return!1}function Kl(u){u.h||(u.h=!0,ks(u.gc,u))}function Us(u){var p=null;return u.b&&(u.b=(p=u.b).next,p.next=null),u.b||(u.f=null),p}function ou(u,p,C,I){if(C==Ls&&p.b&&!p.c)for(;u&&u.g;u=u.c)u.g=!1;if(p.a)p.a.c=null,Pa(p,C,I);else try{p.c?p.g.call(p.f):Pa(p,C,I)}catch(B){ul.call(null,B)}Xe(lr,p)}function Pa(u,p,C){p==Fs?u.g.call(u.f,C):u.b&&u.b.call(u.f,C)}hr.prototype.then=function(u,p,C){return Wl(this,ut(u)?u:null,ut(p)?p:null,C)},hr.prototype.$goog_Thenable=!0,(Q=hr.prototype).oa=function(u,p){return(u=nu(u,u,p)).c=!0,$o(this,u),this},Q.o=function(u,p){return Wl(this,null,u,p)},Q.cancel=function(u){if(this.a==xa){var p=new ll(u);ks(function(){yd(this,p)},this)}},Q.$c=function(u){this.a=xa,ho(this,Fs,u)},Q.ad=function(u){this.a=xa,ho(this,Ls,u)},Q.gc=function(){for(var u;u=Us(this);)ou(this,u,this.a,this.i);this.h=!1};var ul=ua;function ll(u){Ee.call(this,u)}function ca(){0!=da&&($r[bn(this)]=this),this.ya=this.ya,this.pa=this.pa}Dt(ll,Ee),ll.prototype.name="cancel";var da=0,$r={};function Ai(u){if(!u.ya&&(u.ya=!0,u.Da(),0!=da)){var p=bn(u);if(0!=da&&u.pa&&0<u.pa.length)throw Error(u+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete $r[p]}}ca.prototype.ya=!1,ca.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Cf=Object.freeze||function(u){return u},Ql=!_i||9<=Number(bi),Ma=_i&&!Sn("9"),E=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{oe.addEventListener("test",Ge,p),oe.removeEventListener("test",Ge,p)}catch{}return u}();function S(u,p){this.type=u,this.b=this.target=p,this.defaultPrevented=!1}function R(u,p){if(S.call(this,u?u.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,u){var C=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.b=p,p=u.relatedTarget){if(Nr){e:{try{ii(p.nodeName);var B=!0;break e}catch{}B=!1}B||(p=null)}}else"mouseover"==C?p=u.fromElement:"mouseout"==C&&(p=u.toElement);this.relatedTarget=p,I?(this.clientX=void 0!==I.clientX?I.clientX:I.pageX,this.clientY=void 0!==I.clientY?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:j[u.pointerType]||"",this.a=u,u.defaultPrevented&&this.preventDefault()}}S.prototype.preventDefault=function(){this.defaultPrevented=!0},Dt(R,S);var j=Cf({2:"touch",3:"pen",4:"mouse"});R.prototype.preventDefault=function(){R.bb.preventDefault.call(this);var u=this.a;if(u.preventDefault)u.preventDefault();else if(u.returnValue=!1,Ma)try{(u.ctrlKey||112<=u.keyCode&&123>=u.keyCode)&&(u.keyCode=-1)}catch{}},R.prototype.g=function(){return this.a};var G="closure_listenable_"+(1e6*Math.random()|0),z=0;function te(u,p,C,I,B){this.listener=u,this.proxy=null,this.src=p,this.type=C,this.capture=!!I,this.Wa=B,this.key=++z,this.wa=this.Qa=!1}function me(u){u.wa=!0,u.listener=null,u.proxy=null,u.src=null,u.Wa=null}function pe(u){this.src=u,this.a={},this.b=0}function xe(u,p){var C=p.type;C in u.a&&Et(u.a[C],p)&&(me(p),0==u.a[C].length&&(delete u.a[C],u.b--))}function Ke(u,p,C,I){for(var B=0;B<u.length;++B){var W=u[B];if(!W.wa&&W.listener==p&&W.capture==!!C&&W.Wa==I)return B}return-1}pe.prototype.add=function(u,p,C,I,B){var W=u.toString();(u=this.a[W])||(u=this.a[W]=[],this.b++);var ee=Ke(u,p,I,B);return-1<ee?(p=u[ee],C||(p.Qa=!1)):((p=new te(p,this.src,W,!!I,B)).Qa=C,u.push(p)),p};var Re="closure_lm_"+(1e6*Math.random()|0),je={};function ln(u,p,C,I,B){if(I&&I.once)Pi(u,p,C,I,B);else if(Array.isArray(p))for(var W=0;W<p.length;W++)ln(u,p[W],C,I,B);else C=Vs(C),u&&u[G]?Na(u,p,C,qe(I)?!!I.capture:!!I,B):vr(u,p,C,!1,I,B)}function vr(u,p,C,I,B,W){if(!p)throw Error("Invalid event type");var ee=qe(B)?!!B.capture:!!B,ye=Wn(u);if(ye||(u[Re]=ye=new pe(u)),!(C=ye.add(p,C,I,ee,W)).proxy)if(I=function Hn(){var u=yr,p=Ql?function(C){return u.call(p.src,p.listener,C)}:function(C){if(!(C=u.call(p.src,p.listener,C)))return C};return p}(),C.proxy=I,I.src=u,I.listener=C,u.addEventListener)E||(B=ee),void 0===B&&(B=!1),u.addEventListener(p.toString(),I,B);else if(u.attachEvent)u.attachEvent(ct(p.toString()),I);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(I)}}function Pi(u,p,C,I,B){if(Array.isArray(p))for(var W=0;W<p.length;W++)Pi(u,p[W],C,I,B);else C=Vs(C),u&&u[G]?Vo(u,p,C,qe(I)?!!I.capture:!!I,B):vr(u,p,C,!0,I,B)}function xr(u,p,C,I,B){if(Array.isArray(p))for(var W=0;W<p.length;W++)xr(u,p[W],C,I,B);else I=qe(I)?!!I.capture:!!I,C=Vs(C),u&&u[G]?(u=u.v,(p=String(p).toString())in u.a&&-1<(C=Ke(W=u.a[p],C,I,B))&&(me(W[C]),Array.prototype.splice.call(W,C,1),0==W.length&&(delete u.a[p],u.b--))):u&&(u=Wn(u))&&(p=u.a[p.toString()],u=-1,p&&(u=Ke(p,C,I,B)),(C=-1<u?p[u]:null)&&xo(C))}function xo(u){if("number"!=typeof u&&u&&!u.wa){var p=u.src;if(p&&p[G])xe(p.v,u);else{var C=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(C,I,u.capture):p.detachEvent?p.detachEvent(ct(C),I):p.addListener&&p.removeListener&&p.removeListener(I),(C=Wn(p))?(xe(C,u),0==C.b&&(C.src=null,p[Re]=null)):me(u)}}}function ct(u){return u in je?je[u]:je[u]="on"+u}function Vt(u,p,C,I){var B=!0;if((u=Wn(u))&&(p=u.a[p.toString()]))for(p=p.concat(),u=0;u<p.length;u++){var W=p[u];W&&W.capture==C&&!W.wa&&(W=Bs(W,I),B=B&&!1!==W)}return B}function Bs(u,p){var C=u.listener,I=u.Wa||u.src;return u.Qa&&xo(u),C.call(I,p)}function yr(u,p){if(u.wa)return!0;if(!Ql){if(!p)e:{p=["window","event"];for(var C=oe,I=0;I<p.length;I++)if(null==(C=C[p[I]])){p=null;break e}p=C}if(p=new R(I=p,this),C=!0,!(0>I.keyCode||null!=I.returnValue)){e:{var B=!1;if(0==I.keyCode)try{I.keyCode=-1;break e}catch{B=!0}(B||null==I.returnValue)&&(I.returnValue=!0)}for(I=[],B=p.b;B;B=B.parentNode)I.push(B);for(u=u.type,B=I.length-1;0<=B;B--){p.b=I[B];var W=Vt(I[B],u,!0,p);C=C&&W}for(B=0;B<I.length;B++)p.b=I[B],W=Vt(I[B],u,!1,p),C=C&&W}return C}return Bs(u,new R(p,this))}function Wn(u){return(u=u[Re])instanceof pe?u:null}var Oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vs(u){return ut(u)?u:(u[Oa]||(u[Oa]=function(p){return u.handleEvent(p)}),u[Oa])}function Er(){ca.call(this),this.v=new pe(this),this.bc=this,this.hb=null}function Na(u,p,C,I,B){u.v.add(String(p),C,!1,I,B)}function Vo(u,p,C,I,B){u.v.add(String(p),C,!0,I,B)}function Xo(u,p,C,I){if(!(p=u.v.a[String(p)]))return!0;p=p.concat();for(var B=!0,W=0;W<p.length;++W){var ee=p[W];if(ee&&!ee.wa&&ee.capture==C){var ye=ee.listener,it=ee.Wa||ee.src;ee.Qa&&xe(u.v,ee),B=!1!==ye.call(it,I)&&B}}return B&&!I.defaultPrevented}function Rr(u,p,C){if(ut(u))C&&(u=F(u,C));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=F(u.handleEvent,u)}return 2147483647<Number(p)?-1:oe.setTimeout(u,p||0)}function Zi(u){var p=null;return new hr(function(C,I){-1==(p=Rr(function(){C(void 0)},u))&&I(Error("Failed to schedule timer."))}).o(function(C){throw oe.clearTimeout(p),C})}function Jl(u){if(u.X&&"function"==typeof u.X)return u.X();if("string"==typeof u)return u.split("");if(ht(u)){for(var p=[],C=u.length,I=0;I<C;I++)p.push(u[I]);return p}for(I in p=[],C=0,u)p[C++]=u[I];return p}function Yr(u){if(u.Y&&"function"==typeof u.Y)return u.Y();if(!u.X||"function"!=typeof u.X){if(ht(u)||"string"==typeof u){var p=[];u=u.length;for(var C=0;C<u;C++)p.push(C);return p}for(var I in p=[],C=0,u)p[C++]=I;return p}}function su(u,p){this.b={},this.a=[],this.c=0;var C=arguments.length;if(1<C){if(C%2)throw Error("Uneven number of arguments");for(var I=0;I<C;I+=2)this.set(arguments[I],arguments[I+1])}else if(u)if(u instanceof su)for(C=u.Y(),I=0;I<C.length;I++)this.set(C[I],u.get(C[I]));else for(I in u)this.set(I,u[I])}function js(u){if(u.c!=u.a.length){for(var p=0,C=0;p<u.a.length;){var I=u.a[p];Po(u.b,I)&&(u.a[C++]=I),p++}u.a.length=C}if(u.c!=u.a.length){var B={};for(C=p=0;p<u.a.length;)Po(B,I=u.a[p])||(u.a[C++]=I,B[I]=1),p++;u.a.length=C}}function Po(u,p){return Object.prototype.hasOwnProperty.call(u,p)}Dt(Er,ca),Er.prototype[G]=!0,Er.prototype.addEventListener=function(u,p,C,I){ln(this,u,p,C,I)},Er.prototype.removeEventListener=function(u,p,C,I){xr(this,u,p,C,I)},Er.prototype.dispatchEvent=function(u){var p,C=this.hb;if(C)for(p=[];C;C=C.hb)p.push(C);C=this.bc;var I=u.type||u;if("string"==typeof u)u=new S(u,C);else if(u instanceof S)u.target=u.target||C;else{var B=u;$e(u=new S(I,C),B)}if(B=!0,p)for(var W=p.length-1;0<=W;W--){var ee=u.b=p[W];B=Xo(ee,I,!0,u)&&B}if(B=Xo(ee=u.b=C,I,!0,u)&&B,B=Xo(ee,I,!1,u)&&B,p)for(W=0;W<p.length;W++)B=Xo(ee=u.b=p[W],I,!1,u)&&B;return B},Er.prototype.Da=function(){if(Er.bb.Da.call(this),this.v){var C,u=this.v;for(C in u.a){for(var I=u.a[C],B=0;B<I.length;B++)me(I[B]);delete u.a[C],u.b--}}this.hb=null},(Q=su.prototype).X=function(){js(this);for(var u=[],p=0;p<this.a.length;p++)u.push(this.b[this.a[p]]);return u},Q.Y=function(){return js(this),this.a.concat()},Q.clear=function(){this.b={},this.c=this.a.length=0},Q.get=function(u,p){return Po(this.b,u)?this.b[u]:p},Q.set=function(u,p){Po(this.b,u)||(this.c++,this.a.push(u)),this.b[u]=p},Q.forEach=function(u,p){for(var C=this.Y(),I=0;I<C.length;I++){var B=C[I],W=this.get(B);u.call(p,W,B,this)}};var Pr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Gi(u,p){var C;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,u instanceof Gi?(this.i=void 0!==p?p:u.i,jo(this,u.c),this.l=u.l,this.a=u.a,au(this,u.g),this.f=u.f,Pu(this,He(u.b)),this.h=u.h):u&&(C=String(u).match(Pr))?(this.i=!!p,jo(this,C[1]||"",!0),this.l=ha(C[2]||""),this.a=ha(C[3]||"",!0),au(this,C[4]),this.f=ha(C[5]||"",!0),Pu(this,C[6]||"",!0),this.h=ha(C[7]||"")):(this.i=!!p,this.b=new fi(null,this.i))}function jo(u,p,C){u.c=C?ha(p,!0):p,u.c&&(u.c=u.c.replace(/:$/,""))}function au(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.g=p}else u.g=null}function Pu(u,p,C){p instanceof fi?(u.b=p,function st(u,p){p&&!u.f&&(Si(u),u.c=null,u.a.forEach(function(C,I){var B=I.toLowerCase();I!=B&&(ws(this,I),Se(this,B,C))},u)),u.f=p}(u.b,u.i)):(C||(p=Di(p,ec)),u.b=new fi(p,u.i))}function Kr(u,p,C){u.b.set(p,C)}function di(u,p){return u.b.get(p)}function po(u){return u instanceof Gi?new Gi(u):new Gi(u,void 0)}function es(u,p,C,I){var B=new Gi(null,void 0);return u&&jo(B,u),p&&(B.a=p),C&&au(B,C),I&&(B.f=I),B}function ha(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Di(u,p,C){return"string"==typeof u?(u=encodeURI(u).replace(p,Mu),C&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Mu(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}Gi.prototype.toString=function(){var u=[],p=this.c;p&&u.push(Di(p,ka,!0),":");var C=this.a;return(C||"file"==p)&&(u.push("//"),(p=this.l)&&u.push(Di(p,ka,!0),"@"),u.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(C=this.g)&&u.push(":",String(C))),(C=this.f)&&(this.a&&"/"!=C.charAt(0)&&u.push("/"),u.push(Di(C,"/"==C.charAt(0)?Xl:Ra,!0))),(C=this.b.toString())&&u.push("?",C),(C=this.h)&&u.push("#",Di(C,cl)),u.join("")},Gi.prototype.resolve=function(u){var p=new Gi(this),C=!!u.c;C?jo(p,u.c):C=!!u.l,C?p.l=u.l:C=!!u.a,C?p.a=u.a:C=null!=u.g;var I=u.f;if(C)au(p,u.g);else if(C=!!u.f){if("/"!=I.charAt(0))if(this.a&&!this.f)I="/"+I;else{var B=p.f.lastIndexOf("/");-1!=B&&(I=p.f.substr(0,B+1)+I)}if(".."==(B=I)||"."==B)I="";else if(Or(B,"./")||Or(B,"/.")){I=0==B.lastIndexOf("/",0),B=B.split("/");for(var W=[],ee=0;ee<B.length;){var ye=B[ee++];"."==ye?I&&ee==B.length&&W.push(""):".."==ye?((1<W.length||1==W.length&&""!=W[0])&&W.pop(),I&&ee==B.length&&W.push("")):(W.push(ye),I=!0)}I=W.join("/")}else I=B}return C?p.f=I:C=""!==u.b.toString(),C?Pu(p,He(u.b)):C=!!u.h,C&&(p.h=u.h),p};var ka=/[#\/\?@]/g,Ra=/[#\?:]/g,Xl=/[#\?]/g,ec=/[#\?@]/g,cl=/#/g;function fi(u,p){this.b=this.a=null,this.c=u||null,this.f=!!p}function Si(u){u.a||(u.a=new su,u.b=0,u.c&&function fa(u,p){if(u){u=u.split("&");for(var C=0;C<u.length;C++){var I=u[C].indexOf("="),B=null;if(0<=I){var W=u[C].substring(0,I);B=u[C].substring(I+1)}else W=u[C];p(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}(u.c,function(p,C){u.add(decodeURIComponent(p.replace(/\+/g," ")),C)}))}function oi(u){var p=Yr(u);if(typeof p>"u")throw Error("Keys are undefined");var C=new fi(null,void 0);u=Jl(u);for(var I=0;I<p.length;I++){var B=p[I],W=u[I];Array.isArray(W)?Se(C,B,W):C.add(B,W)}return C}function ws(u,p){Si(u),p=We(u,p),Po(u.a.b,p)&&(u.c=null,u.b-=u.a.get(p).length,Po((u=u.a).b,p)&&(delete u.b[p],u.c--,u.a.length>2*u.c&&js(u)))}function ce(u,p){return Si(u),p=We(u,p),Po(u.a.b,p)}function Se(u,p,C){ws(u,p),0<C.length&&(u.c=null,u.a.set(We(u,p),Rn(C)),u.b+=C.length)}function He(u){var p=new fi;return p.c=u.c,u.a&&(p.a=new su(u.a),p.b=u.b),p}function We(u,p){return p=String(p),u.f&&(p=p.toLowerCase()),p}function It(u){var p=[];return Rt(new kt,u,p),p.join("")}function kt(){}function Rt(u,p,C){if(null==p)C.push("null");else{if("object"==typeof p){if(Array.isArray(p)){var I=p;p=I.length,C.push("[");for(var B="",W=0;W<p;W++)C.push(B),Rt(u,I[W],C),B=",";return void C.push("]")}if(!(p instanceof String||p instanceof Number||p instanceof Boolean)){for(I in C.push("{"),B="",p)Object.prototype.hasOwnProperty.call(p,I)&&"function"!=typeof(W=p[I])&&(C.push(B),tn(I,C),C.push(":"),Rt(u,W,C),B=",");return void C.push("}")}p=p.valueOf()}switch(typeof p){case"string":tn(p,C);break;case"number":C.push(isFinite(p)&&!isNaN(p)?String(p):"null");break;case"boolean":C.push(String(p));break;case"function":C.push("null");break;default:throw Error("Unknown type: "+typeof p)}}}(Q=fi.prototype).add=function(u,p){Si(this),this.c=null,u=We(this,u);var C=this.a.get(u);return C||this.a.set(u,C=[]),C.push(p),this.b+=1,this},Q.clear=function(){this.a=this.c=null,this.b=0},Q.forEach=function(u,p){Si(this),this.a.forEach(function(C,I){Cn(C,function(B){u.call(p,B,I,this)},this)},this)},Q.Y=function(){Si(this);for(var u=this.a.X(),p=this.a.Y(),C=[],I=0;I<p.length;I++)for(var B=u[I],W=0;W<B.length;W++)C.push(p[I]);return C},Q.X=function(u){Si(this);var p=[];if("string"==typeof u)ce(this,u)&&(p=Tr(p,this.a.get(We(this,u))));else{u=this.a.X();for(var C=0;C<u.length;C++)p=Tr(p,u[C])}return p},Q.set=function(u,p){return Si(this),this.c=null,ce(this,u=We(this,u))&&(this.b-=this.a.get(u).length),this.a.set(u,[p]),this.b+=1,this},Q.get=function(u,p){return u&&0<(u=this.X(u)).length?String(u[0]):p},Q.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var u=[],p=this.a.Y(),C=0;C<p.length;C++){var I=p[C],B=encodeURIComponent(String(I));I=this.X(I);for(var W=0;W<I.length;W++){var ee=B;""!==I[W]&&(ee+="="+encodeURIComponent(String(I[W]))),u.push(ee)}}return this.c=u.join("&")};var Ut={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},pr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function tn(u,p){p.push('"',u.replace(pr,function(C){var I=Ut[C];return I||(I="\\u"+(65536|C.charCodeAt(0)).toString(16).substr(1),Ut[C]=I),I}),'"')}function nn(){var u=wr();return _i&&!!bi&&11==bi||/Edge\/\d+/.test(u)}function Ln(){return oe.window&&oe.window.location.href||self&&self.location&&self.location.href||""}function gn(u,p){p=p||oe.window;var C="about:blank";u&&(C=Ot(ms(u)||ri)),p.location.href=C}function qr(u,p){var I,C=[];for(I in u)I in p?typeof u[I]!=typeof p[I]?C.push(I):"object"==typeof u[I]&&null!=u[I]&&null!=p[I]?0<qr(u[I],p[I]).length&&C.push(I):u[I]!==p[I]&&C.push(I):C.push(I);for(I in p)I in u||C.push(I);return C}function hi(u){return!!((u=(u||wr()).toLowerCase()).match(/android/)||u.match(/webos/)||u.match(/iphone|ipad|ipod/)||u.match(/blackberry/)||u.match(/windows phone/)||u.match(/iemobile/))}function Ki(u){u=u||oe.window;try{u.close()}catch{}}function Zr(u,p,C){var I=Math.floor(1e9*Math.random()).toString();p=p||500,C=C||600;var B=(window.screen.availHeight-C)/2,W=(window.screen.availWidth-p)/2;for(ee in p={width:p,height:C,top:0<B?B:0,left:0<W?W:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},C=wr().toLowerCase(),I&&(p.target=I,Or(C,"crios/")&&(p.target="_blank")),nt(wr())==K&&(u=u||"http://localhost",p.scrollbars=!0),C=u||"",(u=p)||(u={}),I=window,p=C instanceof Br?C:ms(typeof C.href<"u"?C.href:String(C))||ri,C=u.target||C.target,B=[],u)switch(ee){case"width":case"height":case"top":case"left":B.push(ee+"="+u[ee]);break;case"target":case"noopener":case"noreferrer":break;default:B.push(ee+"="+(u[ee]?1:0))}var ee=B.join(",");if((Fn("iPhone")&&!Fn("iPod")&&!Fn("iPad")||Fn("iPad")||Fn("iPod"))&&I.navigator&&I.navigator.standalone&&C&&"_self"!=C?(Fe(ee=fo(document,"A"),"HTMLAnchorElement"),p=p instanceof Br?p:yi(p),ee.href=Ot(p),ee.setAttribute("target",C),u.noreferrer&&ee.setAttribute("rel","noreferrer"),(u=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,I,1),ee.dispatchEvent(u),ee={}):u.noreferrer?(ee=Os("",I,C,ee),u=Ot(p),ee&&(xc&&Or(u,";")&&(u="'"+u.replace(/'/g,"%27")+"'"),ee.opener=null,u='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+vs(u)+'">',u=new eo(u=(I=Ur())?I.createHTML(u):u,null,Zn),I=ee.document)&&(I.write(function eu(u){return u instanceof eo&&u.constructor===eo?u.a:(Pe("expected object of type SafeHtml, got '"+u+"' of type "+Me(u)),"type_error:SafeHtml")}(u)),I.close())):(ee=Os(p,I,C,ee))&&u.noopener&&(ee.opener=null),ee)try{ee.focus()}catch{}return ee}var wi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pc=/^[^@]+@[^@]+$/;function pa(){var u=null;return new hr(function(p){"complete"==oe.document.readyState?p():(u=function(){p()},Pi(window,"load",u))}).o(function(p){throw xr(window,"load",u),p})}function dl(u){return u=u||wr(),!("file:"!==fl()&&"ionic:"!==fl()||!u.toLowerCase().match(/iphone|ipad|ipod|android/))}function _d(){var u=oe.window;try{return!(!u||u==u.top)}catch{return!1}}function Hs(){return typeof oe.WorkerGlobalScope<"u"&&"function"==typeof oe.importScripts}function go(){return a.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":a.Z.INTERNAL.hasOwnProperty("node")?"Node":Hs()?"Worker":"Browser"}function N(){var u=go();return"ReactNative"===u||"Node"===u}var K="Firefox";function nt(u){var p=u.toLowerCase();return Or(p,"opera/")||Or(p,"opr/")||Or(p,"opios/")?"Opera":Or(p,"iemobile")?"IEMobile":Or(p,"msie")||Or(p,"trident/")?"IE":Or(p,"edge/")?"Edge":Or(p,"firefox/")?K:Or(p,"silk/")?"Silk":Or(p,"blackberry")?"Blackberry":Or(p,"webos")?"Webos":!Or(p,"safari/")||Or(p,"chrome/")||Or(p,"crios/")||Or(p,"android")?!Or(p,"chrome/")&&!Or(p,"crios/")||Or(p,"edge/")?Or(p,"android")?"Android":(u=u.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==u.length?u[1]:"Other":"Chrome":"Safari"}var Xt={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Jn(u,p){p=p||[];var B,C=[],I={};for(B in Xt)I[Xt[B]]=!0;for(B=0;B<p.length;B++)typeof I[p[B]]<"u"&&(delete I[p[B]],C.push(p[B]));return C.sort(),(p=C).length||(p=["FirebaseCore-web"]),"Browser"===(C=go())?C=nt(I=wr()):"Worker"===C&&(C=nt(I=wr())+"-"+C),C+"/JsCore/"+u+"/"+p.join(",")}function wr(){return oe.navigator&&oe.navigator.userAgent||""}function En(u,p){u=u.split("."),p=p||oe;for(var C=0;C<u.length&&"object"==typeof p&&null!=p;C++)p=p[u[C]];return C!=u.length&&(p=void 0),p}function uu(){try{var u=oe.localStorage,p=rc();if(u)return u.setItem(p,"1"),u.removeItem(p),!nn()||!!oe.indexedDB}catch{return Hs()&&!!oe.indexedDB}return!1}function Mo(){return(tc()||"chrome-extension:"===fl()||dl())&&!N()&&uu()&&!Hs()}function tc(){return"http:"===fl()||"https:"===fl()}function fl(){return oe.location&&oe.location.protocol||null}function lu(u){return!(hi(u=u||wr())||nt(u)==K)}function nc(u){return typeof u>"u"?null:It(u)}function Mc(u){var C,p={};for(C in u)u.hasOwnProperty(C)&&null!=u[C]&&(p[C]=u[C]);return p}function hl(u){if(null!==u)return JSON.parse(u)}function rc(u){return u||Math.floor(1e9*Math.random()).toString()}function bd(u){return!("Safari"==nt(u=u||wr())||u.toLowerCase().match(/iphone|ipad|ipod/))}function Tf(){var u=oe.___jsl;if(u&&u.H)for(var p in u.H)if(u.H[p].r=u.H[p].r||[],u.H[p].L=u.H[p].L||[],u.H[p].r=u.H[p].L.concat(),u.CP)for(var C=0;C<u.CP.length;C++)u.CP[C]=null}function pl(u,p){if(u>p)throw Error("Short delay should be less than long delay!");this.a=u,this.c=p,u=wr(),p=go(),this.b=hi(u)||"ReactNative"===p}function gl(){var u=oe.document;return!(u&&typeof u.visibilityState<"u")||"visible"==u.visibilityState}function Ef(u){try{var p=new Date(parseInt(u,10));if(!isNaN(p.getTime())&&!/[^0-9]/.test(u))return p.toUTCString()}catch{}return null}function Sp(){return!(!En("fireauth.oauthhelper",oe)&&!En("fireauth.iframe",oe))}pl.prototype.get=function(){var u=oe.navigator;return u&&"boolean"==typeof u.onLine&&(tc()||"chrome-extension:"===fl()||typeof u.connection<"u")&&!u.onLine?Math.min(5e3,this.a):this.b?this.c:this.a};var Td,Af={};function Cd(u){Af[u]||(Af[u]=!0,typeof console<"u"&&"function"==typeof console.warn&&console.warn(u))}try{var Df={};Object.defineProperty(Df,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Df,"abcd",{configurable:!0,enumerable:!0,value:2}),Td=2==Df.abcd}catch{Td=!1}function sn(u,p,C){Td?Object.defineProperty(u,p,{configurable:!0,enumerable:!0,value:C}):u[p]=C}function Ho(u,p){if(p)for(var C in p)p.hasOwnProperty(C)&&sn(u,C,p[C])}function ts(u){var p={};return Ho(p,u),p}function Ah(u){var p=u;if("object"==typeof u&&null!=u)for(var C in p="length"in u?[]:{},u)sn(p,C,Ah(u[C]));return p}function If(u){var p=u&&(u[Dh]?"phone":null);if(!(p&&u&&u[Qr]))throw new Te("internal-error","Internal assert: invalid MultiFactorInfo object");sn(this,"uid",u[Qr]),sn(this,"displayName",u[Zg]||null);var C=null;u[xf]&&(C=new Date(u[xf]).toUTCString()),sn(this,"enrollmentTime",C),sn(this,"factorId",p)}function ml(u){try{var p=new Ad(u)}catch{p=null}return p}If.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zg="displayName",xf="enrolledAt",Qr="mfaEnrollmentId",Dh="phoneInfo";function Ad(u){If.call(this,u),sn(this,"phoneNumber",u[Dh])}function ww(u){var p={},C=u[zv],I=u[u_],B=u[Wv];if(u=ml(u[Of]),!B||B!=Pf&&B!=Mf&&!C||B==Mf&&!I||B==Ip&&!u)throw Error("Invalid checkActionCode response!");B==Mf?(p[Nf]=C||null,p[Gg]=C||null,p[mo]=I):(p[Nf]=I||null,p[Gg]=I||null,p[mo]=C||null),p[Fa]=u||null,sn(this,ns,B),sn(this,oc,Ah(p))}Dt(Ad,If),Ad.prototype.w=function(){var u=Ad.bb.w.call(this);return u.phoneNumber=this.phoneNumber,u};var Ip="REVERT_SECOND_FACTOR_ADDITION",Pf="EMAIL_SIGNIN",Mf="VERIFY_AND_CHANGE_EMAIL",zv="email",Of="mfaInfo",u_="newEmail",Wv="requestType",mo="email",Nf="fromEmail",Fa="multiFactorInfo",Gg="previousEmail",oc="data",ns="operation";function ga(u){var p=di(u=po(u),vl)||null,C=di(u,Oc)||null,I=di(u,Yv)||null;if(I=I&&c_[I]||null,!p||!C||!I)throw new Te("argument-error",vl+", "+Oc+"and "+Yv+" are required in a valid action code URL.");Ho(this,{apiKey:p,operation:I,code:C,continueUrl:di(u,Nc)||null,languageCode:di(u,$g)||null,tenantId:di(u,l_)||null})}var vl="apiKey",Oc="oobCode",Nc="continueUrl",$g="languageCode",Yv="mode",l_="tenantId",c_={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ip,signIn:Pf,verifyAndChangeEmail:Mf,verifyEmail:"VERIFY_EMAIL"};function zg(u){try{return new ga(u)}catch{return null}}function Sh(u){var p=u[Kv];if(typeof p>"u")throw new Te("missing-continue-uri");if("string"!=typeof p||"string"==typeof p&&!p.length)throw new Te("invalid-continue-uri");this.h=p,this.b=this.a=null,this.g=!1;var C=u[no];if(C&&"object"==typeof C){p=C[kf];var I=C[xp];if(C=C[Qv],"string"==typeof p&&p.length){if(this.a=p,typeof I<"u"&&"boolean"!=typeof I)throw new Te("argument-error",xp+" property must be a boolean when specified.");if(this.g=!!I,typeof C<"u"&&("string"!=typeof C||"string"==typeof C&&!C.length))throw new Te("argument-error",Qv+" property must be a non empty string when specified.");this.b=C||null}else{if(typeof p<"u")throw new Te("argument-error",kf+" property must be a non empty string when specified.");if(typeof I<"u"||typeof C<"u")throw new Te("missing-android-pkg-name")}}else if(typeof C<"u")throw new Te("argument-error",no+" property must be a non null object when specified.");if(this.f=null,(p=u[d_])&&"object"==typeof p){if("string"==typeof(p=p[Pp])&&p.length)this.f=p;else if(typeof p<"u")throw new Te("argument-error",Pp+" property must be a non empty string when specified.")}else if(typeof p<"u")throw new Te("argument-error",d_+" property must be a non null object when specified.");if(typeof(p=u[Rc])<"u"&&"boolean"!=typeof p)throw new Te("argument-error",Rc+" property must be a boolean when specified.");if(this.c=!!p,typeof(u=u[kc])<"u"&&("string"!=typeof u||"string"==typeof u&&!u.length))throw new Te("argument-error",kc+" property must be a non empty string when specified.");this.i=u||null}var no="android",kc="dynamicLinkDomain",Rc="handleCodeInApp",d_="iOS",Kv="url",xp="installApp",Qv="minimumVersion",kf="packageName",Pp="bundleId";function sc(u){var p={};for(var C in p.continueUrl=u.h,p.canHandleCodeInApp=u.c,(p.androidPackageName=u.a)&&(p.androidMinimumVersion=u.b,p.androidInstallApp=u.g),p.iOSBundleId=u.f,p.dynamicLinkDomain=u.i,p)null===p[C]&&delete p[C];return p}var Cr=null;function Oo(u){var p=Fc(u);if(!(p&&p.sub&&p.iss&&p.aud&&p.exp))throw Error("Invalid JWT");this.h=u,this.a=p.exp,this.i=p.sub,u=Date.now()/1e3,this.g=p.iat||(u>this.a?this.a:u),this.b=p.provider_id||p.firebase&&p.firebase.sign_in_provider||null,this.f=p.firebase&&p.firebase.tenant||null,this.c=!!p.is_anonymous||"anonymous"==this.b}function Ou(u){try{return new Oo(u)}catch{return null}}function Fc(u){if(!u||3!=(u=u.split(".")).length)return null;for(var p=(4-(u=u[1]).length%4)%4,C=0;C<p;C++)u+=".";try{var I=function cu(u){var p=[];return function dn(u,p){function C(it){for(;I<u.length;){var mt=u.charAt(I++),Yn=Cr[mt];if(null!=Yn)return Yn;if(!/^[\s\xa0]*$/.test(mt))throw Error("Unknown base64 encoding at char: "+mt)}return it}!function zr(){if(!Cr){Cr={};for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),p=["+/=","+/","-_=","-_.","-_"],C=0;5>C;C++)for(var I=u.concat(p[C].split("")),B=0;B<I.length;B++){var W=I[B];void 0===Cr[W]&&(Cr[W]=B)}}}();for(var I=0;;){var B=C(-1),W=C(0),ee=C(64),ye=C(64);if(64===ye&&-1===B)break;p(B<<2|W>>4),64!=ee&&(p(W<<4&240|ee>>2),64!=ye&&p(ee<<6&192|ye))}}(u,function(C){p.push(C)}),p}(u);for(u=[],C=p=0;p<I.length;){var B=I[p++];if(128>B)u[C++]=String.fromCharCode(B);else if(191<B&&224>B){var W=I[p++];u[C++]=String.fromCharCode((31&B)<<6|63&W)}else if(239<B&&365>B){W=I[p++];var ee=I[p++],it=((7&B)<<18|(63&W)<<12|(63&ee)<<6|63&I[p++])-65536;u[C++]=String.fromCharCode(55296+(it>>10)),u[C++]=String.fromCharCode(56320+(1023&it))}else W=I[p++],ee=I[p++],u[C++]=String.fromCharCode((15&B)<<12|(63&W)<<6|63&ee)}return JSON.parse(u.join(""))}catch{}return null}Oo.prototype.T=function(){return this.f},Oo.prototype.l=function(){return this.c},Oo.prototype.toString=function(){return this.h};var Cs="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Dd=["client_id","response_type","scope","redirect_uri","state"],Ih={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Dd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Dd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Dd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Cs},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function du(u){for(var p in Ih)if(Ih[p].fa==u)return Ih[p];return null}function Lc(u){var p={};p["facebook.com"]=Ph,p["google.com"]=Mh,p["github.com"]=Uc,p["twitter.com"]=Mp;var C=u&&u[ro];try{if(C)return p[C]?new p[C](u):new Kt(u);if(typeof u[xh]<"u")return new yl(u)}catch{}return null}var xh="idToken",ro="providerId";function yl(u){var p=u[ro];if(!p&&u[xh]){var C=Ou(u[xh]);C&&C.b&&(p=C.b)}if(!p)throw Error("Invalid additional user info!");("anonymous"==p||"custom"==p)&&(p=null),C=!1,typeof u.isNewUser<"u"?C=!!u.isNewUser:"identitytoolkit#SignupNewUserResponse"===u.kind&&(C=!0),sn(this,"providerId",p),sn(this,"isNewUser",C)}function Kt(u){yl.call(this,u),sn(this,"profile",Ah((u=hl(u.rawUserInfo||"{}"))||{}))}function Ph(u){if(Kt.call(this,u),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Uc(u){if(Kt.call(this,u),"github.com"!=this.providerId)throw Error("Invalid provider ID!");sn(this,"username",this.profile&&this.profile.login||null)}function Mh(u){if(Kt.call(this,u),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Mp(u){if(Kt.call(this,u),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");sn(this,"username",u.screenName||null)}function Mi(u){var p=po(u),C=di(p,"link"),I=di(po(C),"link");return p=di(p,"deep_link_id"),di(po(p),"link")||p||I||C||u}function ac(u,p){if(!u&&!p)throw new Te("internal-error","Internal assert: no raw session string available");if(u&&p)throw new Te("internal-error","Internal assert: unable to determine the session type");this.a=u||null,this.b=p||null,this.type=this.a?La:Bc}Dt(Kt,yl),Dt(Ph,Kt),Dt(Uc,Kt),Dt(Mh,Kt),Dt(Mp,Kt);var La="enroll",Bc="signin";function qs(){}function rs(u,p){return u.then(function(C){if(C[Ws]){var I=Ou(C[Ws]);if(!I||p!=I.i)throw new Te("user-mismatch");return C}throw new Te("user-mismatch")}).o(function(C){throw C&&C.code&&C.code==xt+"user-not-found"?new Te("user-mismatch"):C})}function Nu(u,p){if(!p)throw new Te("internal-error","failed to construct a credential");this.a=p,sn(this,"providerId",u),sn(this,"signInMethod",u)}function ku(u){return{pendingToken:u.a,requestUri:"http://localhost"}}function fu(u){if(u&&u.providerId&&u.signInMethod&&0==u.providerId.indexOf("saml.")&&u.pendingToken)try{return new Nu(u.providerId,u.pendingToken)}catch{}return null}function Zs(u,p,C){if(this.a=null,p.idToken||p.accessToken)p.idToken&&sn(this,"idToken",p.idToken),p.accessToken&&sn(this,"accessToken",p.accessToken),p.nonce&&!p.pendingToken&&sn(this,"nonce",p.nonce),p.pendingToken&&(this.a=p.pendingToken);else{if(!p.oauthToken||!p.oauthTokenSecret)throw new Te("internal-error","failed to construct a credential");sn(this,"accessToken",p.oauthToken),sn(this,"secret",p.oauthTokenSecret)}sn(this,"providerId",u),sn(this,"signInMethod",C)}function Oh(u){var p={};return u.idToken&&(p.id_token=u.idToken),u.accessToken&&(p.access_token=u.accessToken),u.secret&&(p.oauth_token_secret=u.secret),p.providerId=u.providerId,u.nonce&&!u.a&&(p.nonce=u.nonce),p={postBody:oi(p).toString(),requestUri:"http://localhost"},u.a&&(delete p.postBody,p.pendingToken=u.a),p}function Ru(u){if(u&&u.providerId&&u.signInMethod){var p={idToken:u.oauthIdToken,accessToken:u.oauthTokenSecret?null:u.oauthAccessToken,oauthTokenSecret:u.oauthTokenSecret,oauthToken:u.oauthTokenSecret&&u.oauthAccessToken,nonce:u.nonce,pendingToken:u.pendingToken};try{return new Zs(u.providerId,p,u.signInMethod)}catch{}}return null}function vo(u,p){this.Qc=p||[],Ho(this,{providerId:u,isOAuthProvider:!0}),this.Jb={},this.qb=(du(u)||{}).Ja||null,this.pb=null}function Gs(u){if("string"!=typeof u||0!=u.indexOf("saml."))throw new Te("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,u,[])}function Ts(u){vo.call(this,u,Dd),this.a=[]}function Oi(){Ts.call(this,"facebook.com")}function Rf(u){if(!u)throw new Te("argument-error","credential failed: expected 1 argument (the OAuth access token).");var p=u;return qe(u)&&(p=u.accessToken),(new Oi).credential({accessToken:p})}function Fu(){Ts.call(this,"github.com")}function Ui(u){if(!u)throw new Te("argument-error","credential failed: expected 1 argument (the OAuth access token).");var p=u;return qe(u)&&(p=u.accessToken),(new Fu).credential({accessToken:p})}function Ua(){Ts.call(this,"google.com"),this.Ca("profile")}function Sd(u,p){var C=u;return qe(u)&&(C=u.idToken,p=u.accessToken),(new Ua).credential({idToken:C,accessToken:p})}function io(){vo.call(this,"twitter.com",Cs)}function si(u,p){var C=u;if(qe(C)||(C={oauthToken:u,oauthTokenSecret:p}),!C.oauthToken||!C.oauthTokenSecret)throw new Te("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Zs("twitter.com",C,"twitter.com")}function is(u,p,C){this.a=u,this.f=p,sn(this,"providerId","password"),sn(this,"signInMethod",C===$s.EMAIL_LINK_SIGN_IN_METHOD?$s.EMAIL_LINK_SIGN_IN_METHOD:$s.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Wg(u){return u&&u.email&&u.password?new is(u.email,u.password,u.signInMethod):null}function $s(){Ho(this,{providerId:"password",isOAuthProvider:!1})}function hu(u,p){if(!(p=Lu(p)))throw new Te("argument-error","Invalid email link!");return new is(u,p.code,$s.EMAIL_LINK_SIGN_IN_METHOD)}function Lu(u){return(u=zg(u=Mi(u)))&&u.operation===Pf?u:null}function Ci(u){if(!(u.fb&&u.eb||u.La&&u.ea))throw new Te("internal-error");this.a=u,sn(this,"providerId","phone"),this.fa="phone",sn(this,"signInMethod","phone")}function Ba(u){if(u&&"phone"===u.providerId&&(u.verificationId&&u.verificationCode||u.temporaryProof&&u.phoneNumber)){var p={};return Cn(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(C){u[C]&&(p[C]=u[C])}),new Ci(p)}return null}function Ff(u){return u.a.La&&u.a.ea?{temporaryProof:u.a.La,phoneNumber:u.a.ea}:{sessionInfo:u.a.fb,code:u.a.eb}}function pi(u){try{this.a=u||a.Z.auth()}catch{throw new Te("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ho(this,{providerId:"phone",isOAuthProvider:!1})}function Nh(u,p){if(!u)throw new Te("missing-verification-id");if(!p)throw new Te("missing-verification-code");return new Ci({fb:u,eb:p})}function Op(u){if(u.temporaryProof&&u.phoneNumber)return new Ci({La:u.temporaryProof,ea:u.phoneNumber});var p=u&&u.providerId;if(!p||"password"===p)return null;var C=u&&u.oauthAccessToken,I=u&&u.oauthTokenSecret,B=u&&u.nonce,W=u&&u.oauthIdToken,ee=u&&u.pendingToken;try{switch(p){case"google.com":return Sd(W,C);case"facebook.com":return Rf(C);case"github.com":return Ui(C);case"twitter.com":return si(C,I);default:return C||I||W||ee?ee?0==p.indexOf("saml.")?new Nu(p,ee):new Zs(p,{pendingToken:ee,idToken:u.oauthIdToken,accessToken:u.oauthAccessToken},p):new Ts(p).credential({idToken:W,accessToken:C,rawNonce:B}):null}}catch{return null}}function Lf(u){if(!u.isOAuthProvider)throw new Te("invalid-oauth-provider")}function ma(u,p,C,I,B,W,ee){if(this.c=u,this.b=p||null,this.g=C||null,this.f=I||null,this.i=W||null,this.h=ee||null,this.a=B||null,!this.g&&!this.a)throw new Te("invalid-auth-event");if(this.g&&this.a)throw new Te("invalid-auth-event");if(this.g&&!this.f)throw new Te("invalid-auth-event")}function Vc(u){return(u=u||{}).type?new ma(u.type,u.eventId,u.urlResponse,u.sessionId,u.error&&qt(u.error),u.postBody,u.tenantId):null}function Gn(){this.b=null,this.a=[]}ac.prototype.Ha=function(){return Yt(this.a?this.a:this.b)},ac.prototype.w=function(){return this.type==La?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},qs.prototype.ka=function(){},qs.prototype.b=function(){},qs.prototype.c=function(){},qs.prototype.w=function(){},Nu.prototype.ka=function(u){return ju(u,ku(this))},Nu.prototype.b=function(u,p){var C=ku(this);return C.idToken=p,Bd(u,C)},Nu.prototype.c=function(u,p){return rs(Vd(u,ku(this)),p)},Nu.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Zs.prototype.ka=function(u){return ju(u,Oh(this))},Zs.prototype.b=function(u,p){var C=Oh(this);return C.idToken=p,Bd(u,C)},Zs.prototype.c=function(u,p){return rs(Vd(u,Oh(this)),p)},Zs.prototype.w=function(){var u={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(u.oauthIdToken=this.idToken),this.accessToken&&(u.oauthAccessToken=this.accessToken),this.secret&&(u.oauthTokenSecret=this.secret),this.nonce&&(u.nonce=this.nonce),this.a&&(u.pendingToken=this.a),u},vo.prototype.Ka=function(u){return this.Jb=we(u),this},Dt(Gs,vo),Dt(Ts,vo),Ts.prototype.Ca=function(u){return tr(this.a,u)||this.a.push(u),this},Ts.prototype.Rb=function(){return Rn(this.a)},Ts.prototype.credential=function(u,p){var C;if(!(C=qe(u)?{idToken:u.idToken||null,accessToken:u.accessToken||null,nonce:u.rawNonce||null}:{idToken:u||null,accessToken:p||null}).idToken&&!C.accessToken)throw new Te("argument-error","credential failed: must provide the ID token and/or the access token.");return new Zs(this.providerId,C,this.providerId)},Dt(Oi,Ts),sn(Oi,"PROVIDER_ID","facebook.com"),sn(Oi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),Dt(Fu,Ts),sn(Fu,"PROVIDER_ID","github.com"),sn(Fu,"GITHUB_SIGN_IN_METHOD","github.com"),Dt(Ua,Ts),sn(Ua,"PROVIDER_ID","google.com"),sn(Ua,"GOOGLE_SIGN_IN_METHOD","google.com"),Dt(io,vo),sn(io,"PROVIDER_ID","twitter.com"),sn(io,"TWITTER_SIGN_IN_METHOD","twitter.com"),is.prototype.ka=function(u){return this.signInMethod==$s.EMAIL_LINK_SIGN_IN_METHOD?Ar(u,rm,{email:this.a,oobCode:this.f}):Ar(u,om,{email:this.a,password:this.f})},is.prototype.b=function(u,p){return this.signInMethod==$s.EMAIL_LINK_SIGN_IN_METHOD?Ar(u,Hp,{idToken:p,email:this.a,oobCode:this.f}):Ar(u,Kf,{idToken:p,email:this.a,password:this.f})},is.prototype.c=function(u,p){return rs(this.ka(u),p)},is.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ho($s,{PROVIDER_ID:"password"}),Ho($s,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ho($s,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ci.prototype.ka=function(u){return u.gb(Ff(this))},Ci.prototype.b=function(u,p){var C=Ff(this);return C.idToken=p,Ar(u,sm,C)},Ci.prototype.c=function(u,p){var C=Ff(this);return C.operation="REAUTH",rs(u=Ar(u,p_,C),p)},Ci.prototype.w=function(){var u={providerId:"phone"};return this.a.fb&&(u.verificationId=this.a.fb),this.a.eb&&(u.verificationCode=this.a.eb),this.a.La&&(u.temporaryProof=this.a.La),this.a.ea&&(u.phoneNumber=this.a.ea),u},pi.prototype.gb=function(u,p){var C=this.a.a;return Yt(p.verify()).then(function(I){if("string"!=typeof I)throw new Te("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===p.type){var ee,B=qe(u)?u.session:null,W=qe(u)?u.phoneNumber:u;return ee=B&&B.type==La?B.Ha().then(function(ye){return function Hh(u,p){return Ar(u,ry,p).then(function(C){return C.phoneSessionInfo.sessionInfo})}(C,{idToken:ye,phoneEnrollmentInfo:{phoneNumber:W,recaptchaToken:I}})}):B&&B.type==Bc?B.Ha().then(function(ye){return function Qc(u,p){return Ar(u,Gh,p).then(function(C){return C.phoneResponseInfo.sessionInfo})}(C,{mfaPendingCredential:ye,mfaEnrollmentId:u.multiFactorHint&&u.multiFactorHint.uid||u.multiFactorUid,phoneSignInInfo:{recaptchaToken:I}})}):function Bp(u,p){return Ar(u,Yf,p)}(C,{phoneNumber:W,recaptchaToken:I}),ee.then(function(ye){return"function"==typeof p.reset&&p.reset(),ye},function(ye){throw"function"==typeof p.reset&&p.reset(),ye})}throw new Te("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},Ho(pi,{PROVIDER_ID:"phone"}),Ho(pi,{PHONE_SIGN_IN_METHOD:"phone"}),ma.prototype.getUid=function(){var u=[];return u.push(this.c),this.b&&u.push(this.b),this.f&&u.push(this.f),this.h&&u.push(this.h),u.join("-")},ma.prototype.T=function(){return this.h},ma.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var bl,jc=null;function _l(u){var p="unauthorized-domain",C=void 0,I=po(u);u=I.a,"chrome-extension"==(I=I.c)?C=Iu("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):"http"==I||"https"==I?C=Iu("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):p="operation-not-supported-in-this-environment",Te.call(this,p,C)}function Id(u,p,C){Te.call(this,u,C),(u=p||{}).Kb&&sn(this,"email",u.Kb),u.ea&&sn(this,"phoneNumber",u.ea),u.credential&&sn(this,"credential",u.credential),u.$b&&sn(this,"tenantId",u.$b)}function xd(u){if(u.code){var p=u.code||"";0==p.indexOf(xt)&&(p=p.substring(xt.length));var C={credential:Op(u),$b:u.tenantId};if(u.email)C.Kb=u.email;else if(u.phoneNumber)C.ea=u.phoneNumber;else if(!C.credential)return new Te(p,u.message||void 0);return new Id(p,C,u.message)}return null}function Es(){}function As(){}function Jv(u){if(!u.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var p=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],C=0;C<p.length;C++){var I=p[C];try{return new ActiveXObject(I),u.f=I}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return u.f}function oo(){}function wl(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=F(this.qc,this),this.a.onerror=F(this.Tb,this),this.a.onprogress=F(this.rc,this),this.a.ontimeout=F(this.vc,this)}function uc(u,p){u.readyState=p,u.onreadystatechange&&u.onreadystatechange()}function lc(u,p,C){this.reset(u,p,C,void 0,void 0)}function Pd(u){this.f=u,this.b=this.c=this.a=null}function Md(u,p){this.name=u,this.value=p}Dt(_l,Te),Dt(Id,Te),Id.prototype.w=function(){var u={code:this.code,message:this.message};this.email&&(u.email=this.email),this.phoneNumber&&(u.phoneNumber=this.phoneNumber),this.tenantId&&(u.tenantId=this.tenantId);var p=this.credential&&this.credential.w();return p&&$e(u,p),u},Id.prototype.toJSON=function(){return this.w()},Es.prototype.c=null,Dt(As,Es),As.prototype.a=function(){var u=Jv(this);return u?new ActiveXObject(u):new XMLHttpRequest},As.prototype.b=function(){var u={};return Jv(this)&&(u[0]=!0,u[1]=!0),u},bl=new As,Dt(oo,Es),oo.prototype.a=function(){var u=new XMLHttpRequest;if("withCredentials"in u)return u;if(typeof XDomainRequest<"u")return new wl;throw Error("Unsupported browser")},oo.prototype.b=function(){return{}},(Q=wl.prototype).open=function(u,p,C){if(null!=C&&!C)throw Error("Only async requests are supported.");this.a.open(u,p)},Q.send=function(u){if(u){if("string"!=typeof u)throw Error("Only string data is supported");this.a.send(u)}else this.a.send()},Q.abort=function(){this.a.abort()},Q.setRequestHeader=function(){},Q.getResponseHeader=function(u){return"content-type"==u.toLowerCase()?this.a.contentType:""},Q.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,uc(this,4)},Q.Tb=function(){this.status=500,this.response=this.responseText="",uc(this,4)},Q.vc=function(){this.Tb()},Q.rc=function(){this.status=200,uc(this,1)},Q.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},lc.prototype.a=null,lc.prototype.reset=function(u,p,C,I,B){I||yt(),delete this.a},Md.prototype.toString=function(){return this.name};var Np=new Md("SEVERE",1e3),kh=new Md("WARNING",900),Yg=new Md("CONFIG",700),os=new Md("FINE",500);function Bf(u){return u.c?u.c:u.a?Bf(u.a):(Pe("Root logger has no level set."),null)}Pd.prototype.log=function(u,p,C){if(u.value>=Bf(this).value)for(ut(p)&&(p=p()),u=new lc(u,String(p),this.f),C&&(u.a=C),C=this;C;)C=C.a};var Hc={},zs=null;function An(u){var p;if(zs||(zs=new Pd(""),Hc[""]=zs,zs.c=Yg),!(p=Hc[u])){p=new Pd(u);var C=u.lastIndexOf("."),I=u.substr(C+1);(C=An(u.substr(0,C))).b||(C.b={}),C.b[I]=p,p.a=C,Hc[u]=p}return p}function yo(u,p){u&&u.log(os,p,void 0)}function Vf(u){this.f=u}function Uu(u){Er.call(this),this.u=u,this.h=void 0,this.readyState=cc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=An("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}Dt(Vf,Es),Vf.prototype.a=function(){return new Uu(this.f)},Vf.prototype.b=function(u){return function(){return u}}({}),Dt(Uu,Er);var cc=0;function pu(u){u.c.read().then(u.pc.bind(u)).catch(u.Va.bind(u))}function qc(u){u.readyState=4,u.g=null,u.c=null,u.m=null,dc(u)}function dc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}function gu(u){Er.call(this),this.headers=new su,this.D=u||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Zc,this.u=this.S=!1}(Q=Uu.prototype).open=function(u,p){if(this.readyState!=cc)throw this.abort(),Error("Error reopening a connection");this.s=u,this.f=p,this.readyState=1,dc(this)},Q.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var p={headers:this.l,method:this.s,credentials:this.h,cache:void 0};u&&(p.body=u),this.u.fetch(new Request(this.f,p)).then(this.uc.bind(this),this.Va.bind(this))},Q.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,qc(this)),this.readyState=cc},Q.uc=function(u){this.a&&(this.g=u,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=u.headers,this.readyState=2,dc(this)),this.a&&(this.readyState=3,dc(this),this.a&&("arraybuffer"===this.responseType?u.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof oe.ReadableStream<"u"&&"body"in u?(this.response=this.responseText="",this.c=u.body.getReader(),this.m=new TextDecoder,pu(this)):u.text().then(this.tc.bind(this),this.Va.bind(this)))))},Q.pc=function(u){if(this.a){var p=this.m.decode(u.value?u.value:new Uint8Array(0),{stream:!u.done});p&&(this.response=this.responseText+=p),u.done?qc(this):dc(this),3==this.readyState&&pu(this)}},Q.tc=function(u){this.a&&(this.response=this.responseText=u,qc(this))},Q.sc=function(u){this.a&&(this.response=u,qc(this))},Q.Va=function(u){var p=this.i;p&&p.log(kh,"Failed to fetch url "+this.f,u instanceof Error?u:Error(u)),this.a&&qc(this)},Q.setRequestHeader=function(u,p){this.l.append(u,p)},Q.getResponseHeader=function(u){return this.b?this.b.get(u.toLowerCase())||"":((u=this.i)&&u.log(kh,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},Q.getAllResponseHeaders=function(){if(!this.b){var u=this.i;return u&&u.log(kh,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}u=[];for(var p=this.b.entries(),C=p.next();!C.done;)u.push((C=C.value)[0]+": "+C[1]),C=p.next();return u.join("\r\n")},Object.defineProperty(Uu.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(u){this.h=u?"include":"same-origin"}}),Dt(gu,Er);var Zc="";gu.prototype.b=An("goog.net.XhrIo");var Gc=/^https?$/i,Rh=["POST","PUT"];function jf(u){return"content-type"==u.toLowerCase()}function $c(u,p){u.c=!1,u.a&&(u.f=!0,u.a.abort(),u.f=!1),u.h=p,Hf(u),Lh(u)}function Hf(u){u.J||(u.J=!0,u.dispatchEvent("complete"),u.dispatchEvent("error"))}function fc(u){if(u.c&&typeof ze<"u")if(u.C[1]&&4==Va(u)&&2==Nd(u))yo(u.b,Cl(u,"Local request error detected and ignored"));else if(u.i&&4==Va(u))Rr(u.Wb,0,u);else if(u.dispatchEvent("readystatechange"),4==Va(u)){yo(u.b,Cl(u,"Request complete")),u.c=!1;try{var I,p=Nd(u);e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}if(!(I=C)){var B;if(B=0===p){var W=String(u.l).match(Pr)[1]||null;if(!W&&oe.self&&oe.self.location){var ee=oe.self.location.protocol;W=ee.substr(0,ee.length-1)}B=!Gc.test(W?W.toLowerCase():"")}I=B}if(I)u.dispatchEvent("complete"),u.dispatchEvent("success");else{try{var ye=2<Va(u)?u.a.statusText:""}catch(it){yo(u.b,"Can not get status: "+it.message),ye=""}u.h=ye+" ["+Nd(u)+"]",Hf(u)}}finally{Lh(u)}}}function Lh(u,p){if(u.a){Kg(u);var C=u.a,I=u.C[0]?Ge:null;u.a=null,u.C=null,p||u.dispatchEvent("ready");try{C.onreadystatechange=I}catch(B){(u=u.b)&&u.log(Np,"Problem encountered resetting onreadystatechange: "+B.message,void 0)}}}function Kg(u){u.a&&u.u&&(u.a.ontimeout=null),u.s&&(oe.clearTimeout(u.s),u.s=null)}function Va(u){return u.a?u.a.readyState:0}function Nd(u){try{return 2<Va(u)?u.a.status:-1}catch{return-1}}function Cl(u,p){return p+" ["+u.P+" "+u.l+" "+Nd(u)+"]"}function va(u){var p=Tl;this.g=[],this.u=p,this.s=u||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function zc(u,p,C){u.a=!0,u.c=C,u.f=!p,ya(u)}function qo(u){if(u.a){if(!u.v)throw new kd(u);u.v=!1}}function ja(u,p,C,I){u.g.push([p,C,I]),u.a&&ya(u)}function mu(u){return Mn(u.g,function(p){return ut(p[1])})}function ya(u){if(u.h&&u.a&&mu(u)){var p=u.h,C=Bu[p];C&&(oe.clearTimeout(C.a),delete Bu[p]),u.h=0}u.b&&(u.b.l--,delete u.b),p=u.c;for(var I=C=!1;u.g.length&&!u.i;){var B=u.g.shift(),W=B[0],ee=B[1];if(B=B[2],W=u.f?ee:W)try{var ye=W.call(B||u.s,p);void 0!==ye&&(u.f=u.f&&(ye==p||ye instanceof Error),u.c=p=ye),(Oe(p)||"function"==typeof oe.Promise&&p instanceof oe.Promise)&&(I=!0,u.i=!0)}catch(it){p=it,u.f=!0,mu(u)||(C=!0)}}u.c=p,I&&(ye=F(u.m,u,!0),I=F(u.m,u,!1),p instanceof va?(ja(p,ye,I),p.C=!0):p.then(ye,I)),C&&(p=new Rp(p),Bu[p.a]=p,u.h=p.a)}function kd(){Ee.call(this)}function Rd(){Ee.call(this)}function Rp(u){this.a=oe.setTimeout(F(this.c,this),0),this.b=u}(Q=gu.prototype).Ma=function(){typeof ze<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",yo(this.b,Cl(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},Q.abort=function(){this.a&&this.c&&(yo(this.b,Cl(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Lh(this))},Q.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Lh(this,!0)),gu.bb.Da.call(this)},Q.Wb=function(){this.ya||(this.N||this.i||this.f?fc(this):this.Jc())},Q.Jc=function(){fc(this)},Q.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Zc:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var u=this.b;return u&&u.log(Np,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(p){return yo(this.b,"Can not get response: "+p.message),null}},va.prototype.cancel=function(u){if(this.a)this.c instanceof va&&this.c.cancel();else{if(this.b){var p=this.b;delete this.b,u?p.cancel(u):(p.l--,0>=p.l&&p.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(u=new Rd(this),qo(this),zc(this,!1,u))}},va.prototype.m=function(u,p){this.i=!1,zc(this,u,p)},va.prototype.then=function(u,p,C){var I,B,W=new hr(function(ee,ye){I=ee,B=ye});return ja(this,I,function(ee){ee instanceof Rd?W.cancel():B(ee)}),W.then(u,p,C)},va.prototype.$goog_Thenable=!0,Dt(kd,Ee),kd.prototype.message="Deferred has already fired",kd.prototype.name="AlreadyCalledError",Dt(Rd,Ee),Rd.prototype.message="Deferred was canceled",Rd.prototype.name="CanceledError",Rp.prototype.c=function(){throw delete Bu[this.a],this.b};var Bu={};function hc(u){var p={},C=p.document||document,I=Eo(u).toString(),B=fo(document,"SCRIPT"),W={Xb:B,Ma:void 0},ee=new va(W),ye=null,it=null!=p.timeout?p.timeout:5e3;return 0<it&&(ye=window.setTimeout(function(){Kc(B,!0);var mt=new El(Jg,"Timeout reached for loading script "+I);qo(ee),zc(ee,!1,mt)},it),W.Ma=ye),B.onload=B.onreadystatechange=function(){B.readyState&&"loaded"!=B.readyState&&"complete"!=B.readyState||(Kc(B,p.xd||!1,ye),qo(ee),zc(ee,!0,null))},B.onerror=function(){Kc(B,!0,ye);var mt=new El(Qg,"Error while loading script "+I);qo(ee),zc(ee,!1,mt)},$e(W=p.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Ei(B,W),function aa(u,p){Fe(u,"HTMLScriptElement"),u.src=Eo(p),(p=u.ownerDocument&&u.ownerDocument.defaultView)&&p!=oe?p=Qe(p.document):(null===Ce&&(Ce=Qe(oe.document)),p=Ce),p&&u.setAttribute("nonce",p)}(B,u),function Yc(u){var p;return(p=(u||document).getElementsByTagName("HEAD"))&&0!=p.length?p[0]:u.documentElement}(C).appendChild(B),ee}function Tl(){if(this&&this.Xb){var u=this.Xb;u&&"SCRIPT"==u.tagName&&Kc(u,!0,this.Ma)}}function Kc(u,p,C){null!=C&&oe.clearTimeout(C),u.onload=Ge,u.onerror=Ge,u.onreadystatechange=Ge,p&&window.setTimeout(function(){u&&u.parentNode&&u.parentNode.removeChild(u)},0)}var Qg=0,Jg=1;function El(u,p){var C="Jsloader error (code #"+u+")";p&&(C+=": "+p),Ee.call(this,C),this.code=u}function Fd(u){this.f=u}function Zo(u,p,C){if(this.c=u,this.l=(u=p||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=u.secureTokenTimeout||Uh,this.g=we(u.secureTokenHeaders||qf),this.h=u.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=u.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=u.firebaseTimeout||Zf,this.a=we(u.firebaseHeaders||Bh),C&&(this.a["X-Client-Version"]=C,this.g["X-Client-Version"]=C),C="Node"==go(),!(C=oe.XMLHttpRequest||C&&a.Z.INTERNAL.node&&a.Z.INTERNAL.node.XMLHttpRequest)&&!Hs())throw new Te("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Hs()?new Vf(self):N()?new Fd(C):new oo,this.b=null}Dt(El,Ee),Dt(Fd,Es),Fd.prototype.a=function(){return new this.f},Fd.prototype.b=function(){return{}};var Al,Ws="idToken",Uh=new pl(3e4,6e4),qf={"Content-Type":"application/x-www-form-urlencoded"},Zf=new pl(3e4,6e4),Bh={"Content-Type":"application/json"};function Vh(u,p){p?u.a["X-Firebase-Locale"]=p:delete u.a["X-Firebase-Locale"]}function ss(u,p){p&&(u.l=Ld("https://securetoken.googleapis.com/v1/token",p),u.h=Ld("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",p),u.i=Ld("https://identitytoolkit.googleapis.com/v2/",p))}function Ld(u,p){return u=po(u),p=po(p.url),u.f=u.a+u.f,jo(u,p.c),u.a=p.a,au(u,p.g),u.toString()}function Ha(u,p){p?(u.a["X-Client-Version"]=p,u.g["X-Client-Version"]=p):(delete u.a["X-Client-Version"],delete u.g["X-Client-Version"])}function Gf(u,p,C,I,B,W,ee){(function $i(){var u=wr();return!((u="Chrome"!=nt(u)?null:(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&30>u||_i&&bi&&!(9<bi))})()||Hs()?u=F(u.u,u):(Al||(Al=new hr(function(ye,it){!function Fp(u,p){((window.gapi||{}).client||{}).request?u():(oe[Dl]=function(){((window.gapi||{}).client||{}).request?u():p(Error("CORS_UNSUPPORTED"))},function Wc(u,p){ja(u,null,p,void 0)}(hc(dr(Vu,{onload:Dl})),function(){p(Error("CORS_UNSUPPORTED"))}))}(ye,it)})),u=F(u.s,u)),u(p,C,I,B,W,ee)}Zo.prototype.T=function(){return this.b},Zo.prototype.u=function(u,p,C,I,B,W){if(Hs()&&(typeof oe.fetch>"u"||typeof oe.Headers>"u"||typeof oe.Request>"u"))throw new Te("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var ee=new gu(this.f);if(W){ee.g=Math.max(0,W);var ye=setTimeout(function(){ee.dispatchEvent("timeout")},W)}Na(ee,"complete",function(){ye&&clearTimeout(ye);var it=null;try{it=JSON.parse(function kp(u){try{return u.a?u.a.responseText:""}catch(p){return yo(u.b,"Can not get responseText: "+p.message),""}}(this))||null}catch{it=null}p&&p(it)}),Vo(ee,"ready",function(){ye&&clearTimeout(ye),Ai(this)}),Vo(ee,"timeout",function(){ye&&clearTimeout(ye),Ai(this),p&&p(null)}),function Fh(u,p,C,I,B){if(u.a)throw Error("[goog.net.XhrIo] Object is active with another request="+u.l+"; newUri="+p);C=C?C.toUpperCase():"GET",u.l=p,u.h="",u.P=C,u.J=!1,u.c=!0,u.a=u.D?u.D.a():bl.a(),u.C=function Uf(u){return u.c||(u.c=u.b())}(u.D?u.D:bl),u.a.onreadystatechange=F(u.Wb,u);try{yo(u.b,Cl(u,"Opening Xhr")),u.N=!0,u.a.open(C,String(p),!0),u.N=!1}catch(ee){return yo(u.b,Cl(u,"Error opening Xhr: "+ee.message)),void $c(u,ee)}p=I||"";var W=new su(u.headers);B&&function to(u,p){if(u.forEach&&"function"==typeof u.forEach)u.forEach(p,void 0);else if(ht(u)||"string"==typeof u)Cn(u,p,void 0);else for(var C=Yr(u),I=Jl(u),B=I.length,W=0;W<B;W++)p.call(void 0,I[W],C&&C[W],u)}(B,function(ee,ye){W.set(ye,ee)}),B=function cn(u){e:{for(var p=jf,C=u.length,I="string"==typeof u?u.split(""):u,B=0;B<C;B++)if(B in I&&p.call(void 0,I[B],B,u)){p=B;break e}p=-1}return 0>p?null:"string"==typeof u?u.charAt(p):u[p]}(W.Y()),I=oe.FormData&&p instanceof oe.FormData,!tr(Rh,C)||B||I||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),W.forEach(function(ee,ye){this.a.setRequestHeader(ye,ee)},u),u.m&&(u.a.responseType=u.m),"withCredentials"in u.a&&u.a.withCredentials!==u.S&&(u.a.withCredentials=u.S);try{Kg(u),0<u.g&&(u.u=function Od(u){return _i&&Sn(9)&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(u.a),yo(u.b,Cl(u,"Will abort after "+u.g+"ms if incomplete, xhr2 "+u.u)),u.u?(u.a.timeout=u.g,u.a.ontimeout=F(u.Ma,u)):u.s=Rr(u.Ma,u.g,u)),yo(u.b,Cl(u,"Sending request")),u.i=!0,u.a.send(p),u.i=!1}catch(ee){yo(u.b,Cl(u,"Send error: "+ee.message)),$c(u,ee)}}(ee,u,C,I,B)};var Vu=new bt(mr,"https://apis.google.com/js/client.js?onload=%{onload}"),Dl="__fcb"+Math.floor(1e6*Math.random()).toString();function Sl(u){if("string"!=typeof(u=u.email)||!Pc.test(u))throw new Te("invalid-email")}function Ud(u){"email"in u&&Sl(u)}function Ys(u){if(!u[Ws])throw u.mfaPendingCredential?new Te("multi-factor-auth-required",null,we(u)):new Te("internal-error")}function Up(u){if(u.phoneNumber||u.temporaryProof){if(!u.phoneNumber||!u.temporaryProof)throw new Te("internal-error")}else{if(!u.sessionInfo)throw new Te("missing-verification-id");if(!u.code)throw new Te("missing-verification-code")}}Zo.prototype.s=function(u,p,C,I,B){var W=this;Al.then(function(){window.gapi.client.setApiKey(W.c);var ee=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:u,method:C,body:I,headers:B,authType:"none",callback:function(ye){window.gapi.auth.setToken(ee),p&&p(ye)}})}).o(function(ee){p&&p({error:{message:ee&&ee.message||"CORS_UNSUPPORTED"}})})},Zo.prototype.Ab=function(){return Ar(this,Zh,{})},Zo.prototype.Cb=function(u,p){return Ar(this,Zd,{idToken:u,email:p})},Zo.prototype.Db=function(u,p){return Ar(this,Kf,{idToken:u,password:p})};var em={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function $f(u){if(!u.phoneVerificationInfo)throw new Te("internal-error");if(!u.phoneVerificationInfo.sessionInfo)throw new Te("missing-verification-id");if(!u.phoneVerificationInfo.code)throw new Te("missing-verification-code")}function zf(u){if(!u.requestUri||!u.sessionId&&!u.postBody&&!u.pendingToken)throw new Te("internal-error")}function qh(u,p){return p.oauthIdToken&&p.providerId&&0==p.providerId.indexOf("oidc.")&&!p.pendingToken&&(u.sessionId?p.nonce=u.sessionId:u.postBody&&ce(u=new fi(u.postBody),"nonce")&&(p.nonce=u.get("nonce"))),p}function _o(u){var p=null;if(u.needConfirmation?(u.code="account-exists-with-different-credential",p=xd(u)):"FEDERATED_USER_ID_ALREADY_LINKED"==u.errorMessage?(u.code="credential-already-in-use",p=xd(u)):"EMAIL_EXISTS"==u.errorMessage?(u.code="email-already-in-use",p=xd(u)):u.errorMessage&&(p=zp(u.errorMessage)),p)throw p;Ys(u)}function ju(u,p){return p.returnIdpCredential=!0,Ar(u,vu,p)}function Bd(u,p){return p.returnIdpCredential=!0,Ar(u,iy,p)}function Vd(u,p){return p.returnIdpCredential=!0,p.autoCreate=!1,Ar(u,Gd,p)}function jd(u){if(!u.oobCode)throw new Te("invalid-action-code")}(Q=Zo.prototype).Eb=function(u,p){var C={idToken:u},I=[];return Ko(em,function(B,W){var ee=p[W];null===ee?I.push(B):W in p&&(C[W]=ee)}),I.length&&(C.deleteAttribute=I),Ar(this,Zd,C)},Q.wb=function(u,p){return $e(u={requestType:"PASSWORD_RESET",email:u},p),Ar(this,im,u)},Q.xb=function(u,p){return $e(u={requestType:"EMAIL_SIGNIN",email:u},p),Ar(this,Hd,u)},Q.vb=function(u,p){return $e(u={requestType:"VERIFY_EMAIL",idToken:u},p),Ar(this,ny,u)},Q.Fb=function(u,p,C){return $e(u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:u,newEmail:p},C),Ar(this,Zp,u)},Q.gb=function(u){return Ar(this,Cw,u)},Q.ob=function(u,p){return Ar(this,gc,{oobCode:u,newPassword:p})},Q.Sa=function(u){return Ar(this,Vp,{oobCode:u})},Q.kb=function(u){return Ar(this,as,{oobCode:u})};var as={endpoint:"setAccountInfo",A:jd,Z:"email",B:!0},Vp={endpoint:"resetPassword",A:jd,G:function(u){var p=u.requestType;if(!p||!u.email&&"EMAIL_SIGNIN"!=p&&"VERIFY_AND_CHANGE_EMAIL"!=p)throw new Te("internal-error")},B:!0},nm={endpoint:"signupNewUser",A:function(u){if(Sl(u),!u.password)throw new Te("weak-password")},G:Ys,V:!0,B:!0},Wf={endpoint:"createAuthUri",B:!0},pc={endpoint:"deleteAccount",O:["idToken"]},jp={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(u){if(!Array.isArray(u.deleteProvider))throw new Te("internal-error")}},rm={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Sl,G:Ys,V:!0,B:!0},Hp={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Sl,G:Ys,V:!0},qp={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:$f,G:Ys,B:!0,Na:!0},ty={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:$f,G:Ys,B:!0,Na:!0},_a={endpoint:"getAccountInfo"},Hd={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("EMAIL_SIGNIN"!=u.requestType)throw new Te("internal-error");Sl(u)},Z:"email",B:!0},ny={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(u){if("VERIFY_EMAIL"!=u.requestType)throw new Te("internal-error")},Z:"email",B:!0},Zp={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(u){if("VERIFY_AND_CHANGE_EMAIL"!=u.requestType)throw new Te("internal-error")},Z:"email",B:!0},im={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("PASSWORD_RESET"!=u.requestType)throw new Te("internal-error");Sl(u)},Z:"email",B:!0},qd={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Gp={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(u){if(!u.recaptchaSiteKey)throw new Te("internal-error")}},gc={endpoint:"resetPassword",A:jd,Z:"email",B:!0},Yf={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Zd={endpoint:"setAccountInfo",O:["idToken"],A:Ud,V:!0},Kf={endpoint:"setAccountInfo",O:["idToken"],A:function(u){if(Ud(u),!u.password)throw new Te("weak-password")},G:Ys,V:!0},Zh={endpoint:"signupNewUser",G:Ys,V:!0,B:!0},ry={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(u){if(!u.phoneEnrollmentInfo)throw new Te("internal-error");if(!u.phoneEnrollmentInfo.phoneNumber)throw new Te("missing-phone-number");if(!u.phoneEnrollmentInfo.recaptchaToken)throw new Te("missing-app-credential")},G:function(u){if(!u.phoneSessionInfo||!u.phoneSessionInfo.sessionInfo)throw new Te("internal-error")},B:!0,Na:!0},Gh={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(u){if(!u.phoneSignInInfo||!u.phoneSignInInfo.recaptchaToken)throw new Te("missing-app-credential")},G:function(u){if(!u.phoneResponseInfo||!u.phoneResponseInfo.sessionInfo)throw new Te("internal-error")},B:!0,Na:!0},vu={endpoint:"verifyAssertion",A:zf,Za:qh,G:_o,V:!0,B:!0},Gd={endpoint:"verifyAssertion",A:zf,Za:qh,G:function(u){if(u.errorMessage&&"USER_NOT_FOUND"==u.errorMessage)throw new Te("user-not-found");if(u.errorMessage)throw zp(u.errorMessage);Ys(u)},V:!0,B:!0},iy={endpoint:"verifyAssertion",A:function(u){if(zf(u),!u.idToken)throw new Te("internal-error")},Za:qh,G:_o,V:!0},oy={endpoint:"verifyCustomToken",A:function(u){if(!u.token)throw new Te("invalid-custom-token")},G:Ys,V:!0,B:!0},om={endpoint:"verifyPassword",A:function(u){if(Sl(u),!u.password)throw new Te("wrong-password")},G:Ys,V:!0,B:!0},Cw={endpoint:"verifyPhoneNumber",A:Up,G:Ys,B:!0},sm={endpoint:"verifyPhoneNumber",A:function(u){if(!u.idToken)throw new Te("internal-error");Up(u)},G:function(u){if(u.temporaryProof)throw u.code="credential-already-in-use",xd(u);Ys(u)}},p_={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Up,G:Ys,B:!0},$p={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(u){if(!!u[Ws]^!!u.refreshToken)throw new Te("internal-error")},B:!0,Na:!0};function Ar(u,p,C){if(!function Ed(u,p){if(!p||!p.length)return!0;if(!u)return!1;for(var C=0;C<p.length;C++){var I=u[p[C]];if(null==I||""===I)return!1}return!0}(C,p.O))return Wr(new Te("internal-error"));var W,I=!!p.Na,B=p.Vb||"POST";return Yt(C).then(p.A).then(function(){return p.V&&(C.returnSecureToken=!0),p.B&&u.b&&typeof C.tenantId>"u"&&(C.tenantId=u.b),function jh(u,p,C,I,B,W,ee){var ye=po(p+C);Kr(ye,"key",u.c),ee&&Kr(ye,"cb",Date.now().toString());var it="GET"==I;if(it)for(var mt in B)B.hasOwnProperty(mt)&&Kr(ye,mt,B[mt]);return new hr(function(Yn,Jr){Gf(u,ye.toString(),function(Xr){Xr?Xr.error?Jr(ba(Xr,W||{})):Yn(Xr):Jr(new Te("network-request-failed"))},I,it?void 0:It(Mc(B)),u.a,u.v.get())})}(u,I?u.i:u.h,p.endpoint,B,C,p.Ib,p.mb||!1)}).then(function(ee){return W=ee,p.Za?p.Za(C,W):W}).then(p.G).then(function(){if(!p.Z)return W;if(!(p.Z in W))throw new Te("internal-error");return W[p.Z]})}function zp(u){return ba({error:{errors:[{message:u}],code:400,message:u}})}function ba(u,p){var C=(u.error&&u.error.errors&&u.error.errors[0]||{}).reason||"",I={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(C=I[C]?new Te(I[C]):null)return C;for(var B in C=u.error&&u.error.message||"",$e(I={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},p||{}),p=(p=C.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<p.length?p[1]:void 0,I)if(0===C.indexOf(B))return new Te(I[B],p);return!p&&u&&(p=nc(u)),new Te("internal-error",p)}function Wp(u){this.b=u,this.a=null,this.sb=function Qf(u){return function q(){return L||(L=new hr(function(u,p){function C(){Tf(),En("gapi.load")("gapi.iframes",{callback:u,ontimeout:function(){Tf(),p(Error("Network Error"))},timeout:T.get()})}if(En("gapi.iframes.Iframe"))u();else if(En("gapi.load"))C();else{var I="__iframefcb"+Math.floor(1e6*Math.random()).toString();oe[I]=function(){En("gapi.load")?C():p(Error("Network Error"))},Yt(hc(I=dr(_,{onload:I}))).o(function(){p(Error("Network Error"))})}}).o(function(u){throw L=null,u}))}().then(function(){return new hr(function(p,C){En("gapi.iframes.getContext")().open({where:document.body,url:u.b,messageHandlersFilter:En("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(I){function B(){clearTimeout(W),p()}u.a=I,u.a.restyle({setHideOnLeave:!1});var W=setTimeout(function(){C(Error("Network Error"))},P.get());I.ping(B).then(B,function(){C(Error("Network Error"))})})})})}(this)}var _=new bt(mr,"https://apis.google.com/js/api.js?onload=%{onload}"),T=new pl(3e4,6e4),P=new pl(5e3,15e3),L=null;function re(u,p,C,I){this.l=u,this.h=p,this.i=C,this.g=I,this.f=null,u=this.g?es((u=po(this.g.url)).c,u.a,u.g,"/emulator/auth/iframe"):es("https",this.l,null,"/__/auth/iframe"),this.a=u,Kr(this.a,"apiKey",this.h),Kr(this.a,"appName",this.i),this.b=null,this.c=[]}function ie(u,p,C,I,B,W){this.u=u,this.s=p,this.c=C,this.m=I,this.v=W,this.i=this.g=this.l=null,this.a=B,this.h=this.f=null}function fe(u){try{return a.Z.app(u).auth().Ga()}catch{return[]}}function _e(u,p,C,I,B,W){this.s=u,this.g=p,this.b=C,this.f=W,this.c=I||null,this.i=B||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Be(u){var p=Ln();return function Xg(u){return Ar(u,qd,{}).then(function(p){return p.authorizedDomains||[]})}(u).then(function(C){e:{var I=po(p),B=I.c;I=I.a;for(var W=0;W<C.length;W++){var ee=C[W],ye=I,it=B;if(0==ee.indexOf("chrome-extension://")?ye=po(ee).a==ye&&"chrome-extension"==it:"http"!=it&&"https"!=it?ye=!1:wi.test(ee)?ye=ye==ee:(ee=ee.split(".").join("\\."),ye=new RegExp("^(.+\\."+ee+"|"+ee+")$","i").test(ye)),ye){C=!0;break e}}C=!1}if(!C)throw new _l(Ln())})}function dt(u){return u.m||(u.m=pa().then(function(){if(!u.u){var p=u.c,C=u.i,I=fe(u.b),B=new re(u.s,u.g,u.b,u.f);B.f=p,B.b=C,B.c=Rn(I||[]),u.u=B.toString()}u.v=new Wp(u.u),function $n(u){if(!u.v)throw Error("IfcHandler must be initialized!");!function g(u,p){u.sb.then(function(){u.a.register("authEvent",p,En("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(u.v,function(p){var C={};if(p&&p.authEvent){var I=!1;for(p=Vc(p.authEvent),C=0;C<u.h.length;C++)I=u.h[C](p)||I;return(C={}).status=I?"ACK":"ERROR",Yt(C)}return C.status="ERROR",Yt(C)})}(u)})),u.m}function wt(u){return u.l||(u.C=u.c?Jn(u.c,fe(u.b)):null,u.l=new Zo(u.g,Gt(u.i),u.C),u.f&&ss(u.l,u.f)),u.l}function Bt(u,p,C,I,B,W,ee,ye,it,mt,Yn,Jr){return(u=new ie(u,p,C,I,B,Jr)).l=W,u.g=ee,u.i=ye,u.b=we(it||null),u.f=mt,u.zb(Yn).toString()}function cr(u){if(this.a=u||a.Z.INTERNAL.reactNative&&a.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Te("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Go(u){this.b=u,this.a={},this.f=F(this.c,this)}re.prototype.toString=function(){return this.f?Kr(this.a,"v",this.f):ws(this.a.b,"v"),this.b?Kr(this.a,"eid",this.b):ws(this.a.b,"eid"),this.c.length?Kr(this.a,"fw",this.c.join(",")):ws(this.a.b,"fw"),this.a.toString()},ie.prototype.zb=function(u){return this.h=u,this},ie.prototype.toString=function(){if(this.v){var u=po(this.v.url);u=es(u.c,u.a,u.g,"/emulator/auth/handler")}else u=es("https",this.u,null,"/__/auth/handler");if(Kr(u,"apiKey",this.s),Kr(u,"appName",this.c),Kr(u,"authType",this.m),this.a.isOAuthProvider){var p=this.a;try{var C=a.Z.app(this.c).auth().la()}catch{C=null}for(var I in p.pb=C,Kr(u,"providerId",this.a.providerId),p=Mc((C=this.a).Jb))p[I]=p[I].toString();I=C.Qc,p=we(p);for(var B=0;B<I.length;B++){var W=I[B];W in p&&delete p[W]}C.qb&&C.pb&&!p[C.qb]&&(p[C.qb]=C.pb),be(p)||Kr(u,"customParameters",nc(p))}if("function"==typeof this.a.Rb&&(C=this.a.Rb()).length&&Kr(u,"scopes",C.join(",")),this.l?Kr(u,"redirectUrl",this.l):ws(u.b,"redirectUrl"),this.g?Kr(u,"eventId",this.g):ws(u.b,"eventId"),this.i?Kr(u,"v",this.i):ws(u.b,"v"),this.b)for(var ee in this.b)this.b.hasOwnProperty(ee)&&!di(u,ee)&&Kr(u,ee,this.b[ee]);return this.h?Kr(u,"tid",this.h):ws(u.b,"tid"),this.f?Kr(u,"eid",this.f):ws(u.b,"eid"),(ee=fe(this.c)).length&&Kr(u,"fw",ee.join(",")),u.toString()},(Q=_e.prototype).Pb=function(u,p,C){var I=new Te("popup-closed-by-user"),B=new Te("web-storage-unsupported"),W=this,ee=!1;return this.ma().then(function(){(function In(u){var p={type:"webStorageSupport"};return dt(u).then(function(){return function m(u,p){return u.sb.then(function(){return new hr(function(C){u.a.send(p.type,p,C,En("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(u.v,p)}).then(function(C){if(C&&C.length&&typeof C[0].webStorageSupport<"u")return C[0].webStorageSupport;throw Error()})})(W).then(function(ye){ye||(u&&Ki(u),p(B),ee=!0)})}).o(function(){}).then(function(){if(!ee)return function Vr(u){return new hr(function(p){return function C(){Zi(2e3).then(function(){if(u&&!u.closed)return C();p()})}()})}(u)}).then(function(){if(!ee)return Zi(C).then(function(){p(I)})})},Q.Yb=function(){var u=wr();return!lu(u)&&!bd(u)},Q.Ub=function(){return!1},Q.Nb=function(u,p,C,I,B,W,ee,ye){if(!u)return Wr(new Te("popup-blocked"));if(ee&&!lu())return this.ma().o(function(mt){Ki(u),B(mt)}),I(),Yt();this.a||(this.a=Be(wt(this)));var it=this;return this.a.then(function(){var mt=it.ma().o(function(Yn){throw Ki(u),B(Yn),Yn});return I(),mt}).then(function(){Lf(C),ee||gn(Bt(it.s,it.g,it.b,p,C,null,W,it.c,void 0,it.i,ye,it.f),u)}).o(function(mt){throw"auth/network-request-failed"==mt.code&&(it.a=null),mt})},Q.Ob=function(u,p,C,I){this.a||(this.a=Be(wt(this)));var B=this;return this.a.then(function(){Lf(p),gn(Bt(B.s,B.g,B.b,u,p,Ln(),C,B.c,void 0,B.i,I,B.f))}).o(function(W){throw"auth/network-request-failed"==W.code&&(B.a=null),W})},Q.ma=function(){var u=this;return dt(this).then(function(){return u.v.sb}).o(function(){throw u.a=null,new Te("network-request-failed")})},Q.ac=function(){return!0},Q.Ea=function(u){this.h.push(u)},Q.Ta=function(u){ir(this.h,function(p){return p==u})},(Q=cr.prototype).get=function(u){return Yt(this.a.getItem(u)).then(function(p){return p&&hl(p)})},Q.set=function(u,p){return Yt(this.a.setItem(u,nc(p)))},Q.U=function(u){return Yt(this.a.removeItem(u))},Q.ca=function(){},Q.ia=function(){};var am,Hu=[];function Il(u,p,C){be(u.a)&&u.b.addEventListener("message",u.f),typeof u.a[p]>"u"&&(u.a[p]=[]),u.a[p].push(C)}function Zu(u){this.a=u}function Yp(u){this.c=u,this.b=!1,this.a=[]}function sy(u,p,C,I){var B,ee,ye,it,W=C||{},mt=null;if(u.b)return Wr(Error("connection_unavailable"));var Yn=I?800:50,Jr=typeof MessageChannel<"u"?new MessageChannel:null;return new hr(function(Xr,Wo){Jr?(B=Math.floor(Math.random()*Math.pow(10,20)).toString(),Jr.port1.start(),ye=setTimeout(function(){Wo(Error("unsupported_event"))},Yn),u.a.push(mt={messageChannel:Jr,onMessage:ee=function(wu){wu.data.eventId===B&&("ack"===wu.data.status?(clearTimeout(ye),it=setTimeout(function(){Wo(Error("timeout"))},3e3)):"done"===wu.data.status?(clearTimeout(it),typeof wu.data.response<"u"?Xr(wu.data.response):Wo(Error("unknown_error"))):(clearTimeout(ye),clearTimeout(it),Wo(Error("invalid_response"))))}}),Jr.port1.addEventListener("message",ee),u.c.postMessage({eventType:p,eventId:B,data:W},[Jr.port2])):Wo(Error("connection_unavailable"))}).then(function(Xr){return ay(u,mt),Xr}).o(function(Xr){throw ay(u,mt),Xr})}function ay(u,p){if(p){var C=p.messageChannel;C&&(C.port1.removeEventListener("message",p.onMessage),C.port1.close()),ir(u.a,function(B){return B==p})}}function uy(){if(!Kp())throw new Te("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=oe.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var u=this;Hs()&&self?(this.v=function qu(){var u=Hs()?self:null;if(Cn(Hu,function(C){C.b==u&&(p=C)}),!p){var p=new Go(u);Hu.push(p)}return p}(),Il(this.v,"keyChanged",function(p,C){return $d(u).then(function(I){return 0<I.length&&Cn(u.a,function(B){B(I)}),{keyProcessed:tr(I,C.key)}})}),Il(this.v,"ping",function(){return Yt(["keyChanged"])})):function ic(){var u=oe.navigator;return u&&u.serviceWorker?Yt().then(function(){return u.serviceWorker.ready}).then(function(p){return p.active||null}).o(function(){return null}):Yt(null)}().then(function(p){(u.h=p)&&(u.g=new Yp(new Zu(p)),sy(u.g,"ping",null,!0).then(function(C){C[0].fulfilled&&tr(C[0].value,"keyChanged")&&(u.s=!0)}).o(function(){}))})}function Tw(u){return new hr(function(p,C){var I=u.m.open("firebaseLocalStorageDb",1);I.onerror=function(B){try{B.preventDefault()}catch{}C(Error(B.target.error))},I.onupgradeneeded=function(B){B=B.target.result;try{B.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(W){C(W)}},I.onsuccess=function(B){(B=B.target.result).objectStoreNames.contains("firebaseLocalStorage")?p(B):function ly(u){return new hr(function(p,C){var I=u.m.deleteDatabase("firebaseLocalStorageDb");I.onsuccess=function(){p()},I.onerror=function(B){C(Error(B.target.error))}})}(u).then(function(){return Tw(u)}).then(function(W){p(W)}).o(function(W){C(W)})}})}function cy(u){return u.i||(u.i=Tw(u)),u.i}function $h(u,p){var I=0;return new hr(function C(B,W){cy(u).then(p).then(B).o(function(ee){if(!(3<++I))return cy(u).then(function(ye){return ye.close(),u.i=void 0,C(B,W)}).o(function(ye){W(ye)});W(ee)})})}function Kp(){try{return!!oe.indexedDB}catch{return!1}}function zh(u){return u.objectStore("firebaseLocalStorage")}function yu(u,p){return u.transaction(["firebaseLocalStorage"],p?"readwrite":"readonly")}function Jf(u){return new hr(function(p,C){u.onsuccess=function(I){I&&I.target?p(I.target.result):p()},u.onerror=function(I){C(I.target.error)}})}function Wh(u,p){return u.g&&u.h&&function qg(){var u=oe.navigator;return u&&u.serviceWorker&&u.serviceWorker.controller||null}()===u.h?sy(u.g,"keyChanged",{key:p},u.s).then(function(){}).o(function(){}):Yt()}function $d(u){return cy(u).then(function(p){var C=zh(yu(p,!1));return C.getAll?Jf(C.getAll()):new hr(function(I,B){var W=[],ee=C.openCursor();ee.onsuccess=function(ye){(ye=ye.target.result)?(W.push(ye.value),ye.continue()):I(W)},ee.onerror=function(ye){B(ye.target.error)}})}).then(function(p){var C={},I=[];if(0==u.b){for(I=0;I<p.length;I++)C[p[I].fbase_key]=p[I].value;I=qr(u.c,C),u.c=C}return I})}function um(u){u.l&&u.l.cancel("STOP_EVENT"),u.f&&(clearTimeout(u.f),u.f=null)}function Qp(u){var p=this,C=null;this.a=[],this.type="indexedDB",this.c=u,this.b=Yt().then(function(){if(Kp()){var I=rc(),B="__sak"+I;return am||(am=new uy),(C=am).set(B,I).then(function(){return C.get(B)}).then(function(W){if(W!==I)throw Error("indexedDB not supported!");return C.U(B)}).then(function(){return C}).o(function(){return p.c})}return p.c}).then(function(I){return p.type=I.type,I.ca(function(B){Cn(p.a,function(W){W(B)})}),I})}function xl(){this.a={},this.type="inMemory"}function zd(){if(!function g_(){var u="Node"==go();if(!(u=Jp()||u&&a.Z.INTERNAL.node&&a.Z.INTERNAL.node.localStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==go()?new Te("internal-error","The LocalStorage compatibility library was not found."):new Te("web-storage-unsupported");this.a=Jp()||a.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Jp(){try{var u=oe.localStorage,p=rc();return u&&(u.setItem(p,"1"),u.removeItem(p)),u}catch{return null}}function Yh(){this.type="nullStorage"}function Xf(){if(!function Xp(){var u="Node"==go();if(!(u=Wd()||u&&a.Z.INTERNAL.node&&a.Z.INTERNAL.node.sessionStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==go()?new Te("internal-error","The SessionStorage compatibility library was not found."):new Te("web-storage-unsupported");this.a=Wd()||a.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wd(){try{var u=oe.sessionStorage,p=rc();return u&&(u.setItem(p,"1"),u.removeItem(p)),u}catch{return null}}function m_(){var u={};u.Browser=Aw,u.Node=fy,u.ReactNative=Dw,u.Worker=v_,this.a=u[go()]}Go.prototype.c=function(u){var p=u.data.eventType,C=u.data.eventId,I=this.a[p];if(I&&0<I.length){u.ports[0].postMessage({status:"ack",eventId:C,eventType:p,response:null});var B=[];Cn(I,function(W){B.push(Yt().then(function(){return W(u.origin,u.data.data)}))}),qi(B).then(function(W){var ee=[];Cn(W,function(ye){ee.push({fulfilled:ye.Qb,value:ye.value,reason:ye.reason?ye.reason.message:void 0})}),Cn(ee,function(ye){for(var it in ye)typeof ye[it]>"u"&&delete ye[it]}),u.ports[0].postMessage({status:"done",eventId:C,eventType:p,response:ee})})}},Zu.prototype.postMessage=function(u,p){this.a.postMessage(u,p)},Yp.prototype.close=function(){for(;0<this.a.length;)ay(this,this.a[0]);this.b=!0},(Q=uy.prototype).set=function(u,p){var C=this,I=!1;return $h(this,function(B){return Jf((B=zh(yu(B,!0))).get(u))}).then(function(B){return $h(C,function(W){if(W=zh(yu(W,!0)),B)return B.value=p,Jf(W.put(B));C.b++,I=!0;var ee={};return ee.fbase_key=u,ee.value=p,Jf(W.add(ee))})}).then(function(){return C.c[u]=p,Wh(C,u)}).oa(function(){I&&C.b--})},Q.get=function(u){return $h(this,function(p){return Jf(zh(yu(p,!1)).get(u))}).then(function(p){return p&&p.value})},Q.U=function(u){var p=this,C=!1;return $h(this,function(I){return C=!0,p.b++,Jf(zh(yu(I,!0)).delete(u))}).then(function(){return delete p.c[u],Wh(p,u)}).oa(function(){C&&p.b--})},Q.ca=function(u){0==this.a.length&&function Ew(u){um(u),function p(){u.f=setTimeout(function(){u.l=$d(u).then(function(C){0<C.length&&Cn(u.a,function(I){I(C)})}).then(function(){p()}).o(function(C){"STOP_EVENT"!=C.message&&p()})},800)}()}(this),this.a.push(u)},Q.ia=function(u){ir(this.a,function(p){return p==u}),0==this.a.length&&um(this)},(Q=Qp.prototype).get=function(u){return this.b.then(function(p){return p.get(u)})},Q.set=function(u,p){return this.b.then(function(C){return C.set(u,p)})},Q.U=function(u){return this.b.then(function(p){return p.U(u)})},Q.ca=function(u){this.a.push(u)},Q.ia=function(u){ir(this.a,function(p){return p==u})},(Q=xl.prototype).get=function(u){return Yt(this.a[u])},Q.set=function(u,p){return this.a[u]=p,Yt()},Q.U=function(u){return delete this.a[u],Yt()},Q.ca=function(){},Q.ia=function(){},(Q=zd.prototype).get=function(u){var p=this;return Yt().then(function(){return hl(p.a.getItem(u))})},Q.set=function(u,p){var C=this;return Yt().then(function(){var I=nc(p);null===I?C.U(u):C.a.setItem(u,I)})},Q.U=function(u){var p=this;return Yt().then(function(){p.a.removeItem(u)})},Q.ca=function(u){oe.window&&ln(oe.window,"storage",u)},Q.ia=function(u){oe.window&&xr(oe.window,"storage",u)},(Q=Yh.prototype).get=function(){return Yt(null)},Q.set=function(){return Yt()},Q.U=function(){return Yt()},Q.ca=function(){},Q.ia=function(){},(Q=Xf.prototype).get=function(u){var p=this;return Yt().then(function(){return hl(p.a.getItem(u))})},Q.set=function(u,p){var C=this;return Yt().then(function(){var I=nc(p);null===I?C.U(u):C.a.setItem(u,I)})},Q.U=function(u){var p=this;return Yt().then(function(){p.a.removeItem(u)})},Q.ca=function(){},Q.ia=function(){};var dy,hy,Aw={F:zd,cb:Xf},fy={F:zd,cb:Xf},Dw={F:cr,cb:Yh},v_={F:zd,cb:Yh},Jc={rd:"local",NONE:"none",td:"session"};function Sw(){var u=!(bd(wr())||!_d()),p=lu(),C=uu();this.m=u,this.h=p,this.l=C,this.a={},dy||(dy=new m_),u=dy;try{this.g=!nn()&&Sp()||!oe.indexedDB?new u.a.F:new Qp(Hs()?new xl:new u.a.F)}catch{this.g=new xl,this.h=!0}try{this.i=new u.a.cb}catch{this.i=new xl}this.v=new xl,this.f=F(this.Zb,this),this.b={}}function Xc(){return hy||(hy=new Sw),hy}function eh(u,p){switch(p){case"session":return u.i;case"none":return u.v;default:return u.g}}function Pl(u,p){return"firebase:"+u.name+(p?":"+p:"")}function th(u,p,C){return C=Pl(p,C),"local"==p.F&&(u.b[C]=null),eh(u,p.F).U(C)}function tg(u){u.c&&(clearInterval(u.c),u.c=null)}function __(u){this.a=u,this.b=Xc()}(Q=Sw.prototype).get=function(u,p){return eh(this,u.F).get(Pl(u,p))},Q.set=function(u,p,C){var I=Pl(u,C),B=this,W=eh(this,u.F);return W.set(I,p).then(function(){return W.get(I)}).then(function(ee){"local"==u.F&&(B.b[I]=ee)})},Q.addListener=function(u,p,C){u=Pl(u,p),this.l&&(this.b[u]=oe.localStorage.getItem(u)),be(this.a)&&(eh(this,"local").ca(this.f),this.h||(nn()||!Sp())&&oe.indexedDB||!this.l||function kT(u){tg(u),u.c=setInterval(function(){for(var p in u.a){var C=oe.localStorage.getItem(p),I=u.b[p];C!=I&&(u.b[p]=C,C=new R({type:"storage",key:p,target:window,oldValue:I,newValue:C,a:!0}),u.Zb(C))}},1e3)}(this)),this.a[u]||(this.a[u]=[]),this.a[u].push(C)},Q.removeListener=function(u,p,C){u=Pl(u,p),this.a[u]&&(ir(this.a[u],function(I){return I==C}),0==this.a[u].length&&delete this.a[u]),be(this.a)&&(eh(this,"local").ia(this.f),tg(this))},Q.Zb=function(u){if(u&&u.g){var p=u.a.key;if(null==p)for(var C in this.a){var I=this.b[C];typeof I>"u"&&(I=null);var B=oe.localStorage.getItem(C);B!==I&&(this.b[C]=B,this.nb(C))}else if(0==p.indexOf("firebase:")&&this.a[p]){if(typeof u.a.a<"u"?eh(this,"local").ia(this.f):tg(this),this.m)if(C=oe.localStorage.getItem(p),(I=u.a.newValue)!==C)null!==I?oe.localStorage.setItem(p,I):oe.localStorage.removeItem(p);else if(this.b[p]===I&&typeof u.a.a>"u")return;var W=this;C=function(){(typeof u.a.a<"u"||W.b[p]!==oe.localStorage.getItem(p))&&(W.b[p]=oe.localStorage.getItem(p),W.nb(p))},_i&&bi&&10==bi&&oe.localStorage.getItem(p)!==u.a.newValue&&u.a.newValue!==u.a.oldValue?setTimeout(C,10):C()}}else Cn(u,F(this.nb,this))},Q.nb=function(u){this.a[u]&&Cn(this.a[u],function(p){p()})};var Qh,lm={name:"authEvent",F:"local"};function py(){this.a=Xc()}function Kh(u,p){this.b=C_,this.f=oe.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=u,this.h=p,this.l=oe.Int32Array?new Int32Array(64):Array(64),void 0===Qh&&(Qh=oe.Int32Array?new Int32Array(Iw):Iw),this.reset()}Dt(Kh,function w_(){this.b=-1});for(var C_=64,gy=C_-1,Jh=[],cm=0;cm<gy;cm++)Jh[cm]=0;var dm=Tr(128,Jh);function fm(u){for(var p=u.f,C=u.l,I=0,B=0;B<p.length;)C[I++]=p[B]<<24|p[B+1]<<16|p[B+2]<<8|p[B+3],B=4*I;for(p=16;64>p;p++){var W=(0|C[p-16])+(((B=0|C[p-15])>>>7|B<<25)^(B>>>18|B<<14)^B>>>3)|0,ee=(0|C[p-7])+(((I=0|C[p-2])>>>17|I<<15)^(I>>>19|I<<13)^I>>>10)|0;C[p]=W+ee|0}I=0|u.a[0],B=0|u.a[1];var ye=0|u.a[2],it=0|u.a[3],mt=0|u.a[4],Yn=0|u.a[5],Jr=0|u.a[6];for(W=0|u.a[7],p=0;64>p;p++){var Xr=((I>>>2|I<<30)^(I>>>13|I<<19)^(I>>>22|I<<10))+(I&B^I&ye^B&ye)|0;ee=(W=W+((mt>>>6|mt<<26)^(mt>>>11|mt<<21)^(mt>>>25|mt<<7))|0)+((ee=(ee=mt&Yn^~mt&Jr)+(0|Qh[p])|0)+(0|C[p])|0)|0,W=Jr,Jr=Yn,Yn=mt,mt=it+ee|0,it=ye,ye=B,B=I,I=ee+Xr|0}u.a[0]=u.a[0]+I|0,u.a[1]=u.a[1]+B|0,u.a[2]=u.a[2]+ye|0,u.a[3]=u.a[3]+it|0,u.a[4]=u.a[4]+mt|0,u.a[5]=u.a[5]+Yn|0,u.a[6]=u.a[6]+Jr|0,u.a[7]=u.a[7]+W|0}function hm(u,p,C){void 0===C&&(C=p.length);var I=0,B=u.c;if("string"==typeof p)for(;I<C;)u.f[B++]=p.charCodeAt(I++),B==u.b&&(fm(u),B=0);else{if(!ht(p))throw Error("message must be string or array");for(;I<C;){var W=p[I++];if(!("number"==typeof W&&0<=W&&255>=W&&W==(0|W)))throw Error("message must be a byte array");u.f[B++]=W,B==u.b&&(fm(u),B=0)}}u.c=B,u.g+=C}Kh.prototype.reset=function(){this.g=this.c=0,this.a=oe.Int32Array?new Int32Array(this.h):Rn(this.h)};var Iw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function T_(){Kh.call(this,8,xw)}Dt(T_,Kh);var xw=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function nh(u,p,C,I,B,W){this.v=u,this.i=p,this.l=C,this.m=I||null,this.u=B||null,this.s=W,this.h=p+":"+C,this.C=new py,this.g=new __(this.h),this.f=null,this.b=[],this.a=this.c=null}function Gu(u){return new Te("invalid-cordova-configuration",u)}function my(u,p){for(var C=0;C<u.b.length;C++)try{u.b[C](p)}catch{}}function vy(u){return u.f||(u.f=u.ma().then(function(){return new hr(function(p){u.Ea(function C(I){return p(I),u.Ta(C),!1}),function ng(u){function p(ee){I=!0,B&&B.cancel(),D_(u).then(function(ye){var it=C;if(ye&&ee&&ee.url){var mt=null;-1!=(it=Mi(ee.url)).indexOf("/__/auth/callback")&&(mt=(mt="object"==typeof(mt=hl(di(mt=po(it),"firebaseError")||null))?qt(mt):null)?new ma(ye.c,ye.b,null,null,mt,null,ye.T()):new ma(ye.c,ye.b,it,ye.f,null,null,ye.T())),it=mt||C}my(u,it)})}var C=new ma("unknown",null,null,null,new Te("no-auth-event")),I=!1,B=Zi(500).then(function(){return D_(u).then(function(){I||my(u,C)})}),W=oe.handleOpenURL;oe.handleOpenURL=function(ee){if(0==ee.toLowerCase().indexOf(En("BuildInfo.packageName",oe).toLowerCase()+"://")&&p({url:ee}),"function"==typeof W)try{W(ee)}catch(ye){console.error(ye)}},jc||(jc=new Gn),function h_(u){var p=jc;p.a.push(u),p.b||(p.b=function(C){for(var I=0;I<p.a.length;I++)p.a[I](C)},"function"==typeof(u=En("universalLinks.subscribe",oe))&&u(null,p.b))}(p)}(u)})})),u.f}function D_(u){var p=null;return function b_(u){return u.b.get(lm,u.a).then(function(p){return Vc(p)})}(u.g).then(function(C){return p=C,th((C=u.g).b,lm,C.a)}).then(function(){return p})}function RT(u){this.a=u,this.b=Xc()}(Q=nh.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function Eh(){return dl(void 0)?pa().then(function(){return new hr(function(u,p){var C=oe.document,I=setTimeout(function(){p(Error("Cordova framework is not ready."))},1e3);C.addEventListener("deviceready",function(){clearTimeout(I),u()},!1)})}):Wr(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof En("universalLinks.subscribe",oe))throw Gu("cordova-universal-links-plugin-fix is not installed");if(typeof En("BuildInfo.packageName",oe)>"u")throw Gu("cordova-plugin-buildinfo is not installed");if("function"!=typeof En("cordova.plugins.browsertab.openUrl",oe))throw Gu("cordova-plugin-browsertab is not installed");if("function"!=typeof En("cordova.InAppBrowser.open",oe))throw Gu("cordova-plugin-inappbrowser is not installed")},function(){throw new Te("cordova-not-ready")})},Q.Pb=function(u,p){return p(new Te("operation-not-supported-in-this-environment")),Yt()},Q.Nb=function(){return Wr(new Te("operation-not-supported-in-this-environment"))},Q.ac=function(){return!1},Q.Yb=function(){return!0},Q.Ub=function(){return!0},Q.Ob=function(u,p,C,I){if(this.c)return Wr(new Te("redirect-operation-pending"));var B=this,W=oe.document,ee=null,ye=null,it=null,mt=null;return this.c=Yt().then(function(){return Lf(p),vy(B)}).then(function(){return function A_(u,p,C,I,B){var W=function pm(){for(var u=20,p=[];0<u;)p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return p.join("")}(),ee=new ma(p,I,null,W,new Te("no-auth-event"),null,B),ye=En("BuildInfo.packageName",oe);if("string"!=typeof ye)throw new Te("invalid-cordova-configuration");var it=En("BuildInfo.displayName",oe),mt={};if(wr().toLowerCase().match(/iphone|ipad|ipod/))mt.ibi=ye;else{if(!wr().toLowerCase().match(/android/))return Wr(new Te("operation-not-supported-in-this-environment"));mt.apn=ye}it&&(mt.appDisplayName=it),W=function E_(u){var p=new T_;hm(p,u),u=[];var C=8*p.g;hm(p,dm,56>p.c?56-p.c:p.b-(p.c-56));for(var I=63;56<=I;I--)p.f[I]=255&C,C/=256;for(fm(p),I=C=0;I<p.i;I++)for(var B=24;0<=B;B-=8)u[C++]=p.a[I]>>B&255;return function f_(u){return Tn(u,function(p){return 1<(p=p.toString(16)).length?p:"0"+p}).join("")}(u)}(W),mt.sessionId=W;var Yn=Bt(u.v,u.i,u.l,p,C,null,I,u.m,mt,u.u,B,u.s);return u.ma().then(function(){var Jr=u.h;return u.C.a.set(lm,ee.w(),Jr)}).then(function(){var Jr=En("cordova.plugins.browsertab.isAvailable",oe);if("function"!=typeof Jr)throw new Te("invalid-cordova-configuration");var Xr=null;Jr(function(Wo){if(Wo){if("function"!=typeof(Xr=En("cordova.plugins.browsertab.openUrl",oe)))throw new Te("invalid-cordova-configuration");Xr(Yn)}else{if("function"!=typeof(Xr=En("cordova.InAppBrowser.open",oe)))throw new Te("invalid-cordova-configuration");Wo=wr(),u.a=Xr(Yn,Wo.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Wo.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(B,u,p,C,I)}).then(function(){return new hr(function(Yn,Jr){ye=function(){var Xr=En("cordova.plugins.browsertab.close",oe);return Yn(),"function"==typeof Xr&&Xr(),B.a&&"function"==typeof B.a.close&&(B.a.close(),B.a=null),!1},B.Ea(ye),mt=function(){gl()&&it()},W.addEventListener("resume",it=function(){ee||(ee=Zi(2e3).then(function(){Jr(new Te("redirect-cancelled-by-user"))}))},!1),wr().toLowerCase().match(/android/)||W.addEventListener("visibilitychange",mt,!1)}).o(function(Yn){return D_(B).then(function(){throw Yn})})}).oa(function(){it&&W.removeEventListener("resume",it,!1),mt&&W.removeEventListener("visibilitychange",mt,!1),ee&&ee.cancel(),ye&&B.Ta(ye),B.c=null})},Q.Ea=function(u){this.b.push(u),vy(this).o(function(p){"auth/invalid-cordova-configuration"===p.code&&(p=new ma("unknown",null,null,null,new Te("no-auth-event")),u(p))})},Q.Ta=function(u){ir(this.b,function(p){return p==u})};var gm={name:"pendingRedirect",F:"session"};function mm(u){return th(u.b,gm,u.a)}function rg(u,p,C,I){this.i={},this.u=0,this.D=u,this.v=p,this.m=C,this.J=I,this.h=[],this.f=!1,this.l=F(this.s,this),this.b=new bm,this.C=new Rw,this.g=new RT(_m(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=_r(this.D,this.v,this.m,kn,this.J)}function _r(u,p,C,I,B){var W=a.Z.SDK_VERSION||null;return dl()?new nh(u,p,C,W,I,B):new _e(u,p,C,W,I,B)}function S_(u){u.f||(u.f=!0,u.a.Ea(u.l));var p=u.a;return u.a.ma().o(function(C){throw u.a==p&&u.reset(),C})}function vm(u){u.a.Yb()&&S_(u).o(function(p){var C=new ma("unknown",null,null,null,new Te("operation-not-supported-in-this-environment"));I_(p)&&u.s(C)}),u.a.Ub()||yy(u.b)}function rh(u,p){tr(u.h,p)||u.h.push(p),u.f||function Mw(u){return u.b.get(gm,u.a).then(function(p){return"pending"==p})}(u.g).then(function(C){C?mm(u.g).then(function(){S_(u).o(function(I){var B=new ma("unknown",null,null,null,new Te("operation-not-supported-in-this-environment"));I_(I)&&u.s(B)})}):vm(u)}).o(function(){vm(u)})}function No(u,p){ir(u.h,function(C){return C==p})}rg.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=_r(this.D,this.v,this.m,null,this.J),this.i={}},rg.prototype.s=function(u){if(!u)throw new Te("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),u&&u.getUid()&&this.i.hasOwnProperty(u.getUid()))return!1;for(var p=!1,C=0;C<this.h.length;C++){var I=this.h[C];if(I.Gb(u.c,u.b)){(p=this.c[u.c])&&(p.h(u,I),u&&(u.f||u.b)&&(this.i[u.getUid()]=!0,this.u=Date.now())),p=!0;break}}return yy(this.b),p};var Ow=new pl(2e3,1e4),Nw=new pl(3e4,6e4);function ym(u,p,C,I,B,W,ee){return u.a.Nb(p,C,I,function(){u.f||(u.f=!0,u.a.Ea(u.l))},function(){u.reset()},B,W,ee)}function I_(u){return!(!u||"auth/cordova-not-ready"!=u.code)}function kw(u,p,C,I,B){var W;return function Pw(u){return u.b.set(gm,"pending",u.a)}(u.g).then(function(){return u.a.Ob(p,C,I,B).o(function(ee){if(I_(ee))throw new Te("operation-not-supported-in-this-environment");return W=ee,mm(u.g).then(function(){throw W})}).then(function(){return u.a.ac()?new hr(function(){}):mm(u.g).then(function(){return u.ra()}).then(function(){}).o(function(){})})})}function x_(u,p,C,I,B){return u.a.Pb(I,function(W){p.na(C,null,W,B)},Ow.get())}rg.prototype.ra=function(){return this.b.ra()};var Xn={};function _m(u,p,C){return u=u+":"+p,C&&(u=u+":"+C.url),u}function ih(u,p,C,I){var B=_m(p,C,I);return Xn[B]||(Xn[B]=new rg(u,p,C,I)),Xn[B]}function bm(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function yy(u){u.g||(u.g=!0,Yd(u,!1,null,null))}function ed(u){u.g&&!u.i&&Yd(u,!1,null,null)}function Cm(u,p){if(u.b=function(){return Yt(p)},u.f.length)for(var C=0;C<u.f.length;C++)u.f[C](p)}function Yd(u,p,C,I){p?I?function FT(u,p){if(u.b=function(){return Wr(p)},u.c.length)for(var C=0;C<u.c.length;C++)u.c[C](p)}(u,I):Cm(u,C):Cm(u,{user:null}),u.f=[],u.c=[]}function Rw(){}function by(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(u){this.jb=u},enumerable:!1})}function mc(u,p){this.a=p,sn(this,"verificationId",u)}function wy(u,p,C,I){return new pi(u).gb(p,C).then(function(B){return new mc(B,I)})}function M_(u){var p=Fc(u);if(!(p&&p.exp&&p.auth_time&&p.iat))throw new Te("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ho(this,{token:u,expirationTime:Ef(1e3*p.exp),authTime:Ef(1e3*p.auth_time),issuedAtTime:Ef(1e3*p.iat),signInProvider:p.firebase&&p.firebase.sign_in_provider?p.firebase.sign_in_provider:null,signInSecondFactor:p.firebase&&p.firebase.sign_in_second_factor?p.firebase.sign_in_second_factor:null,claims:p})}function Kd(u,p,C){var I=p&&p[O_];if(!I)throw new Te("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=u,this.f=we(p),this.g=C,this.c=new ac(null,I),this.b=[];var B=this;Cn(p[Fw]||[],function(W){(W=ml(W))&&B.b.push(W)}),sn(this,"auth",this.a),sn(this,"session",this.c),sn(this,"hints",this.b)}bm.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},bm.prototype.h=function(u,p){if(u){this.reset(),this.g=!0;var C=u.c,I=u.b,B=u.a&&"auth/web-storage-unsupported"==u.a.code,W=u.a&&"auth/operation-not-supported-in-this-environment"==u.a.code;this.i=!(!B&&!W),"unknown"!=C||B||W?u.a?(Yd(this,!0,null,u.a),Yt()):p.Fa(C,I)?function wm(u,p,C){C=C.Fa(p.c,p.b);var I=p.g,B=p.f,W=p.i,ee=p.T(),ye=!!p.c.match(/Redirect$/);C(I,B,ee,W).then(function(it){Yd(u,ye,it,null)}).o(function(it){Yd(u,ye,null,it)})}(this,u,p):Wr(new Te("invalid-auth-event")):(Yd(this,!1,null,null),Yt())}else Wr(new Te("invalid-auth-event"))},bm.prototype.ra=function(){var u=this;return new hr(function(p,C){u.b?u.b().then(p,C):(u.f.push(p),u.c.push(C),function _y(u){var p=new Te("timeout");u.a&&u.a.cancel(),u.a=Zi(Nw.get()).then(function(){u.b||(u.g=!0,Yd(u,!0,null,p))})}(u))})},Rw.prototype.h=function(u,p){if(u){var C=u.c,I=u.b;u.a?(p.na(u.c,null,u.a,u.b),Yt()):p.Fa(C,I)?function P_(u,p){var C=u.b,I=u.c;p.Fa(I,C)(u.g,u.f,u.T(),u.i).then(function(B){p.na(I,B,null,C)}).o(function(B){p.na(I,null,B,C)})}(u,p):Wr(new Te("invalid-auth-event"))}else Wr(new Te("invalid-auth-event"))},mc.prototype.confirm=function(u){return u=Nh(this.verificationId,u),this.a(u)};var Fw="mfaInfo",O_="mfaPendingCredential";function N_(u,p,C,I){Te.call(this,"multi-factor-auth-required",I,p),this.b=new Kd(u,p,C),sn(this,"resolver",this.b)}function Lw(u,p,C){if(u&&qe(u.serverResponse)&&"auth/multi-factor-auth-required"===u.code)try{return new N_(p,u.serverResponse,C,u.message)}catch{}return null}function Cy(){}function Ty(u){sn(this,"factorId",u.fa),this.a=u}function oh(u){if(Ty.call(this,u),this.a.fa!=pi.PROVIDER_ID)throw new Te("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Xh(u,p){for(var C in S.call(this,u),p)this[C]=p[C]}function ig(u,p){this.a=u,this.b=[],this.c=F(this.yc,this),ln(this.a,"userReloaded",this.c);var C=[];p&&p.multiFactor&&p.multiFactor.enrolledFactors&&Cn(p.multiFactor.enrolledFactors,function(I){var B=null,W={};if(I){I.uid&&(W[Qr]=I.uid),I.displayName&&(W[Zg]=I.displayName),I.enrollmentTime&&(W[xf]=new Date(I.enrollmentTime).toISOString()),I.phoneNumber&&(W[Dh]=I.phoneNumber);try{B=new Ad(W)}catch{}I=B}else I=null;I&&C.push(I)}),Ey(this,C)}function Ey(u,p){u.b=p,sn(u,"enrolledFactors",p)}function Em(u,p,C){if(this.h=u,this.i=p,this.g=C,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ay(u,p){u.stop(),u.b=Zi(function Am(u,p){return p?(u.a=u.c,u.g()):(p=u.a,u.a*=2,u.a>u.f&&(u.a=u.f),p)}(u,p)).then(function(){return function wd(){var u=oe.document,p=null;return gl()||!u?Yt():new hr(function(C){p=function(){gl()&&(u.removeEventListener("visibilitychange",p,!1),C())},u.addEventListener("visibilitychange",p,!1)}).o(function(C){throw u.removeEventListener("visibilitychange",p,!1),C})}()}).then(function(){return u.h()}).then(function(){Ay(u,!0)}).o(function(C){u.i(C)&&Ay(u,!1)})}function Dy(u){this.f=u,this.b=this.a=null,this.c=Date.now()}function Sy(u,p){typeof p>"u"&&(p=u.b?(p=u.b).a-p.g:0),u.c=Date.now()+1e3*p}function Qd(u,p){u.b=Ou(p[Ws]||""),u.a=p.refreshToken,Sy(u,typeof(p=p.expiresIn)<"u"?Number(p):void 0)}function ep(u,p){this.a=u||null,this.b=p||null,Ho(this,{lastSignInTime:Ef(p||null),creationTime:Ef(u||null)})}function Iy(u,p,C,I,B,W){Ho(this,{uid:u,displayName:I||null,photoURL:B||null,email:C||null,phoneNumber:W||null,providerId:p})}function $u(u,p,C){this.N=[],this.l=u.apiKey,this.m=u.appName,this.s=u.authDomain||null;var I=a.Z.SDK_VERSION?Jn(a.Z.SDK_VERSION):null;this.a=new Zo(this.l,Gt(kn),I),(this.u=u.emulatorConfig||null)&&ss(this.a,this.u),this.h=new Dy(this.a),Sm(this,p[Ws]),Qd(this.h,p),sn(this,"refreshToken",this.h.a),xm(this,C||{}),Er.call(this),this.P=!1,this.s&&Mo()&&(this.b=ih(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function Dm(u){return new Em(function(){return u.I(!0)},function(p){return!(!p||"auth/network-request-failed"!=p.code)},function(){var p=u.h.c-Date.now()-3e5;return 0<p?p:0})}(this),this.ba=F(this.ib,this);var B=this;this.za=null,this.Pa=function(W){B.xa(W.h)},this.qa=null,this.Ba=function(W){ko(B,W.c)},this.$=null,this.aa=[],this.Oa=function(W){Ml(B,W.f)},this.ja=null,this.S=new ig(this,C),sn(this,"multiFactor",this.S)}function ko(u,p){u.u=p,ss(u.a,p),u.b&&(p=u.b,u.b=ih(u.s,u.l,u.m,u.u),u.P&&(No(p,u),rh(u.b,u)))}function xy(u,p){u.qa&&xr(u.qa,"languageCodeChanged",u.Pa),(u.qa=p)&&ln(p,"languageCodeChanged",u.Pa)}function td(u,p){u.$&&xr(u.$,"emulatorConfigChanged",u.Ba),(u.$=p)&&ln(p,"emulatorConfigChanged",u.Ba)}function Ml(u,p){u.aa=p,Ha(u.a,a.Z.SDK_VERSION?Jn(a.Z.SDK_VERSION,u.aa):null)}function zo(u,p){u.ja&&xr(u.ja,"frameworkChanged",u.Oa),(u.ja=p)&&ln(p,"frameworkChanged",u.Oa)}function Ol(u){try{return a.Z.app(u.m).auth()}catch{throw new Te("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+u.m+"'!")}}function jt(u){u.J||u.D.b||(u.D.start(),xr(u,"tokenChanged",u.ba),ln(u,"tokenChanged",u.ba))}function og(u){xr(u,"tokenChanged",u.ba),u.D.stop()}function Sm(u,p){u.Aa=p,sn(u,"_lat",p)}function Ks(u){for(var p=[],C=0;C<u.W.length;C++)p.push(u.W[C](u));return qi(p).then(function(){return u})}function Jd(u){u.b&&!u.P&&(u.P=!0,rh(u.b,u))}function xm(u,p){Ho(u,{uid:p.uid,displayName:p.displayName||null,photoURL:p.photoURL||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,isAnonymous:p.isAnonymous||!1,tenantId:p.tenantId||null,metadata:new ep(p.createdAt,p.lastLoginAt),providerData:[]}),u.a.b=u.tenantId}function sg(){}function Py(u){return Yt().then(function(){if(u.J)throw new Te("app-deleted")})}function sh(u){return Tn(u.providerData,function(p){return p.providerId})}function My(u,p){p&&(tp(u,p.providerId),u.providerData.push(p))}function tp(u,p){ir(u.providerData,function(C){return C.providerId==p})}function zu(u,p,C){("uid"!=p||C)&&u.hasOwnProperty(p)&&sn(u,p,C)}function ah(u,p){u!=p&&(Ho(u,{uid:p.uid,displayName:p.displayName,photoURL:p.photoURL,email:p.email,emailVerified:p.emailVerified,phoneNumber:p.phoneNumber,isAnonymous:p.isAnonymous,tenantId:p.tenantId,providerData:[]}),sn(u,"metadata",p.metadata?function R_(u){return new ep(u.a,u.b)}(p.metadata):new ep),Cn(p.providerData,function(C){My(u,C)}),function _u(u,p){u.b=p.b,u.a=p.a,u.c=p.c}(u.h,p.h),sn(u,"refreshToken",u.h.a),Ey(u.S,p.S.b))}function ag(u){return u.I().then(function(p){var C=u.isAnonymous;return function Bw(u,p){return Ar(u.a,_a,{idToken:p}).then(F(u.Kc,u))}(u,p).then(function(){return C||zu(u,"isAnonymous",!1),p})})}function bu(u,p){p[Ws]&&u.Aa!=p[Ws]&&(Qd(u.h,p),u.dispatchEvent(new Xh("tokenChanged")),Sm(u,p[Ws]),zu(u,"refreshToken",u.h.a))}function ug(u,p){return ag(u).then(function(){if(tr(sh(u),p))return Ks(u).then(function(){throw new Te("provider-already-linked")})})}function uh(u,p,C){return ts({user:u,credential:Op(p),additionalUserInfo:p=Lc(p),operationType:C})}function Ny(u,p){return bu(u,p),u.reload().then(function(){return u})}function Pm(u,p,C,I,B){if(!Mo())return Wr(new Te("operation-not-supported-in-this-environment"));if(u.i&&!B)return Wr(u.i);var W=du(C.providerId),ee=rc(u.uid+":::"),ye=null;(!lu()||_d())&&u.s&&C.isOAuthProvider&&(ye=Bt(u.s,u.l,u.m,p,C,null,ee,a.Z.SDK_VERSION||null,null,null,u.tenantId,u.u));var it=Zr(ye,W&&W.va,W&&W.ua);return I=I().then(function(){if(Mm(u),!B)return u.I().then(function(){})}).then(function(){return ym(u.b,it,p,C,ee,!!ye,u.tenantId)}).then(function(){return new hr(function(mt,Yn){u.na(p,null,new Te("cancelled-popup-request"),u.g||null),u.f=mt,u.C=Yn,u.g=ee,u.c=x_(u.b,u,p,it,ee)})}).then(function(mt){return it&&Ki(it),mt?ts(mt):null}).o(function(mt){throw it&&Ki(it),mt}),Ro(u,I,B)}function F_(u,p,C,I,B){if(!Mo())return Wr(new Te("operation-not-supported-in-this-environment"));if(u.i&&!B)return Wr(u.i);var W=null,ee=rc(u.uid+":::");return I=I().then(function(){if(Mm(u),!B)return u.I().then(function(){})}).then(function(){return u.ga=ee,Ks(u)}).then(function(ye){return u.ha&&(ye=(ye=u.ha).b.set(Ry,u.w(),ye.a)),ye}).then(function(){return kw(u.b,p,C,ee,u.tenantId)}).o(function(ye){if(W=ye,u.ha)return UT(u.ha);throw W}).then(function(){if(W)throw W}),Ro(u,I,B)}function Mm(u){if(!u.b||!u.P)throw new Te(u.b&&!u.P?"internal-error":"auth-domain-config-required")}function Ro(u,p,C){var I=function ky(u,p,C){return u.i&&!C?(p.cancel(),Wr(u.i)):p.o(function(I){throw!I||"auth/user-disabled"!=I.code&&"auth/user-token-expired"!=I.code||(u.i||u.dispatchEvent(new Xh("userInvalidated")),u.i=I),I})}(u,p,C);return u.N.push(I),I.oa(function(){Et(u.N,I)}),I.o(function(B){var W=null;throw B&&"auth/multi-factor-auth-required"===B.code&&(W=Lw(B.w(),Ol(u),F(u.jc,u))),W||B})}function Om(u){if(!u.apiKey)return null;var p={apiKey:u.apiKey,authDomain:u.authDomain,appName:u.appName,emulatorConfig:u.emulatorConfig},C={};if(!u.stsTokenManager||!u.stsTokenManager.accessToken)return null;C[Ws]=u.stsTokenManager.accessToken,C.refreshToken=u.stsTokenManager.refreshToken||null;var I=u.stsTokenManager.expirationTime;I&&(C.expiresIn=(I-Date.now())/1e3);var B=new $u(p,C,u);return u.providerData&&Cn(u.providerData,function(W){W&&My(B,ts(W))}),u.redirectEventId&&(B.ga=u.redirectEventId),B}function lh(u){this.a=u,this.b=Xc()}Kd.prototype.Rc=function(u){var p=this;return u.tb(this.a.a,this.c).then(function(C){var I=we(p.f);return delete I[Fw],delete I[O_],$e(I,C),p.g(I)})},Dt(N_,Te),Cy.prototype.tb=function(u,p,C){return p.type==La?function k_(u,p,C,I){return C.Ha().then(function(B){return B={idToken:B},typeof I<"u"&&(B.displayName=I),$e(B,{phoneVerificationInfo:Ff(u.a)}),Ar(p,qp,B)})}(this,u,p,C):function LT(u,p,C){return C.Ha().then(function(I){return $e(I={mfaPendingCredential:I},{phoneVerificationInfo:Ff(u.a)}),Ar(p,ty,I)})}(this,u,p)},Dt(Ty,Cy),Dt(oh,Ty),Dt(Xh,S),(Q=ig.prototype).yc=function(u){Ey(this,function Tm(u){var p=[];return Cn(u.mfaInfo||[],function(C){(C=ml(C))&&p.push(C)}),p}(u.hd))},Q.Sb=function(){return this.a.I().then(function(u){return new ac(u,null)})},Q.fc=function(u,p){var C=this,I=this.a.a;return this.Sb().then(function(B){return u.tb(I,B,p)}).then(function(B){return bu(C.a,B),C.a.reload()})},Q.bd=function(u){var p=this,C="string"==typeof u?u:u.uid,I=this.a.a;return this.a.I().then(function(B){return Ar(I,$p,{idToken:B,mfaEnrollmentId:C})}).then(function(B){var W=ci(p.b,function(ee){return ee.uid!=C});return Ey(p,W),bu(p.a,B),p.a.reload().o(function(ee){if("auth/user-token-expired"!=ee.code)throw ee})})},Q.w=function(){return{multiFactor:{enrolledFactors:Tn(this.b,function(u){return u.w()})}}},Em.prototype.start=function(){this.a=this.c,Ay(this,!0)},Em.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Dy.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Dy.prototype.getToken=function(u){return u=!!u,this.b&&!this.a?Wr(new Te("user-token-expired")):u||!this.b||Date.now()>this.c-3e4?this.a?function Uw(u,p){return function Lp(u,p){return new hr(function(C,I){"refresh_token"==p.grant_type&&p.refresh_token||"authorization_code"==p.grant_type&&p.code?Gf(u,u.l+"?key="+encodeURIComponent(u.c),function(B){B?B.error?I(ba(B)):B.access_token&&B.refresh_token?C(B):I(new Te("internal-error")):I(new Te("network-request-failed"))},"POST",oi(p).toString(),u.g,u.m.get()):I(new Te("internal-error"))})}(u.f,p).then(function(C){return u.b=Ou(C.access_token),u.a=C.refresh_token,Sy(u,C.expires_in),{accessToken:u.b.toString(),refreshToken:u.a}}).o(function(C){throw"auth/user-token-expired"==C.code&&(u.a=null),C})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Yt(null):Yt({accessToken:this.b.toString(),refreshToken:this.a})},ep.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},Dt($u,Er),$u.prototype.xa=function(u){this.za=u,Vh(this.a,u)},$u.prototype.la=function(){return this.za},$u.prototype.Ga=function(){return Rn(this.aa)},$u.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},sn($u.prototype,"providerId","firebase"),(Q=$u.prototype).reload=function(){var u=this;return Ro(this,Py(this).then(function(){return ag(u).then(function(){return Ks(u)}).then(sg)}))},Q.oc=function(u){return this.I(u).then(function(p){return new M_(p)})},Q.I=function(u){var p=this;return Ro(this,Py(this).then(function(){return p.h.getToken(u)}).then(function(C){if(!C)throw new Te("internal-error");return C.accessToken!=p.Aa&&(Sm(p,C.accessToken),p.dispatchEvent(new Xh("tokenChanged"))),zu(p,"refreshToken",C.refreshToken),C.accessToken}))},Q.Kc=function(u){if(!(u=u.users)||!u.length)throw new Te("internal-error");xm(this,{uid:(u=u[0]).localId,displayName:u.displayName,photoURL:u.photoUrl,email:u.email,emailVerified:!!u.emailVerified,phoneNumber:u.phoneNumber,lastLoginAt:u.lastLoginAt,createdAt:u.createdAt,tenantId:u.tenantId});for(var p=function Oy(u){return(u=u.providerUserInfo)&&u.length?Tn(u,function(p){return new Iy(p.rawId,p.providerId,p.email,p.displayName,p.photoUrl,p.phoneNumber)}):[]}(u),C=0;C<p.length;C++)My(this,p[C]);zu(this,"isAnonymous",!(this.email&&u.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Xh("userReloaded",{hd:u}))},Q.Lc=function(u){return Cd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(u)},Q.ub=function(u){var p=this,C=null;return Ro(this,u.c(this.a,this.uid).then(function(I){return bu(p,I),C=uh(p,I,"reauthenticate"),p.i=null,p.reload()}).then(function(){return C}),!0)},Q.Cc=function(u){return Cd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(u)},Q.rb=function(u){var p=this,C=null;return Ro(this,ug(this,u.providerId).then(function(){return p.I()}).then(function(I){return u.b(p.a,I)}).then(function(I){return C=uh(p,I,"link"),Ny(p,I)}).then(function(){return C}))},Q.Dc=function(u,p){var C=this;return Ro(this,ug(this,"phone").then(function(){return wy(Ol(C),u,p,F(C.rb,C))}))},Q.Mc=function(u,p){var C=this;return Ro(this,Yt().then(function(){return wy(Ol(C),u,p,F(C.ub,C))}),!0)},Q.Cb=function(u){var p=this;return Ro(this,this.I().then(function(C){return p.a.Cb(C,u)}).then(function(C){return bu(p,C),p.reload()}))},Q.ed=function(u){var p=this;return Ro(this,this.I().then(function(C){return u.b(p.a,C)}).then(function(C){return bu(p,C),p.reload()}))},Q.Db=function(u){var p=this;return Ro(this,this.I().then(function(C){return p.a.Db(C,u)}).then(function(C){return bu(p,C),p.reload()}))},Q.Eb=function(u){if(void 0===u.displayName&&void 0===u.photoURL)return Py(this);var p=this;return Ro(this,this.I().then(function(C){return p.a.Eb(C,{displayName:u.displayName,photoUrl:u.photoURL})}).then(function(C){return bu(p,C),zu(p,"displayName",C.displayName||null),zu(p,"photoURL",C.photoUrl||null),Cn(p.providerData,function(I){"password"===I.providerId&&(sn(I,"displayName",p.displayName),sn(I,"photoURL",p.photoURL))}),Ks(p)}).then(sg))},Q.cd=function(u){var p=this;return Ro(this,ag(this).then(function(C){return tr(sh(p),u)?function tm(u,p,C){return Ar(u,jp,{idToken:p,deleteProvider:C})}(p.a,C,[u]).then(function(I){var B={};return Cn(I.providerUserInfo||[],function(W){B[W.providerId]=!0}),Cn(sh(p),function(W){B[W]||tp(p,W)}),B[pi.PROVIDER_ID]||sn(p,"phoneNumber",null),Ks(p)}):Ks(p).then(function(){throw new Te("no-such-provider")})}))},Q.delete=function(){var u=this;return Ro(this,this.I().then(function(p){return Ar(u.a,pc,{idToken:p})}).then(function(){u.dispatchEvent(new Xh("userDeleted"))})).then(function(){for(var p=0;p<u.N.length;p++)u.N[p].cancel("app-deleted");xy(u,null),td(u,null),zo(u,null),u.N=[],u.J=!0,og(u),sn(u,"refreshToken",null),u.b&&No(u.b,u)})},Q.Gb=function(u,p){return!!("linkViaPopup"==u&&(this.g||null)==p&&this.f||"reauthViaPopup"==u&&(this.g||null)==p&&this.f||"linkViaRedirect"==u&&(this.ga||null)==p||"reauthViaRedirect"==u&&(this.ga||null)==p)},Q.na=function(u,p,C,I){"linkViaPopup"!=u&&"reauthViaPopup"!=u||I!=(this.g||null)||(C&&this.C?this.C(C):p&&!C&&this.f&&this.f(p),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},Q.Fa=function(u,p){return"linkViaPopup"==u&&p==(this.g||null)?F(this.Lb,this):"reauthViaPopup"==u&&p==(this.g||null)?F(this.Mb,this):"linkViaRedirect"==u&&(this.ga||null)==p?F(this.Lb,this):"reauthViaRedirect"==u&&(this.ga||null)==p?F(this.Mb,this):null},Q.Ec=function(u){var p=this;return Pm(this,"linkViaPopup",u,function(){return ug(p,u.providerId).then(function(){return Ks(p)})},!1)},Q.Nc=function(u){return Pm(this,"reauthViaPopup",u,function(){return Yt()},!0)},Q.Fc=function(u){var p=this;return F_(this,"linkViaRedirect",u,function(){return ug(p,u.providerId)},!1)},Q.Oc=function(u){return F_(this,"reauthViaRedirect",u,function(){return Yt()},!0)},Q.Lb=function(u,p,C,I){var B=this;this.c&&(this.c.cancel(),this.c=null);var W=null;return Ro(this,this.I().then(function(ee){return Bd(B.a,{requestUri:u,postBody:I,sessionId:p,idToken:ee})}).then(function(ee){return W=uh(B,ee,"link"),Ny(B,ee)}).then(function(){return W}))},Q.Mb=function(u,p,C,I){var B=this;this.c&&(this.c.cancel(),this.c=null);var W=null;return Ro(this,Yt().then(function(){return rs(Vd(B.a,{requestUri:u,sessionId:p,postBody:I,tenantId:C}),B.uid)}).then(function(ye){return W=uh(B,ye,"reauthenticate"),bu(B,ye),B.i=null,B.reload()}).then(function(){return W}),!0)},Q.vb=function(u){var p=this,C=null;return Ro(this,this.I().then(function(I){return C=I,typeof u>"u"||be(u)?{}:sc(new Sh(u))}).then(function(I){return p.a.vb(C,I)}).then(function(I){if(p.email!=I)return p.reload()}).then(function(){}))},Q.Fb=function(u,p){var C=this,I=null;return Ro(this,this.I().then(function(B){return I=B,typeof p>"u"||be(p)?{}:sc(new Sh(p))}).then(function(B){return C.a.Fb(I,u,B)}).then(function(B){if(C.email!=B)return C.reload()}).then(function(){}))},Q.jc=function(u){var p=null,C=this;return Ro(this,u=rs(Yt(u),C.uid).then(function(I){return p=uh(C,I,"reauthenticate"),bu(C,I),C.i=null,C.reload()}).then(function(){return p}),!0)},Q.toJSON=function(){return this.w()},Q.w=function(){var u={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&$e(u,this.metadata.w()),Cn(this.providerData,function(p){u.providerData.push(function Sf(u){var C,p={};for(C in u)u.hasOwnProperty(C)&&(p[C]=u[C]);return p}(p))}),$e(u,this.S.w()),u};var Ry={name:"redirectUser",F:"session"};function UT(u){return th(u.b,Ry,u.a)}function Qs(u){this.a=u,this.b=Xc(),this.c=null,this.f=function U_(u){var p=nd("local"),C=nd("session"),I=nd("none");return function eg(u,p,C){var I=Pl(p,C),B=eh(u,p.F);return u.get(p,C).then(function(W){var ee=null;try{ee=hl(oe.localStorage.getItem(I))}catch{}if(ee&&!W)return oe.localStorage.removeItem(I),u.set(p,ee,C);ee&&W&&"localStorage"!=B.type&&oe.localStorage.removeItem(I)})}(u.b,p,u.a).then(function(){return u.b.get(C,u.a)}).then(function(B){return B?C:u.b.get(I,u.a).then(function(W){return W?I:u.b.get(p,u.a).then(function(ee){return ee?p:u.b.get(lg,u.a).then(function(ye){return ye?nd(ye):p})})})}).then(function(B){return u.c=B,wa(u,B.F)}).o(function(){u.c||(u.c=p)})}(this),this.b.addListener(nd("local"),this.a,F(this.g,this))}function wa(u,p){var I,C=[];for(I in Jc)Jc[I]!==p&&C.push(th(u.b,nd(Jc[I]),u.a));return C.push(th(u.b,lg,u.a)),function ru(u){return new hr(function(p,C){var I=u.length,B=[];if(I)for(var W=function(mt,Yn){I--,B[mt]=Yn,0==I&&p(B)},ee=function(mt){C(mt)},ye=0;ye<u.length;ye++)bs(u[ye],Lt(W,ye),ee);else p(B)})}(C)}Qs.prototype.g=function(){var u=this,p=nd("local");np(this,function(){return Yt().then(function(){return u.c&&"local"!=u.c.F?u.b.get(p,u.a):null}).then(function(C){if(C)return wa(u,"local").then(function(){u.c=p})})})};var lg={name:"persistence",F:"session"};function nd(u){return{name:"authUser",F:u}}function rd(u,p){return np(u,function(){return u.b.set(u.c,p.w(),u.a)})}function Fy(u){return np(u,function(){return th(u.b,u.c,u.a)})}function Vw(u,p,C){return np(u,function(){return u.b.get(u.c,u.a).then(function(I){return I&&p&&(I.authDomain=p),I&&C&&(I.emulatorConfig=C),Om(I||{})})})}function np(u,p){return u.f=u.f.then(p,p),u.f}function Wu(u){if(this.l=!1,sn(this,"settings",new by),sn(this,"app",u),!ai(this).options||!ai(this).options.apiKey)throw new Te("invalid-api-key");u=a.Z.SDK_VERSION?Jn(a.Z.SDK_VERSION):null,this.a=new Zo(ai(this).options&&ai(this).options.apiKey,Gt(kn),u),this.P=[],this.s=[],this.N=[],this.Pa=a.Z.INTERNAL.createSubscribe(F(this.zc,this)),this.W=void 0,this.ib=a.Z.INTERNAL.createSubscribe(F(this.Ac,this)),vc(this,null),this.i=new Qs(ai(this).options.apiKey+":"+ai(this).name),this.D=new lh(ai(this).options.apiKey+":"+ai(this).name),this.$=zi(this,function Nl(u){var p=ai(u).options.authDomain,C=function ch(u){var p=function WD(u,p){return u.b.get(Ry,u.a).then(function(C){return C&&p&&(C.authDomain=p),Om(C||{})})}(u.D,ai(u).options.authDomain).then(function(C){return(u.m=C)&&(C.ha=u.D),UT(u.D)});return zi(u,p)}(u).then(function(){return Vw(u.i,p,u.R)}).then(function(I){return I?(I.ha=u.D,u.m&&(u.m.ga||null)==(I.ga||null)?I:I.reload().then(function(){return rd(u.i,I).then(function(){return I})}).o(function(B){return"auth/network-request-failed"==B.code?I:Fy(u.i)})):null}).then(function(I){vc(u,I||null)});return zi(u,C)}(this)),this.h=zi(this,function dh(u){return u.$.then(function(){return Vy(u)}).o(function(){}).then(function(){if(!u.l)return u.ja()}).o(function(){}).then(function(){if(!u.l){u.ba=!0;var p=u.i;p.b.addListener(nd("local"),p.a,u.ja)}})}(this)),this.ba=!1,this.ja=F(this.Zc,this),this.Ba=F(this.da,this),this.qa=F(this.mc,this),this.za=F(this.wc,this),this.Aa=F(this.xc,this),this.b=null,function Hw(u){var p=ai(u).options.authDomain,C=ai(u).options.apiKey;p&&Mo()&&(u.Oa=u.$.then(function(){if(!u.l){if(u.b=ih(p,C,ai(u).name,u.R),rh(u.b,u),or(u)&&Jd(or(u)),u.m){Jd(u.m);var I=u.m;I.xa(u.la()),xy(I,u),Ml(I=u.m,u.J),zo(I,u),ko(I=u.m,u.R),td(I,u),u.m=null}return u.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=F(this.delete,this),this.INTERNAL.logFramework=F(this.Gc,this),this.u=0,Er.call(this),function Uy(u){Object.defineProperty(u,"lc",{get:function(){return this.la()},set:function(p){this.xa(p)},enumerable:!1}),u.aa=null,Object.defineProperty(u,"ti",{get:function(){return this.T()},set:function(p){this.zb(p)},enumerable:!1}),u.S=null,Object.defineProperty(u,"emulatorConfig",{get:function(){if(this.R){var p=po(this.R.url);p=ts({protocol:p.c,host:p.a,port:p.g,options:ts({disableWarnings:this.R.ec})})}else p=null;return p},enumerable:!1})}(this),this.J=[],this.R=null}function V_(u){S.call(this,"languageCodeChanged"),this.h=u}function Ly(u){S.call(this,"emulatorConfigChanged"),this.c=u}function jw(u){S.call(this,"frameworkChanged"),this.f=u}function By(u){return u.Oa||Wr(new Te("auth-domain-config-required"))}function Vy(u){if(!Mo())return Wr(new Te("operation-not-supported-in-this-environment"));var p=By(u).then(function(){return u.b.ra()}).then(function(C){return C?ts(C):null});return zi(u,p)}function vc(u,p){or(u)&&(function Im(u,p){ir(u.W,function(C){return C==p})}(or(u),u.Ba),xr(or(u),"tokenChanged",u.qa),xr(or(u),"userDeleted",u.za),xr(or(u),"userInvalidated",u.Aa),og(or(u))),p&&(p.W.push(u.Ba),ln(p,"tokenChanged",u.qa),ln(p,"userDeleted",u.za),ln(p,"userInvalidated",u.Aa),0<u.u&&jt(p)),sn(u,"currentUser",p),p&&(p.xa(u.la()),xy(p,u),Ml(p,u.J),zo(p,u),ko(p,u.R),td(p,u))}function qa(u,p){var C=null,I=null;return zi(u,p.then(function(B){return C=Op(B),I=Lc(B),function jy(u,p){var C={};return C.apiKey=ai(u).options.apiKey,C.authDomain=ai(u).options.authDomain,C.appName=ai(u).name,u.R&&(C.emulatorConfig=u.R),u.$.then(function(){return function L_(u,p,C,I){var B=new $u(u,p);return C&&(B.ha=C),I&&Ml(B,I),B.reload().then(function(){return B})}(C,p,u.D,u.Ga())}).then(function(I){return or(u)&&I.uid==or(u).uid?(ah(or(u),I),u.da(I)):(vc(u,I),Jd(I),u.da(I))}).then(function(){id(u)})}(u,B)},function(B){var W=null;throw B&&"auth/multi-factor-auth-required"===B.code&&(W=Lw(B.w(),u,F(u.kc,u))),W||B}).then(function(){return ts({user:or(u),credential:C,additionalUserInfo:I,operationType:"signIn"})}))}function ai(u){return u.app}function or(u){return u.currentUser}function rp(u){return or(u)&&or(u)._lat||null}function id(u){if(u.ba){for(var p=0;p<u.s.length;p++)u.s[p]&&u.s[p](rp(u));if(u.W!==u.getUid()&&u.N.length)for(u.W=u.getUid(),p=0;p<u.N.length;p++)u.N[p]&&u.N[p](rp(u))}}function zi(u,p){return u.P.push(p),p.oa(function(){Et(u.P,p)}),p}function od(){}function Yu(){this.a={},this.b=1e12}Qs.prototype.yb=function(u){var p=null,C=this;return function y_(u){var p=new Te("invalid-persistence-type"),C=new Te("unsupported-persistence-type");e:{for(I in Jc)if(Jc[I]==u){var I=!0;break e}I=!1}if(!I||"string"!=typeof u)throw p;switch(go()){case"ReactNative":if("session"===u)throw C;break;case"Node":if("none"!==u)throw C;break;case"Worker":if("session"===u||!Kp()&&"none"!==u)throw C;break;default:if(!uu()&&"none"!==u)throw C}}(u),np(this,function(){return u!=C.c.F?C.b.get(C.c,C.a).then(function(I){return p=I,wa(C,u)}).then(function(){if(C.c=nd(u),p)return C.b.set(C.c,p,C.a)}):Yt()})},Dt(Wu,Er),Dt(V_,S),Dt(Ly,S),Dt(jw,S),(Q=Wu.prototype).yb=function(u){return zi(this,u=this.i.yb(u))},Q.xa=function(u){this.aa===u||this.l||(this.aa=u,Vh(this.a,this.aa),this.dispatchEvent(new V_(this.la())))},Q.la=function(){return this.aa},Q.fd=function(){var u=oe.navigator;this.xa(u&&(u.languages&&u.languages[0]||u.language||u.userLanguage)||null)},Q.gd=function(u,p){if(!this.R){if(!/^https?:\/\//.test(u))throw new Te("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function Xd(u){typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),oe.document&&!u&&pa().then(function(){var p=oe.document.createElement("div");p.innerText="Running in emulator mode. Do not use with production credentials.",p.style.position="fixed",p.style.width="100%",p.style.backgroundColor="#ffffff",p.style.border=".1em solid #000000",p.style.color="#b50000",p.style.bottom="0px",p.style.left="0px",p.style.margin="0px",p.style.zIndex=1e4,p.style.textAlign="center",p.classList.add("firebase-emulator-warning"),oe.document.body.appendChild(p)})})(p=!!p&&!!p.disableWarnings),this.R={url:u,ec:p},this.settings.jb=!0,ss(this.a,this.R),this.dispatchEvent(new Ly(this.R))}},Q.Gc=function(u){this.J.push(u),Ha(this.a,a.Z.SDK_VERSION?Jn(a.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new jw(this.J))},Q.Ga=function(){return Rn(this.J)},Q.zb=function(u){this.S===u||this.l||(this.S=u,this.a.b=this.S)},Q.T=function(){return this.S},Q.toJSON=function(){return{apiKey:ai(this).options.apiKey,authDomain:ai(this).options.authDomain,appName:ai(this).name,currentUser:or(this)&&or(this).w()}},Q.Gb=function(u,p){switch(u){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==p&&!!this.f;default:return!1}},Q.na=function(u,p,C,I){"signInViaPopup"==u&&this.g==I&&(C&&this.C?this.C(C):p&&!C&&this.f&&this.f(p),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},Q.Fa=function(u,p){return"signInViaRedirect"==u||"signInViaPopup"==u&&this.g==p&&this.f?F(this.ic,this):null},Q.ic=function(u,p,C,I){var B=this,W={requestUri:u,postBody:I,sessionId:p,tenantId:C};return this.c&&(this.c.cancel(),this.c=null),B.$.then(function(){return qa(B,ju(B.a,W))})},Q.Xc=function(u){if(!Mo())return Wr(new Te("operation-not-supported-in-this-environment"));var p=this,C=du(u.providerId),I=rc(),B=null;(!lu()||_d())&&ai(this).options.authDomain&&u.isOAuthProvider&&(B=Bt(ai(this).options.authDomain,ai(this).options.apiKey,ai(this).name,"signInViaPopup",u,null,I,a.Z.SDK_VERSION||null,null,null,this.T(),this.R));var W=Zr(B,C&&C.va,C&&C.ua);return zi(this,C=By(this).then(function(ee){return ym(ee,W,"signInViaPopup",u,I,!!B,p.T())}).then(function(){return new hr(function(ee,ye){p.na("signInViaPopup",null,new Te("cancelled-popup-request"),p.g),p.f=ee,p.C=ye,p.g=I,p.c=x_(p.b,p,"signInViaPopup",W,I)})}).then(function(ee){return W&&Ki(W),ee?ts(ee):null}).o(function(ee){throw W&&Ki(W),ee}))},Q.Yc=function(u){if(!Mo())return Wr(new Te("operation-not-supported-in-this-environment"));var p=this,C=By(this).then(function(){return function B_(u){return np(u,function(){return u.b.set(lg,u.c.F,u.a)})}(p.i)}).then(function(){return kw(p.b,"signInViaRedirect",u,void 0,p.T())});return zi(this,C)},Q.ra=function(){var u=this;return Vy(this).then(function(p){return u.b&&ed(u.b.b),p}).o(function(p){throw u.b&&ed(u.b.b),p})},Q.dd=function(u){if(!u)return Wr(new Te("null-user"));if(this.S!=u.tenantId)return Wr(new Te("tenant-id-mismatch"));var p=this,C={};C.apiKey=ai(this).options.apiKey,C.authDomain=ai(this).options.authDomain,C.appName=ai(this).name;var I=function Ds(u,p,C,I){var B=u.h,W={};return W[Ws]=B.b&&B.b.toString(),W.refreshToken=B.a,p=new $u(p||{apiKey:u.l,authDomain:u.s,appName:u.m},W),C&&(p.ha=C),I&&Ml(p,I),ah(p,u),p}(u,C,p.D,p.Ga());return zi(this,this.h.then(function(){if(ai(p).options.apiKey!=u.l)return I.reload()}).then(function(){return or(p)&&u.uid==or(p).uid?(ah(or(p),u),p.da(u)):(vc(p,I),Jd(I),p.da(I))}).then(function(){id(p)}))},Q.Bb=function(){var u=this;return zi(this,this.h.then(function(){return u.b&&ed(u.b.b),or(u)?(vc(u,null),Fy(u.i).then(function(){id(u)})):Yt()}))},Q.Zc=function(){var u=this;return Vw(this.i,ai(this).options.authDomain).then(function(p){if(!u.l){var C;if(C=or(u)&&p){C=or(u).uid;var I=p.uid;C=null!=C&&""!==C&&null!=I&&""!==I&&C==I}if(C)return ah(or(u),p),or(u).I();(or(u)||p)&&(vc(u,p),p&&(Jd(p),p.ha=u.D),u.b&&rh(u.b,u),id(u))}})},Q.da=function(u){return rd(this.i,u)},Q.mc=function(){id(this),this.da(or(this))},Q.wc=function(){this.Bb()},Q.xc=function(){this.Bb()},Q.kc=function(u){var p=this;return this.h.then(function(){return qa(p,Yt(u))})},Q.zc=function(u){var p=this;this.addAuthTokenListener(function(){u.next(or(p))})},Q.Ac=function(u){var p=this;!function Nm(u,p){u.N.push(p),zi(u,u.h.then(function(){!u.l&&tr(u.N,p)&&u.W!==u.getUid()&&(u.W=u.getUid(),p(rp(u)))}))}(this,function(){u.next(or(p))})},Q.Ic=function(u,p,C){var I=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof u?u(or(I)):"function"==typeof u.next&&u.next(or(I))}),this.Pa(u,p,C)},Q.Hc=function(u,p,C){var I=this;return this.ba&&Promise.resolve().then(function(){I.W=I.getUid(),"function"==typeof u?u(or(I)):"function"==typeof u.next&&u.next(or(I))}),this.ib(u,p,C)},Q.nc=function(u){var p=this;return zi(this,this.h.then(function(){return or(p)?or(p).I(u).then(function(I){return{accessToken:I}}):null}))},Q.Tc=function(u){var p=this;return this.h.then(function(){return qa(p,Ar(p.a,oy,{token:u}))}).then(function(C){var I=C.user;return zu(I,"isAnonymous",!1),p.da(I),C})},Q.Uc=function(u,p){var C=this;return this.h.then(function(){return qa(C,Ar(C.a,om,{email:u,password:p}))})},Q.dc=function(u,p){var C=this;return this.h.then(function(){return qa(C,Ar(C.a,nm,{email:u,password:p}))})},Q.ab=function(u){var p=this;return this.h.then(function(){return qa(p,u.ka(p.a))})},Q.Sc=function(u){return Cd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(u)},Q.Ab=function(){var u=this;return this.h.then(function(){var p=or(u);if(p&&p.isAnonymous){var C=ts({providerId:null,isNewUser:!1});return ts({user:p,credential:null,additionalUserInfo:C,operationType:"signIn"})}return qa(u,u.a.Ab()).then(function(I){var B=I.user;return zu(B,"isAnonymous",!0),u.da(B),I})})},Q.getUid=function(){return or(this)&&or(this).uid||null},Q.cc=function(u){this.addAuthTokenListener(u),this.u++,0<this.u&&or(this)&&jt(or(this))},Q.Pc=function(u){var p=this;Cn(this.s,function(C){C==u&&p.u--}),0>this.u&&(this.u=0),0==this.u&&or(this)&&og(or(this)),this.removeAuthTokenListener(u)},Q.addAuthTokenListener=function(u){var p=this;this.s.push(u),zi(this,this.h.then(function(){p.l||tr(p.s,u)&&u(rp(p))}))},Q.removeAuthTokenListener=function(u){ir(this.s,function(p){return p==u})},Q.delete=function(){this.l=!0;for(var u=0;u<this.P.length;u++)this.P[u].cancel("app-deleted");return this.P=[],this.i&&(u=this.i).b.removeListener(nd("local"),u.a,this.ja),this.b&&(No(this.b,this),ed(this.b.b)),Promise.resolve()},Q.hc=function(u){return zi(this,function ey(u,p){return Ar(u,Wf,{identifier:p,continueUri:tc()?Ln():"http://localhost"}).then(function(C){return C.signinMethods||[]})}(this.a,u))},Q.Bc=function(u){return!!Lu(u)},Q.xb=function(u,p){var C=this;return zi(this,Yt().then(function(){var I=new Sh(p);if(!I.c)throw new Te("argument-error",Rc+" must be true when sending sign in link to email");return sc(I)}).then(function(I){return C.a.xb(u,I)}).then(function(){}))},Q.jd=function(u){return this.Sa(u).then(function(p){return p.data.email})},Q.ob=function(u,p){return zi(this,this.a.ob(u,p).then(function(){}))},Q.Sa=function(u){return zi(this,this.a.Sa(u).then(function(p){return new ww(p)}))},Q.kb=function(u){return zi(this,this.a.kb(u).then(function(){}))},Q.wb=function(u,p){var C=this;return zi(this,Yt().then(function(){return typeof p>"u"||be(p)?{}:sc(new Sh(p))}).then(function(I){return C.a.wb(u,I)}).then(function(){}))},Q.Wc=function(u,p){return zi(this,wy(this,u,p,F(this.ab,this)))},Q.Vc=function(u,p){var C=this;return zi(this,Yt().then(function(){var I=p||Ln(),B=hu(u,I);if(!(I=Lu(I)))throw new Te("argument-error","Invalid email link!");if(I.tenantId!==C.T())throw new Te("tenant-id-mismatch");return C.ab(B)}))},od.prototype.render=function(){},od.prototype.reset=function(){},od.prototype.getResponse=function(){},od.prototype.execute=function(){};var j_=null;function qw(u,p){return(p=Hy(p))&&u.a[p]||null}function Hy(u){return(u=typeof u>"u"?1e12:u)?u.toString():null}function km(u,p){this.g=!1,this.c=p,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Bn(u);var C=this;this.i=function(){C.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function ip(u){if(u.g)throw Error("reCAPTCHA mock was already deleted!")}function ef(){}function fh(){}Yu.prototype.render=function(u,p){return this.a[this.b.toString()]=new km(u,p),this.b++},Yu.prototype.reset=function(u){var p=qw(this,u);u=Hy(u),p&&u&&(p.delete(),delete this.a[u])},Yu.prototype.getResponse=function(u){return(u=qw(this,u))?u.getResponse():null},Yu.prototype.execute=function(u){(u=qw(this,u))&&u.execute()},km.prototype.getResponse=function(){return ip(this),this.b},km.prototype.execute=function(){ip(this);var u=this;this.a||(this.a=setTimeout(function(){u.b=function U(){for(var u=50,p=[];0<u;)p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return p.join("")}();var p=u.c.callback,C=u.c["expired-callback"];if(p)try{p(u.b)}catch{}u.a=setTimeout(function(){if(u.a=null,u.b=null,C)try{C()}catch{}u.h&&u.execute()},6e4)},500))},km.prototype.delete=function(){ip(this),this.g=!0,clearTimeout(this.a),this.a=null,xr(this.f,"click",this.i)},sn(ef,"FACTOR_ID","phone"),fh.prototype.g=function(){return j_||(j_=new Yu),Yt(j_)},fh.prototype.c=function(){};var op=null;function Ca(){this.b=oe.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Rm=new bt(mr,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Fm=new pl(3e4,6e4);Ca.prototype.g=function(u){var p=this;return new hr(function(C,I){var B=setTimeout(function(){I(new Te("network-request-failed"))},Fm.get());!oe.grecaptcha||u!==p.f&&!p.b?(oe[p.a]=function(){if(oe.grecaptcha){p.f=u;var ee=oe.grecaptcha.render;oe.grecaptcha.render=function(ye,it){return ye=ee(ye,it),p.b++,ye},clearTimeout(B),C(oe.grecaptcha)}else clearTimeout(B),I(new Te("internal-error"));delete oe[p.a]},Yt(hc(dr(Rm,{onload:p.a,hl:u||""}))).o(function(){clearTimeout(B),I(new Te("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(B),C(oe.grecaptcha))})},Ca.prototype.c=function(){this.b--};var H_=null;function qy(u,p,C,I,B,W,ee){if(sn(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=p,this.g=null,ee?(op||(op=new fh),ee=op):(H_||(H_=new Ca),ee=H_),this.m=ee,this.a=C||{theme:"light",type:"image"},this.h=[],this.a[Gy])throw new Te("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Zw],!oe.document)throw new Te("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Bn(p)||!this.i&&Bn(p).hasChildNodes())throw new Te("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Zo(u,W||null,B||null),this.u=I||function(){return null};var ye=this;this.l=[];var it=this.a[cg];this.a[cg]=function(Yn){if(Gw(ye,Yn),"function"==typeof it)it(Yn);else if("string"==typeof it){var Jr=En(it,oe);"function"==typeof Jr&&Jr(Yn)}};var mt=this.a[Zy];this.a[Zy]=function(){if(Gw(ye,null),"function"==typeof mt)mt();else if("string"==typeof mt){var Yn=En(mt,oe);"function"==typeof Yn&&Yn()}}}var cg="callback",Zy="expired-callback",Gy="sitekey",Zw="size";function Gw(u,p){for(var C=0;C<u.l.length;C++)try{u.l[C](p)}catch{}}function Lm(u,p){return u.h.push(p),p.oa(function(){Et(u.h,p)}),p}function Um(u){if(u.J)throw new Te("internal-error","RecaptchaVerifier instance has been destroyed.")}function dg(u,p,C){var I=!1;try{this.b=C||a.Z.app()}catch{throw new Te("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Te("invalid-api-key");C=this.b.options.apiKey;var B=this,W=null;try{W=this.b.auth().Ga()}catch{}try{I=this.b.auth().settings.appVerificationDisabledForTesting}catch{}W=a.Z.SDK_VERSION?Jn(a.Z.SDK_VERSION,W):null,qy.call(this,C,u,p,function(){try{var ee=B.b.auth().la()}catch{ee=null}return ee},W,Gt(kn),I)}function Z_(u,p,C,I){e:{C=Array.prototype.slice.call(C);for(var B=0,W=!1,ee=0;ee<p.length;ee++)if(p[ee].optional)W=!0;else{if(W)throw new Te("internal-error","Argument validator encountered a required argument after an optional argument.");B++}if(W=p.length,C.length<B||W<C.length)I="Expected "+(B==W?1==B?"1 argument":B+" arguments":B+"-"+W+" arguments")+" but got "+C.length+".";else{for(B=0;B<C.length;B++)if(W=p[B].optional&&void 0===C[B],!p[B].M(C[B])&&!W){if(p=p[B],0>B||B>=Bm.length)throw new Te("internal-error","Argument validator received an unsupported number of arguments.");C=Bm[B],I=(I?"":C+" argument ")+(p.name?'"'+p.name+'" ':"")+"must be "+p.K+".";break e}I=null}}if(I)throw new Te("argument-error",u+" failed: "+I)}(Q=qy.prototype).Ia=function(){var u=this;return this.f?this.f:this.f=Lm(this,Yt().then(function(){if(tc()&&!Hs())return pa();throw new Te("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return u.m.g(u.u())}).then(function(p){return u.g=p,Ar(u.s,Gp,{})}).then(function(p){u.a[Gy]=p.recaptchaSiteKey}).o(function(p){throw u.f=null,p}))},Q.render=function(){Um(this);var u=this;return Lm(this,this.Ia().then(function(){if(null===u.c){var p=u.v;if(!u.i){var C=Bn(p);p=function $l(u,p,C){var I=arguments,B=document,W=String(I[0]),ee=I[1];if(!kr&&ee&&(ee.name||ee.type)){if(W=["<",W],ee.name&&W.push(' name="',vs(ee.name),'"'),ee.type){W.push(' type="',vs(ee.type),'"');var ye={};$e(ye,ee),delete ye.type,ee=ye}W.push(">"),W=W.join("")}return W=fo(B,W),ee&&("string"==typeof ee?W.className=ee:Array.isArray(ee)?W.className=ee.join(" "):Ei(W,ee)),2<I.length&&ys(B,W,I),W}("DIV"),C.appendChild(p)}u.c=u.g.render(p,u.a)}return u.c}))},Q.verify=function(){Um(this);var u=this;return Lm(this,this.render().then(function(p){return new hr(function(C){var I=u.g.getResponse(p);if(I)C(I);else{var B=function(W){W&&(function q_(u,p){ir(u.l,function(C){return C==p})}(u,B),C(W))};u.l.push(B),u.i&&u.g.execute(u.c)}})}))},Q.reset=function(){Um(this),null!==this.c&&this.g.reset(this.c)},Q.clear=function(){Um(this),this.J=!0,this.m.c();for(var u=0;u<this.h.length;u++)this.h[u].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){u=Bn(this.v);for(var p;p=u.firstChild;)u.removeChild(p)}},Dt(dg,qy);var Bm="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function rn(u,p){return{name:u||"",K:"a valid string",optional:!!p,M:function(C){return"string"==typeof C}}}function $y(u,p){return{name:u||"",K:"a boolean",optional:!!p,M:function(C){return"boolean"==typeof C}}}function Ii(u,p){return{name:u||"",K:"a valid object",optional:!!p,M:qe}}function tf(u,p){return{name:u||"",K:"a function",optional:!!p,M:function(C){return"function"==typeof C}}}function Za(u,p){return{name:u||"",K:"null",optional:!!p,M:function(C){return null===C}}}function mn(u){return{name:u?u+"Credential":"credential",K:u?"a valid "+u+" credential":"a valid credential",optional:!1,M:function(p){return!!p&&!(!p.ka||u&&p.providerId!==u)}}}function ap(u,p){return qe(u)&&"string"==typeof u.type&&u.type===p&&"function"==typeof u.Ha}function Ww(u){return qe(u)&&"string"==typeof u.uid}function so(u,p,C,I){return{name:C||"",K:u.K+" or "+p.K,optional:!!I,M:function(B){return u.M(B)||p.M(B)}}}function Qi(u,p){for(var C in p){var I=p[C].name;u[I]=Vm(I,u[C],p[C].j)}}function hg(u,p){for(var C in p){var I=p[C].name;I!==C&&Object.defineProperty(u,I,{get:Lt(function(B){return this[B]},C),set:Lt(function(B,W,ee,ye){Z_(B,[ee],[ye],!0),this[W]=ye},I,C,p[C].lb),enumerable:!0})}}function Fo(u,p,C,I){u[p]=Vm(p,C,I)}function Vm(u,p,C){function I(){var ee=Array.prototype.slice.call(arguments);return Z_(B,C,ee),p.apply(this,ee)}if(!C)return p;var W,B=function Yw(u){return(u=u.split("."))[u.length-1]}(u);for(W in p)I[W]=p[W];for(W in p.prototype)I.prototype[W]=p.prototype[W];return I}Qi(Wu.prototype,{kb:{name:"applyActionCode",j:[rn("code")]},Sa:{name:"checkActionCode",j:[rn("code")]},ob:{name:"confirmPasswordReset",j:[rn("code"),rn("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[rn("email"),rn("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[rn("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[rn("emailLink")]},Hc:{name:"onAuthStateChanged",j:[so(Ii(),tf(),"nextOrObserver"),tf("opt_error",!0),tf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[so(Ii(),tf(),"nextOrObserver"),tf("opt_error",!0),tf("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[rn("email"),so(Ii("opt_actionCodeSettings",!0),Za(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[rn("email"),Ii("actionCodeSettings")]},yb:{name:"setPersistence",j:[rn("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[mn()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[mn()]},Tc:{name:"signInWithCustomToken",j:[rn("token")]},Uc:{name:"signInWithEmailAndPassword",j:[rn("email"),rn("password")]},Vc:{name:"signInWithEmailLink",j:[rn("email"),rn("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[rn("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[so({name:"user",K:"an instance of Firebase User",optional:!1,M:function(p){return!!(p&&p instanceof $u)}},Za(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[rn(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[rn("url"),Ii("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[rn("code")]}}),hg(Wu.prototype,{lc:{name:"languageCode",lb:so(rn(),Za(),"languageCode")},ti:{name:"tenantId",lb:so(rn(),Za(),"tenantId")}}),(Wu.Persistence=Jc).LOCAL="local",Wu.Persistence.SESSION="session",Wu.Persistence.NONE="none",Qi($u.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[$y("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[$y("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[mn()]},rb:{name:"linkWithCredential",j:[mn()]},Dc:{name:"linkWithPhoneNumber",j:[rn("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[mn()]},ub:{name:"reauthenticateWithCredential",j:[mn()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[rn("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[so(Ii("opt_actionCodeSettings",!0),Za(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[rn(null,!0)]},cd:{name:"unlink",j:[rn("provider")]},Cb:{name:"updateEmail",j:[rn("email")]},Db:{name:"updatePassword",j:[rn("password")]},ed:{name:"updatePhoneNumber",j:[mn("phone")]},Eb:{name:"updateProfile",j:[Ii("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[rn("email"),so(Ii("opt_actionCodeSettings",!0),Za(null,!0),"opt_actionCodeSettings",!0)]}}),Qi(Yu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qi(od.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qi(hr.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),hg(by.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:$y("appVerificationDisabledForTesting")}}),Qi(mc.prototype,{confirm:{name:"confirm",j:[rn("verificationCode")]}}),Fo(qs,"fromJSON",function(u){u="string"==typeof u?JSON.parse(u):u;for(var p,C=[Ru,Wg,Ba,fu],I=0;I<C.length;I++)if(p=C[I](u))return p;return null},[so(rn(),Ii(),"json")]),Fo($s,"credential",function(u,p){return new is(u,p)},[rn("email"),rn("password")]),Qi(is.prototype,{w:{name:"toJSON",j:[rn(null,!0)]}}),Qi(Oi.prototype,{Ca:{name:"addScope",j:[rn("scope")]},Ka:{name:"setCustomParameters",j:[Ii("customOAuthParameters")]}}),Fo(Oi,"credential",Rf,[so(rn(),Ii(),"token")]),Fo($s,"credentialWithLink",hu,[rn("email"),rn("emailLink")]),Qi(Fu.prototype,{Ca:{name:"addScope",j:[rn("scope")]},Ka:{name:"setCustomParameters",j:[Ii("customOAuthParameters")]}}),Fo(Fu,"credential",Ui,[so(rn(),Ii(),"token")]),Qi(Ua.prototype,{Ca:{name:"addScope",j:[rn("scope")]},Ka:{name:"setCustomParameters",j:[Ii("customOAuthParameters")]}}),Fo(Ua,"credential",Sd,[so(rn(),so(Ii(),Za()),"idToken"),so(rn(),Za(),"accessToken",!0)]),Qi(io.prototype,{Ka:{name:"setCustomParameters",j:[Ii("customOAuthParameters")]}}),Fo(io,"credential",si,[so(rn(),Ii(),"token"),rn("secret",!0)]),Qi(Ts.prototype,{Ca:{name:"addScope",j:[rn("scope")]},credential:{name:"credential",j:[so(rn(),so(Ii(),Za()),"optionsOrIdToken"),so(rn(),Za(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ii("customOAuthParameters")]}}),Qi(Zs.prototype,{w:{name:"toJSON",j:[rn(null,!0)]}}),Qi(Nu.prototype,{w:{name:"toJSON",j:[rn(null,!0)]}}),Fo(pi,"credential",Nh,[rn("verificationId"),rn("verificationCode")]),Qi(pi.prototype,{gb:{name:"verifyPhoneNumber",j:[so(rn(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(C){return!!C&&(C.session&&C.phoneNumber?ap(C.session,La)&&"string"==typeof C.phoneNumber:C.session&&C.multiFactorHint?ap(C.session,Bc)&&Ww(C.multiFactorHint):C.session&&C.multiFactorUid?ap(C.session,Bc)&&"string"==typeof C.multiFactorUid:!!C.phoneNumber&&"string"==typeof C.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]}}),Qi(Ci.prototype,{w:{name:"toJSON",j:[rn(null,!0)]}}),Qi(Te.prototype,{toJSON:{name:"toJSON",j:[rn(null,!0)]}}),Qi(Id.prototype,{toJSON:{name:"toJSON",j:[rn(null,!0)]}}),Qi(_l.prototype,{toJSON:{name:"toJSON",j:[rn(null,!0)]}}),Qi(N_.prototype,{toJSON:{name:"toJSON",j:[rn(null,!0)]}}),Qi(Kd.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}}]}}),Qi(ig.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}},rn("displayName",!0)]},bd:{name:"unenroll",j:[so({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Ww},rn(),"multiFactorInfoIdentifier")]}}),Qi(dg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Fo(ga,"parseLink",zg,[rn("link")]),Fo(ef,"assertion",function(u){return new oh(u)},[mn("phone")]),function(){if(!(typeof a.Z<"u"&&a.Z.INTERNAL&&a.Z.INTERNAL.registerComponent))throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var u={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Pf,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ip,VERIFY_AND_CHANGE_EMAIL:Mf,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Wu,AuthCredential:qs,Error:Te};Fo(u,"EmailAuthProvider",$s,[]),Fo(u,"FacebookAuthProvider",Oi,[]),Fo(u,"GithubAuthProvider",Fu,[]),Fo(u,"GoogleAuthProvider",Ua,[]),Fo(u,"TwitterAuthProvider",io,[]),Fo(u,"OAuthProvider",Ts,[rn("providerId")]),Fo(u,"SAMLAuthProvider",Gs,[rn("providerId")]),Fo(u,"PhoneAuthProvider",pi,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(u){return!!(u&&u instanceof Wu)}}]),Fo(u,"RecaptchaVerifier",dg,[so(rn(),{name:"",K:"an HTML element",optional:!1,M:function(u){return!!(u&&u instanceof Element)}},"recaptchaContainer"),Ii("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(u){return!!(u&&u instanceof a.Z.app.App)}}]),Fo(u,"ActionCodeURL",ga,[]),Fo(u,"PhoneMultiFactorGenerator",ef,[]),a.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(p){return new Wu(p=p.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:u,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(p){p.getProvider("auth-internal").initialize()}}),a.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(p){return{getUid:F((p=p.getProvider("auth").getImmediate()).getUid,p),getToken:F(p.nc,p),addAuthTokenListener:F(p.cc,p),removeAuthTokenListener:F(p.Pc,p)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),a.Z.registerVersion("@firebase/auth","0.16.8"),a.Z.INTERNAL.extendNamespace({User:$u})}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},8259:function(an,pt){var a;!function(Q,Y){"use strict";"object"==typeof an.exports?an.exports=Q.document?Y(Q,!0):function(De){if(!De.document)throw new Error("jQuery requires a window with a document");return Y(De)}:Y(Q)}(typeof window<"u"?window:this,function(Q,Y){"use strict";var De=[],ot=Object.getPrototypeOf,he=De.slice,rt=De.flat?function(E){return De.flat.call(E)}:function(E){return De.concat.apply([],E)},at=De.push,ze=De.indexOf,oe={},Ie=oe.toString,Ce=oe.hasOwnProperty,Qe=Ce.toString,Ge=Qe.call(Object),Me={},ht=function(S){return"function"==typeof S&&"number"!=typeof S.nodeType&&"function"!=typeof S.item},ut=function(S){return null!=S&&S===S.window},qe=Q.document,bn={type:!0,src:!0,nonce:!0,noModule:!0};function Dn(E,S,R){var j,G,z=(R=R||qe).createElement("script");if(z.text=E,S)for(j in bn)(G=S[j]||S.getAttribute&&S.getAttribute(j))&&z.setAttribute(j,G);R.head.appendChild(z).parentNode.removeChild(z)}function Tt(E){return null==E?E+"":"object"==typeof E||"function"==typeof E?oe[Ie.call(E)]||"object":typeof E}var Je=/HTML$/i,F=function(E,S){return new F.fn.init(E,S)};function Lt(E){var S=!!E&&"length"in E&&E.length,R=Tt(E);return!ht(E)&&!ut(E)&&("array"===R||0===S||"number"==typeof S&&S>0&&S-1 in E)}function yt(E,S){return E.nodeName&&E.nodeName.toLowerCase()===S.toLowerCase()}F.fn=F.prototype={jquery:"3.7.1",constructor:F,length:0,toArray:function(){return he.call(this)},get:function(E){return null==E?he.call(this):E<0?this[E+this.length]:this[E]},pushStack:function(E){var S=F.merge(this.constructor(),E);return S.prevObject=this,S},each:function(E){return F.each(this,E)},map:function(E){return this.pushStack(F.map(this,function(S,R){return E.call(S,R,S)}))},slice:function(){return this.pushStack(he.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(F.grep(this,function(E,S){return(S+1)%2}))},odd:function(){return this.pushStack(F.grep(this,function(E,S){return S%2}))},eq:function(E){var S=this.length,R=+E+(E<0?S:0);return this.pushStack(R>=0&&R<S?[this[R]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:De.sort,splice:De.splice},F.extend=F.fn.extend=function(){var E,S,R,j,G,z,te=arguments[0]||{},me=1,pe=arguments.length,xe=!1;for("boolean"==typeof te&&(xe=te,te=arguments[me]||{},me++),"object"!=typeof te&&!ht(te)&&(te={}),me===pe&&(te=this,me--);me<pe;me++)if(null!=(E=arguments[me]))for(S in E)j=E[S],"__proto__"!==S&&te!==j&&(xe&&j&&(F.isPlainObject(j)||(G=Array.isArray(j)))?(R=te[S],z=G&&!Array.isArray(R)?[]:G||F.isPlainObject(R)?R:{},G=!1,te[S]=F.extend(xe,z,j)):void 0!==j&&(te[S]=j));return te},F.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(E){throw new Error(E)},noop:function(){},isPlainObject:function(E){var S,R;return!(!E||"[object Object]"!==Ie.call(E)||(S=ot(E))&&("function"!=typeof(R=Ce.call(S,"constructor")&&S.constructor)||Qe.call(R)!==Ge))},isEmptyObject:function(E){var S;for(S in E)return!1;return!0},globalEval:function(E,S,R){Dn(E,{nonce:S&&S.nonce},R)},each:function(E,S){var R,j=0;if(Lt(E))for(R=E.length;j<R&&!1!==S.call(E[j],j,E[j]);j++);else for(j in E)if(!1===S.call(E[j],j,E[j]))break;return E},text:function(E){var S,R="",j=0,G=E.nodeType;if(!G)for(;S=E[j++];)R+=F.text(S);return 1===G||11===G?E.textContent:9===G?E.documentElement.textContent:3===G||4===G?E.nodeValue:R},makeArray:function(E,S){var R=S||[];return null!=E&&(Lt(Object(E))?F.merge(R,"string"==typeof E?[E]:E):at.call(R,E)),R},inArray:function(E,S,R){return null==S?-1:ze.call(S,E,R)},isXMLDoc:function(E){var R=E&&(E.ownerDocument||E).documentElement;return!Je.test(E&&E.namespaceURI||R&&R.nodeName||"HTML")},merge:function(E,S){for(var R=+S.length,j=0,G=E.length;j<R;j++)E[G++]=S[j];return E.length=G,E},grep:function(E,S,R){for(var G=[],z=0,te=E.length,me=!R;z<te;z++)!S(E[z],z)!==me&&G.push(E[z]);return G},map:function(E,S,R){var j,G,z=0,te=[];if(Lt(E))for(j=E.length;z<j;z++)null!=(G=S(E[z],z,R))&&te.push(G);else for(z in E)null!=(G=S(E[z],z,R))&&te.push(G);return rt(te)},guid:1,support:Me}),"function"==typeof Symbol&&(F.fn[Symbol.iterator]=De[Symbol.iterator]),F.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(E,S){oe["[object "+S+"]"]=S.toLowerCase()});var Dt=De.pop,br=De.sort,Te=De.splice,qt="[\\x20\\t\\r\\n\\f]",xt=new RegExp("^"+qt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+qt+"+$","g");F.contains=function(E,S){var R=S&&S.parentNode;return E===R||!(!R||1!==R.nodeType||!(E.contains?E.contains(R):E.compareDocumentPosition&&16&E.compareDocumentPosition(R)))};var yn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function wn(E,S){return S?"\0"===E?"\ufffd":E.slice(0,-1)+"\\"+E.charCodeAt(E.length-1).toString(16)+" ":"\\"+E}F.escapeSelector=function(E){return(E+"").replace(yn,wn)};var Gt=qe,kn=at;!function(){var E,S,R,j,G,te,me,pe,xe,Ke,z=kn,Re=F.expando,je=0,vt=0,ln=fa(),vr=fa(),Hn=fa(),Pi=fa(),xr=function(ce,Se){return ce===Se&&(G=!0),0},xo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ct="(?:\\\\[\\da-fA-F]{1,6}"+qt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Vt="\\["+qt+"*("+ct+")(?:"+qt+"*([*^$|!~]?=)"+qt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ct+"))|)"+qt+"*\\]",Bs=":("+ct+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Vt+")*)|.*)\\)|)",yr=new RegExp(qt+"+","g"),Wn=new RegExp("^"+qt+"*,"+qt+"*"),Oa=new RegExp("^"+qt+"*([>+~]|"+qt+")"+qt+"*"),Vs=new RegExp(qt+"|>"),Er=new RegExp(Bs),Na=new RegExp("^"+ct+"$"),Vo={ID:new RegExp("^#("+ct+")"),CLASS:new RegExp("^\\.("+ct+")"),TAG:new RegExp("^("+ct+"|[*])"),ATTR:new RegExp("^"+Vt),PSEUDO:new RegExp("^"+Bs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+qt+"*(even|odd|(([+-]|)(\\d*)n|)"+qt+"*(?:([+-]|)"+qt+"*(\\d+)|))"+qt+"*\\)|)","i"),bool:new RegExp("^(?:"+xo+")$","i"),needsContext:new RegExp("^"+qt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+qt+"*((?:-\\d)?\\d*)"+qt+"*\\)|)(?=[^-]|$)","i")},Xo=/^(?:input|select|textarea|button)$/i,Rr=/^h\d$/i,Zi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Jl=/[+~]/,Yr=new RegExp("\\\\[\\da-fA-F]{1,6}"+qt+"?|\\\\([^\\r\\n\\f])","g"),to=function(ce,Se){var He="0x"+ce.slice(1)-65536;return Se||(He<0?String.fromCharCode(He+65536):String.fromCharCode(He>>10|55296,1023&He|56320))},su=function(){es()},js=ka(function(ce){return!0===ce.disabled&&yt(ce,"fieldset")},{dir:"parentNode",next:"legend"});try{z.apply(De=he.call(Gt.childNodes),Gt.childNodes)}catch{z={apply:function(Se,He){kn.apply(Se,he.call(He))},call:function(Se){kn.apply(Se,he.call(arguments,1))}}}function Pr(ce,Se,He,We){var st,It,kt,Rt,Ut,pr,tn,nn=Se&&Se.ownerDocument,Ln=Se?Se.nodeType:9;if(He=He||[],"string"!=typeof ce||!ce||1!==Ln&&9!==Ln&&11!==Ln)return He;if(!We&&(es(Se),Se=Se||te,pe)){if(11!==Ln&&(Ut=Zi.exec(ce)))if(st=Ut[1]){if(9===Ln){if(!(kt=Se.getElementById(st)))return He;if(kt.id===st)return z.call(He,kt),He}else if(nn&&(kt=nn.getElementById(st))&&Pr.contains(Se,kt)&&kt.id===st)return z.call(He,kt),He}else{if(Ut[2])return z.apply(He,Se.getElementsByTagName(ce)),He;if((st=Ut[3])&&Se.getElementsByClassName)return z.apply(He,Se.getElementsByClassName(st)),He}if(!(Pi[ce+" "]||xe&&xe.test(ce))){if(tn=ce,nn=Se,1===Ln&&(Vs.test(ce)||Oa.test(ce))){for(((nn=Jl.test(ce)&&po(Se.parentNode)||Se)!=Se||!Me.scope)&&((Rt=Se.getAttribute("id"))?Rt=F.escapeSelector(Rt):Se.setAttribute("id",Rt=Re)),It=(pr=Di(ce)).length;It--;)pr[It]=(Rt?"#"+Rt:":scope")+" "+Mu(pr[It]);tn=pr.join(",")}try{return z.apply(He,nn.querySelectorAll(tn)),He}catch{Pi(ce,!0)}finally{Rt===Re&&Se.removeAttribute("id")}}}return ws(ce.replace(xt,"$1"),Se,He,We)}function fa(){var ce=[];return function Se(He,We){return ce.push(He+" ")>S.cacheLength&&delete Se[ce.shift()],Se[He+" "]=We}}function Gi(ce){return ce[Re]=!0,ce}function jo(ce){var Se=te.createElement("fieldset");try{return!!ce(Se)}catch{return!1}finally{Se.parentNode&&Se.parentNode.removeChild(Se),Se=null}}function au(ce){return function(Se){return yt(Se,"input")&&Se.type===ce}}function Pu(ce){return function(Se){return(yt(Se,"input")||yt(Se,"button"))&&Se.type===ce}}function Kr(ce){return function(Se){return"form"in Se?Se.parentNode&&!1===Se.disabled?"label"in Se?"label"in Se.parentNode?Se.parentNode.disabled===ce:Se.disabled===ce:Se.isDisabled===ce||Se.isDisabled!==!ce&&js(Se)===ce:Se.disabled===ce:"label"in Se&&Se.disabled===ce}}function di(ce){return Gi(function(Se){return Se=+Se,Gi(function(He,We){for(var st,It=ce([],He.length,Se),kt=It.length;kt--;)He[st=It[kt]]&&(He[st]=!(We[st]=He[st]))})})}function po(ce){return ce&&typeof ce.getElementsByTagName<"u"&&ce}function es(ce){var Se,He=ce?ce.ownerDocument||ce:Gt;return He==te||9!==He.nodeType||!He.documentElement||(me=(te=He).documentElement,pe=!F.isXMLDoc(te),Ke=me.matches||me.webkitMatchesSelector||me.msMatchesSelector,me.msMatchesSelector&&Gt!=te&&(Se=te.defaultView)&&Se.top!==Se&&Se.addEventListener("unload",su),Me.getById=jo(function(We){return me.appendChild(We).id=F.expando,!te.getElementsByName||!te.getElementsByName(F.expando).length}),Me.disconnectedMatch=jo(function(We){return Ke.call(We,"*")}),Me.scope=jo(function(){return te.querySelectorAll(":scope")}),Me.cssHas=jo(function(){try{return te.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),Me.getById?(S.filter.ID=function(We){var st=We.replace(Yr,to);return function(It){return It.getAttribute("id")===st}},S.find.ID=function(We,st){if(typeof st.getElementById<"u"&&pe){var It=st.getElementById(We);return It?[It]:[]}}):(S.filter.ID=function(We){var st=We.replace(Yr,to);return function(It){var kt=typeof It.getAttributeNode<"u"&&It.getAttributeNode("id");return kt&&kt.value===st}},S.find.ID=function(We,st){if(typeof st.getElementById<"u"&&pe){var It,kt,Rt,Ut=st.getElementById(We);if(Ut){if((It=Ut.getAttributeNode("id"))&&It.value===We)return[Ut];for(Rt=st.getElementsByName(We),kt=0;Ut=Rt[kt++];)if((It=Ut.getAttributeNode("id"))&&It.value===We)return[Ut]}return[]}}),S.find.TAG=function(We,st){return typeof st.getElementsByTagName<"u"?st.getElementsByTagName(We):st.querySelectorAll(We)},S.find.CLASS=function(We,st){if(typeof st.getElementsByClassName<"u"&&pe)return st.getElementsByClassName(We)},xe=[],jo(function(We){var st;me.appendChild(We).innerHTML="<a id='"+Re+"' href='' disabled='disabled'></a><select id='"+Re+"-\r\\' disabled='disabled'><option selected=''></option></select>",We.querySelectorAll("[selected]").length||xe.push("\\["+qt+"*(?:value|"+xo+")"),We.querySelectorAll("[id~="+Re+"-]").length||xe.push("~="),We.querySelectorAll("a#"+Re+"+*").length||xe.push(".#.+[+~]"),We.querySelectorAll(":checked").length||xe.push(":checked"),(st=te.createElement("input")).setAttribute("type","hidden"),We.appendChild(st).setAttribute("name","D"),me.appendChild(We).disabled=!0,2!==We.querySelectorAll(":disabled").length&&xe.push(":enabled",":disabled"),(st=te.createElement("input")).setAttribute("name",""),We.appendChild(st),We.querySelectorAll("[name='']").length||xe.push("\\["+qt+"*name"+qt+"*="+qt+"*(?:''|\"\")")}),Me.cssHas||xe.push(":has"),xe=xe.length&&new RegExp(xe.join("|")),xr=function(We,st){if(We===st)return G=!0,0;var It=!We.compareDocumentPosition-!st.compareDocumentPosition;return It||(1&(It=(We.ownerDocument||We)==(st.ownerDocument||st)?We.compareDocumentPosition(st):1)||!Me.sortDetached&&st.compareDocumentPosition(We)===It?We===te||We.ownerDocument==Gt&&Pr.contains(Gt,We)?-1:st===te||st.ownerDocument==Gt&&Pr.contains(Gt,st)?1:j?ze.call(j,We)-ze.call(j,st):0:4&It?-1:1)}),te}for(E in Pr.matches=function(ce,Se){return Pr(ce,null,null,Se)},Pr.matchesSelector=function(ce,Se){if(es(ce),pe&&!Pi[Se+" "]&&(!xe||!xe.test(Se)))try{var He=Ke.call(ce,Se);if(He||Me.disconnectedMatch||ce.document&&11!==ce.document.nodeType)return He}catch{Pi(Se,!0)}return Pr(Se,te,null,[ce]).length>0},Pr.contains=function(ce,Se){return(ce.ownerDocument||ce)!=te&&es(ce),F.contains(ce,Se)},Pr.attr=function(ce,Se){(ce.ownerDocument||ce)!=te&&es(ce);var He=S.attrHandle[Se.toLowerCase()],We=He&&Ce.call(S.attrHandle,Se.toLowerCase())?He(ce,Se,!pe):void 0;return void 0!==We?We:ce.getAttribute(Se)},Pr.error=function(ce){throw new Error("Syntax error, unrecognized expression: "+ce)},F.uniqueSort=function(ce){var Se,He=[],We=0,st=0;if(G=!Me.sortStable,j=!Me.sortStable&&he.call(ce,0),br.call(ce,xr),G){for(;Se=ce[st++];)Se===ce[st]&&(We=He.push(st));for(;We--;)Te.call(ce,He[We],1)}return j=null,ce},F.fn.uniqueSort=function(){return this.pushStack(F.uniqueSort(he.apply(this)))},(S=F.expr={cacheLength:50,createPseudo:Gi,match:Vo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ce){return ce[1]=ce[1].replace(Yr,to),ce[3]=(ce[3]||ce[4]||ce[5]||"").replace(Yr,to),"~="===ce[2]&&(ce[3]=" "+ce[3]+" "),ce.slice(0,4)},CHILD:function(ce){return ce[1]=ce[1].toLowerCase(),"nth"===ce[1].slice(0,3)?(ce[3]||Pr.error(ce[0]),ce[4]=+(ce[4]?ce[5]+(ce[6]||1):2*("even"===ce[3]||"odd"===ce[3])),ce[5]=+(ce[7]+ce[8]||"odd"===ce[3])):ce[3]&&Pr.error(ce[0]),ce},PSEUDO:function(ce){var Se,He=!ce[6]&&ce[2];return Vo.CHILD.test(ce[0])?null:(ce[3]?ce[2]=ce[4]||ce[5]||"":He&&Er.test(He)&&(Se=Di(He,!0))&&(Se=He.indexOf(")",He.length-Se)-He.length)&&(ce[0]=ce[0].slice(0,Se),ce[2]=He.slice(0,Se)),ce.slice(0,3))}},filter:{TAG:function(ce){var Se=ce.replace(Yr,to).toLowerCase();return"*"===ce?function(){return!0}:function(He){return yt(He,Se)}},CLASS:function(ce){var Se=ln[ce+" "];return Se||(Se=new RegExp("(^|"+qt+")"+ce+"("+qt+"|$)"))&&ln(ce,function(He){return Se.test("string"==typeof He.className&&He.className||typeof He.getAttribute<"u"&&He.getAttribute("class")||"")})},ATTR:function(ce,Se,He){return function(We){var st=Pr.attr(We,ce);return null==st?"!="===Se:!Se||(st+="","="===Se?st===He:"!="===Se?st!==He:"^="===Se?He&&0===st.indexOf(He):"*="===Se?He&&st.indexOf(He)>-1:"$="===Se?He&&st.slice(-He.length)===He:"~="===Se?(" "+st.replace(yr," ")+" ").indexOf(He)>-1:"|="===Se&&(st===He||st.slice(0,He.length+1)===He+"-"))}},CHILD:function(ce,Se,He,We,st){var It="nth"!==ce.slice(0,3),kt="last"!==ce.slice(-4),Rt="of-type"===Se;return 1===We&&0===st?function(Ut){return!!Ut.parentNode}:function(Ut,pr,tn){var nn,Ln,gn,qr,$i,hi=It!==kt?"nextSibling":"previousSibling",Ki=Ut.parentNode,Zr=Rt&&Ut.nodeName.toLowerCase(),Vr=!tn&&!Rt,wi=!1;if(Ki){if(It){for(;hi;){for(gn=Ut;gn=gn[hi];)if(Rt?yt(gn,Zr):1===gn.nodeType)return!1;$i=hi="only"===ce&&!$i&&"nextSibling"}return!0}if($i=[kt?Ki.firstChild:Ki.lastChild],kt&&Vr){for(wi=(qr=(nn=(Ln=Ki[Re]||(Ki[Re]={}))[ce]||[])[0]===je&&nn[1])&&nn[2],gn=qr&&Ki.childNodes[qr];gn=++qr&&gn&&gn[hi]||(wi=qr=0)||$i.pop();)if(1===gn.nodeType&&++wi&&gn===Ut){Ln[ce]=[je,qr,wi];break}}else if(Vr&&(wi=qr=(nn=(Ln=Ut[Re]||(Ut[Re]={}))[ce]||[])[0]===je&&nn[1]),!1===wi)for(;(gn=++qr&&gn&&gn[hi]||(wi=qr=0)||$i.pop())&&(!(Rt?yt(gn,Zr):1===gn.nodeType)||!++wi||(Vr&&((Ln=gn[Re]||(gn[Re]={}))[ce]=[je,wi]),gn!==Ut)););return(wi-=st)===We||wi%We==0&&wi/We>=0}}},PSEUDO:function(ce,Se){var He,We=S.pseudos[ce]||S.setFilters[ce.toLowerCase()]||Pr.error("unsupported pseudo: "+ce);return We[Re]?We(Se):We.length>1?(He=[ce,ce,"",Se],S.setFilters.hasOwnProperty(ce.toLowerCase())?Gi(function(st,It){for(var kt,Rt=We(st,Se),Ut=Rt.length;Ut--;)st[kt=ze.call(st,Rt[Ut])]=!(It[kt]=Rt[Ut])}):function(st){return We(st,0,He)}):We}},pseudos:{not:Gi(function(ce){var Se=[],He=[],We=oi(ce.replace(xt,"$1"));return We[Re]?Gi(function(st,It,kt,Rt){for(var Ut,pr=We(st,null,Rt,[]),tn=st.length;tn--;)(Ut=pr[tn])&&(st[tn]=!(It[tn]=Ut))}):function(st,It,kt){return Se[0]=st,We(Se,null,kt,He),Se[0]=null,!He.pop()}}),has:Gi(function(ce){return function(Se){return Pr(ce,Se).length>0}}),contains:Gi(function(ce){return ce=ce.replace(Yr,to),function(Se){return(Se.textContent||F.text(Se)).indexOf(ce)>-1}}),lang:Gi(function(ce){return Na.test(ce||"")||Pr.error("unsupported lang: "+ce),ce=ce.replace(Yr,to).toLowerCase(),function(Se){var He;do{if(He=pe?Se.lang:Se.getAttribute("xml:lang")||Se.getAttribute("lang"))return(He=He.toLowerCase())===ce||0===He.indexOf(ce+"-")}while((Se=Se.parentNode)&&1===Se.nodeType);return!1}}),target:function(ce){var Se=Q.location&&Q.location.hash;return Se&&Se.slice(1)===ce.id},root:function(ce){return ce===me},focus:function(ce){return ce===function Po(){try{return te.activeElement}catch{}}()&&te.hasFocus()&&!!(ce.type||ce.href||~ce.tabIndex)},enabled:Kr(!1),disabled:Kr(!0),checked:function(ce){return yt(ce,"input")&&!!ce.checked||yt(ce,"option")&&!!ce.selected},selected:function(ce){return!0===ce.selected},empty:function(ce){for(ce=ce.firstChild;ce;ce=ce.nextSibling)if(ce.nodeType<6)return!1;return!0},parent:function(ce){return!S.pseudos.empty(ce)},header:function(ce){return Rr.test(ce.nodeName)},input:function(ce){return Xo.test(ce.nodeName)},button:function(ce){return yt(ce,"input")&&"button"===ce.type||yt(ce,"button")},text:function(ce){var Se;return yt(ce,"input")&&"text"===ce.type&&(null==(Se=ce.getAttribute("type"))||"text"===Se.toLowerCase())},first:di(function(){return[0]}),last:di(function(ce,Se){return[Se-1]}),eq:di(function(ce,Se,He){return[He<0?He+Se:He]}),even:di(function(ce,Se){for(var He=0;He<Se;He+=2)ce.push(He);return ce}),odd:di(function(ce,Se){for(var He=1;He<Se;He+=2)ce.push(He);return ce}),lt:di(function(ce,Se,He){var We;for(We=He<0?He+Se:He>Se?Se:He;--We>=0;)ce.push(We);return ce}),gt:di(function(ce,Se,He){for(var We=He<0?He+Se:He;++We<Se;)ce.push(We);return ce})}}).pseudos.nth=S.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[E]=au(E);for(E in{submit:!0,reset:!0})S.pseudos[E]=Pu(E);function ha(){}function Di(ce,Se){var He,We,st,It,kt,Rt,Ut,pr=vr[ce+" "];if(pr)return Se?0:pr.slice(0);for(kt=ce,Rt=[],Ut=S.preFilter;kt;){for(It in(!He||(We=Wn.exec(kt)))&&(We&&(kt=kt.slice(We[0].length)||kt),Rt.push(st=[])),He=!1,(We=Oa.exec(kt))&&(He=We.shift(),st.push({value:He,type:We[0].replace(xt," ")}),kt=kt.slice(He.length)),S.filter)(We=Vo[It].exec(kt))&&(!Ut[It]||(We=Ut[It](We)))&&(He=We.shift(),st.push({value:He,type:It,matches:We}),kt=kt.slice(He.length));if(!He)break}return Se?kt.length:kt?Pr.error(ce):vr(ce,Rt).slice(0)}function Mu(ce){for(var Se=0,He=ce.length,We="";Se<He;Se++)We+=ce[Se].value;return We}function ka(ce,Se,He){var We=Se.dir,st=Se.next,It=st||We,kt=He&&"parentNode"===It,Rt=vt++;return Se.first?function(Ut,pr,tn){for(;Ut=Ut[We];)if(1===Ut.nodeType||kt)return ce(Ut,pr,tn);return!1}:function(Ut,pr,tn){var nn,Ln,gn=[je,Rt];if(tn){for(;Ut=Ut[We];)if((1===Ut.nodeType||kt)&&ce(Ut,pr,tn))return!0}else for(;Ut=Ut[We];)if(1===Ut.nodeType||kt)if(Ln=Ut[Re]||(Ut[Re]={}),st&&yt(Ut,st))Ut=Ut[We]||Ut;else{if((nn=Ln[It])&&nn[0]===je&&nn[1]===Rt)return gn[2]=nn[2];if(Ln[It]=gn,gn[2]=ce(Ut,pr,tn))return!0}return!1}}function Ra(ce){return ce.length>1?function(Se,He,We){for(var st=ce.length;st--;)if(!ce[st](Se,He,We))return!1;return!0}:ce[0]}function ec(ce,Se,He,We,st){for(var It,kt=[],Rt=0,Ut=ce.length,pr=null!=Se;Rt<Ut;Rt++)(It=ce[Rt])&&(!He||He(It,We,st))&&(kt.push(It),pr&&Se.push(Rt));return kt}function cl(ce,Se,He,We,st,It){return We&&!We[Re]&&(We=cl(We)),st&&!st[Re]&&(st=cl(st,It)),Gi(function(kt,Rt,Ut,pr){var tn,nn,Ln,gn,qr=[],$i=[],hi=Rt.length,Ki=kt||function Xl(ce,Se,He){for(var We=0,st=Se.length;We<st;We++)Pr(ce,Se[We],He);return He}(Se||"*",Ut.nodeType?[Ut]:Ut,[]),Zr=!ce||!kt&&Se?Ki:ec(Ki,qr,ce,Ut,pr);if(He?He(Zr,gn=st||(kt?ce:hi||We)?[]:Rt,Ut,pr):gn=Zr,We)for(tn=ec(gn,$i),We(tn,[],Ut,pr),nn=tn.length;nn--;)(Ln=tn[nn])&&(gn[$i[nn]]=!(Zr[$i[nn]]=Ln));if(kt){if(st||ce){if(st){for(tn=[],nn=gn.length;nn--;)(Ln=gn[nn])&&tn.push(Zr[nn]=Ln);st(null,gn=[],tn,pr)}for(nn=gn.length;nn--;)(Ln=gn[nn])&&(tn=st?ze.call(kt,Ln):qr[nn])>-1&&(kt[tn]=!(Rt[tn]=Ln))}}else gn=ec(gn===Rt?gn.splice(hi,gn.length):gn),st?st(null,Rt,gn,pr):z.apply(Rt,gn)})}function fi(ce){for(var Se,He,We,st=ce.length,It=S.relative[ce[0].type],kt=It||S.relative[" "],Rt=It?1:0,Ut=ka(function(nn){return nn===Se},kt,!0),pr=ka(function(nn){return ze.call(Se,nn)>-1},kt,!0),tn=[function(nn,Ln,gn){var qr=!It&&(gn||Ln!=R)||((Se=Ln).nodeType?Ut(nn,Ln,gn):pr(nn,Ln,gn));return Se=null,qr}];Rt<st;Rt++)if(He=S.relative[ce[Rt].type])tn=[ka(Ra(tn),He)];else{if((He=S.filter[ce[Rt].type].apply(null,ce[Rt].matches))[Re]){for(We=++Rt;We<st&&!S.relative[ce[We].type];We++);return cl(Rt>1&&Ra(tn),Rt>1&&Mu(ce.slice(0,Rt-1).concat({value:" "===ce[Rt-2].type?"*":""})).replace(xt,"$1"),He,Rt<We&&fi(ce.slice(Rt,We)),We<st&&fi(ce=ce.slice(We)),We<st&&Mu(ce))}tn.push(He)}return Ra(tn)}function oi(ce,Se){var He,We=[],st=[],It=Hn[ce+" "];if(!It){for(Se||(Se=Di(ce)),He=Se.length;He--;)(It=fi(Se[He]))[Re]?We.push(It):st.push(It);It=Hn(ce,function Si(ce,Se){var He=Se.length>0,We=ce.length>0,st=function(It,kt,Rt,Ut,pr){var tn,nn,Ln,gn=0,qr="0",$i=It&&[],hi=[],Ki=R,Zr=It||We&&S.find.TAG("*",pr),Vr=je+=null==Ki?1:Math.random()||.1,wi=Zr.length;for(pr&&(R=kt==te||kt||pr);qr!==wi&&null!=(tn=Zr[qr]);qr++){if(We&&tn){for(nn=0,!kt&&tn.ownerDocument!=te&&(es(tn),Rt=!pe);Ln=ce[nn++];)if(Ln(tn,kt||te,Rt)){z.call(Ut,tn);break}pr&&(je=Vr)}He&&((tn=!Ln&&tn)&&gn--,It&&$i.push(tn))}if(gn+=qr,He&&qr!==gn){for(nn=0;Ln=Se[nn++];)Ln($i,hi,kt,Rt);if(It){if(gn>0)for(;qr--;)$i[qr]||hi[qr]||(hi[qr]=Dt.call(Ut));hi=ec(hi)}z.apply(Ut,hi),pr&&!It&&hi.length>0&&gn+Se.length>1&&F.uniqueSort(Ut)}return pr&&(je=Vr,R=Ki),$i};return He?Gi(st):st}(st,We)),It.selector=ce}return It}function ws(ce,Se,He,We){var st,It,kt,Rt,Ut,pr="function"==typeof ce&&ce,tn=!We&&Di(ce=pr.selector||ce);if(He=He||[],1===tn.length){if((It=tn[0]=tn[0].slice(0)).length>2&&"ID"===(kt=It[0]).type&&9===Se.nodeType&&pe&&S.relative[It[1].type]){if(!(Se=(S.find.ID(kt.matches[0].replace(Yr,to),Se)||[])[0]))return He;pr&&(Se=Se.parentNode),ce=ce.slice(It.shift().value.length)}for(st=Vo.needsContext.test(ce)?0:It.length;st--&&!S.relative[Rt=(kt=It[st]).type];)if((Ut=S.find[Rt])&&(We=Ut(kt.matches[0].replace(Yr,to),Jl.test(It[0].type)&&po(Se.parentNode)||Se))){if(It.splice(st,1),!(ce=We.length&&Mu(It)))return z.apply(He,We),He;break}}return(pr||oi(ce,tn))(We,Se,!pe,He,!Se||Jl.test(ce)&&po(Se.parentNode)||Se),He}ha.prototype=S.filters=S.pseudos,S.setFilters=new ha,Me.sortStable=Re.split("").sort(xr).join("")===Re,es(),Me.sortDetached=jo(function(ce){return 1&ce.compareDocumentPosition(te.createElement("fieldset"))}),F.find=Pr,F.expr[":"]=F.expr.pseudos,F.unique=F.uniqueSort,Pr.compile=oi,Pr.select=ws,Pr.setDocument=es,Pr.tokenize=Di,Pr.escape=F.escapeSelector,Pr.getText=F.text,Pr.isXML=F.isXMLDoc,Pr.selectors=F.expr,Pr.support=F.support,Pr.uniqueSort=F.uniqueSort}();var Oe=function(E,S,R){for(var j=[],G=void 0!==R;(E=E[S])&&9!==E.nodeType;)if(1===E.nodeType){if(G&&F(E).is(R))break;j.push(E)}return j},Ee=function(E,S){for(var R=[];E;E=E.nextSibling)1===E.nodeType&&E!==S&&R.push(E);return R},Le=F.expr.match.needsContext,Pe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function lt(E,S,R){return ht(S)?F.grep(E,function(j,G){return!!S.call(j,G,j)!==R}):S.nodeType?F.grep(E,function(j){return j===S!==R}):"string"!=typeof S?F.grep(E,function(j){return ze.call(S,j)>-1!==R}):F.filter(S,E,R)}F.filter=function(E,S,R){var j=S[0];return R&&(E=":not("+E+")"),1===S.length&&1===j.nodeType?F.find.matchesSelector(j,E)?[j]:[]:F.find.matches(E,F.grep(S,function(G){return 1===G.nodeType}))},F.fn.extend({find:function(E){var S,R,j=this.length,G=this;if("string"!=typeof E)return this.pushStack(F(E).filter(function(){for(S=0;S<j;S++)if(F.contains(G[S],this))return!0}));for(R=this.pushStack([]),S=0;S<j;S++)F.find(E,G[S],R);return j>1?F.uniqueSort(R):R},filter:function(E){return this.pushStack(lt(this,E||[],!1))},not:function(E){return this.pushStack(lt(this,E||[],!0))},is:function(E){return!!lt(this,"string"==typeof E&&Le.test(E)?F(E):E||[],!1).length}});var Xe,$t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,on=F.fn.init=function(E,S,R){var j,G;if(!E)return this;if(R=R||Xe,"string"==typeof E){if(!(j="<"===E[0]&&">"===E[E.length-1]&&E.length>=3?[null,E,null]:$t.exec(E))||!j[1]&&S)return!S||S.jquery?(S||R).find(E):this.constructor(S).find(E);if(j[1]){if(F.merge(this,F.parseHTML(j[1],(S=S instanceof F?S[0]:S)&&S.nodeType?S.ownerDocument||S:qe,!0)),Pe.test(j[1])&&F.isPlainObject(S))for(j in S)ht(this[j])?this[j](S[j]):this.attr(j,S[j]);return this}return(G=qe.getElementById(j[2]))&&(this[0]=G,this.length=1),this}return E.nodeType?(this[0]=E,this.length=1,this):ht(E)?void 0!==R.ready?R.ready(E):E(F):F.makeArray(E,this)};on.prototype=F.fn,Xe=F(qe);var Lr=/^(?:parents|prev(?:Until|All))/,zt={children:!0,contents:!0,next:!0,prev:!0};function zn(E,S){for(;(E=E[S])&&1!==E.nodeType;);return E}F.fn.extend({has:function(E){var S=F(E,this),R=S.length;return this.filter(function(){for(var j=0;j<R;j++)if(F.contains(this,S[j]))return!0})},closest:function(E,S){var R,j=0,G=this.length,z=[],te="string"!=typeof E&&F(E);if(!Le.test(E))for(;j<G;j++)for(R=this[j];R&&R!==S;R=R.parentNode)if(R.nodeType<11&&(te?te.index(R)>-1:1===R.nodeType&&F.find.matchesSelector(R,E))){z.push(R);break}return this.pushStack(z.length>1?F.uniqueSort(z):z)},index:function(E){return E?"string"==typeof E?ze.call(F(E),this[0]):ze.call(this,E.jquery?E[0]:E):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(E,S){return this.pushStack(F.uniqueSort(F.merge(this.get(),F(E,S))))},addBack:function(E){return this.add(null==E?this.prevObject:this.prevObject.filter(E))}}),F.each({parent:function(E){var S=E.parentNode;return S&&11!==S.nodeType?S:null},parents:function(E){return Oe(E,"parentNode")},parentsUntil:function(E,S,R){return Oe(E,"parentNode",R)},next:function(E){return zn(E,"nextSibling")},prev:function(E){return zn(E,"previousSibling")},nextAll:function(E){return Oe(E,"nextSibling")},prevAll:function(E){return Oe(E,"previousSibling")},nextUntil:function(E,S,R){return Oe(E,"nextSibling",R)},prevUntil:function(E,S,R){return Oe(E,"previousSibling",R)},siblings:function(E){return Ee((E.parentNode||{}).firstChild,E)},children:function(E){return Ee(E.firstChild)},contents:function(E){return null!=E.contentDocument&&ot(E.contentDocument)?E.contentDocument:(yt(E,"template")&&(E=E.content||E),F.merge([],E.childNodes))}},function(E,S){F.fn[E]=function(R,j){var G=F.map(this,S,R);return"Until"!==E.slice(-5)&&(j=R),j&&"string"==typeof j&&(G=F.filter(j,G)),this.length>1&&(zt[E]||F.uniqueSort(G),Lr.test(E)&&G.reverse()),this.pushStack(G)}});var Cn=/[^\x20\t\r\n\f]+/g;function ci(E){return E}function Tn(E){throw E}function Mn(E,S,R,j){var G;try{E&&ht(G=E.promise)?G.call(E).done(S).fail(R):E&&ht(G=E.then)?G.call(E,S,R):S.apply(void 0,[E].slice(j))}catch(z){R.apply(void 0,[z])}}F.Callbacks=function(E){E="string"==typeof E?function er(E){var S={};return F.each(E.match(Cn)||[],function(R,j){S[j]=!0}),S}(E):F.extend({},E);var S,R,j,G,z=[],te=[],me=-1,pe=function(){for(G=G||E.once,j=S=!0;te.length;me=-1)for(R=te.shift();++me<z.length;)!1===z[me].apply(R[0],R[1])&&E.stopOnFalse&&(me=z.length,R=!1);E.memory||(R=!1),S=!1,G&&(z=R?[]:"")},xe={add:function(){return z&&(R&&!S&&(me=z.length-1,te.push(R)),function Ke(Re){F.each(Re,function(je,vt){ht(vt)?(!E.unique||!xe.has(vt))&&z.push(vt):vt&&vt.length&&"string"!==Tt(vt)&&Ke(vt)})}(arguments),R&&!S&&pe()),this},remove:function(){return F.each(arguments,function(Ke,Re){for(var je;(je=F.inArray(Re,z,je))>-1;)z.splice(je,1),je<=me&&me--}),this},has:function(Ke){return Ke?F.inArray(Ke,z)>-1:z.length>0},empty:function(){return z&&(z=[]),this},disable:function(){return G=te=[],z=R="",this},disabled:function(){return!z},lock:function(){return G=te=[],!R&&!S&&(z=R=""),this},locked:function(){return!!G},fireWith:function(Ke,Re){return G||(Re=[Ke,(Re=Re||[]).slice?Re.slice():Re],te.push(Re),S||pe()),this},fire:function(){return xe.fireWith(this,arguments),this},fired:function(){return!!j}};return xe},F.extend({Deferred:function(E){var S=[["notify","progress",F.Callbacks("memory"),F.Callbacks("memory"),2],["resolve","done",F.Callbacks("once memory"),F.Callbacks("once memory"),0,"resolved"],["reject","fail",F.Callbacks("once memory"),F.Callbacks("once memory"),1,"rejected"]],R="pending",j={state:function(){return R},always:function(){return G.done(arguments).fail(arguments),this},catch:function(z){return j.then(null,z)},pipe:function(){var z=arguments;return F.Deferred(function(te){F.each(S,function(me,pe){var xe=ht(z[pe[4]])&&z[pe[4]];G[pe[1]](function(){var Ke=xe&&xe.apply(this,arguments);Ke&&ht(Ke.promise)?Ke.promise().progress(te.notify).done(te.resolve).fail(te.reject):te[pe[0]+"With"](this,xe?[Ke]:arguments)})}),z=null}).promise()},then:function(z,te,me){var pe=0;function xe(Ke,Re,je,vt){return function(){var ln=this,vr=arguments,Hn=function(){var xr,xo;if(!(Ke<pe)){if((xr=je.apply(ln,vr))===Re.promise())throw new TypeError("Thenable self-resolution");ht(xo=xr&&("object"==typeof xr||"function"==typeof xr)&&xr.then)?vt?xo.call(xr,xe(pe,Re,ci,vt),xe(pe,Re,Tn,vt)):(pe++,xo.call(xr,xe(pe,Re,ci,vt),xe(pe,Re,Tn,vt),xe(pe,Re,ci,Re.notifyWith))):(je!==ci&&(ln=void 0,vr=[xr]),(vt||Re.resolveWith)(ln,vr))}},Pi=vt?Hn:function(){try{Hn()}catch(xr){F.Deferred.exceptionHook&&F.Deferred.exceptionHook(xr,Pi.error),Ke+1>=pe&&(je!==Tn&&(ln=void 0,vr=[xr]),Re.rejectWith(ln,vr))}};Ke?Pi():(F.Deferred.getErrorHook?Pi.error=F.Deferred.getErrorHook():F.Deferred.getStackHook&&(Pi.error=F.Deferred.getStackHook()),Q.setTimeout(Pi))}}return F.Deferred(function(Ke){S[0][3].add(xe(0,Ke,ht(me)?me:ci,Ke.notifyWith)),S[1][3].add(xe(0,Ke,ht(z)?z:ci)),S[2][3].add(xe(0,Ke,ht(te)?te:Tn))}).promise()},promise:function(z){return null!=z?F.extend(z,j):j}},G={};return F.each(S,function(z,te){var me=te[2],pe=te[5];j[te[1]]=me.add,pe&&me.add(function(){R=pe},S[3-z][2].disable,S[3-z][3].disable,S[0][2].lock,S[0][3].lock),me.add(te[3].fire),G[te[0]]=function(){return G[te[0]+"With"](this===G?void 0:this,arguments),this},G[te[0]+"With"]=me.fireWith}),j.promise(G),E&&E.call(G,G),G},when:function(E){var S=arguments.length,R=S,j=Array(R),G=he.call(arguments),z=F.Deferred(),te=function(me){return function(pe){j[me]=this,G[me]=arguments.length>1?he.call(arguments):pe,--S||z.resolveWith(j,G)}};if(S<=1&&(Mn(E,z.done(te(R)).resolve,z.reject,!S),"pending"===z.state()||ht(G[R]&&G[R].then)))return z.then();for(;R--;)Mn(G[R],te(R),z.reject);return z.promise()}});var cn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;F.Deferred.exceptionHook=function(E,S){Q.console&&Q.console.warn&&E&&cn.test(E.name)&&Q.console.warn("jQuery.Deferred exception: "+E.message,E.stack,S)},F.readyException=function(E){Q.setTimeout(function(){throw E})};var tr=F.Deferred();function Et(){qe.removeEventListener("DOMContentLoaded",Et),Q.removeEventListener("load",Et),F.ready()}F.fn.ready=function(E){return tr.then(E).catch(function(S){F.readyException(S)}),this},F.extend({isReady:!1,readyWait:1,ready:function(E){(!0===E?--F.readyWait:F.isReady)||(F.isReady=!0,!(!0!==E&&--F.readyWait>0)&&tr.resolveWith(qe,[F]))}}),F.ready.then=tr.then,"complete"===qe.readyState||"loading"!==qe.readyState&&!qe.documentElement.doScroll?Q.setTimeout(F.ready):(qe.addEventListener("DOMContentLoaded",Et),Q.addEventListener("load",Et));var ir=function(E,S,R,j,G,z,te){var me=0,pe=E.length,xe=null==R;if("object"===Tt(R))for(me in G=!0,R)ir(E,S,me,R[me],!0,z,te);else if(void 0!==j&&(G=!0,ht(j)||(te=!0),xe&&(te?(S.call(E,j),S=null):(xe=S,S=function(Ke,Re,je){return xe.call(F(Ke),je)})),S))for(;me<pe;me++)S(E[me],R,te?j:j.call(E[me],me,S(E[me],R)));return G?E:xe?S.call(E):pe?S(E[0],R):z},Tr=/^-ms-/,Rn=/-([a-z])/g;function sa(E,S){return S.toUpperCase()}function Xi(E){return E.replace(Tr,"ms-").replace(Rn,sa)}var Mr=function(E){return 1===E.nodeType||9===E.nodeType||!+E.nodeType};function Wi(){this.expando=F.expando+Wi.uid++}Wi.uid=1,Wi.prototype={cache:function(E){var S=E[this.expando];return S||(S={},Mr(E)&&(E.nodeType?E[this.expando]=S:Object.defineProperty(E,this.expando,{value:S,configurable:!0}))),S},set:function(E,S,R){var j,G=this.cache(E);if("string"==typeof S)G[Xi(S)]=R;else for(j in S)G[Xi(j)]=S[j];return G},get:function(E,S){return void 0===S?this.cache(E):E[this.expando]&&E[this.expando][Xi(S)]},access:function(E,S,R){return void 0===S||S&&"string"==typeof S&&void 0===R?this.get(E,S):(this.set(E,S,R),void 0!==R?R:S)},remove:function(E,S){var R,j=E[this.expando];if(void 0!==j){if(void 0!==S)for((R=(S=Array.isArray(S)?S.map(Xi):(S=Xi(S))in j?[S]:S.match(Cn)||[]).length);R--;)delete j[S[R]];(void 0===S||F.isEmptyObject(j))&&(E.nodeType?E[this.expando]=void 0:delete E[this.expando])}},hasData:function(E){var S=E[this.expando];return void 0!==S&&!F.isEmptyObject(S)}};var Nt=new Wi,Wt=new Wi,_n=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,mi=/[A-Z]/g;function To(E,S,R){var j;if(void 0===R&&1===E.nodeType)if(j="data-"+S.replace(mi,"-$&").toLowerCase(),"string"==typeof(R=E.getAttribute(j))){try{R=function Or(E){return"true"===E||"false"!==E&&("null"===E?null:E===+E+""?+E:_n.test(E)?JSON.parse(E):E)}(R)}catch{}Wt.set(E,S,R)}else R=void 0;return R}F.extend({hasData:function(E){return Wt.hasData(E)||Nt.hasData(E)},data:function(E,S,R){return Wt.access(E,S,R)},removeData:function(E,S){Wt.remove(E,S)},_data:function(E,S,R){return Nt.access(E,S,R)},_removeData:function(E,S){Nt.remove(E,S)}}),F.fn.extend({data:function(E,S){var R,j,G,z=this[0],te=z&&z.attributes;if(void 0===E){if(this.length&&(G=Wt.get(z),1===z.nodeType&&!Nt.get(z,"hasDataAttrs"))){for(R=te.length;R--;)te[R]&&0===(j=te[R].name).indexOf("data-")&&(j=Xi(j.slice(5)),To(z,j,G[j]));Nt.set(z,"hasDataAttrs",!0)}return G}return"object"==typeof E?this.each(function(){Wt.set(this,E)}):ir(this,function(me){var pe;if(z&&void 0===me)return void 0!==(pe=Wt.get(z,E))||void 0!==(pe=To(z,E))?pe:void 0;this.each(function(){Wt.set(this,E,me)})},null,S,arguments.length>1,null,!0)},removeData:function(E){return this.each(function(){Wt.remove(this,E)})}}),F.extend({queue:function(E,S,R){var j;if(E)return j=Nt.get(E,S=(S||"fx")+"queue"),R&&(!j||Array.isArray(R)?j=Nt.access(E,S,F.makeArray(R)):j.push(R)),j||[]},dequeue:function(E,S){var R=F.queue(E,S=S||"fx"),j=R.length,G=R.shift(),z=F._queueHooks(E,S);"inprogress"===G&&(G=R.shift(),j--),G&&("fx"===S&&R.unshift("inprogress"),delete z.stop,G.call(E,function(){F.dequeue(E,S)},z)),!j&&z&&z.empty.fire()},_queueHooks:function(E,S){var R=S+"queueHooks";return Nt.get(E,R)||Nt.access(E,R,{empty:F.Callbacks("once memory").add(function(){Nt.remove(E,[S+"queue",R])})})}}),F.fn.extend({queue:function(E,S){var R=2;return"string"!=typeof E&&(S=E,E="fx",R--),arguments.length<R?F.queue(this[0],E):void 0===S?this:this.each(function(){var j=F.queue(this,E,S);F._queueHooks(this,E),"fx"===E&&"inprogress"!==j[0]&&F.dequeue(this,E)})},dequeue:function(E){return this.each(function(){F.dequeue(this,E)})},clearQueue:function(E){return this.queue(E||"fx",[])},promise:function(E,S){var R,j=1,G=F.Deferred(),z=this,te=this.length,me=function(){--j||G.resolveWith(z,[z])};for("string"!=typeof E&&(S=E,E=void 0),E=E||"fx";te--;)(R=Nt.get(z[te],E+"queueHooks"))&&R.empty&&(j++,R.empty.add(me));return me(),G.promise(S)}});var ji=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,hn=new RegExp("^(?:([+-])=|)("+ji+")([a-z%]*)$","i"),Bo=["Top","Right","Bottom","Left"],Fn=qe.documentElement,Ko=function(E){return F.contains(E.ownerDocument,E)},be={composed:!0};Fn.getRootNode&&(Ko=function(E){return F.contains(E.ownerDocument,E)||E.getRootNode(be)===E.ownerDocument});var we=function(E,S){return"none"===(E=S||E).style.display||""===E.style.display&&Ko(E)&&"none"===F.css(E,"display")};function ke(E,S,R,j){var G,z,te=20,me=j?function(){return j.cur()}:function(){return F.css(E,S,"")},pe=me(),xe=R&&R[3]||(F.cssNumber[S]?"":"px"),Ke=E.nodeType&&(F.cssNumber[S]||"px"!==xe&&+pe)&&hn.exec(F.css(E,S));if(Ke&&Ke[3]!==xe){for(xe=xe||Ke[3],Ke=+(pe/=2)||1;te--;)F.style(E,S,Ke+xe),(1-z)*(1-(z=me()/pe||.5))<=0&&(te=0),Ke/=z;F.style(E,S,(Ke*=2)+xe),R=R||[]}return R&&(Ke=+Ke||+pe||0,G=R[1]?Ke+(R[1]+1)*R[2]:+R[2],j&&(j.unit=xe,j.start=Ke,j.end=G)),G}var $e={};function Fe(E){var S,R=E.ownerDocument,j=E.nodeName,G=$e[j];return G||(S=R.body.appendChild(R.createElement(j)),G=F.css(S,"display"),S.parentNode.removeChild(S),"none"===G&&(G="block"),$e[j]=G,G)}function bt(E,S){for(var R,j,G=[],z=0,te=E.length;z<te;z++)(j=E[z]).style&&(R=j.style.display,S?("none"===R&&(G[z]=Nt.get(j,"display")||null,G[z]||(j.style.display="")),""===j.style.display&&we(j)&&(G[z]=Fe(j))):"none"!==R&&(G[z]="none",Nt.set(j,"display",R)));for(z=0;z<te;z++)null!=G[z]&&(E[z].style.display=G[z]);return E}F.fn.extend({show:function(){return bt(this,!0)},hide:function(){return bt(this)},toggle:function(E){return"boolean"==typeof E?E?this.show():this.hide():this.each(function(){we(this)?F(this).show():F(this).hide()})}});var S,R,pn=/^(?:checkbox|radio)$/i,gr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,mr=/^$|^module$|\/(?:java|ecma)script/i;S=qe.createDocumentFragment().appendChild(qe.createElement("div")),(R=qe.createElement("input")).setAttribute("type","radio"),R.setAttribute("checked","checked"),R.setAttribute("name","t"),S.appendChild(R),Me.checkClone=S.cloneNode(!0).cloneNode(!0).lastChild.checked,S.innerHTML="<textarea>x</textarea>",Me.noCloneChecked=!!S.cloneNode(!0).lastChild.defaultValue,S.innerHTML="<option></option>",Me.option=!!S.lastChild;var Un={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ur(E,S){var R;return R=typeof E.getElementsByTagName<"u"?E.getElementsByTagName(S||"*"):typeof E.querySelectorAll<"u"?E.querySelectorAll(S||"*"):[],void 0===S||S&&yt(E,S)?F.merge([E],R):R}function vi(E,S){for(var R=0,j=E.length;R<j;R++)Nt.set(E[R],"globalEval",!S||Nt.get(S[R],"globalEval"))}Un.tbody=Un.tfoot=Un.colgroup=Un.caption=Un.thead,Un.th=Un.td,Me.option||(Un.optgroup=Un.option=[1,"<select multiple='multiple'>","</select>"]);var Eo=/<|&#?\w+;/;function dr(E,S,R,j,G){for(var z,te,me,pe,xe,Ke,Re=S.createDocumentFragment(),je=[],vt=0,ln=E.length;vt<ln;vt++)if((z=E[vt])||0===z)if("object"===Tt(z))F.merge(je,z.nodeType?[z]:z);else if(Eo.test(z)){for(te=te||Re.appendChild(S.createElement("div")),me=(gr.exec(z)||["",""])[1].toLowerCase(),te.innerHTML=(pe=Un[me]||Un._default)[1]+F.htmlPrefilter(z)+pe[2],Ke=pe[0];Ke--;)te=te.lastChild;F.merge(je,te.childNodes),(te=Re.firstChild).textContent=""}else je.push(S.createTextNode(z));for(Re.textContent="",vt=0;z=je[vt++];)if(j&&F.inArray(z,j)>-1)G&&G.push(z);else if(xe=Ko(z),te=Ur(Re.appendChild(z),"script"),xe&&vi(te),R)for(Ke=0;z=te[Ke++];)mr.test(z.type||"")&&R.push(z);return Re}var Yi=/^([^.]*)(?:\.(.+)|)/;function Fi(){return!0}function Ao(){return!1}function Do(E,S,R,j,G,z){var te,me;if("object"==typeof S){for(me in"string"!=typeof R&&(j=j||R,R=void 0),S)Do(E,me,R,j,S[me],z);return E}if(null==j&&null==G?(G=R,j=R=void 0):null==G&&("string"==typeof R?(G=j,j=void 0):(G=j,j=R,R=void 0)),!1===G)G=Ao;else if(!G)return E;return 1===z&&(te=G,G=function(pe){return F().off(pe),te.apply(this,arguments)},G.guid=te.guid||(te.guid=F.guid++)),E.each(function(){F.event.add(this,S,G,j,R)})}function Br(E,S,R){R?(Nt.set(E,S,!1),F.event.add(E,S,{namespace:!1,handler:function(j){var G,z=Nt.get(this,S);if(1&j.isTrigger&&this[S]){if(z)(F.event.special[S]||{}).delegateType&&j.stopPropagation();else if(z=he.call(arguments),Nt.set(this,S,z),this[S](),G=Nt.get(this,S),Nt.set(this,S,!1),z!==G)return j.stopImmediatePropagation(),j.preventDefault(),G}else z&&(Nt.set(this,S,F.event.trigger(z[0],z.slice(1),this)),j.stopPropagation(),j.isImmediatePropagationStopped=Fi)}})):void 0===Nt.get(E,S)&&F.event.add(E,S,Fi)}F.event={global:{},add:function(E,S,R,j,G){var z,te,me,pe,xe,Ke,Re,je,vt,ln,vr,Hn=Nt.get(E);if(Mr(E))for(R.handler&&(R=(z=R).handler,G=z.selector),G&&F.find.matchesSelector(Fn,G),R.guid||(R.guid=F.guid++),(pe=Hn.events)||(pe=Hn.events=Object.create(null)),(te=Hn.handle)||(te=Hn.handle=function(Pi){return typeof F<"u"&&F.event.triggered!==Pi.type?F.event.dispatch.apply(E,arguments):void 0}),xe=(S=(S||"").match(Cn)||[""]).length;xe--;)vt=vr=(me=Yi.exec(S[xe])||[])[1],ln=(me[2]||"").split(".").sort(),vt&&(Re=F.event.special[vt]||{},Re=F.event.special[vt=(G?Re.delegateType:Re.bindType)||vt]||{},Ke=F.extend({type:vt,origType:vr,data:j,handler:R,guid:R.guid,selector:G,needsContext:G&&F.expr.match.needsContext.test(G),namespace:ln.join(".")},z),(je=pe[vt])||((je=pe[vt]=[]).delegateCount=0,(!Re.setup||!1===Re.setup.call(E,j,ln,te))&&E.addEventListener&&E.addEventListener(vt,te)),Re.add&&(Re.add.call(E,Ke),Ke.handler.guid||(Ke.handler.guid=R.guid)),G?je.splice(je.delegateCount++,0,Ke):je.push(Ke),F.event.global[vt]=!0)},remove:function(E,S,R,j,G){var z,te,me,pe,xe,Ke,Re,je,vt,ln,vr,Hn=Nt.hasData(E)&&Nt.get(E);if(Hn&&(pe=Hn.events)){for(xe=(S=(S||"").match(Cn)||[""]).length;xe--;)if(vt=vr=(me=Yi.exec(S[xe])||[])[1],ln=(me[2]||"").split(".").sort(),vt){for(Re=F.event.special[vt]||{},je=pe[vt=(j?Re.delegateType:Re.bindType)||vt]||[],me=me[2]&&new RegExp("(^|\\.)"+ln.join("\\.(?:.*\\.|)")+"(\\.|$)"),te=z=je.length;z--;)Ke=je[z],(G||vr===Ke.origType)&&(!R||R.guid===Ke.guid)&&(!me||me.test(Ke.namespace))&&(!j||j===Ke.selector||"**"===j&&Ke.selector)&&(je.splice(z,1),Ke.selector&&je.delegateCount--,Re.remove&&Re.remove.call(E,Ke));te&&!je.length&&((!Re.teardown||!1===Re.teardown.call(E,ln,Hn.handle))&&F.removeEvent(E,vt,Hn.handle),delete pe[vt])}else for(vt in pe)F.event.remove(E,vt+S[xe],R,j,!0);F.isEmptyObject(pe)&&Nt.remove(E,"handle events")}},dispatch:function(E){var S,R,j,G,z,te,me=new Array(arguments.length),pe=F.event.fix(E),xe=(Nt.get(this,"events")||Object.create(null))[pe.type]||[],Ke=F.event.special[pe.type]||{};for(me[0]=pe,S=1;S<arguments.length;S++)me[S]=arguments[S];if(pe.delegateTarget=this,!Ke.preDispatch||!1!==Ke.preDispatch.call(this,pe)){for(te=F.event.handlers.call(this,pe,xe),S=0;(G=te[S++])&&!pe.isPropagationStopped();)for(pe.currentTarget=G.elem,R=0;(z=G.handlers[R++])&&!pe.isImmediatePropagationStopped();)(!pe.rnamespace||!1===z.namespace||pe.rnamespace.test(z.namespace))&&(pe.handleObj=z,pe.data=z.data,void 0!==(j=((F.event.special[z.origType]||{}).handle||z.handler).apply(G.elem,me))&&!1===(pe.result=j)&&(pe.preventDefault(),pe.stopPropagation()));return Ke.postDispatch&&Ke.postDispatch.call(this,pe),pe.result}},handlers:function(E,S){var R,j,G,z,te,me=[],pe=S.delegateCount,xe=E.target;if(pe&&xe.nodeType&&!("click"===E.type&&E.button>=1))for(;xe!==this;xe=xe.parentNode||this)if(1===xe.nodeType&&("click"!==E.type||!0!==xe.disabled)){for(z=[],te={},R=0;R<pe;R++)void 0===te[G=(j=S[R]).selector+" "]&&(te[G]=j.needsContext?F(G,this).index(xe)>-1:F.find(G,this,null,[xe]).length),te[G]&&z.push(j);z.length&&me.push({elem:xe,handlers:z})}return xe=this,pe<S.length&&me.push({elem:xe,handlers:S.slice(pe)}),me},addProp:function(E,S){Object.defineProperty(F.Event.prototype,E,{enumerable:!0,configurable:!0,get:ht(S)?function(){if(this.originalEvent)return S(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[E]},set:function(R){Object.defineProperty(this,E,{enumerable:!0,configurable:!0,writable:!0,value:R})}})},fix:function(E){return E[F.expando]?E:new F.Event(E)},special:{load:{noBubble:!0},click:{setup:function(E){var S=this||E;return pn.test(S.type)&&S.click&&yt(S,"input")&&Br(S,"click",!0),!1},trigger:function(E){var S=this||E;return pn.test(S.type)&&S.click&&yt(S,"input")&&Br(S,"click"),!0},_default:function(E){var S=E.target;return pn.test(S.type)&&S.click&&yt(S,"input")&&Nt.get(S,"click")||yt(S,"a")}},beforeunload:{postDispatch:function(E){void 0!==E.result&&E.originalEvent&&(E.originalEvent.returnValue=E.result)}}}},F.removeEvent=function(E,S,R){E.removeEventListener&&E.removeEventListener(S,R)},F.Event=function(E,S){if(!(this instanceof F.Event))return new F.Event(E,S);E&&E.type?(this.originalEvent=E,this.type=E.type,this.isDefaultPrevented=E.defaultPrevented||void 0===E.defaultPrevented&&!1===E.returnValue?Fi:Ao,this.target=E.target&&3===E.target.nodeType?E.target.parentNode:E.target,this.currentTarget=E.currentTarget,this.relatedTarget=E.relatedTarget):this.type=E,S&&F.extend(this,S),this.timeStamp=E&&E.timeStamp||Date.now(),this[F.expando]=!0},F.Event.prototype={constructor:F.Event,isDefaultPrevented:Ao,isPropagationStopped:Ao,isImmediatePropagationStopped:Ao,isSimulated:!1,preventDefault:function(){var E=this.originalEvent;this.isDefaultPrevented=Fi,E&&!this.isSimulated&&E.preventDefault()},stopPropagation:function(){var E=this.originalEvent;this.isPropagationStopped=Fi,E&&!this.isSimulated&&E.stopPropagation()},stopImmediatePropagation:function(){var E=this.originalEvent;this.isImmediatePropagationStopped=Fi,E&&!this.isSimulated&&E.stopImmediatePropagation(),this.stopPropagation()}},F.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},F.event.addProp),F.each({focus:"focusin",blur:"focusout"},function(E,S){function R(j){if(qe.documentMode){var G=Nt.get(this,"handle"),z=F.event.fix(j);z.type="focusin"===j.type?"focus":"blur",z.isSimulated=!0,G(j),z.target===z.currentTarget&&G(z)}else F.event.simulate(S,j.target,F.event.fix(j))}F.event.special[E]={setup:function(){var j;if(Br(this,E,!0),!qe.documentMode)return!1;(j=Nt.get(this,S))||this.addEventListener(S,R),Nt.set(this,S,(j||0)+1)},trigger:function(){return Br(this,E),!0},teardown:function(){var j;if(!qe.documentMode)return!1;(j=Nt.get(this,S)-1)?Nt.set(this,S,j):(this.removeEventListener(S,R),Nt.remove(this,S))},_default:function(j){return Nt.get(j.target,E)},delegateType:S},F.event.special[S]={setup:function(){var j=this.ownerDocument||this.document||this,G=qe.documentMode?this:j,z=Nt.get(G,S);z||(qe.documentMode?this.addEventListener(S,R):j.addEventListener(E,R,!0)),Nt.set(G,S,(z||0)+1)},teardown:function(){var j=this.ownerDocument||this.document||this,G=qe.documentMode?this:j,z=Nt.get(G,S)-1;z?Nt.set(G,S,z):(qe.documentMode?this.removeEventListener(S,R):j.removeEventListener(E,R,!0),Nt.remove(G,S))}}}),F.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(E,S){F.event.special[E]={delegateType:S,bindType:S,handle:function(R){var j,G=this,z=R.relatedTarget,te=R.handleObj;return(!z||z!==G&&!F.contains(G,z))&&(R.type=te.origType,j=te.handler.apply(this,arguments),R.type=S),j}}}),F.fn.extend({on:function(E,S,R,j){return Do(this,E,S,R,j)},one:function(E,S,R,j){return Do(this,E,S,R,j,1)},off:function(E,S,R){var j,G;if(E&&E.preventDefault&&E.handleObj)return j=E.handleObj,F(E.delegateTarget).off(j.namespace?j.origType+"."+j.namespace:j.origType,j.selector,j.handler),this;if("object"==typeof E){for(G in E)this.off(G,S,E[G]);return this}return(!1===S||"function"==typeof S)&&(R=S,S=void 0),!1===R&&(R=Ao),this.each(function(){F.event.remove(this,E,R,S)})}});var Ot=/<script|<style|<link/i,Pn=/checked\s*(?:[^=]|=\s*.checked.)/i,Ir=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Hi(E,S){return yt(E,"table")&&yt(11!==S.nodeType?S:S.firstChild,"tr")&&F(E).children("tbody")[0]||E}function ms(E){return E.type=(null!==E.getAttribute("type"))+"/"+E.type,E}function yi(E){return"true/"===(E.type||"").slice(0,5)?E.type=E.type.slice(5):E.removeAttribute("type"),E}function ni(E,S){var R,j,G,te,me,pe;if(1===S.nodeType){if(Nt.hasData(E)&&(pe=Nt.get(E).events))for(G in Nt.remove(S,"handle events"),pe)for(R=0,j=pe[G].length;R<j;R++)F.event.add(S,G,pe[G][R]);Wt.hasData(E)&&(te=Wt.access(E),me=F.extend({},te),Wt.set(S,me))}}function ri(E,S){var R=S.nodeName.toLowerCase();"input"===R&&pn.test(E.type)?S.checked=E.checked:("input"===R||"textarea"===R)&&(S.defaultValue=E.defaultValue)}function eo(E,S,R,j){S=rt(S);var G,z,te,me,pe,xe,Ke=0,Re=E.length,je=Re-1,vt=S[0],ln=ht(vt);if(ln||Re>1&&"string"==typeof vt&&!Me.checkClone&&Pn.test(vt))return E.each(function(vr){var Hn=E.eq(vr);ln&&(S[0]=vt.call(this,vr,Hn.html())),eo(Hn,S,R,j)});if(Re&&(z=(G=dr(S,E[0].ownerDocument,!1,E,j)).firstChild,1===G.childNodes.length&&(G=z),z||j)){for(me=(te=F.map(Ur(G,"script"),ms)).length;Ke<Re;Ke++)pe=G,Ke!==je&&(pe=F.clone(pe,!0,!0),me&&F.merge(te,Ur(pe,"script"))),R.call(E[Ke],pe,Ke);if(me)for(xe=te[te.length-1].ownerDocument,F.map(te,yi),Ke=0;Ke<me;Ke++)mr.test((pe=te[Ke]).type||"")&&!Nt.access(pe,"globalEval")&&F.contains(xe,pe)&&(pe.src&&"module"!==(pe.type||"").toLowerCase()?F._evalUrl&&!pe.noModule&&F._evalUrl(pe.src,{nonce:pe.nonce||pe.getAttribute("nonce")},xe):Dn(pe.textContent.replace(Ir,""),pe,xe))}return E}function eu(E,S,R){for(var j,G=S?F.filter(S,E):E,z=0;null!=(j=G[z]);z++)!R&&1===j.nodeType&&F.cleanData(Ur(j)),j.parentNode&&(R&&Ko(j)&&vi(Ur(j,"script")),j.parentNode.removeChild(j));return E}F.extend({htmlPrefilter:function(E){return E},clone:function(E,S,R){var j,G,z,te,me=E.cloneNode(!0),pe=Ko(E);if(!(Me.noCloneChecked||1!==E.nodeType&&11!==E.nodeType||F.isXMLDoc(E)))for(te=Ur(me),j=0,G=(z=Ur(E)).length;j<G;j++)ri(z[j],te[j]);if(S)if(R)for(z=z||Ur(E),te=te||Ur(me),j=0,G=z.length;j<G;j++)ni(z[j],te[j]);else ni(E,me);return(te=Ur(me,"script")).length>0&&vi(te,!pe&&Ur(E,"script")),me},cleanData:function(E){for(var S,R,j,G=F.event.special,z=0;void 0!==(R=E[z]);z++)if(Mr(R)){if(S=R[Nt.expando]){if(S.events)for(j in S.events)G[j]?F.event.remove(R,j):F.removeEvent(R,j,S.handle);R[Nt.expando]=void 0}R[Wt.expando]&&(R[Wt.expando]=void 0)}}}),F.fn.extend({detach:function(E){return eu(this,E,!0)},remove:function(E){return eu(this,E)},text:function(E){return ir(this,function(S){return void 0===S?F.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=S)})},null,E,arguments.length)},append:function(){return eo(this,arguments,function(E){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Hi(this,E).appendChild(E)})},prepend:function(){return eo(this,arguments,function(E){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var S=Hi(this,E);S.insertBefore(E,S.firstChild)}})},before:function(){return eo(this,arguments,function(E){this.parentNode&&this.parentNode.insertBefore(E,this)})},after:function(){return eo(this,arguments,function(E){this.parentNode&&this.parentNode.insertBefore(E,this.nextSibling)})},empty:function(){for(var E,S=0;null!=(E=this[S]);S++)1===E.nodeType&&(F.cleanData(Ur(E,!1)),E.textContent="");return this},clone:function(E,S){return E=E??!1,S=S??E,this.map(function(){return F.clone(this,E,S)})},html:function(E){return ir(this,function(S){var R=this[0]||{},j=0,G=this.length;if(void 0===S&&1===R.nodeType)return R.innerHTML;if("string"==typeof S&&!Ot.test(S)&&!Un[(gr.exec(S)||["",""])[1].toLowerCase()]){S=F.htmlPrefilter(S);try{for(;j<G;j++)1===(R=this[j]||{}).nodeType&&(F.cleanData(Ur(R,!1)),R.innerHTML=S);R=0}catch{}}R&&this.empty().append(S)},null,E,arguments.length)},replaceWith:function(){var E=[];return eo(this,arguments,function(S){var R=this.parentNode;F.inArray(this,E)<0&&(F.cleanData(Ur(this)),R&&R.replaceChild(S,this))},E)}}),F.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(E,S){F.fn[E]=function(R){for(var j,G=[],z=F(R),te=z.length-1,me=0;me<=te;me++)j=me===te?this:this.clone(!0),F(z[me])[S](j),at.apply(G,j.get());return this.pushStack(G)}});var Zn=new RegExp("^("+ji+")(?!px)[a-z%]+$","i"),aa=/^--/,Os=function(E){var S=E.ownerDocument.defaultView;return(!S||!S.opener)&&(S=Q),S.getComputedStyle(E)},Iu=function(E,S,R){var j,G,z={};for(G in S)z[G]=E.style[G],E.style[G]=S[G];for(G in j=R.call(E),S)E.style[G]=z[G];return j},vs=new RegExp(Bo.join("|"),"i");function ii(E,S,R){var j,G,z,te,me=aa.test(S),pe=E.style;return(R=R||Os(E))&&(te=R.getPropertyValue(S)||R[S],me&&te&&(te=te.replace(xt,"$1")||void 0),""===te&&!Ko(E)&&(te=F.style(E,S)),!Me.pixelBoxStyles()&&Zn.test(te)&&vs.test(S)&&(j=pe.width,G=pe.minWidth,z=pe.maxWidth,pe.minWidth=pe.maxWidth=pe.width=te,te=R.width,pe.width=j,pe.minWidth=G,pe.maxWidth=z)),void 0!==te?te+"":te}function Ns(E,S){return{get:function(){if(!E())return(this.get=S).apply(this,arguments);delete this.get}}}!function(){function E(){if(xe){pe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",xe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Fn.appendChild(pe).appendChild(xe);var Ke=Q.getComputedStyle(xe);R="1%"!==Ke.top,me=12===S(Ke.marginLeft),xe.style.right="60%",z=36===S(Ke.right),j=36===S(Ke.width),xe.style.position="absolute",G=12===S(xe.offsetWidth/3),Fn.removeChild(pe),xe=null}}function S(Ke){return Math.round(parseFloat(Ke))}var R,j,G,z,te,me,pe=qe.createElement("div"),xe=qe.createElement("div");!xe.style||(xe.style.backgroundClip="content-box",xe.cloneNode(!0).style.backgroundClip="",Me.clearCloneStyle="content-box"===xe.style.backgroundClip,F.extend(Me,{boxSizingReliable:function(){return E(),j},pixelBoxStyles:function(){return E(),z},pixelPosition:function(){return E(),R},reliableMarginLeft:function(){return E(),me},scrollboxSize:function(){return E(),G},reliableTrDimensions:function(){var Ke,Re,je,vt;return null==te&&(Ke=qe.createElement("table"),Re=qe.createElement("tr"),je=qe.createElement("div"),Ke.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Re.style.cssText="box-sizing:content-box;border:1px solid",Re.style.height="1px",je.style.height="9px",je.style.display="block",Fn.appendChild(Ke).appendChild(Re).appendChild(je),vt=Q.getComputedStyle(Re),te=parseInt(vt.height,10)+parseInt(vt.borderTopWidth,10)+parseInt(vt.borderBottomWidth,10)===Re.offsetHeight,Fn.removeChild(Ke)),te}}))}();var Sa=["Webkit","Moz","ms"],_i=qe.createElement("div").style,Ia={};function Nr(E){return F.cssProps[E]||Ia[E]||(E in _i?E:Ia[E]=function xc(E){for(var S=E[0].toUpperCase()+E.slice(1),R=Sa.length;R--;)if((E=Sa[R]+S)in _i)return E}(E)||E)}var md=/^(none|table(?!-c[ea]).+)/,Gl={position:"absolute",visibility:"hidden",display:"block"},sr={letterSpacing:"0",fontWeight:"400"};function fr(E,S,R){var j=hn.exec(S);return j?Math.max(0,j[2]-(R||0))+(j[3]||"px"):S}function Jt(E,S,R,j,G,z){var te="width"===S?1:0,me=0,pe=0,xe=0;if(R===(j?"border":"content"))return 0;for(;te<4;te+=2)"margin"===R&&(xe+=F.css(E,R+Bo[te],!0,G)),j?("content"===R&&(pe-=F.css(E,"padding"+Bo[te],!0,G)),"margin"!==R&&(pe-=F.css(E,"border"+Bo[te]+"Width",!0,G))):(pe+=F.css(E,"padding"+Bo[te],!0,G),"padding"!==R?pe+=F.css(E,"border"+Bo[te]+"Width",!0,G):me+=F.css(E,"border"+Bo[te]+"Width",!0,G));return!j&&z>=0&&(pe+=Math.max(0,Math.ceil(E["offset"+S[0].toUpperCase()+S.slice(1)]-z-pe-me-.5))||0),pe+xe}function So(E,S,R){var j=Os(E),z=(!Me.boxSizingReliable()||R)&&"border-box"===F.css(E,"boxSizing",!1,j),te=z,me=ii(E,S,j),pe="offset"+S[0].toUpperCase()+S.slice(1);if(Zn.test(me)){if(!R)return me;me="auto"}return(!Me.boxSizingReliable()&&z||!Me.reliableTrDimensions()&&yt(E,"tr")||"auto"===me||!parseFloat(me)&&"inline"===F.css(E,"display",!1,j))&&E.getClientRects().length&&(z="border-box"===F.css(E,"boxSizing",!1,j),(te=pe in E)&&(me=E[pe])),(me=parseFloat(me)||0)+Jt(E,S,R||(z?"border":"content"),te,j,me)+"px"}function jn(E,S,R,j,G){return new jn.prototype.init(E,S,R,j,G)}F.extend({cssHooks:{opacity:{get:function(E,S){if(S){var R=ii(E,"opacity");return""===R?"1":R}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(E,S,R,j){if(E&&3!==E.nodeType&&8!==E.nodeType&&E.style){var G,z,te,me=Xi(S),pe=aa.test(S),xe=E.style;if(pe||(S=Nr(me)),te=F.cssHooks[S]||F.cssHooks[me],void 0===R)return te&&"get"in te&&void 0!==(G=te.get(E,!1,j))?G:xe[S];if("string"==(z=typeof R)&&(G=hn.exec(R))&&G[1]&&(R=ke(E,S,G),z="number"),null==R||R!=R)return;"number"===z&&!pe&&(R+=G&&G[3]||(F.cssNumber[me]?"":"px")),!Me.clearCloneStyle&&""===R&&0===S.indexOf("background")&&(xe[S]="inherit"),(!te||!("set"in te)||void 0!==(R=te.set(E,R,j)))&&(pe?xe.setProperty(S,R):xe[S]=R)}},css:function(E,S,R,j){var G,z,te,me=Xi(S);return aa.test(S)||(S=Nr(me)),(te=F.cssHooks[S]||F.cssHooks[me])&&"get"in te&&(G=te.get(E,!0,R)),void 0===G&&(G=ii(E,S,j)),"normal"===G&&S in sr&&(G=sr[S]),""===R||R?(z=parseFloat(G),!0===R||isFinite(z)?z||0:G):G}}),F.each(["height","width"],function(E,S){F.cssHooks[S]={get:function(R,j,G){if(j)return!md.test(F.css(R,"display"))||R.getClientRects().length&&R.getBoundingClientRect().width?So(R,S,G):Iu(R,Gl,function(){return So(R,S,G)})},set:function(R,j,G){var z,te=Os(R),me=!Me.scrollboxSize()&&"absolute"===te.position,xe=(me||G)&&"border-box"===F.css(R,"boxSizing",!1,te),Ke=G?Jt(R,S,G,xe,te):0;return xe&&me&&(Ke-=Math.ceil(R["offset"+S[0].toUpperCase()+S.slice(1)]-parseFloat(te[S])-Jt(R,S,"border",!1,te)-.5)),Ke&&(z=hn.exec(j))&&"px"!==(z[3]||"px")&&(R.style[S]=j,j=F.css(R,S)),fr(0,j,Ke)}}}),F.cssHooks.marginLeft=Ns(Me.reliableMarginLeft,function(E,S){if(S)return(parseFloat(ii(E,"marginLeft"))||E.getBoundingClientRect().left-Iu(E,{marginLeft:0},function(){return E.getBoundingClientRect().left}))+"px"}),F.each({margin:"",padding:"",border:"Width"},function(E,S){F.cssHooks[E+S]={expand:function(R){for(var j=0,G={},z="string"==typeof R?R.split(" "):[R];j<4;j++)G[E+Bo[j]+S]=z[j]||z[j-2]||z[0];return G}},"margin"!==E&&(F.cssHooks[E+S].set=fr)}),F.fn.extend({css:function(E,S){return ir(this,function(R,j,G){var z,te,me={},pe=0;if(Array.isArray(j)){for(z=Os(R),te=j.length;pe<te;pe++)me[j[pe]]=F.css(R,j[pe],!1,z);return me}return void 0!==G?F.style(R,j,G):F.css(R,j)},E,S,arguments.length>1)}}),F.Tween=jn,(jn.prototype={constructor:jn,init:function(E,S,R,j,G,z){this.elem=E,this.prop=R,this.easing=G||F.easing._default,this.options=S,this.start=this.now=this.cur(),this.end=j,this.unit=z||(F.cssNumber[R]?"":"px")},cur:function(){var E=jn.propHooks[this.prop];return E&&E.get?E.get(this):jn.propHooks._default.get(this)},run:function(E){var S,R=jn.propHooks[this.prop];return this.pos=S=this.options.duration?F.easing[this.easing](E,this.options.duration*E,0,1,this.options.duration):E,this.now=(this.end-this.start)*S+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),R&&R.set?R.set(this):jn.propHooks._default.set(this),this}}).init.prototype=jn.prototype,(jn.propHooks={_default:{get:function(E){var S;return 1!==E.elem.nodeType||null!=E.elem[E.prop]&&null==E.elem.style[E.prop]?E.elem[E.prop]:(S=F.css(E.elem,E.prop,""))&&"auto"!==S?S:0},set:function(E){F.fx.step[E.prop]?F.fx.step[E.prop](E):1!==E.elem.nodeType||!F.cssHooks[E.prop]&&null==E.elem.style[Nr(E.prop)]?E.elem[E.prop]=E.now:F.style(E.elem,E.prop,E.now+E.unit)}}}).scrollTop=jn.propHooks.scrollLeft={set:function(E){E.elem.nodeType&&E.elem.parentNode&&(E.elem[E.prop]=E.now)}},F.easing={linear:function(E){return E},swing:function(E){return.5-Math.cos(E*Math.PI)/2},_default:"swing"},F.fx=jn.prototype.init,F.fx.step={};var Sn,tu,Li=/^(?:toggle|show|hide)$/,bi=/queueHooks$/;function kr(){tu&&(!1===qe.hidden&&Q.requestAnimationFrame?Q.requestAnimationFrame(kr):Q.setTimeout(kr,F.fx.interval),F.fx.tick())}function Bn(){return Q.setTimeout(function(){Sn=void 0}),Sn=Date.now()}function Ei(E,S){var R,j=0,G={height:E};for(S=S?1:0;j<4;j+=2-S)G["margin"+(R=Bo[j])]=G["padding"+R]=E;return S&&(G.opacity=G.width=E),G}function Qo(E,S,R){for(var j,G=(fo.tweeners[S]||[]).concat(fo.tweeners["*"]),z=0,te=G.length;z<te;z++)if(j=G[z].call(R,S,E))return j}function fo(E,S,R){var j,G,z=0,te=fo.prefilters.length,me=F.Deferred().always(function(){delete pe.elem}),pe=function(){if(G)return!1;for(var Re=Sn||Bn(),je=Math.max(0,xe.startTime+xe.duration-Re),ln=1-(je/xe.duration||0),vr=0,Hn=xe.tweens.length;vr<Hn;vr++)xe.tweens[vr].run(ln);return me.notifyWith(E,[xe,ln,je]),ln<1&&Hn?je:(Hn||me.notifyWith(E,[xe,1,0]),me.resolveWith(E,[xe]),!1)},xe=me.promise({elem:E,props:F.extend({},S),opts:F.extend(!0,{specialEasing:{},easing:F.easing._default},R),originalProperties:S,originalOptions:R,startTime:Sn||Bn(),duration:R.duration,tweens:[],createTween:function(Re,je){var vt=F.Tween(E,xe.opts,Re,je,xe.opts.specialEasing[Re]||xe.opts.easing);return xe.tweens.push(vt),vt},stop:function(Re){var je=0,vt=Re?xe.tweens.length:0;if(G)return this;for(G=!0;je<vt;je++)xe.tweens[je].run(1);return Re?(me.notifyWith(E,[xe,1,0]),me.resolveWith(E,[xe,Re])):me.rejectWith(E,[xe,Re]),this}}),Ke=xe.props;for(function ys(E,S){var R,j,G,z,te;for(R in E)if(G=S[j=Xi(R)],z=E[R],Array.isArray(z)&&(G=z[1],z=E[R]=z[0]),R!==j&&(E[j]=z,delete E[R]),(te=F.cssHooks[j])&&"expand"in te)for(R in z=te.expand(z),delete E[j],z)R in E||(E[R]=z[R],S[R]=G);else S[j]=G}(Ke,xe.opts.specialEasing);z<te;z++)if(j=fo.prefilters[z].call(xe,E,Ke,xe.opts))return ht(j.stop)&&(F._queueHooks(xe.elem,xe.opts.queue).stop=j.stop.bind(j)),j;return F.map(Ke,Qo,xe),ht(xe.opts.start)&&xe.opts.start.call(E,xe),xe.progress(xe.opts.progress).done(xe.opts.done,xe.opts.complete).fail(xe.opts.fail).always(xe.opts.always),F.fx.timer(F.extend(pe,{elem:E,anim:xe,queue:xe.opts.queue})),xe}F.Animation=F.extend(fo,{tweeners:{"*":[function(E,S){var R=this.createTween(E,S);return ke(R.elem,E,hn.exec(S),R),R}]},tweener:function(E,S){ht(E)?(S=E,E=["*"]):E=E.match(Cn);for(var R,j=0,G=E.length;j<G;j++)(fo.tweeners[R=E[j]]=fo.tweeners[R]||[]).unshift(S)},prefilters:[function $l(E,S,R){var j,G,z,te,me,pe,xe,Ke,Re="width"in S||"height"in S,je=this,vt={},ln=E.style,vr=E.nodeType&&we(E),Hn=Nt.get(E,"fxshow");for(j in R.queue||(null==(te=F._queueHooks(E,"fx")).unqueued&&(te.unqueued=0,me=te.empty.fire,te.empty.fire=function(){te.unqueued||me()}),te.unqueued++,je.always(function(){je.always(function(){te.unqueued--,F.queue(E,"fx").length||te.empty.fire()})})),S)if(Li.test(G=S[j])){if(delete S[j],z=z||"toggle"===G,G===(vr?"hide":"show")){if("show"!==G||!Hn||void 0===Hn[j])continue;vr=!0}vt[j]=Hn&&Hn[j]||F.style(E,j)}if((pe=!F.isEmptyObject(S))||!F.isEmptyObject(vt))for(j in Re&&1===E.nodeType&&(R.overflow=[ln.overflow,ln.overflowX,ln.overflowY],null==(xe=Hn&&Hn.display)&&(xe=Nt.get(E,"display")),"none"===(Ke=F.css(E,"display"))&&(xe?Ke=xe:(bt([E],!0),xe=E.style.display||xe,Ke=F.css(E,"display"),bt([E]))),("inline"===Ke||"inline-block"===Ke&&null!=xe)&&"none"===F.css(E,"float")&&(pe||(je.done(function(){ln.display=xe}),null==xe&&(xe="none"===(Ke=ln.display)?"":Ke)),ln.display="inline-block")),R.overflow&&(ln.overflow="hidden",je.always(function(){ln.overflow=R.overflow[0],ln.overflowX=R.overflow[1],ln.overflowY=R.overflow[2]})),pe=!1,vt)pe||(Hn?"hidden"in Hn&&(vr=Hn.hidden):Hn=Nt.access(E,"fxshow",{display:xe}),z&&(Hn.hidden=!vr),vr&&bt([E],!0),je.done(function(){for(j in vr||bt([E]),Nt.remove(E,"fxshow"),vt)F.style(E,j,vt[j])})),pe=Qo(vr?Hn[j]:0,j,je),j in Hn||(Hn[j]=pe.start,vr&&(pe.end=pe.start,pe.start=0))}],prefilter:function(E,S){S?fo.prefilters.unshift(E):fo.prefilters.push(E)}}),F.speed=function(E,S,R){var j=E&&"object"==typeof E?F.extend({},E):{complete:R||!R&&S||ht(E)&&E,duration:E,easing:R&&S||S&&!ht(S)&&S};return F.fx.off?j.duration=0:"number"!=typeof j.duration&&(j.duration=j.duration in F.fx.speeds?F.fx.speeds[j.duration]:F.fx.speeds._default),(null==j.queue||!0===j.queue)&&(j.queue="fx"),j.old=j.complete,j.complete=function(){ht(j.old)&&j.old.call(this),j.queue&&F.dequeue(this,j.queue)},j},F.fn.extend({fadeTo:function(E,S,R,j){return this.filter(we).css("opacity",0).show().end().animate({opacity:S},E,R,j)},animate:function(E,S,R,j){var G=F.isEmptyObject(E),z=F.speed(S,R,j),te=function(){var me=fo(this,F.extend({},E),z);(G||Nt.get(this,"finish"))&&me.stop(!0)};return te.finish=te,G||!1===z.queue?this.each(te):this.queue(z.queue,te)},stop:function(E,S,R){var j=function(G){var z=G.stop;delete G.stop,z(R)};return"string"!=typeof E&&(R=S,S=E,E=void 0),S&&this.queue(E||"fx",[]),this.each(function(){var G=!0,z=null!=E&&E+"queueHooks",te=F.timers,me=Nt.get(this);if(z)me[z]&&me[z].stop&&j(me[z]);else for(z in me)me[z]&&me[z].stop&&bi.test(z)&&j(me[z]);for(z=te.length;z--;)te[z].elem===this&&(null==E||te[z].queue===E)&&(te[z].anim.stop(R),G=!1,te.splice(z,1));(G||!R)&&F.dequeue(this,E)})},finish:function(E){return!1!==E&&(E=E||"fx"),this.each(function(){var S,R=Nt.get(this),j=R[E+"queue"],G=R[E+"queueHooks"],z=F.timers,te=j?j.length:0;for(R.finish=!0,F.queue(this,E,[]),G&&G.stop&&G.stop.call(this,!0),S=z.length;S--;)z[S].elem===this&&z[S].queue===E&&(z[S].anim.stop(!0),z.splice(S,1));for(S=0;S<te;S++)j[S]&&j[S].finish&&j[S].finish.call(this);delete R.finish})}}),F.each(["toggle","show","hide"],function(E,S){var R=F.fn[S];F.fn[S]=function(j,G,z){return null==j||"boolean"==typeof j?R.apply(this,arguments):this.animate(Ei(S,!0),j,G,z)}}),F.each({slideDown:Ei("show"),slideUp:Ei("hide"),slideToggle:Ei("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(E,S){F.fn[E]=function(R,j,G){return this.animate(S,R,j,G)}}),F.timers=[],F.fx.tick=function(){var E,S=0,R=F.timers;for(Sn=Date.now();S<R.length;S++)!(E=R[S])()&&R[S]===E&&R.splice(S--,1);R.length||F.fx.stop(),Sn=void 0},F.fx.timer=function(E){F.timers.push(E),F.fx.start()},F.fx.interval=13,F.fx.start=function(){tu||(tu=!0,kr())},F.fx.stop=function(){tu=null},F.fx.speeds={slow:600,fast:200,_default:400},F.fn.delay=function(E,S){return E=F.fx&&F.fx.speeds[E]||E,this.queue(S=S||"fx",function(R,j){var G=Q.setTimeout(R,E);j.stop=function(){Q.clearTimeout(G)}})},function(){var E=qe.createElement("input"),R=qe.createElement("select").appendChild(qe.createElement("option"));E.type="checkbox",Me.checkOn=""!==E.value,Me.optSelected=R.selected,(E=qe.createElement("input")).value="t",E.type="radio",Me.radioValue="t"===E.value}();var ua,al=F.expr.attrHandle;F.fn.extend({attr:function(E,S){return ir(this,F.attr,E,S,arguments.length>1)},removeAttr:function(E){return this.each(function(){F.removeAttr(this,E)})}}),F.extend({attr:function(E,S,R){var j,G,z=E.nodeType;if(3!==z&&8!==z&&2!==z)return typeof E.getAttribute>"u"?F.prop(E,S,R):((1!==z||!F.isXMLDoc(E))&&(G=F.attrHooks[S.toLowerCase()]||(F.expr.match.bool.test(S)?ua:void 0)),void 0!==R?null===R?void F.removeAttr(E,S):G&&"set"in G&&void 0!==(j=G.set(E,R,S))?j:(E.setAttribute(S,R+""),R):G&&"get"in G&&null!==(j=G.get(E,S))?j:(j=F.find.attr(E,S))??void 0)},attrHooks:{type:{set:function(E,S){if(!Me.radioValue&&"radio"===S&&yt(E,"input")){var R=E.value;return E.setAttribute("type",S),R&&(E.value=R),S}}}},removeAttr:function(E,S){var R,j=0,G=S&&S.match(Cn);if(G&&1===E.nodeType)for(;R=G[j++];)E.removeAttribute(R)}}),ua={set:function(E,S,R){return!1===S?F.removeAttr(E,R):E.setAttribute(R,R),R}},F.each(F.expr.match.bool.source.match(/\w+/g),function(E,S){var R=al[S]||F.find.attr;al[S]=function(j,G,z){var te,me,pe=G.toLowerCase();return z||(me=al[pe],al[pe]=te,te=null!=R(j,G,z)?pe:null,al[pe]=me),te}});var Jo=/^(?:input|select|textarea|button)$/i,ks=/^(?:a|area)$/i;function la(E){return(E.match(Cn)||[]).join(" ")}function Rs(E){return E.getAttribute&&E.getAttribute("class")||""}function zl(E){return Array.isArray(E)?E:"string"==typeof E&&E.match(Cn)||[]}F.fn.extend({prop:function(E,S){return ir(this,F.prop,E,S,arguments.length>1)},removeProp:function(E){return this.each(function(){delete this[F.propFix[E]||E]})}}),F.extend({prop:function(E,S,R){var j,G,z=E.nodeType;if(3!==z&&8!==z&&2!==z)return(1!==z||!F.isXMLDoc(E))&&(G=F.propHooks[S=F.propFix[S]||S]),void 0!==R?G&&"set"in G&&void 0!==(j=G.set(E,R,S))?j:E[S]=R:G&&"get"in G&&null!==(j=G.get(E,S))?j:E[S]},propHooks:{tabIndex:{get:function(E){var S=F.find.attr(E,"tabindex");return S?parseInt(S,10):Jo.test(E.nodeName)||ks.test(E.nodeName)&&E.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Me.optSelected||(F.propHooks.selected={get:function(E){return null},set:function(E){}}),F.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){F.propFix[this.toLowerCase()]=this}),F.fn.extend({addClass:function(E){var S,R,j,G,z,te;return ht(E)?this.each(function(me){F(this).addClass(E.call(this,me,Rs(this)))}):(S=zl(E)).length?this.each(function(){if(j=Rs(this),R=1===this.nodeType&&" "+la(j)+" "){for(z=0;z<S.length;z++)R.indexOf(" "+(G=S[z])+" ")<0&&(R+=G+" ");te=la(R),j!==te&&this.setAttribute("class",te)}}):this},removeClass:function(E){var S,R,j,G,z,te;return ht(E)?this.each(function(me){F(this).removeClass(E.call(this,me,Rs(this)))}):arguments.length?(S=zl(E)).length?this.each(function(){if(j=Rs(this),R=1===this.nodeType&&" "+la(j)+" "){for(z=0;z<S.length;z++)for(G=S[z];R.indexOf(" "+G+" ")>-1;)R=R.replace(" "+G+" "," ");te=la(R),j!==te&&this.setAttribute("class",te)}}):this:this.attr("class","")},toggleClass:function(E,S){var R,j,G,z,te=typeof E,me="string"===te||Array.isArray(E);return ht(E)?this.each(function(pe){F(this).toggleClass(E.call(this,pe,Rs(this),S),S)}):"boolean"==typeof S&&me?S?this.addClass(E):this.removeClass(E):(R=zl(E),this.each(function(){if(me)for(z=F(this),G=0;G<R.length;G++)z.hasClass(j=R[G])?z.removeClass(j):z.addClass(j);else(void 0===E||"boolean"===te)&&((j=Rs(this))&&Nt.set(this,"__className__",j),this.setAttribute&&this.setAttribute("class",j||!1===E?"":Nt.get(this,"__className__")||""))}))},hasClass:function(E){var S,R,j=0;for(S=" "+E+" ";R=this[j++];)if(1===R.nodeType&&(" "+la(Rs(R))+" ").indexOf(S)>-1)return!0;return!1}});var vd=/\r/g;F.fn.extend({val:function(E){var S,R,j,G=this[0];return arguments.length?(j=ht(E),this.each(function(z){var te;1===this.nodeType&&(null==(te=j?E.call(this,z,F(this).val()):E)?te="":"number"==typeof te?te+="":Array.isArray(te)&&(te=F.map(te,function(me){return null==me?"":me+""})),(!(S=F.valHooks[this.type]||F.valHooks[this.nodeName.toLowerCase()])||!("set"in S)||void 0===S.set(this,te,"value"))&&(this.value=te))})):G?(S=F.valHooks[G.type]||F.valHooks[G.nodeName.toLowerCase()])&&"get"in S&&void 0!==(R=S.get(G,"value"))?R:"string"==typeof(R=G.value)?R.replace(vd,""):R??"":void 0}}),F.extend({valHooks:{option:{get:function(E){return F.find.attr(E,"value")??la(F.text(E))}},select:{get:function(E){var S,R,j,G=E.options,z=E.selectedIndex,te="select-one"===E.type,me=te?null:[],pe=te?z+1:G.length;for(j=z<0?pe:te?z:0;j<pe;j++)if(((R=G[j]).selected||j===z)&&!R.disabled&&(!R.parentNode.disabled||!yt(R.parentNode,"optgroup"))){if(S=F(R).val(),te)return S;me.push(S)}return me},set:function(E,S){for(var R,j,G=E.options,z=F.makeArray(S),te=G.length;te--;)((j=G[te]).selected=F.inArray(F.valHooks.option.get(j),z)>-1)&&(R=!0);return R||(E.selectedIndex=-1),z}}}}),F.each(["radio","checkbox"],function(){F.valHooks[this]={set:function(E,S){if(Array.isArray(S))return E.checked=F.inArray(F(E).val(),S)>-1}},Me.checkOn||(F.valHooks[this].get=function(E){return null===E.getAttribute("value")?"on":E.value})});var xu=Q.location,hr={guid:Date.now()},xa=/\?/;F.parseXML=function(E){var S,R;if(!E||"string"!=typeof E)return null;try{S=(new Q.DOMParser).parseFromString(E,"text/xml")}catch{}return R=S&&S.getElementsByTagName("parsererror")[0],(!S||R)&&F.error("Invalid XML: "+(R?F.map(R.childNodes,function(j){return j.textContent}).join("\n"):E)),S};var Fs=/^(?:focusinfocus|focusoutblur)$/,Ls=function(E){E.stopPropagation()};F.extend(F.event,{trigger:function(E,S,R,j){var G,z,te,me,pe,xe,Ke,Re,je=[R||qe],vt=Ce.call(E,"type")?E.type:E,ln=Ce.call(E,"namespace")?E.namespace.split("."):[];if(z=Re=te=R=R||qe,3!==R.nodeType&&8!==R.nodeType&&!Fs.test(vt+F.event.triggered)&&(vt.indexOf(".")>-1&&(ln=vt.split("."),vt=ln.shift(),ln.sort()),pe=vt.indexOf(":")<0&&"on"+vt,(E=E[F.expando]?E:new F.Event(vt,"object"==typeof E&&E)).isTrigger=j?2:3,E.namespace=ln.join("."),E.rnamespace=E.namespace?new RegExp("(^|\\.)"+ln.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,E.result=void 0,E.target||(E.target=R),S=null==S?[E]:F.makeArray(S,[E]),Ke=F.event.special[vt]||{},j||!Ke.trigger||!1!==Ke.trigger.apply(R,S))){if(!j&&!Ke.noBubble&&!ut(R)){for(Fs.test((me=Ke.delegateType||vt)+vt)||(z=z.parentNode);z;z=z.parentNode)je.push(z),te=z;te===(R.ownerDocument||qe)&&je.push(te.defaultView||te.parentWindow||Q)}for(G=0;(z=je[G++])&&!E.isPropagationStopped();)Re=z,E.type=G>1?me:Ke.bindType||vt,(xe=(Nt.get(z,"events")||Object.create(null))[E.type]&&Nt.get(z,"handle"))&&xe.apply(z,S),(xe=pe&&z[pe])&&xe.apply&&Mr(z)&&(E.result=xe.apply(z,S),!1===E.result&&E.preventDefault());return E.type=vt,!j&&!E.isDefaultPrevented()&&(!Ke._default||!1===Ke._default.apply(je.pop(),S))&&Mr(R)&&pe&&ht(R[vt])&&!ut(R)&&((te=R[pe])&&(R[pe]=null),F.event.triggered=vt,E.isPropagationStopped()&&Re.addEventListener(vt,Ls),R[vt](),E.isPropagationStopped()&&Re.removeEventListener(vt,Ls),F.event.triggered=void 0,te&&(R[pe]=te)),E.result}},simulate:function(E,S,R){var j=F.extend(new F.Event,R,{type:E,isSimulated:!0});F.event.trigger(j,null,S)}}),F.fn.extend({trigger:function(E,S){return this.each(function(){F.event.trigger(E,S,this)})},triggerHandler:function(E,S){var R=this[0];if(R)return F.event.trigger(E,S,R,!0)}});var _s=/\[\]$/,lr=/\r?\n/g,nu=/^(?:submit|button|image|reset|file)$/i,Yt=/^(?:input|select|textarea|keygen)/i;function Wr(E,S,R,j){var G;if(Array.isArray(S))F.each(S,function(z,te){R||_s.test(E)?j(E,te):Wr(E+"["+("object"==typeof te&&null!=te?z:"")+"]",te,R,j)});else if(R||"object"!==Tt(S))j(E,S);else for(G in S)Wr(E+"["+G+"]",S[G],R,j)}F.param=function(E,S){var R,j=[],G=function(z,te){var me=ht(te)?te():te;j[j.length]=encodeURIComponent(z)+"="+encodeURIComponent(me??"")};if(null==E)return"";if(Array.isArray(E)||E.jquery&&!F.isPlainObject(E))F.each(E,function(){G(this.name,this.value)});else for(R in E)Wr(R,E[R],S,G);return j.join("&")},F.fn.extend({serialize:function(){return F.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var E=F.prop(this,"elements");return E?F.makeArray(E):this}).filter(function(){var E=this.type;return this.name&&!F(this).is(":disabled")&&Yt.test(this.nodeName)&&!nu.test(E)&&(this.checked||!pn.test(E))}).map(function(E,S){var R=F(this).val();return null==R?null:Array.isArray(R)?F.map(R,function(j){return{name:S.name,value:j.replace(lr,"\r\n")}}):{name:S.name,value:R.replace(lr,"\r\n")}}).get()}});var bs=/%20/g,ru=/#.*$/,qi=/([?&])_=[^&]*/,yd=/^(.*?):[ \t]*([^\r\n]*)$/gm,Wl=/^(?:GET|HEAD)$/,ho=/^\/\//,iu={},Yl={},Kl="*/".concat("*"),Us=qe.createElement("a");function ou(E){return function(S,R){"string"!=typeof S&&(R=S,S="*");var j,G=0,z=S.toLowerCase().match(Cn)||[];if(ht(R))for(;j=z[G++];)"+"===j[0]?(j=j.slice(1)||"*",(E[j]=E[j]||[]).unshift(R)):(E[j]=E[j]||[]).push(R)}}function Pa(E,S,R,j){var G={},z=E===Yl;function te(me){var pe;return G[me]=!0,F.each(E[me]||[],function(xe,Ke){var Re=Ke(S,R,j);return"string"!=typeof Re||z||G[Re]?z?!(pe=Re):void 0:(S.dataTypes.unshift(Re),te(Re),!1)}),pe}return te(S.dataTypes[0])||!G["*"]&&te("*")}function Io(E,S){var R,j,G=F.ajaxSettings.flatOptions||{};for(R in S)void 0!==S[R]&&((G[R]?E:j||(j={}))[R]=S[R]);return j&&F.extend(!0,E,j),E}Us.href=xu.href,F.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xu.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xu.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kl,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":F.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(E,S){return S?Io(Io(E,F.ajaxSettings),S):Io(F.ajaxSettings,E)},ajaxPrefilter:ou(iu),ajaxTransport:ou(Yl),ajax:function(E,S){"object"==typeof E&&(S=E,E=void 0);var R,j,G,z,te,me,pe,xe,Ke,Re,je=F.ajaxSetup({},S=S||{}),vt=je.context||je,ln=je.context&&(vt.nodeType||vt.jquery)?F(vt):F.event,vr=F.Deferred(),Hn=F.Callbacks("once memory"),Pi=je.statusCode||{},xr={},xo={},ct="canceled",Vt={readyState:0,getResponseHeader:function(yr){var Wn;if(pe){if(!z)for(z={};Wn=yd.exec(G);)z[Wn[1].toLowerCase()+" "]=(z[Wn[1].toLowerCase()+" "]||[]).concat(Wn[2]);Wn=z[yr.toLowerCase()+" "]}return null==Wn?null:Wn.join(", ")},getAllResponseHeaders:function(){return pe?G:null},setRequestHeader:function(yr,Wn){return null==pe&&(yr=xo[yr.toLowerCase()]=xo[yr.toLowerCase()]||yr,xr[yr]=Wn),this},overrideMimeType:function(yr){return null==pe&&(je.mimeType=yr),this},statusCode:function(yr){var Wn;if(yr)if(pe)Vt.always(yr[Vt.status]);else for(Wn in yr)Pi[Wn]=[Pi[Wn],yr[Wn]];return this},abort:function(yr){var Wn=yr||ct;return R&&R.abort(Wn),Bs(0,Wn),this}};if(vr.promise(Vt),je.url=((E||je.url||xu.href)+"").replace(ho,xu.protocol+"//"),je.type=S.method||S.type||je.method||je.type,je.dataTypes=(je.dataType||"*").toLowerCase().match(Cn)||[""],null==je.crossDomain){me=qe.createElement("a");try{me.href=je.url,me.href=me.href,je.crossDomain=Us.protocol+"//"+Us.host!=me.protocol+"//"+me.host}catch{je.crossDomain=!0}}if(je.data&&je.processData&&"string"!=typeof je.data&&(je.data=F.param(je.data,je.traditional)),Pa(iu,je,S,Vt),pe)return Vt;for(Ke in(xe=F.event&&je.global)&&0==F.active++&&F.event.trigger("ajaxStart"),je.type=je.type.toUpperCase(),je.hasContent=!Wl.test(je.type),j=je.url.replace(ru,""),je.hasContent?je.data&&je.processData&&0===(je.contentType||"").indexOf("application/x-www-form-urlencoded")&&(je.data=je.data.replace(bs,"+")):(Re=je.url.slice(j.length),je.data&&(je.processData||"string"==typeof je.data)&&(j+=(xa.test(j)?"&":"?")+je.data,delete je.data),!1===je.cache&&(j=j.replace(qi,"$1"),Re=(xa.test(j)?"&":"?")+"_="+hr.guid+++Re),je.url=j+Re),je.ifModified&&(F.lastModified[j]&&Vt.setRequestHeader("If-Modified-Since",F.lastModified[j]),F.etag[j]&&Vt.setRequestHeader("If-None-Match",F.etag[j])),(je.data&&je.hasContent&&!1!==je.contentType||S.contentType)&&Vt.setRequestHeader("Content-Type",je.contentType),Vt.setRequestHeader("Accept",je.dataTypes[0]&&je.accepts[je.dataTypes[0]]?je.accepts[je.dataTypes[0]]+("*"!==je.dataTypes[0]?", "+Kl+"; q=0.01":""):je.accepts["*"]),je.headers)Vt.setRequestHeader(Ke,je.headers[Ke]);if(je.beforeSend&&(!1===je.beforeSend.call(vt,Vt,je)||pe))return Vt.abort();if(ct="abort",Hn.add(je.complete),Vt.done(je.success),Vt.fail(je.error),R=Pa(Yl,je,S,Vt)){if(Vt.readyState=1,xe&&ln.trigger("ajaxSend",[Vt,je]),pe)return Vt;je.async&&je.timeout>0&&(te=Q.setTimeout(function(){Vt.abort("timeout")},je.timeout));try{pe=!1,R.send(xr,Bs)}catch(yr){if(pe)throw yr;Bs(-1,yr)}}else Bs(-1,"No Transport");function Bs(yr,Wn,Oa,Vs){var Er,Na,Vo,Xo,Rr,Zi=Wn;pe||(pe=!0,te&&Q.clearTimeout(te),R=void 0,G=Vs||"",Vt.readyState=yr>0?4:0,Er=yr>=200&&yr<300||304===yr,Oa&&(Xo=function ul(E,S,R){for(var j,G,z,te,me=E.contents,pe=E.dataTypes;"*"===pe[0];)pe.shift(),void 0===j&&(j=E.mimeType||S.getResponseHeader("Content-Type"));if(j)for(G in me)if(me[G]&&me[G].test(j)){pe.unshift(G);break}if(pe[0]in R)z=pe[0];else{for(G in R){if(!pe[0]||E.converters[G+" "+pe[0]]){z=G;break}te||(te=G)}z=z||te}if(z)return z!==pe[0]&&pe.unshift(z),R[z]}(je,Vt,Oa)),!Er&&F.inArray("script",je.dataTypes)>-1&&F.inArray("json",je.dataTypes)<0&&(je.converters["text script"]=function(){}),Xo=function ll(E,S,R,j){var G,z,te,me,pe,xe={},Ke=E.dataTypes.slice();if(Ke[1])for(te in E.converters)xe[te.toLowerCase()]=E.converters[te];for(z=Ke.shift();z;)if(E.responseFields[z]&&(R[E.responseFields[z]]=S),!pe&&j&&E.dataFilter&&(S=E.dataFilter(S,E.dataType)),pe=z,z=Ke.shift())if("*"===z)z=pe;else if("*"!==pe&&pe!==z){if(!(te=xe[pe+" "+z]||xe["* "+z]))for(G in xe)if((me=G.split(" "))[1]===z&&(te=xe[pe+" "+me[0]]||xe["* "+me[0]])){!0===te?te=xe[G]:!0!==xe[G]&&(z=me[0],Ke.unshift(me[1]));break}if(!0!==te)if(te&&E.throws)S=te(S);else try{S=te(S)}catch(Re){return{state:"parsererror",error:te?Re:"No conversion from "+pe+" to "+z}}}return{state:"success",data:S}}(je,Xo,Vt,Er),Er?(je.ifModified&&((Rr=Vt.getResponseHeader("Last-Modified"))&&(F.lastModified[j]=Rr),(Rr=Vt.getResponseHeader("etag"))&&(F.etag[j]=Rr)),204===yr||"HEAD"===je.type?Zi="nocontent":304===yr?Zi="notmodified":(Zi=Xo.state,Na=Xo.data,Er=!(Vo=Xo.error))):(Vo=Zi,(yr||!Zi)&&(Zi="error",yr<0&&(yr=0))),Vt.status=yr,Vt.statusText=(Wn||Zi)+"",Er?vr.resolveWith(vt,[Na,Zi,Vt]):vr.rejectWith(vt,[Vt,Zi,Vo]),Vt.statusCode(Pi),Pi=void 0,xe&&ln.trigger(Er?"ajaxSuccess":"ajaxError",[Vt,je,Er?Na:Vo]),Hn.fireWith(vt,[Vt,Zi]),xe&&(ln.trigger("ajaxComplete",[Vt,je]),--F.active||F.event.trigger("ajaxStop")))}return Vt},getJSON:function(E,S,R){return F.get(E,S,R,"json")},getScript:function(E,S){return F.get(E,void 0,S,"script")}}),F.each(["get","post"],function(E,S){F[S]=function(R,j,G,z){return ht(j)&&(z=z||G,G=j,j=void 0),F.ajax(F.extend({url:R,type:S,dataType:z,data:j,success:G},F.isPlainObject(R)&&R))}}),F.ajaxPrefilter(function(E){var S;for(S in E.headers)"content-type"===S.toLowerCase()&&(E.contentType=E.headers[S]||"")}),F._evalUrl=function(E,S,R){return F.ajax({url:E,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(j){F.globalEval(j,S,R)}})},F.fn.extend({wrapAll:function(E){var S;return this[0]&&(ht(E)&&(E=E.call(this[0])),S=F(E,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&S.insertBefore(this[0]),S.map(function(){for(var R=this;R.firstElementChild;)R=R.firstElementChild;return R}).append(this)),this},wrapInner:function(E){return ht(E)?this.each(function(S){F(this).wrapInner(E.call(this,S))}):this.each(function(){var S=F(this),R=S.contents();R.length?R.wrapAll(E):S.append(E)})},wrap:function(E){var S=ht(E);return this.each(function(R){F(this).wrapAll(S?E.call(this,R):E)})},unwrap:function(E){return this.parent(E).not("body").each(function(){F(this).replaceWith(this.childNodes)}),this}}),F.expr.pseudos.hidden=function(E){return!F.expr.pseudos.visible(E)},F.expr.pseudos.visible=function(E){return!!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)},F.ajaxSettings.xhr=function(){try{return new Q.XMLHttpRequest}catch{}};var ca={0:200,1223:204},da=F.ajaxSettings.xhr();Me.cors=!!da&&"withCredentials"in da,Me.ajax=da=!!da,F.ajaxTransport(function(E){var S,R;if(Me.cors||da&&!E.crossDomain)return{send:function(j,G){var z,te=E.xhr();if(te.open(E.type,E.url,E.async,E.username,E.password),E.xhrFields)for(z in E.xhrFields)te[z]=E.xhrFields[z];for(z in E.mimeType&&te.overrideMimeType&&te.overrideMimeType(E.mimeType),!E.crossDomain&&!j["X-Requested-With"]&&(j["X-Requested-With"]="XMLHttpRequest"),j)te.setRequestHeader(z,j[z]);S=function(me){return function(){S&&(S=R=te.onload=te.onerror=te.onabort=te.ontimeout=te.onreadystatechange=null,"abort"===me?te.abort():"error"===me?"number"!=typeof te.status?G(0,"error"):G(te.status,te.statusText):G(ca[te.status]||te.status,te.statusText,"text"!==(te.responseType||"text")||"string"!=typeof te.responseText?{binary:te.response}:{text:te.responseText},te.getAllResponseHeaders()))}},te.onload=S(),R=te.onerror=te.ontimeout=S("error"),void 0!==te.onabort?te.onabort=R:te.onreadystatechange=function(){4===te.readyState&&Q.setTimeout(function(){S&&R()})},S=S("abort");try{te.send(E.hasContent&&E.data||null)}catch(me){if(S)throw me}},abort:function(){S&&S()}}}),F.ajaxPrefilter(function(E){E.crossDomain&&(E.contents.script=!1)}),F.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(E){return F.globalEval(E),E}}}),F.ajaxPrefilter("script",function(E){void 0===E.cache&&(E.cache=!1),E.crossDomain&&(E.type="GET")}),F.ajaxTransport("script",function(E){var S,R;if(E.crossDomain||E.scriptAttrs)return{send:function(j,G){S=F("<script>").attr(E.scriptAttrs||{}).prop({charset:E.scriptCharset,src:E.url}).on("load error",R=function(z){S.remove(),R=null,z&&G("error"===z.type?404:200,z.type)}),qe.head.appendChild(S[0])},abort:function(){R&&R()}}});var E,$r=[],Ai=/(=)\?(?=&|$)|\?\?/;F.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var E=$r.pop()||F.expando+"_"+hr.guid++;return this[E]=!0,E}}),F.ajaxPrefilter("json jsonp",function(E,S,R){var j,G,z,te=!1!==E.jsonp&&(Ai.test(E.url)?"url":"string"==typeof E.data&&0===(E.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ai.test(E.data)&&"data");if(te||"jsonp"===E.dataTypes[0])return j=E.jsonpCallback=ht(E.jsonpCallback)?E.jsonpCallback():E.jsonpCallback,te?E[te]=E[te].replace(Ai,"$1"+j):!1!==E.jsonp&&(E.url+=(xa.test(E.url)?"&":"?")+E.jsonp+"="+j),E.converters["script json"]=function(){return z||F.error(j+" was not called"),z[0]},E.dataTypes[0]="json",G=Q[j],Q[j]=function(){z=arguments},R.always(function(){void 0===G?F(Q).removeProp(j):Q[j]=G,E[j]&&(E.jsonpCallback=S.jsonpCallback,$r.push(j)),z&&ht(G)&&G(z[0]),z=G=void 0}),"script"}),Me.createHTMLDocument=((E=qe.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===E.childNodes.length),F.parseHTML=function(E,S,R){return"string"!=typeof E?[]:("boolean"==typeof S&&(R=S,S=!1),S||(Me.createHTMLDocument?((j=(S=qe.implementation.createHTMLDocument("")).createElement("base")).href=qe.location.href,S.head.appendChild(j)):S=qe),z=!R&&[],(G=Pe.exec(E))?[S.createElement(G[1])]:(G=dr([E],S,z),z&&z.length&&F(z).remove(),F.merge([],G.childNodes)));var j,G,z},F.fn.load=function(E,S,R){var j,G,z,te=this,me=E.indexOf(" ");return me>-1&&(j=la(E.slice(me)),E=E.slice(0,me)),ht(S)?(R=S,S=void 0):S&&"object"==typeof S&&(G="POST"),te.length>0&&F.ajax({url:E,type:G||"GET",dataType:"html",data:S}).done(function(pe){z=arguments,te.html(j?F("<div>").append(F.parseHTML(pe)).find(j):pe)}).always(R&&function(pe,xe){te.each(function(){R.apply(this,z||[pe.responseText,xe,pe])})}),this},F.expr.pseudos.animated=function(E){return F.grep(F.timers,function(S){return E===S.elem}).length},F.offset={setOffset:function(E,S,R){var j,G,z,te,me,pe,Ke=F.css(E,"position"),Re=F(E),je={};"static"===Ke&&(E.style.position="relative"),me=Re.offset(),z=F.css(E,"top"),pe=F.css(E,"left"),("absolute"===Ke||"fixed"===Ke)&&(z+pe).indexOf("auto")>-1?(te=(j=Re.position()).top,G=j.left):(te=parseFloat(z)||0,G=parseFloat(pe)||0),ht(S)&&(S=S.call(E,R,F.extend({},me))),null!=S.top&&(je.top=S.top-me.top+te),null!=S.left&&(je.left=S.left-me.left+G),"using"in S?S.using.call(E,je):Re.css(je)}},F.fn.extend({offset:function(E){if(arguments.length)return void 0===E?this:this.each(function(G){F.offset.setOffset(this,E,G)});var S,R,j=this[0];return j?j.getClientRects().length?{top:(S=j.getBoundingClientRect()).top+(R=j.ownerDocument.defaultView).pageYOffset,left:S.left+R.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var E,S,R,j=this[0],G={top:0,left:0};if("fixed"===F.css(j,"position"))S=j.getBoundingClientRect();else{for(S=this.offset(),R=j.ownerDocument,E=j.offsetParent||R.documentElement;E&&(E===R.body||E===R.documentElement)&&"static"===F.css(E,"position");)E=E.parentNode;E&&E!==j&&1===E.nodeType&&((G=F(E).offset()).top+=F.css(E,"borderTopWidth",!0),G.left+=F.css(E,"borderLeftWidth",!0))}return{top:S.top-G.top-F.css(j,"marginTop",!0),left:S.left-G.left-F.css(j,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var E=this.offsetParent;E&&"static"===F.css(E,"position");)E=E.offsetParent;return E||Fn})}}),F.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(E,S){var R="pageYOffset"===S;F.fn[E]=function(j){return ir(this,function(G,z,te){var me;if(ut(G)?me=G:9===G.nodeType&&(me=G.defaultView),void 0===te)return me?me[S]:G[z];me?me.scrollTo(R?me.pageXOffset:te,R?te:me.pageYOffset):G[z]=te},E,j,arguments.length)}}),F.each(["top","left"],function(E,S){F.cssHooks[S]=Ns(Me.pixelPosition,function(R,j){if(j)return j=ii(R,S),Zn.test(j)?F(R).position()[S]+"px":j})}),F.each({Height:"height",Width:"width"},function(E,S){F.each({padding:"inner"+E,content:S,"":"outer"+E},function(R,j){F.fn[j]=function(G,z){var te=arguments.length&&(R||"boolean"!=typeof G),me=R||(!0===G||!0===z?"margin":"border");return ir(this,function(pe,xe,Ke){var Re;return ut(pe)?0===j.indexOf("outer")?pe["inner"+E]:pe.document.documentElement["client"+E]:9===pe.nodeType?(Re=pe.documentElement,Math.max(pe.body["scroll"+E],Re["scroll"+E],pe.body["offset"+E],Re["offset"+E],Re["client"+E])):void 0===Ke?F.css(pe,xe,me):F.style(pe,xe,Ke,me)},S,te?G:void 0,te)}})}),F.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(E,S){F.fn[S]=function(R){return this.on(S,R)}}),F.fn.extend({bind:function(E,S,R){return this.on(E,null,S,R)},unbind:function(E,S){return this.off(E,null,S)},delegate:function(E,S,R,j){return this.on(S,E,R,j)},undelegate:function(E,S,R){return 1===arguments.length?this.off(E,"**"):this.off(S,E||"**",R)},hover:function(E,S){return this.on("mouseenter",E).on("mouseleave",S||E)}}),F.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(E,S){F.fn[S]=function(R,j){return arguments.length>0?this.on(S,null,R,j):this.trigger(S)}});var Cf=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;F.proxy=function(E,S){var R,j,G;if("string"==typeof S&&(R=E[S],S=E,E=R),ht(E))return j=he.call(arguments,2),G=function(){return E.apply(S||this,j.concat(he.call(arguments)))},G.guid=E.guid=E.guid||F.guid++,G},F.holdReady=function(E){E?F.readyWait++:F.ready(!0)},F.isArray=Array.isArray,F.parseJSON=JSON.parse,F.nodeName=yt,F.isFunction=ht,F.isWindow=ut,F.camelCase=Xi,F.type=Tt,F.now=Date.now,F.isNumeric=function(E){var S=F.type(E);return("number"===S||"string"===S)&&!isNaN(E-parseFloat(E))},F.trim=function(E){return null==E?"":(E+"").replace(Cf,"$1")},void 0!==(a=function(){return F}.apply(pt,[]))&&(an.exports=a);var Ql=Q.jQuery,Ma=Q.$;return F.noConflict=function(E){return Q.$===F&&(Q.$=Ma),E&&Q.jQuery===F&&(Q.jQuery=Ql),F},typeof Y>"u"&&(Q.jQuery=Q.$=F),F})},9751:(an,pt,ae)=>{"use strict";ae.d(pt,{y:()=>at});var a=ae(930),Q=ae(727),Y=ae(8822),De=ae(9635),ot=ae(2416),he=ae(576),rt=ae(2806);let at=(()=>{class Ce{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const Me=new Ce;return Me.source=this,Me.operator=Ge,Me}subscribe(Ge,Me,ht){const ut=function Ie(Ce){return Ce&&Ce instanceof a.Lv||function oe(Ce){return Ce&&(0,he.m)(Ce.next)&&(0,he.m)(Ce.error)&&(0,he.m)(Ce.complete)}(Ce)&&(0,Q.Nn)(Ce)}(Ge)?Ge:new a.Hp(Ge,Me,ht);return(0,rt.x)(()=>{const{operator:qe,source:bn}=this;ut.add(qe?qe.call(ut,bn):bn?this._subscribe(ut):this._trySubscribe(ut))}),ut}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(Me){Ge.error(Me)}}forEach(Ge,Me){return new(Me=ze(Me))((ht,ut)=>{const qe=new a.Hp({next:bn=>{try{Ge(bn)}catch(Dn){ut(Dn),qe.unsubscribe()}},error:ut,complete:ht});this.subscribe(qe)})}_subscribe(Ge){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(Ge)}[Y.L](){return this}pipe(...Ge){return(0,De.U)(Ge)(this)}toPromise(Ge){return new(Ge=ze(Ge))((Me,ht)=>{let ut;this.subscribe(qe=>ut=qe,qe=>ht(qe),()=>Me(ut))})}}return Ce.create=Qe=>new Ce(Qe),Ce})();function ze(Ce){var Qe;return null!==(Qe=Ce??ot.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(an,pt,ae)=>{"use strict";ae.d(pt,{x:()=>rt});var a=ae(9751),Q=ae(727);const De=(0,ae(3888).d)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=ae(8737),he=ae(2806);let rt=(()=>{class ze extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ie){const Ce=new at(this,this);return Ce.operator=Ie,Ce}_throwIfClosed(){if(this.closed)throw new De}next(Ie){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ce of this.currentObservers)Ce.next(Ie)}})}error(Ie){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ie;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().error(Ie)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ie;return(null===(Ie=this.observers)||void 0===Ie?void 0:Ie.length)>0}_trySubscribe(Ie){return this._throwIfClosed(),super._trySubscribe(Ie)}_subscribe(Ie){return this._throwIfClosed(),this._checkFinalizedStatuses(Ie),this._innerSubscribe(Ie)}_innerSubscribe(Ie){const{hasError:Ce,isStopped:Qe,observers:Ge}=this;return Ce||Qe?Q.Lc:(this.currentObservers=null,Ge.push(Ie),new Q.w0(()=>{this.currentObservers=null,(0,ot.P)(Ge,Ie)}))}_checkFinalizedStatuses(Ie){const{hasError:Ce,thrownError:Qe,isStopped:Ge}=this;Ce?Ie.error(Qe):Ge&&Ie.complete()}asObservable(){const Ie=new a.y;return Ie.source=this,Ie}}return ze.create=(oe,Ie)=>new at(oe,Ie),ze})();class at extends rt{constructor(oe,Ie){super(),this.destination=oe,this.source=Ie}next(oe){var Ie,Ce;null===(Ce=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.next)||void 0===Ce||Ce.call(Ie,oe)}error(oe){var Ie,Ce;null===(Ce=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.error)||void 0===Ce||Ce.call(Ie,oe)}complete(){var oe,Ie;null===(Ie=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===Ie||Ie.call(oe)}_subscribe(oe){var Ie,Ce;return null!==(Ce=null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(oe))&&void 0!==Ce?Ce:Q.Lc}}},930:(an,pt,ae)=>{"use strict";ae.d(pt,{Hp:()=>ht,Lv:()=>Ce});var a=ae(576),Q=ae(727),Y=ae(2416),De=ae(7849),ot=ae(5032);const he=ze("C",void 0,void 0);function ze(Tt,Ye,Je){return{kind:Tt,value:Ye,error:Je}}var oe=ae(3410),Ie=ae(2806);class Ce extends Q.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,Q.Nn)(Ye)&&Ye.add(this)):this.destination=Dn}static create(Ye,Je,F){return new ht(Ye,Je,F)}next(Ye){this.isStopped?bn(function at(Tt){return ze("N",Tt,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?bn(function rt(Tt){return ze("E",void 0,Tt)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?bn(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Ge(Tt,Ye){return Qe.call(Tt,Ye)}class Me{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:Je}=this;if(Je.next)try{Je.next(Ye)}catch(F){ut(F)}}error(Ye){const{partialObserver:Je}=this;if(Je.error)try{Je.error(Ye)}catch(F){ut(F)}else ut(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(Je){ut(Je)}}}class ht extends Ce{constructor(Ye,Je,F){let Lt;if(super(),(0,a.m)(Ye)||!Ye)Lt={next:Ye??void 0,error:Je??void 0,complete:F??void 0};else{let yt;this&&Y.v.useDeprecatedNextContext?(yt=Object.create(Ye),yt.unsubscribe=()=>this.unsubscribe(),Lt={next:Ye.next&&Ge(Ye.next,yt),error:Ye.error&&Ge(Ye.error,yt),complete:Ye.complete&&Ge(Ye.complete,yt)}):Lt=Ye}this.destination=new Me(Lt)}}function ut(Tt){Y.v.useDeprecatedSynchronousErrorHandling?(0,Ie.O)(Tt):(0,De.h)(Tt)}function bn(Tt,Ye){const{onStoppedNotification:Je}=Y.v;Je&&oe.z.setTimeout(()=>Je(Tt,Ye))}const Dn={closed:!0,next:ot.Z,error:function qe(Tt){throw Tt},complete:ot.Z}},727:(an,pt,ae)=>{"use strict";ae.d(pt,{Lc:()=>he,w0:()=>ot,Nn:()=>rt});var a=ae(576);const Y=(0,ae(3888).d)(ze=>function(Ie){ze(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((Ce,Qe)=>`${Qe+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie});var De=ae(8737);class ot{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:Ie}=this;if(Ie)if(this._parentage=null,Array.isArray(Ie))for(const Ge of Ie)Ge.remove(this);else Ie.remove(this);const{initialTeardown:Ce}=this;if((0,a.m)(Ce))try{Ce()}catch(Ge){oe=Ge instanceof Y?Ge.errors:[Ge]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Ge of Qe)try{at(Ge)}catch(Me){oe=oe??[],Me instanceof Y?oe=[...oe,...Me.errors]:oe.push(Me)}}if(oe)throw new Y(oe)}}add(oe){var Ie;if(oe&&oe!==this)if(this.closed)at(oe);else{if(oe instanceof ot){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(Ie=this._finalizers)&&void 0!==Ie?Ie:[]).push(oe)}}_hasParent(oe){const{_parentage:Ie}=this;return Ie===oe||Array.isArray(Ie)&&Ie.includes(oe)}_addParent(oe){const{_parentage:Ie}=this;this._parentage=Array.isArray(Ie)?(Ie.push(oe),Ie):Ie?[Ie,oe]:oe}_removeParent(oe){const{_parentage:Ie}=this;Ie===oe?this._parentage=null:Array.isArray(Ie)&&(0,De.P)(Ie,oe)}remove(oe){const{_finalizers:Ie}=this;Ie&&(0,De.P)(Ie,oe),oe instanceof ot&&oe._removeParent(this)}}ot.EMPTY=(()=>{const ze=new ot;return ze.closed=!0,ze})();const he=ot.EMPTY;function rt(ze){return ze instanceof ot||ze&&"closed"in ze&&(0,a.m)(ze.remove)&&(0,a.m)(ze.add)&&(0,a.m)(ze.unsubscribe)}function at(ze){(0,a.m)(ze)?ze():ze.unsubscribe()}},2416:(an,pt,ae)=>{"use strict";ae.d(pt,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(an,pt,ae)=>{"use strict";ae.d(pt,{E:()=>Q});const Q=new(ae(9751).y)(ot=>ot.complete())},8996:(an,pt,ae)=>{"use strict";ae.d(pt,{D:()=>Ye});var a=ae(8421),Q=ae(5363),Y=ae(9468),he=ae(9751),at=ae(2202),ze=ae(576),oe=ae(9672);function Ce(Je,F){if(!Je)throw new Error("Iterable cannot be null");return new he.y(Lt=>{(0,oe.f)(Lt,F,()=>{const yt=Je[Symbol.asyncIterator]();(0,oe.f)(Lt,F,()=>{yt.next().then(Dt=>{Dt.done?Lt.complete():Lt.next(Dt.value)})},0,!0)})})}var Qe=ae(3670),Ge=ae(8239),Me=ae(1144),ht=ae(6495),ut=ae(2206),qe=ae(4532),bn=ae(3260);function Ye(Je,F){return F?function Tt(Je,F){if(null!=Je){if((0,Qe.c)(Je))return function De(Je,F){return(0,a.Xf)(Je).pipe((0,Y.R)(F),(0,Q.Q)(F))}(Je,F);if((0,Me.z)(Je))return function rt(Je,F){return new he.y(Lt=>{let yt=0;return F.schedule(function(){yt===Je.length?Lt.complete():(Lt.next(Je[yt++]),Lt.closed||this.schedule())})})}(Je,F);if((0,Ge.t)(Je))return function ot(Je,F){return(0,a.Xf)(Je).pipe((0,Y.R)(F),(0,Q.Q)(F))}(Je,F);if((0,ut.D)(Je))return Ce(Je,F);if((0,ht.T)(Je))return function Ie(Je,F){return new he.y(Lt=>{let yt;return(0,oe.f)(Lt,F,()=>{yt=Je[at.h](),(0,oe.f)(Lt,F,()=>{let Dt,br;try{({value:Dt,done:br}=yt.next())}catch(Te){return void Lt.error(Te)}br?Lt.complete():Lt.next(Dt)},0,!0)}),()=>(0,ze.m)(yt?.return)&&yt.return()})}(Je,F);if((0,bn.L)(Je))return function Dn(Je,F){return Ce((0,bn.Q)(Je),F)}(Je,F)}throw(0,qe.z)(Je)}(Je,F):(0,a.Xf)(Je)}},8421:(an,pt,ae)=>{"use strict";ae.d(pt,{Xf:()=>Qe});var a=ae(7582),Q=ae(1144),Y=ae(8239),De=ae(9751),ot=ae(3670),he=ae(2206),rt=ae(4532),at=ae(6495),ze=ae(3260),oe=ae(576),Ie=ae(7849),Ce=ae(8822);function Qe(Tt){if(Tt instanceof De.y)return Tt;if(null!=Tt){if((0,ot.c)(Tt))return function Ge(Tt){return new De.y(Ye=>{const Je=Tt[Ce.L]();if((0,oe.m)(Je.subscribe))return Je.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Tt);if((0,Q.z)(Tt))return function Me(Tt){return new De.y(Ye=>{for(let Je=0;Je<Tt.length&&!Ye.closed;Je++)Ye.next(Tt[Je]);Ye.complete()})}(Tt);if((0,Y.t)(Tt))return function ht(Tt){return new De.y(Ye=>{Tt.then(Je=>{Ye.closed||(Ye.next(Je),Ye.complete())},Je=>Ye.error(Je)).then(null,Ie.h)})}(Tt);if((0,he.D)(Tt))return qe(Tt);if((0,at.T)(Tt))return function ut(Tt){return new De.y(Ye=>{for(const Je of Tt)if(Ye.next(Je),Ye.closed)return;Ye.complete()})}(Tt);if((0,ze.L)(Tt))return function bn(Tt){return qe((0,ze.Q)(Tt))}(Tt)}throw(0,rt.z)(Tt)}function qe(Tt){return new De.y(Ye=>{(function Dn(Tt,Ye){var Je,F,Lt,yt;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Je=(0,a.KL)(Tt);!(F=yield Je.next()).done;)if(Ye.next(F.value),Ye.closed)return}catch(Dt){Lt={error:Dt}}finally{try{F&&!F.done&&(yt=Je.return)&&(yield yt.call(Je))}finally{if(Lt)throw Lt.error}}Ye.complete()})})(Tt,Ye).catch(Je=>Ye.error(Je))})}},6451:(an,pt,ae)=>{"use strict";ae.d(pt,{T:()=>he});var a=ae(8189),Q=ae(8421),Y=ae(515),De=ae(3269),ot=ae(8996);function he(...rt){const at=(0,De.yG)(rt),ze=(0,De._6)(rt,1/0),oe=rt;return oe.length?1===oe.length?(0,Q.Xf)(oe[0]):(0,a.J)(ze)((0,ot.D)(oe,at)):Y.E}},5403:(an,pt,ae)=>{"use strict";ae.d(pt,{x:()=>Q});var a=ae(930);function Q(De,ot,he,rt,at){return new Y(De,ot,he,rt,at)}class Y extends a.Lv{constructor(ot,he,rt,at,ze,oe){super(ot),this.onFinalize=ze,this.shouldUnsubscribe=oe,this._next=he?function(Ie){try{he(Ie)}catch(Ce){ot.error(Ce)}}:super._next,this._error=at?function(Ie){try{at(Ie)}catch(Ce){ot.error(Ce)}finally{this.unsubscribe()}}:super._error,this._complete=rt?function(){try{rt()}catch(Ie){ot.error(Ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ot;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ot=this.onFinalize)||void 0===ot||ot.call(this))}}}},4004:(an,pt,ae)=>{"use strict";ae.d(pt,{U:()=>Y});var a=ae(4482),Q=ae(5403);function Y(De,ot){return(0,a.e)((he,rt)=>{let at=0;he.subscribe((0,Q.x)(rt,ze=>{rt.next(De.call(ot,ze,at++))}))})}},8189:(an,pt,ae)=>{"use strict";ae.d(pt,{J:()=>Y});var a=ae(5577),Q=ae(4671);function Y(De=1/0){return(0,a.z)(Q.y,De)}},5577:(an,pt,ae)=>{"use strict";ae.d(pt,{z:()=>at});var a=ae(4004),Q=ae(8421),Y=ae(4482),De=ae(9672),ot=ae(5403),rt=ae(576);function at(ze,oe,Ie=1/0){return(0,rt.m)(oe)?at((Ce,Qe)=>(0,a.U)((Ge,Me)=>oe(Ce,Ge,Qe,Me))((0,Q.Xf)(ze(Ce,Qe))),Ie):("number"==typeof oe&&(Ie=oe),(0,Y.e)((Ce,Qe)=>function he(ze,oe,Ie,Ce,Qe,Ge,Me,ht){const ut=[];let qe=0,bn=0,Dn=!1;const Tt=()=>{Dn&&!ut.length&&!qe&&oe.complete()},Ye=F=>qe<Ce?Je(F):ut.push(F),Je=F=>{Ge&&oe.next(F),qe++;let Lt=!1;(0,Q.Xf)(Ie(F,bn++)).subscribe((0,ot.x)(oe,yt=>{Qe?.(yt),Ge?Ye(yt):oe.next(yt)},()=>{Lt=!0},void 0,()=>{if(Lt)try{for(qe--;ut.length&&qe<Ce;){const yt=ut.shift();Me?(0,De.f)(oe,Me,()=>Je(yt)):Je(yt)}Tt()}catch(yt){oe.error(yt)}}))};return ze.subscribe((0,ot.x)(oe,Ye,()=>{Dn=!0,Tt()})),()=>{ht?.()}}(Ce,Qe,ze,Ie)))}},5363:(an,pt,ae)=>{"use strict";ae.d(pt,{Q:()=>De});var a=ae(9672),Q=ae(4482),Y=ae(5403);function De(ot,he=0){return(0,Q.e)((rt,at)=>{rt.subscribe((0,Y.x)(at,ze=>(0,a.f)(at,ot,()=>at.next(ze),he),()=>(0,a.f)(at,ot,()=>at.complete(),he),ze=>(0,a.f)(at,ot,()=>at.error(ze),he)))})}},3099:(an,pt,ae)=>{"use strict";ae.d(pt,{B:()=>ot});var a=ae(8421),Q=ae(7579),Y=ae(930),De=ae(4482);function ot(rt={}){const{connector:at=(()=>new Q.x),resetOnError:ze=!0,resetOnComplete:oe=!0,resetOnRefCountZero:Ie=!0}=rt;return Ce=>{let Qe,Ge,Me,ht=0,ut=!1,qe=!1;const bn=()=>{Ge?.unsubscribe(),Ge=void 0},Dn=()=>{bn(),Qe=Me=void 0,ut=qe=!1},Tt=()=>{const Ye=Qe;Dn(),Ye?.unsubscribe()};return(0,De.e)((Ye,Je)=>{ht++,!qe&&!ut&&bn();const F=Me=Me??at();Je.add(()=>{ht--,0===ht&&!qe&&!ut&&(Ge=he(Tt,Ie))}),F.subscribe(Je),!Qe&&ht>0&&(Qe=new Y.Hp({next:Lt=>F.next(Lt),error:Lt=>{qe=!0,bn(),Ge=he(Dn,ze,Lt),F.error(Lt)},complete:()=>{ut=!0,bn(),Ge=he(Dn,oe),F.complete()}}),(0,a.Xf)(Ye).subscribe(Qe))})(Ce)}}function he(rt,at,...ze){if(!0===at)return void rt();if(!1===at)return;const oe=new Y.Hp({next:()=>{oe.unsubscribe(),rt()}});return at(...ze).subscribe(oe)}},9468:(an,pt,ae)=>{"use strict";ae.d(pt,{R:()=>Q});var a=ae(4482);function Q(Y,De=0){return(0,a.e)((ot,he)=>{he.add(Y.schedule(()=>ot.subscribe(he),De))})}},8505:(an,pt,ae)=>{"use strict";ae.d(pt,{b:()=>ot});var a=ae(576),Q=ae(4482),Y=ae(5403),De=ae(4671);function ot(he,rt,at){const ze=(0,a.m)(he)||rt||at?{next:he,error:rt,complete:at}:he;return ze?(0,Q.e)((oe,Ie)=>{var Ce;null===(Ce=ze.subscribe)||void 0===Ce||Ce.call(ze);let Qe=!0;oe.subscribe((0,Y.x)(Ie,Ge=>{var Me;null===(Me=ze.next)||void 0===Me||Me.call(ze,Ge),Ie.next(Ge)},()=>{var Ge;Qe=!1,null===(Ge=ze.complete)||void 0===Ge||Ge.call(ze),Ie.complete()},Ge=>{var Me;Qe=!1,null===(Me=ze.error)||void 0===Me||Me.call(ze,Ge),Ie.error(Ge)},()=>{var Ge,Me;Qe&&(null===(Ge=ze.unsubscribe)||void 0===Ge||Ge.call(ze)),null===(Me=ze.finalize)||void 0===Me||Me.call(ze)}))}):De.y}},4408:(an,pt,ae)=>{"use strict";ae.d(pt,{o:()=>ot});var a=ae(727);class Q extends a.w0{constructor(rt,at){super()}schedule(rt,at=0){return this}}const Y={setInterval(he,rt,...at){const{delegate:ze}=Y;return ze?.setInterval?ze.setInterval(he,rt,...at):setInterval(he,rt,...at)},clearInterval(he){const{delegate:rt}=Y;return(rt?.clearInterval||clearInterval)(he)},delegate:void 0};var De=ae(8737);class ot extends Q{constructor(rt,at){super(rt,at),this.scheduler=rt,this.work=at,this.pending=!1}schedule(rt,at=0){var ze;if(this.closed)return this;this.state=rt;const oe=this.id,Ie=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(Ie,oe,at)),this.pending=!0,this.delay=at,this.id=null!==(ze=this.id)&&void 0!==ze?ze:this.requestAsyncId(Ie,this.id,at),this}requestAsyncId(rt,at,ze=0){return Y.setInterval(rt.flush.bind(rt,this),ze)}recycleAsyncId(rt,at,ze=0){if(null!=ze&&this.delay===ze&&!1===this.pending)return at;null!=at&&Y.clearInterval(at)}execute(rt,at){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ze=this._execute(rt,at);if(ze)return ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(rt,at){let oe,ze=!1;try{this.work(rt)}catch(Ie){ze=!0,oe=Ie||new Error("Scheduled action threw falsy error")}if(ze)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:rt,scheduler:at}=this,{actions:ze}=at;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)(ze,this),null!=rt&&(this.id=this.recycleAsyncId(at,rt,null)),this.delay=null,super.unsubscribe()}}}},7565:(an,pt,ae)=>{"use strict";ae.d(pt,{v:()=>Y});var a=ae(6063);class Q{constructor(ot,he=Q.now){this.schedulerActionCtor=ot,this.now=he}schedule(ot,he=0,rt){return new this.schedulerActionCtor(this,ot).schedule(rt,he)}}Q.now=a.l.now;class Y extends Q{constructor(ot,he=Q.now){super(ot,he),this.actions=[],this._active=!1}flush(ot){const{actions:he}=this;if(this._active)return void he.push(ot);let rt;this._active=!0;do{if(rt=ot.execute(ot.state,ot.delay))break}while(ot=he.shift());if(this._active=!1,rt){for(;ot=he.shift();)ot.unsubscribe();throw rt}}}},4986:(an,pt,ae)=>{"use strict";ae.d(pt,{P:()=>De,z:()=>Y});var a=ae(4408);const Y=new(ae(7565).v)(a.o),De=Y},6063:(an,pt,ae)=>{"use strict";ae.d(pt,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(an,pt,ae)=>{"use strict";ae.d(pt,{z:()=>a});const a={setTimeout(Q,Y,...De){const{delegate:ot}=a;return ot?.setTimeout?ot.setTimeout(Q,Y,...De):setTimeout(Q,Y,...De)},clearTimeout(Q){const{delegate:Y}=a;return(Y?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(an,pt,ae)=>{"use strict";ae.d(pt,{h:()=>Q});const Q=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(an,pt,ae)=>{"use strict";ae.d(pt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(an,pt,ae)=>{"use strict";ae.d(pt,{_6:()=>he,jO:()=>De,yG:()=>ot});var a=ae(576),Q=ae(3532);function Y(rt){return rt[rt.length-1]}function De(rt){return(0,a.m)(Y(rt))?rt.pop():void 0}function ot(rt){return(0,Q.K)(Y(rt))?rt.pop():void 0}function he(rt,at){return"number"==typeof Y(rt)?rt.pop():at}},8737:(an,pt,ae)=>{"use strict";function a(Q,Y){if(Q){const De=Q.indexOf(Y);0<=De&&Q.splice(De,1)}}ae.d(pt,{P:()=>a})},3888:(an,pt,ae)=>{"use strict";function a(Q){const De=Q(ot=>{Error.call(ot),ot.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}ae.d(pt,{d:()=>a})},2806:(an,pt,ae)=>{"use strict";ae.d(pt,{O:()=>De,x:()=>Y});var a=ae(2416);let Q=null;function Y(ot){if(a.v.useDeprecatedSynchronousErrorHandling){const he=!Q;if(he&&(Q={errorThrown:!1,error:null}),ot(),he){const{errorThrown:rt,error:at}=Q;if(Q=null,rt)throw at}}else ot()}function De(ot){a.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ot)}},9672:(an,pt,ae)=>{"use strict";function a(Q,Y,De,ot=0,he=!1){const rt=Y.schedule(function(){De(),he?Q.add(this.schedule(null,ot)):this.unsubscribe()},ot);if(Q.add(rt),!he)return rt}ae.d(pt,{f:()=>a})},4671:(an,pt,ae)=>{"use strict";function a(Q){return Q}ae.d(pt,{y:()=>a})},1144:(an,pt,ae)=>{"use strict";ae.d(pt,{z:()=>a});const a=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(an,pt,ae)=>{"use strict";ae.d(pt,{D:()=>Q});var a=ae(576);function Q(Y){return Symbol.asyncIterator&&(0,a.m)(Y?.[Symbol.asyncIterator])}},576:(an,pt,ae)=>{"use strict";function a(Q){return"function"==typeof Q}ae.d(pt,{m:()=>a})},3670:(an,pt,ae)=>{"use strict";ae.d(pt,{c:()=>Y});var a=ae(8822),Q=ae(576);function Y(De){return(0,Q.m)(De[a.L])}},6495:(an,pt,ae)=>{"use strict";ae.d(pt,{T:()=>Y});var a=ae(2202),Q=ae(576);function Y(De){return(0,Q.m)(De?.[a.h])}},8239:(an,pt,ae)=>{"use strict";ae.d(pt,{t:()=>Q});var a=ae(576);function Q(Y){return(0,a.m)(Y?.then)}},3260:(an,pt,ae)=>{"use strict";ae.d(pt,{L:()=>De,Q:()=>Y});var a=ae(7582),Q=ae(576);function Y(ot){return(0,a.FC)(this,arguments,function*(){const rt=ot.getReader();try{for(;;){const{value:at,done:ze}=yield(0,a.qq)(rt.read());if(ze)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(at)}}finally{rt.releaseLock()}})}function De(ot){return(0,Q.m)(ot?.getReader)}},3532:(an,pt,ae)=>{"use strict";ae.d(pt,{K:()=>Q});var a=ae(576);function Q(Y){return Y&&(0,a.m)(Y.schedule)}},4482:(an,pt,ae)=>{"use strict";ae.d(pt,{A:()=>Q,e:()=>Y});var a=ae(576);function Q(De){return(0,a.m)(De?.lift)}function Y(De){return ot=>{if(Q(ot))return ot.lift(function(he){try{return De(he,this)}catch(rt){this.error(rt)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(an,pt,ae)=>{"use strict";function a(){}ae.d(pt,{Z:()=>a})},9635:(an,pt,ae)=>{"use strict";ae.d(pt,{U:()=>Y,z:()=>Q});var a=ae(4671);function Q(...De){return Y(De)}function Y(De){return 0===De.length?a.y:1===De.length?De[0]:function(he){return De.reduce((rt,at)=>at(rt),he)}}},7849:(an,pt,ae)=>{"use strict";ae.d(pt,{h:()=>Y});var a=ae(2416),Q=ae(3410);function Y(De){Q.z.setTimeout(()=>{const{onUnhandledError:ot}=a.v;if(!ot)throw De;ot(De)})}},4532:(an,pt,ae)=>{"use strict";function a(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ae.d(pt,{z:()=>a})},5226:function(an){an.exports=function(){"use strict";const ae={},Q=N=>new Promise(U=>{if(!N)return U();const K=window.scrollX,ge=window.scrollY;ae.restoreFocusTimeout=setTimeout(()=>{ae.previousActiveElement instanceof HTMLElement?(ae.previousActiveElement.focus(),ae.previousActiveElement=null):document.body&&document.body.focus(),U()},100),window.scrollTo(K,ge)});var Y={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const he=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((N,U)=>(N[U]="swal2-"+U,N),{}),at=["success","warning","info","question","error"].reduce((N,U)=>(N[U]="swal2-"+U,N),{}),ze="SweetAlert2:",oe=N=>N.charAt(0).toUpperCase()+N.slice(1),Ie=N=>{console.warn(`${ze} ${"object"==typeof N?N.join(" "):N}`)},Ce=N=>{console.error(`${ze} ${N}`)},Qe=[],Me=(N,U)=>{(N=>{Qe.includes(N)||(Qe.push(N),Ie(N))})(`"${N}" is deprecated and will be removed in the next major release. Please use "${U}" instead.`)},ht=N=>"function"==typeof N?N():N,ut=N=>N&&"function"==typeof N.toPromise,qe=N=>ut(N)?N.toPromise():Promise.resolve(N),bn=N=>N&&Promise.resolve(N)===N,Dn=()=>document.body.querySelector(`.${he.container}`),Tt=N=>{const U=Dn();return U?U.querySelector(N):null},Ye=N=>Tt(`.${N}`),Je=()=>Ye(he.popup),F=()=>Ye(he.icon),yt=()=>Ye(he.title),Dt=()=>Ye(he["html-container"]),br=()=>Ye(he.image),Te=()=>Ye(he["progress-steps"]),qt=()=>Ye(he["validation-message"]),xt=()=>Tt(`.${he.actions} .${he.confirm}`),yn=()=>Tt(`.${he.actions} .${he.cancel}`),wn=()=>Tt(`.${he.actions} .${he.deny}`),kn=()=>Tt(`.${he.loader}`),Oe=()=>Ye(he.actions),Ee=()=>Ye(he.footer),Le=()=>Ye(he["timer-progress-bar"]),Pe=()=>Ye(he.close),Xe=()=>{const N=Je();if(!N)return[];const U=N.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),K=Array.from(U).sort((Xt,Jn)=>{const wr=parseInt(Xt.getAttribute("tabindex")||"0"),En=parseInt(Jn.getAttribute("tabindex")||"0");return wr>En?1:wr<En?-1:0}),ge=N.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),nt=Array.from(ge).filter(Xt=>"-1"!==Xt.getAttribute("tabindex"));return[...new Set(K.concat(nt))].filter(Xt=>Mr(Xt))},$t=()=>zn(document.body,he.shown)&&!zn(document.body,he["toast-shown"])&&!zn(document.body,he["no-backdrop"]),on=()=>{const N=Je();return!!N&&zn(N,he.toast)},zt=(N,U)=>{if(N.textContent="",U){const ge=(new DOMParser).parseFromString(U,"text/html"),nt=ge.querySelector("head");nt&&Array.from(nt.childNodes).forEach(Jn=>{N.appendChild(Jn)});const Xt=ge.querySelector("body");Xt&&Array.from(Xt.childNodes).forEach(Jn=>{Jn instanceof HTMLVideoElement||Jn instanceof HTMLAudioElement?N.appendChild(Jn.cloneNode(!0)):N.appendChild(Jn)})}},zn=(N,U)=>{if(!U)return!1;const K=U.split(/\s+/);for(let ge=0;ge<K.length;ge++)if(!N.classList.contains(K[ge]))return!1;return!0},er=(N,U,K)=>{if(((N,U)=>{Array.from(N.classList).forEach(K=>{!Object.values(he).includes(K)&&!Object.values(at).includes(K)&&!Object.values(U.showClass||{}).includes(K)&&N.classList.remove(K)})})(N,U),U.customClass&&U.customClass[K]){if("string"!=typeof U.customClass[K]&&!U.customClass[K].forEach)return void Ie(`Invalid type of customClass.${K}! Expected string or iterable object, got "${typeof U.customClass[K]}"`);cn(N,U.customClass[K])}},ci=(N,U)=>{if(!U)return null;switch(U){case"select":case"textarea":case"file":return N.querySelector(`.${he.popup} > .${he[U]}`);case"checkbox":return N.querySelector(`.${he.popup} > .${he.checkbox} input`);case"radio":return N.querySelector(`.${he.popup} > .${he.radio} input:checked`)||N.querySelector(`.${he.popup} > .${he.radio} input:first-child`);case"range":return N.querySelector(`.${he.popup} > .${he.range} input`);default:return N.querySelector(`.${he.popup} > .${he.input}`)}},Tn=N=>{if(N.focus(),"file"!==N.type){const U=N.value;N.value="",N.value=U}},Mn=(N,U,K)=>{!N||!U||("string"==typeof U&&(U=U.split(/\s+/).filter(Boolean)),U.forEach(ge=>{Array.isArray(N)?N.forEach(nt=>{K?nt.classList.add(ge):nt.classList.remove(ge)}):K?N.classList.add(ge):N.classList.remove(ge)}))},cn=(N,U)=>{Mn(N,U,!0)},tr=(N,U)=>{Mn(N,U,!1)},Et=(N,U)=>{const K=Array.from(N.children);for(let ge=0;ge<K.length;ge++){const nt=K[ge];if(nt instanceof HTMLElement&&zn(nt,U))return nt}},ir=(N,U,K)=>{K===`${parseInt(K)}`&&(K=parseInt(K)),K||0===parseInt(K)?N.style[U]="number"==typeof K?`${K}px`:K:N.style.removeProperty(U)},Tr=function(N){N&&(N.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Rn=N=>{N&&(N.style.display="none")},sa=(N,U,K,ge)=>{const nt=N.querySelector(U);nt&&(nt.style[K]=ge)},Xi=function(N,U){U?Tr(N,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Rn(N)},Mr=N=>!(!N||!(N.offsetWidth||N.offsetHeight||N.getClientRects().length)),Nt=N=>N.scrollHeight>N.clientHeight,Wt=N=>{const U=window.getComputedStyle(N),K=parseFloat(U.getPropertyValue("animation-duration")||"0"),ge=parseFloat(U.getPropertyValue("transition-duration")||"0");return K>0||ge>0},_n=function(N){let U=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const K=Le();!K||Mr(K)&&(U&&(K.style.transition="none",K.style.width="100%"),setTimeout(()=>{K.style.transition=`width ${N/1e3}s linear`,K.style.width="0%"},10))},Or=()=>typeof window>"u"||typeof document>"u",To=`\n <div aria-labelledby="${he.title}" aria-describedby="${he["html-container"]}" class="${he.popup}" tabindex="-1">\n   <button type="button" class="${he.close}"></button>\n   <ul class="${he["progress-steps"]}"></ul>\n   <div class="${he.icon}"></div>\n   <img class="${he.image}" />\n   <h2 class="${he.title}" id="${he.title}"></h2>\n   <div class="${he["html-container"]}" id="${he["html-container"]}"></div>\n   <input class="${he.input}" id="${he.input}" />\n   <input type="file" class="${he.file}" />\n   <div class="${he.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${he.select}" id="${he.select}"></select>\n   <div class="${he.radio}"></div>\n   <label class="${he.checkbox}">\n     <input type="checkbox" id="${he.checkbox}" />\n     <span class="${he.label}"></span>\n   </label>\n   <textarea class="${he.textarea}" id="${he.textarea}"></textarea>\n   <div class="${he["validation-message"]}" id="${he["validation-message"]}"></div>\n   <div class="${he.actions}">\n     <div class="${he.loader}"></div>\n     <button type="button" class="${he.confirm}"></button>\n     <button type="button" class="${he.deny}"></button>\n     <button type="button" class="${he.cancel}"></button>\n   </div>\n   <div class="${he.footer}"></div>\n   <div class="${he["timer-progress-bar-container"]}">\n     <div class="${he["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),hn=()=>{ae.currentInstance.resetValidationMessage()},we=N=>{const U=(()=>{const N=Dn();return!!N&&(N.remove(),tr([document.documentElement,document.body],[he["no-backdrop"],he["toast-shown"],he["has-column"]]),!0)})();if(Or())return void Ce("SweetAlert2 requires document to initialize");const K=document.createElement("div");K.className=he.container,U&&cn(K,he["no-transition"]),zt(K,To);const ge=(N=>"string"==typeof N?document.querySelector(N):N)(N.target);ge.appendChild(K),(N=>{const U=Je();U.setAttribute("role",N.toast?"alert":"dialog"),U.setAttribute("aria-live",N.toast?"polite":"assertive"),N.toast||U.setAttribute("aria-modal","true")})(N),(N=>{"rtl"===window.getComputedStyle(N).direction&&cn(Dn(),he.rtl)})(ge),(()=>{const N=Je(),U=Et(N,he.input),K=Et(N,he.file),ge=N.querySelector(`.${he.range} input`),nt=N.querySelector(`.${he.range} output`),Xt=Et(N,he.select),Jn=N.querySelector(`.${he.checkbox} input`),wr=Et(N,he.textarea);U.oninput=hn,K.onchange=hn,Xt.onchange=hn,Jn.onchange=hn,wr.oninput=hn,ge.oninput=()=>{hn(),nt.value=ge.value},ge.onchange=()=>{hn(),nt.value=ge.value}})()},ke=(N,U)=>{N instanceof HTMLElement?U.appendChild(N):"object"==typeof N?$e(N,U):N&&zt(U,N)},$e=(N,U)=>{N.jquery?Fe(U,N):zt(U,N.toString())},Fe=(N,U)=>{if(N.textContent="",0 in U)for(let K=0;K in U;K++)N.appendChild(U[K].cloneNode(!0));else N.appendChild(U.cloneNode(!0))},bt=(()=>{if(Or())return!1;const N=document.createElement("div"),U={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const K in U)if(Object.prototype.hasOwnProperty.call(U,K)&&typeof N.style[K]<"u")return U[K];return!1})(),pn=(N,U)=>{const K=Oe(),ge=kn();!K||!ge||(U.showConfirmButton||U.showDenyButton||U.showCancelButton?Tr(K):Rn(K),er(K,U,"actions"),function gr(N,U,K){const ge=xt(),nt=wn(),Xt=yn();!ge||!nt||!Xt||(Un(ge,"confirm",K),Un(nt,"deny",K),Un(Xt,"cancel",K),function mr(N,U,K,ge){ge.buttonsStyling?(cn([N,U,K],he.styled),ge.confirmButtonColor&&(N.style.backgroundColor=ge.confirmButtonColor,cn(N,he["default-outline"])),ge.denyButtonColor&&(U.style.backgroundColor=ge.denyButtonColor,cn(U,he["default-outline"])),ge.cancelButtonColor&&(K.style.backgroundColor=ge.cancelButtonColor,cn(K,he["default-outline"]))):tr([N,U,K],he.styled)}(ge,nt,Xt,K),K.reverseButtons&&(K.toast?(N.insertBefore(Xt,ge),N.insertBefore(nt,ge)):(N.insertBefore(Xt,U),N.insertBefore(nt,U),N.insertBefore(ge,U))))}(K,ge,U),zt(ge,U.loaderHtml||""),er(ge,U,"loader"))};function Un(N,U,K){const ge=oe(U);Xi(N,K[`show${ge}Button`],"inline-block"),zt(N,K[`${U}ButtonText`]||""),N.setAttribute("aria-label",K[`${U}ButtonAriaLabel`]||""),N.className=he[U],er(N,K,`${U}Button`)}const vi=(N,U)=>{const K=Dn();!K||(function Eo(N,U){"string"==typeof U?N.style.background=U:U||cn([document.documentElement,document.body],he["no-backdrop"])}(K,U.backdrop),function dr(N,U){!U||(U in he?cn(N,he[U]):(Ie('The "position" parameter is not valid, defaulting to "center"'),cn(N,he.center)))}(K,U.position),function Yi(N,U){!U||cn(N,he[`grow-${U}`])}(K,U.grow),er(K,U,"container"))};const Fi=["input","file","range","select","radio","checkbox","textarea"],Do=N=>{if(!N.input)return;if(!ni[N.input])return void Ce(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${N.input}"`);const U=ms(N.input),K=ni[N.input](U,N);Tr(U),N.inputAutoFocus&&setTimeout(()=>{Tn(K)})},Ot=(N,U)=>{const K=ci(Je(),N);if(K){(N=>{for(let U=0;U<N.attributes.length;U++){const K=N.attributes[U].name;["id","type","value","style"].includes(K)||N.removeAttribute(K)}})(K);for(const ge in U)K.setAttribute(ge,U[ge])}},Pn=N=>{const U=ms(N.input);"object"==typeof N.customClass&&cn(U,N.customClass.input)},Ir=(N,U)=>{(!N.placeholder||U.inputPlaceholder)&&(N.placeholder=U.inputPlaceholder)},Hi=(N,U,K)=>{if(K.inputLabel){const ge=document.createElement("label"),nt=he["input-label"];ge.setAttribute("for",N.id),ge.className=nt,"object"==typeof K.customClass&&cn(ge,K.customClass.inputLabel),ge.innerText=K.inputLabel,U.insertAdjacentElement("beforebegin",ge)}},ms=N=>Et(Je(),he[N]||he.input),yi=(N,U)=>{["string","number"].includes(typeof U)?N.value=`${U}`:bn(U)||Ie(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof U}"`)},ni={};ni.text=ni.email=ni.password=ni.number=ni.tel=ni.url=(N,U)=>(yi(N,U.inputValue),Hi(N,N,U),Ir(N,U),N.type=U.input,N),ni.file=(N,U)=>(Hi(N,N,U),Ir(N,U),N),ni.range=(N,U)=>{const K=N.querySelector("input"),ge=N.querySelector("output");return yi(K,U.inputValue),K.type=U.input,yi(ge,U.inputValue),Hi(K,N,U),N},ni.select=(N,U)=>{if(N.textContent="",U.inputPlaceholder){const K=document.createElement("option");zt(K,U.inputPlaceholder),K.value="",K.disabled=!0,K.selected=!0,N.appendChild(K)}return Hi(N,N,U),N},ni.radio=N=>(N.textContent="",N),ni.checkbox=(N,U)=>{const K=ci(Je(),"checkbox");K.value="1",K.checked=Boolean(U.inputValue);const ge=N.querySelector("span");return zt(ge,U.inputPlaceholder),K},ni.textarea=(N,U)=>{yi(N,U.inputValue),Ir(N,U),Hi(N,N,U);return setTimeout(()=>{if("MutationObserver"in window){const ge=parseInt(window.getComputedStyle(Je()).width);new MutationObserver(()=>{if(!document.body.contains(N))return;const Xt=N.offsetWidth+(ge=>parseInt(window.getComputedStyle(ge).marginLeft)+parseInt(window.getComputedStyle(ge).marginRight))(N);Xt>ge?Je().style.width=`${Xt}px`:ir(Je(),"width",U.width)}).observe(N,{attributes:!0,attributeFilter:["style"]})}}),N};const ri=(N,U)=>{const K=Dt();!K||(er(K,U,"htmlContainer"),U.html?(ke(U.html,K),Tr(K,"block")):U.text?(K.textContent=U.text,Tr(K,"block")):Rn(K),((N,U)=>{const K=Je();if(!K)return;const ge=Y.innerParams.get(N),nt=!ge||U.input!==ge.input;Fi.forEach(Xt=>{const Jn=Et(K,he[Xt]);!Jn||(Ot(Xt,U.inputAttributes),Jn.className=he[Xt],nt&&Rn(Jn))}),U.input&&(nt&&Do(U),Pn(U))})(N,U))},Zn=(N,U)=>{for(const[K,ge]of Object.entries(at))U.icon!==K&&tr(N,ge);cn(N,U.icon&&at[U.icon]),ii(N,U),aa(),er(N,U,"icon")},aa=()=>{const N=Je();if(!N)return;const U=window.getComputedStyle(N).getPropertyValue("background-color"),K=N.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ge=0;ge<K.length;ge++)K[ge].style.backgroundColor=U},vs=(N,U)=>{if(!U.icon&&!U.iconHtml)return;let K=N.innerHTML,ge="";U.iconHtml?ge=Ns(U.iconHtml):"success"===U.icon?(ge='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',K=K.replace(/ style=".*?"/g,"")):"error"===U.icon?ge='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':U.icon&&(ge=Ns({question:"?",warning:"!",info:"i"}[U.icon])),K.trim()!==ge.trim()&&zt(N,ge)},ii=(N,U)=>{if(U.iconColor){N.style.color=U.iconColor,N.style.borderColor=U.iconColor;for(const K of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])sa(N,K,"backgroundColor",U.iconColor);sa(N,".swal2-success-ring","borderColor",U.iconColor)}},Ns=N=>`<div class="${he["icon-content"]}">${N}</div>`,Ia=(N,U)=>{const K=U.showClass||{};N.className=`${he.popup} ${Mr(N)?K.popup:""}`,U.toast?(cn([document.documentElement,document.body],he["toast-shown"]),cn(N,he.toast)):cn(N,he.modal),er(N,U,"popup"),"string"==typeof U.customClass&&cn(N,U.customClass),U.icon&&cn(N,he[`icon-${U.icon}`])},Nr=N=>{const U=document.createElement("li");return cn(U,he["progress-step"]),zt(U,N),U},md=N=>{const U=document.createElement("li");return cn(U,he["progress-step-line"]),N.progressStepsDistance&&ir(U,"width",N.progressStepsDistance),U},sr=(N,U)=>{((N,U)=>{const K=Dn(),ge=Je();if(K&&ge){if(U.toast){ir(K,"width",U.width),ge.style.width="100%";const nt=kn();nt&&ge.insertBefore(nt,F())}else ir(ge,"width",U.width);ir(ge,"padding",U.padding),U.color&&(ge.style.color=U.color),U.background&&(ge.style.background=U.background),Rn(qt()),Ia(ge,U)}})(0,U),vi(0,U),((N,U)=>{const K=Te();if(!K)return;const{progressSteps:ge,currentProgressStep:nt}=U;ge&&0!==ge.length&&void 0!==nt?(Tr(K),K.textContent="",nt>=ge.length&&Ie("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),ge.forEach((Xt,Jn)=>{const wr=Nr(Xt);if(K.appendChild(wr),Jn===nt&&cn(wr,he["active-progress-step"]),Jn!==ge.length-1){const En=md(U);K.appendChild(En)}})):Rn(K)})(0,U),((N,U)=>{const K=Y.innerParams.get(N),ge=F();if(ge){if(K&&U.icon===K.icon)return vs(ge,U),void Zn(ge,U);if(!U.icon&&!U.iconHtml)return void Rn(ge);if(U.icon&&-1===Object.keys(at).indexOf(U.icon))return Ce(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${U.icon}"`),void Rn(ge);Tr(ge),vs(ge,U),Zn(ge,U),cn(ge,U.showClass&&U.showClass.icon)}})(N,U),((N,U)=>{const K=br();if(K){if(!U.imageUrl)return void Rn(K);Tr(K,""),K.setAttribute("src",U.imageUrl),K.setAttribute("alt",U.imageAlt||""),ir(K,"width",U.imageWidth),ir(K,"height",U.imageHeight),K.className=he.image,er(K,U,"image")}})(0,U),((N,U)=>{const K=yt();!K||(Xi(K,U.title||U.titleText,"block"),U.title&&ke(U.title,K),U.titleText&&(K.innerText=U.titleText),er(K,U,"title"))})(0,U),((N,U)=>{const K=Pe();!K||(zt(K,U.closeButtonHtml||""),er(K,U,"closeButton"),Xi(K,U.showCloseButton),K.setAttribute("aria-label",U.closeButtonAriaLabel||""))})(0,U),ri(N,U),pn(0,U),((N,U)=>{const K=Ee();!K||(Xi(K,U.footer),U.footer&&ke(U.footer,K),er(K,U,"footer"))})(0,U);const K=Je();"function"==typeof U.didRender&&K&&U.didRender(K)},Jt=()=>xt()&&xt().click(),Sn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),tu=N=>{N.keydownTarget&&N.keydownHandlerAdded&&(N.keydownTarget.removeEventListener("keydown",N.keydownHandler,{capture:N.keydownListenerCapture}),N.keydownHandlerAdded=!1)},bi=(N,U)=>{const K=Xe();if(K.length)return(N+=U)===K.length?N=0:-1===N&&(N=K.length-1),void K[N].focus();Je().focus()},kr=["ArrowRight","ArrowDown"],Bn=["ArrowLeft","ArrowUp"],Ei=(N,U,K)=>{const ge=Y.innerParams.get(N);!ge||U.isComposing||229===U.keyCode||(ge.stopKeydownPropagation&&U.stopPropagation(),"Enter"===U.key?Qo(N,U,ge):"Tab"===U.key?$l(U):[...kr,...Bn].includes(U.key)?ys(U.key):"Escape"===U.key&&fo(U,ge,K))},Qo=(N,U,K)=>{if(ht(K.allowEnterKey)&&U.target&&N.getInput()&&U.target instanceof HTMLElement&&U.target.outerHTML===N.getInput().outerHTML){if(["textarea","file"].includes(K.input))return;Jt(),U.preventDefault()}},$l=N=>{const U=N.target,K=Xe();let ge=-1;for(let nt=0;nt<K.length;nt++)if(U===K[nt]){ge=nt;break}bi(ge,N.shiftKey?-1:1),N.stopPropagation(),N.preventDefault()},ys=N=>{const U=xt(),K=wn(),ge=yn();if(document.activeElement instanceof HTMLElement&&![U,K,ge].includes(document.activeElement))return;const Xt=kr.includes(N)?"nextElementSibling":"previousElementSibling";let Jn=document.activeElement;for(let wr=0;wr<Oe().children.length;wr++){if(Jn=Jn[Xt],!Jn)return;if(Jn instanceof HTMLButtonElement&&Mr(Jn))break}Jn instanceof HTMLButtonElement&&Jn.focus()},fo=(N,U,K)=>{ht(U.allowEscapeKey)&&(N.preventDefault(),K(Sn.esc))};var ua={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Jo=()=>{Array.from(document.body.children).forEach(U=>{U.hasAttribute("data-previous-aria-hidden")?(U.setAttribute("aria-hidden",U.getAttribute("data-previous-aria-hidden")||""),U.removeAttribute("data-previous-aria-hidden")):U.removeAttribute("aria-hidden")})},ks=typeof window<"u"&&!!window.GestureEvent,Rs=()=>{const N=Dn();let U;N.ontouchstart=K=>{U=zl(K)},N.ontouchmove=K=>{U&&(K.preventDefault(),K.stopPropagation())}},zl=N=>{const U=N.target,K=Dn();return!vd(N)&&!xu(N)&&(U===K||!Nt(K)&&U instanceof HTMLElement&&"INPUT"!==U.tagName&&"TEXTAREA"!==U.tagName&&!(Nt(Dt())&&Dt().contains(U)))},vd=N=>N.touches&&N.touches.length&&"stylus"===N.touches[0].touchType,xu=N=>N.touches&&N.touches.length>1;let Fs=null;const Ls=()=>{null===Fs&&document.body.scrollHeight>window.innerHeight&&(Fs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Fs+(()=>{const N=document.createElement("div");N.className=he["scrollbar-measure"],document.body.appendChild(N);const U=N.getBoundingClientRect().width-N.clientWidth;return document.body.removeChild(N),U})()}px`)};function lr(N,U,K,ge){on()?Wl(N,ge):(Q(K).then(()=>Wl(N,ge)),tu(ae)),ks?(U.setAttribute("style","display:none !important"),U.removeAttribute("class"),U.innerHTML=""):U.remove(),$t()&&(null!==Fs&&(document.body.style.paddingRight=`${Fs}px`,Fs=null),(()=>{if(zn(document.body,he.iosfix)){const N=parseInt(document.body.style.top,10);tr(document.body,he.iosfix),document.body.style.top="",document.body.scrollTop=-1*N}})(),Jo()),function nu(){tr([document.documentElement,document.body],[he.shown,he["height-auto"],he["no-backdrop"],he["toast-shown"]])}()}function Yt(N){N=qi(N);const U=ua.swalPromiseResolve.get(this),K=Wr(this);this.isAwaitingPromise?N.isDismissed||(ru(this),U(N)):K&&U(N)}const Wr=N=>{const U=Je();if(!U)return!1;const K=Y.innerParams.get(N);if(!K||zn(U,K.hideClass.popup))return!1;tr(U,K.showClass.popup),cn(U,K.hideClass.popup);const ge=Dn();return tr(ge,K.showClass.backdrop),cn(ge,K.hideClass.backdrop),yd(N,U,K),!0};function bs(N){const U=ua.swalPromiseReject.get(this);ru(this),U&&U(N)}const ru=N=>{N.isAwaitingPromise&&(delete N.isAwaitingPromise,Y.innerParams.get(N)||N._destroy())},qi=N=>typeof N>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},N),yd=(N,U,K)=>{const ge=Dn(),nt=bt&&Wt(U);"function"==typeof K.willClose&&K.willClose(U),nt?$o(N,U,ge,K.returnFocus,K.didClose):lr(N,ge,K.returnFocus,K.didClose)},$o=(N,U,K,ge,nt)=>{ae.swalCloseEventFinishedCallback=lr.bind(null,N,K,ge,nt),U.addEventListener(bt,function(Xt){Xt.target===U&&(ae.swalCloseEventFinishedCallback(),delete ae.swalCloseEventFinishedCallback)})},Wl=(N,U)=>{setTimeout(()=>{"function"==typeof U&&U.bind(N.params)(),N._destroy&&N._destroy()})},ho=N=>{let U=Je();if(U||new go,U=Je(),!U)return;const K=kn();on()?Rn(F()):iu(U,N),Tr(K),U.setAttribute("data-loading","true"),U.setAttribute("aria-busy","true"),U.focus()},iu=(N,U)=>{const K=Oe(),ge=kn();!K||!ge||(!U&&Mr(xt())&&(U=xt()),Tr(K),U&&(Rn(U),ge.setAttribute("data-button-to-replace",U.className),K.insertBefore(ge,U)),cn([N,K],he.loading))},Us=N=>N.checked?1:0,ou=N=>N.checked?N.value:null,Pa=N=>N.files&&N.files.length?null!==N.getAttribute("multiple")?N.files:N.files[0]:null,Io=(N,U)=>{const K=Je();if(!K)return;const ge=nt=>{"select"===U.input?function ll(N,U,K){const ge=Et(N,he.select);if(!ge)return;const nt=(Xt,Jn,wr)=>{const En=document.createElement("option");En.value=wr,zt(En,Jn),En.selected=$r(wr,K.inputValue),Xt.appendChild(En)};U.forEach(Xt=>{const Jn=Xt[0],wr=Xt[1];if(Array.isArray(wr)){const En=document.createElement("optgroup");En.label=Jn,En.disabled=!1,ge.appendChild(En),wr.forEach(uu=>nt(En,uu[1],uu[0]))}else nt(ge,wr,Jn)}),ge.focus()}(K,da(nt),U):"radio"===U.input&&function ca(N,U,K){const ge=Et(N,he.radio);if(!ge)return;U.forEach(Xt=>{const Jn=Xt[0],wr=Xt[1],En=document.createElement("input"),uu=document.createElement("label");En.type="radio",En.name=he.radio,En.value=Jn,$r(Jn,K.inputValue)&&(En.checked=!0);const Mo=document.createElement("span");zt(Mo,wr),Mo.className=he.label,uu.appendChild(En),uu.appendChild(Mo),ge.appendChild(uu)});const nt=ge.querySelectorAll("input");nt.length&&nt[0].focus()}(K,da(nt),U)};ut(U.inputOptions)||bn(U.inputOptions)?(ho(xt()),qe(U.inputOptions).then(nt=>{N.hideLoading(),ge(nt)})):"object"==typeof U.inputOptions?ge(U.inputOptions):Ce("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof U.inputOptions)},ul=(N,U)=>{const K=N.getInput();!K||(Rn(K),qe(U.inputValue).then(ge=>{K.value="number"===U.input?`${parseFloat(ge)||0}`:`${ge}`,Tr(K),K.focus(),N.hideLoading()}).catch(ge=>{Ce(`Error in inputValue promise: ${ge}`),K.value="",Tr(K),K.focus(),N.hideLoading()}))};const da=N=>{const U=[];return N instanceof Map?N.forEach((K,ge)=>{let nt=K;"object"==typeof nt&&(nt=da(nt)),U.push([ge,nt])}):Object.keys(N).forEach(K=>{let ge=N[K];"object"==typeof ge&&(ge=da(ge)),U.push([K,ge])}),U},$r=(N,U)=>!!U&&U.toString()===N.toString(),Ma=(N,U)=>{const K=Y.innerParams.get(N);if(!K.input)return void Ce(`The "input" parameter is needed to be set when using returnInputValueOn${oe(U)}`);const ge=N.getInput(),nt=((N,U)=>{const K=N.getInput();if(!K)return null;switch(U.input){case"checkbox":return Us(K);case"radio":return ou(K);case"file":return Pa(K);default:return U.inputAutoTrim?K.value.trim():K.value}})(N,K);K.inputValidator?E(N,nt,U):ge&&!ge.checkValidity()?(N.enableButtons(),N.showValidationMessage(K.validationMessage)):"deny"===U?S(N,nt):G(N,nt)},E=(N,U,K)=>{const ge=Y.innerParams.get(N);N.disableInput(),Promise.resolve().then(()=>qe(ge.inputValidator(U,ge.validationMessage))).then(Xt=>{N.enableButtons(),N.enableInput(),Xt?N.showValidationMessage(Xt):"deny"===K?S(N,U):G(N,U)})},S=(N,U)=>{const K=Y.innerParams.get(N||void 0);K.showLoaderOnDeny&&ho(wn()),K.preDeny?(N.isAwaitingPromise=!0,Promise.resolve().then(()=>qe(K.preDeny(U,K.validationMessage))).then(nt=>{!1===nt?(N.hideLoading(),ru(N)):N.close({isDenied:!0,value:typeof nt>"u"?U:nt})}).catch(nt=>j(N||void 0,nt))):N.close({isDenied:!0,value:U})},R=(N,U)=>{N.close({isConfirmed:!0,value:U})},j=(N,U)=>{N.rejectPromise(U)},G=(N,U)=>{const K=Y.innerParams.get(N||void 0);K.showLoaderOnConfirm&&ho(),K.preConfirm?(N.resetValidationMessage(),N.isAwaitingPromise=!0,Promise.resolve().then(()=>qe(K.preConfirm(U,K.validationMessage))).then(nt=>{Mr(qt())||!1===nt?(N.hideLoading(),ru(N)):R(N,typeof nt>"u"?U:nt)}).catch(nt=>j(N||void 0,nt))):R(N,U)};function z(){const N=Y.innerParams.get(this);if(!N)return;const U=Y.domCache.get(this);Rn(U.loader),on()?N.icon&&Tr(F()):te(U),tr([U.popup,U.actions],he.loading),U.popup.removeAttribute("aria-busy"),U.popup.removeAttribute("data-loading"),U.confirmButton.disabled=!1,U.denyButton.disabled=!1,U.cancelButton.disabled=!1}const te=N=>{const U=N.popup.getElementsByClassName(N.loader.getAttribute("data-button-to-replace"));U.length?Tr(U[0],"inline-block"):!Mr(xt())&&!Mr(wn())&&!Mr(yn())&&Rn(N.actions)};function me(){const N=Y.innerParams.get(this),U=Y.domCache.get(this);return U?ci(U.popup,N.input):null}function pe(N,U,K){const ge=Y.domCache.get(N);U.forEach(nt=>{ge[nt].disabled=K})}function xe(N,U){const K=Je();if(K&&N)if("radio"===N.type){const ge=K.querySelectorAll(`[name="${he.radio}"]`);for(let nt=0;nt<ge.length;nt++)ge[nt].disabled=U}else N.disabled=U}function Ke(){pe(this,["confirmButton","denyButton","cancelButton"],!1)}function Re(){pe(this,["confirmButton","denyButton","cancelButton"],!0)}function je(){xe(this.getInput(),!1)}function vt(){xe(this.getInput(),!0)}function ln(N){const U=Y.domCache.get(this),K=Y.innerParams.get(this);zt(U.validationMessage,N),U.validationMessage.className=he["validation-message"],K.customClass&&K.customClass.validationMessage&&cn(U.validationMessage,K.customClass.validationMessage),Tr(U.validationMessage);const ge=this.getInput();ge&&(ge.setAttribute("aria-invalid",!0),ge.setAttribute("aria-describedby",he["validation-message"]),Tn(ge),cn(ge,he.inputerror))}function vr(){const N=Y.domCache.get(this);N.validationMessage&&Rn(N.validationMessage);const U=this.getInput();U&&(U.removeAttribute("aria-invalid"),U.removeAttribute("aria-describedby"),tr(U,he.inputerror))}const Hn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Pi=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],xr={},xo=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ct=N=>Object.prototype.hasOwnProperty.call(Hn,N),Vt=N=>-1!==Pi.indexOf(N),Bs=N=>xr[N],yr=N=>{ct(N)||Ie(`Unknown parameter "${N}"`)},Wn=N=>{xo.includes(N)&&Ie(`The parameter "${N}" is incompatible with toasts`)},Oa=N=>{const U=Bs(N);U&&Me(N,U)};function Er(N){const U=Je(),K=Y.innerParams.get(this);if(!U||zn(U,K.hideClass.popup))return void Ie("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const ge=Na(N),nt=Object.assign({},K,ge);sr(this,nt),Y.innerParams.set(this,nt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,N),writable:!1,enumerable:!0}})}const Na=N=>{const U={};return Object.keys(N).forEach(K=>{Vt(K)?U[K]=N[K]:Ie(`Invalid parameter to update: ${K}`)}),U};function Vo(){const N=Y.domCache.get(this),U=Y.innerParams.get(this);U?(N.popup&&ae.swalCloseEventFinishedCallback&&(ae.swalCloseEventFinishedCallback(),delete ae.swalCloseEventFinishedCallback),"function"==typeof U.didDestroy&&U.didDestroy(),Xo(this)):Rr(this)}const Xo=N=>{Rr(N),delete N.params,delete ae.keydownHandler,delete ae.keydownTarget,delete ae.currentInstance},Rr=N=>{N.isAwaitingPromise?(Zi(Y,N),N.isAwaitingPromise=!0):(Zi(ua,N),Zi(Y,N),delete N.isAwaitingPromise,delete N.disableButtons,delete N.enableButtons,delete N.getInput,delete N.disableInput,delete N.enableInput,delete N.hideLoading,delete N.disableLoading,delete N.showValidationMessage,delete N.resetValidationMessage,delete N.close,delete N.closePopup,delete N.closeModal,delete N.closeToast,delete N.rejectPromise,delete N.update,delete N._destroy)},Zi=(N,U)=>{for(const K in N)N[K].delete(U)};var Jl=Object.freeze({__proto__:null,_destroy:Vo,close:Yt,closeModal:Yt,closePopup:Yt,closeToast:Yt,disableButtons:Re,disableInput:vt,disableLoading:z,enableButtons:Ke,enableInput:je,getInput:me,handleAwaitingPromise:ru,hideLoading:z,rejectPromise:bs,resetValidationMessage:vr,showValidationMessage:ln,update:Er});const to=(N,U,K)=>{U.popup.onclick=()=>{const ge=Y.innerParams.get(N);ge&&(su(ge)||ge.timer||ge.input)||K(Sn.close)}},su=N=>N.showConfirmButton||N.showDenyButton||N.showCancelButton||N.showCloseButton;let js=!1;const Po=N=>{N.popup.onmousedown=()=>{N.container.onmouseup=function(U){N.container.onmouseup=void 0,U.target===N.container&&(js=!0)}}},Pr=N=>{N.container.onmousedown=()=>{N.popup.onmouseup=function(U){N.popup.onmouseup=void 0,(U.target===N.popup||N.popup.contains(U.target))&&(js=!0)}}},fa=(N,U,K)=>{U.container.onclick=ge=>{const nt=Y.innerParams.get(N);js?js=!1:ge.target===U.container&&ht(nt.allowOutsideClick)&&K(Sn.backdrop)}},jo=N=>N instanceof Element||(N=>"object"==typeof N&&N.jquery)(N);const po=()=>{if(ae.timeout)return(()=>{const N=Le();if(!N)return;const U=parseInt(window.getComputedStyle(N).width);N.style.removeProperty("transition"),N.style.width="100%";const K=parseInt(window.getComputedStyle(N).width);N.style.width=U/K*100+"%"})(),ae.timeout.stop()},es=()=>{if(ae.timeout){const N=ae.timeout.start();return _n(N),N}};let ka=!1;const Ra={};const ec=N=>{for(let U=N.target;U&&U!==document;U=U.parentNode)for(const K in Ra){const ge=U.getAttribute(K);if(ge)return void Ra[K].fire({template:ge})}};var cl=Object.freeze({__proto__:null,argsToParams:N=>{const U={};return"object"!=typeof N[0]||jo(N[0])?["title","html","icon"].forEach((K,ge)=>{const nt=N[ge];"string"==typeof nt||jo(nt)?U[K]=nt:void 0!==nt&&Ce(`Unexpected type of ${K}! Expected "string" or "Element", got ${typeof nt}`)}):Object.assign(U,N[0]),U},bindClickHandler:function Xl(){Ra[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ka||(document.body.addEventListener("click",ec),ka=!0)},clickCancel:()=>yn()&&yn().click(),clickConfirm:Jt,clickDeny:()=>wn()&&wn().click(),enableLoading:ho,fire:function Pu(){const N=this;for(var U=arguments.length,K=new Array(U),ge=0;ge<U;ge++)K[ge]=arguments[ge];return new N(...K)},getActions:Oe,getCancelButton:yn,getCloseButton:Pe,getConfirmButton:xt,getContainer:Dn,getDenyButton:wn,getFocusableElements:Xe,getFooter:Ee,getHtmlContainer:Dt,getIcon:F,getIconContent:()=>Ye(he["icon-content"]),getImage:br,getInputLabel:()=>Ye(he["input-label"]),getLoader:kn,getPopup:Je,getProgressSteps:Te,getTimerLeft:()=>ae.timeout&&ae.timeout.getTimerLeft(),getTimerProgressBar:Le,getTitle:yt,getValidationMessage:qt,increaseTimer:N=>{if(ae.timeout){const U=ae.timeout.increase(N);return _n(U,!0),U}},isDeprecatedParameter:Bs,isLoading:()=>{const N=Je();return!!N&&N.hasAttribute("data-loading")},isTimerRunning:()=>!(!ae.timeout||!ae.timeout.isRunning()),isUpdatableParameter:Vt,isValidParameter:ct,isVisible:()=>Mr(Je()),mixin:function Kr(N){return class U extends(this){_main(ge,nt){return super._main(ge,Object.assign({},N,nt))}}},resumeTimer:es,showLoading:ho,stopTimer:po,toggleTimer:()=>{const N=ae.timeout;return N&&(N.running?po():es())}});class fi{constructor(U,K){this.callback=U,this.remaining=K,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(U){const K=this.running;return K&&this.stop(),this.remaining+=U,K&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Si=["swal-title","swal-html","swal-footer"],ws=N=>{const U={};return Array.from(N.querySelectorAll("swal-param")).forEach(ge=>{Rt(ge,["name","value"]);const nt=ge.getAttribute("name"),Xt=ge.getAttribute("value");U[nt]="boolean"==typeof Hn[nt]?"false"!==Xt:"object"==typeof Hn[nt]?JSON.parse(Xt):Xt}),U},ce=N=>{const U={};return Array.from(N.querySelectorAll("swal-function-param")).forEach(ge=>{const nt=ge.getAttribute("name"),Xt=ge.getAttribute("value");U[nt]=new Function(`return ${Xt}`)()}),U},Se=N=>{const U={};return Array.from(N.querySelectorAll("swal-button")).forEach(ge=>{Rt(ge,["type","color","aria-label"]);const nt=ge.getAttribute("type");U[`${nt}ButtonText`]=ge.innerHTML,U[`show${oe(nt)}Button`]=!0,ge.hasAttribute("color")&&(U[`${nt}ButtonColor`]=ge.getAttribute("color")),ge.hasAttribute("aria-label")&&(U[`${nt}ButtonAriaLabel`]=ge.getAttribute("aria-label"))}),U},He=N=>{const U={},K=N.querySelector("swal-image");return K&&(Rt(K,["src","width","height","alt"]),K.hasAttribute("src")&&(U.imageUrl=K.getAttribute("src")),K.hasAttribute("width")&&(U.imageWidth=K.getAttribute("width")),K.hasAttribute("height")&&(U.imageHeight=K.getAttribute("height")),K.hasAttribute("alt")&&(U.imageAlt=K.getAttribute("alt"))),U},We=N=>{const U={},K=N.querySelector("swal-icon");return K&&(Rt(K,["type","color"]),K.hasAttribute("type")&&(U.icon=K.getAttribute("type")),K.hasAttribute("color")&&(U.iconColor=K.getAttribute("color")),U.iconHtml=K.innerHTML),U},st=N=>{const U={},K=N.querySelector("swal-input");K&&(Rt(K,["type","label","placeholder","value"]),U.input=K.getAttribute("type")||"text",K.hasAttribute("label")&&(U.inputLabel=K.getAttribute("label")),K.hasAttribute("placeholder")&&(U.inputPlaceholder=K.getAttribute("placeholder")),K.hasAttribute("value")&&(U.inputValue=K.getAttribute("value")));const ge=Array.from(N.querySelectorAll("swal-input-option"));return ge.length&&(U.inputOptions={},ge.forEach(nt=>{Rt(nt,["value"]);const Xt=nt.getAttribute("value");U.inputOptions[Xt]=nt.innerHTML})),U},It=(N,U)=>{const K={};for(const ge in U){const nt=U[ge],Xt=N.querySelector(nt);Xt&&(Rt(Xt,[]),K[nt.replace(/^swal-/,"")]=Xt.innerHTML.trim())}return K},kt=N=>{const U=Si.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(N.children).forEach(K=>{const ge=K.tagName.toLowerCase();U.includes(ge)||Ie(`Unrecognized element <${ge}>`)})},Rt=(N,U)=>{Array.from(N.attributes).forEach(K=>{-1===U.indexOf(K.name)&&Ie([`Unrecognized attribute "${K.name}" on <${N.tagName.toLowerCase()}>.`,U.length?`Allowed attributes are: ${U.join(", ")}`:"To set the value, use HTML within the element."])})},pr=N=>{const U=Dn(),K=Je();"function"==typeof N.willOpen&&N.willOpen(K);const nt=window.getComputedStyle(document.body).overflowY;gn(U,K,N),setTimeout(()=>{nn(U,K)},10),$t()&&(Ln(U,N.scrollbarPadding,nt),Array.from(document.body.children).forEach(U=>{U===Dn()||U.contains(Dn())||(U.hasAttribute("aria-hidden")&&U.setAttribute("data-previous-aria-hidden",U.getAttribute("aria-hidden")||""),U.setAttribute("aria-hidden","true"))})),!on()&&!ae.previousActiveElement&&(ae.previousActiveElement=document.activeElement),"function"==typeof N.didOpen&&setTimeout(()=>N.didOpen(K)),tr(U,he["no-transition"])},tn=N=>{const U=Je();if(N.target!==U)return;const K=Dn();U.removeEventListener(bt,tn),K.style.overflowY="auto"},nn=(N,U)=>{bt&&Wt(U)?(N.style.overflowY="hidden",U.addEventListener(bt,tn)):N.style.overflowY="auto"},Ln=(N,U,K)=>{(()=>{if(ks&&!zn(document.body,he.iosfix)){const N=document.body.scrollTop;document.body.style.top=-1*N+"px",cn(document.body,he.iosfix),Rs()}})(),U&&"hidden"!==K&&Ls(),setTimeout(()=>{N.scrollTop=0})},gn=(N,U,K)=>{cn(N,K.showClass.backdrop),U.style.setProperty("opacity","0","important"),Tr(U,"grid"),setTimeout(()=>{cn(U,K.showClass.popup),U.style.removeProperty("opacity")},10),cn([document.documentElement,document.body],he.shown),K.heightAuto&&K.backdrop&&!K.toast&&cn([document.documentElement,document.body],he["height-auto"])};var qr_email=(N,U)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(N)?Promise.resolve():Promise.resolve(U||"Invalid email address"),qr_url=(N,U)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(N)?Promise.resolve():Promise.resolve(U||"Invalid URL");function Ki(N){(function $i(N){N.inputValidator||("email"===N.input&&(N.inputValidator=qr_email),"url"===N.input&&(N.inputValidator=qr_url))})(N),N.showLoaderOnConfirm&&!N.preConfirm&&Ie("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function hi(N){(!N.target||"string"==typeof N.target&&!document.querySelector(N.target)||"string"!=typeof N.target&&!N.target.appendChild)&&(Ie('Target parameter is not valid, defaulting to "body"'),N.target="body")}(N),"string"==typeof N.title&&(N.title=N.title.split("\n").join("<br />")),we(N)}let Zr;class Vr{constructor(){if(typeof window>"u")return;Zr=this;for(var U=arguments.length,K=new Array(U),ge=0;ge<U;ge++)K[ge]=arguments[ge];const nt=Object.freeze(this.constructor.argsToParams(K));this.params=nt,this.isAwaitingPromise=!1;const Xt=Zr._main(Zr.params);Y.promise.set(this,Xt)}_main(U){let K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(N=>{!1===N.backdrop&&N.allowOutsideClick&&Ie('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const U in N)yr(U),N.toast&&Wn(U),Oa(U)})(Object.assign({},K,U)),ae.currentInstance&&(ae.currentInstance._destroy(),$t()&&Jo()),ae.currentInstance=Zr;const ge=Pc(U,K);Ki(ge),Object.freeze(ge),ae.timeout&&(ae.timeout.stop(),delete ae.timeout),clearTimeout(ae.restoreFocusTimeout);const nt=pa(Zr);return sr(Zr,ge),Y.innerParams.set(Zr,ge),wi(Zr,nt,ge)}then(U){return Y.promise.get(this).then(U)}finally(U){return Y.promise.get(this).finally(U)}}const wi=(N,U,K)=>new Promise((ge,nt)=>{const Xt=Jn=>{N.close({isDismissed:!0,dismiss:Jn})};ua.swalPromiseResolve.set(N,ge),ua.swalPromiseReject.set(N,nt),U.confirmButton.onclick=()=>{(N=>{const U=Y.innerParams.get(N);N.disableButtons(),U.input?Ma(N,"confirm"):G(N,!0)})(N)},U.denyButton.onclick=()=>{(N=>{const U=Y.innerParams.get(N);N.disableButtons(),U.returnInputValueOnDeny?Ma(N,"deny"):S(N,!1)})(N)},U.cancelButton.onclick=()=>{((N,U)=>{N.disableButtons(),U(Sn.cancel)})(N,Xt)},U.closeButton.onclick=()=>{Xt(Sn.close)},((N,U,K)=>{Y.innerParams.get(N).toast?to(N,U,K):(Po(U),Pr(U),fa(N,U,K))})(N,U,Xt),((N,U,K,ge)=>{tu(U),K.toast||(U.keydownHandler=nt=>Ei(N,nt,ge),U.keydownTarget=K.keydownListenerCapture?window:Je(),U.keydownListenerCapture=K.keydownListenerCapture,U.keydownTarget.addEventListener("keydown",U.keydownHandler,{capture:U.keydownListenerCapture}),U.keydownHandlerAdded=!0)})(N,ae,K,Xt),((N,U)=>{"select"===U.input||"radio"===U.input?Io(N,U):["text","email","number","tel","textarea"].some(K=>K===U.input)&&(ut(U.inputValue)||bn(U.inputValue))&&(ho(xt()),ul(N,U))})(N,K),pr(K),Eh(ae,K,Xt),dl(U,K),setTimeout(()=>{U.container.scrollTop=0})}),Pc=(N,U)=>{const K=(N=>{const U="string"==typeof N.template?document.querySelector(N.template):N.template;if(!U)return{};const K=U.content;return kt(K),Object.assign(ws(K),ce(K),Se(K),He(K),We(K),st(K),It(K,Si))})(N),ge=Object.assign({},Hn,U,K,N);return ge.showClass=Object.assign({},Hn.showClass,ge.showClass),ge.hideClass=Object.assign({},Hn.hideClass,ge.hideClass),ge},pa=N=>{const U={popup:Je(),container:Dn(),actions:Oe(),confirmButton:xt(),denyButton:wn(),cancelButton:yn(),loader:kn(),closeButton:Pe(),validationMessage:qt(),progressSteps:Te()};return Y.domCache.set(N,U),U},Eh=(N,U,K)=>{const ge=Le();Rn(ge),U.timer&&(N.timeout=new fi(()=>{K("timer"),delete N.timeout},U.timer),U.timerProgressBar&&(Tr(ge),er(ge,U,"timerProgressBar"),setTimeout(()=>{N.timeout&&N.timeout.running&&_n(U.timer)})))},dl=(N,U)=>{if(!U.toast){if(!ht(U.allowEnterKey))return void Hs();_d(N,U)||bi(-1,1)}},_d=(N,U)=>U.focusDeny&&Mr(N.denyButton)?(N.denyButton.focus(),!0):U.focusCancel&&Mr(N.cancelButton)?(N.cancelButton.focus(),!0):!(!U.focusConfirm||!Mr(N.confirmButton)||(N.confirmButton.focus(),0)),Hs=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const N=new Date,U=localStorage.getItem("swal-initiation");U?(N.getTime()-Date.parse(U))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const K=document.createElement("audio");K.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",K.loop=!0,document.body.appendChild(K),setTimeout(()=>{K.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${N}`)}Vr.prototype.disableButtons=Re,Vr.prototype.enableButtons=Ke,Vr.prototype.getInput=me,Vr.prototype.disableInput=vt,Vr.prototype.enableInput=je,Vr.prototype.hideLoading=z,Vr.prototype.disableLoading=z,Vr.prototype.showValidationMessage=ln,Vr.prototype.resetValidationMessage=vr,Vr.prototype.close=Yt,Vr.prototype.closePopup=Yt,Vr.prototype.closeModal=Yt,Vr.prototype.closeToast=Yt,Vr.prototype.rejectPromise=bs,Vr.prototype.update=Er,Vr.prototype._destroy=Vo,Object.assign(Vr,cl),Object.keys(Jl).forEach(N=>{Vr[N]=function(){return Zr&&Zr[N]?Zr[N](...arguments):null}}),Vr.DismissReason=Sn,Vr.version="11.7.22";const go=Vr;return go.default=go,go}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(pt,ae){var a=pt.createElement("style");if(pt.getElementsByTagName("head")[0].appendChild(a),a.styleSheet)a.styleSheet.disabled||(a.styleSheet.cssText=ae);else try{a.innerHTML=ae}catch{a.innerText=ae}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},4650:(an,pt,ae)=>{"use strict";ae.d(pt,{$8M:()=>Ho,$Z:()=>zo,AFp:()=>y1,ALo:()=>Ig,AaK:()=>at,Akn:()=>kl,AsE:()=>u0,BQk:()=>Ym,CHM:()=>Bs,CRH:()=>gv,CZH:()=>j0,CqO:()=>z_,D6c:()=>Mv,EJc:()=>KS,EiD:()=>L,EpF:()=>aC,F$t:()=>GT,F4k:()=>un,FYo:()=>tg,FiY:()=>La,G48:()=>Da,Gf:()=>zE,GfV:()=>py,GkF:()=>sC,Gpc:()=>Ie,Hsn:()=>Xs,IIB:()=>oA,Ikx:()=>MC,JOm:()=>As,JVY:()=>Zp,KtG:()=>yr,L6k:()=>im,LAX:()=>Gp,LFG:()=>ro,LSH:()=>Be,Lbi:()=>uA,Lck:()=>WC,MAs:()=>iC,MGl:()=>us,MMx:()=>Ab,NdJ:()=>ar,O4$:()=>ws,OlP:()=>Qr,Oqu:()=>nb,PXZ:()=>nI,Q6J:()=>oC,QGY:()=>uC,QP$:()=>Ao,QbO:()=>WS,Qsj:()=>__,R0b:()=>Ya,RDi:()=>Bd,Rgc:()=>Tc,SBq:()=>eg,Sil:()=>T1,Suo:()=>d1,TTD:()=>$o,TgZ:()=>zm,Tol:()=>nE,Udp:()=>ev,VKq:()=>Ju,W1O:()=>YE,WLB:()=>tt,X6Q:()=>rl,XFs:()=>Et,Xpm:()=>Fe,Xts:()=>Il,Y36:()=>Ml,YKP:()=>zC,YNc:()=>$m,Yjl:()=>Eo,Yz7:()=>Xe,Z0I:()=>zt,ZZ4:()=>z0,_Bn:()=>cv,_UZ:()=>se,_Vd:()=>Xc,_c5:()=>IA,_uU:()=>sE,aQg:()=>zb,c2e:()=>b1,cJS:()=>on,cg1:()=>Ta,d8E:()=>ph,dDg:()=>hA,dqk:()=>mi,eBb:()=>qd,eFA:()=>vA,ekj:()=>t0,eoX:()=>P1,f3M:()=>Kt,g9A:()=>hs,h0i:()=>Dg,hGG:()=>mp,hij:()=>a0,iGM:()=>ta,ifc:()=>_n,ip1:()=>aA,jDz:()=>KC,kEZ:()=>Ct,kL8:()=>rv,kYT:()=>Un,l5B:()=>Cc,lG2:()=>vi,lqb:()=>xl,lri:()=>x1,mCW:()=>Gh,n5z:()=>Cd,oAB:()=>mr,oJD:()=>fe,oxw:()=>ZT,pB0:()=>gc,q3G:()=>ie,q4F:()=>w_,qLn:()=>Jh,qOj:()=>Kw,qZA:()=>Wm,qzn:()=>Hd,rWj:()=>wv,s9C:()=>Qm,sBO:()=>Av,sIi:()=>Hm,s_b:()=>fp,soG:()=>H0,tb:()=>lA,tp0:()=>qs,uIk:()=>$_,vHH:()=>Me,vpe:()=>Eu,wAp:()=>qn,xi3:()=>a1,xp6:()=>_m,ynx:()=>rf,z2F:()=>Vi,z3N:()=>_a,zSh:()=>Wh,zs3:()=>mc});var a=ae(7579),Q=ae(727),Y=ae(9751),De=ae(6451),ot=ae(3099);function he(c){for(let d in c)if(c[d]===he)return d;throw Error("Could not find renamed property on target object.")}function rt(c,d){for(const f in d)d.hasOwnProperty(f)&&!c.hasOwnProperty(f)&&(c[f]=d[f])}function at(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(at).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const d=c.toString();if(null==d)return""+d;const f=d.indexOf("\n");return-1===f?d:d.substring(0,f)}function ze(c,d){return null==c||""===c?null===d?"":d:null==d||""===d?c:c+" "+d}const oe=he({__forward_ref__:he});function Ie(c){return c.__forward_ref__=Ie,c.toString=function(){return at(this())},c}function Ce(c){return Qe(c)?c():c}function Qe(c){return"function"==typeof c&&c.hasOwnProperty(oe)&&c.__forward_ref__===Ie}class Me extends Error{constructor(d,f){super(function ht(c,d){return`NG0${Math.abs(c)}${d?": "+d.trim():""}`}(d,f)),this.code=d}}function ut(c){return"string"==typeof c?c:null==c?"":String(c)}function Ye(c,d){throw new Me(-201,!1)}function Oe(c,d){null==c&&function Ee(c,d,f,y){throw new Error(`ASSERTION ERROR: ${c}`+(null==y?"":` [Expected=> ${f} ${y} ${d} <=Actual]`))}(d,c,null,"!=")}function Xe(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function on(c){return{providers:c.providers||[],imports:c.imports||[]}}function Lr(c){return zn(c,Tn)||zn(c,cn)}function zt(c){return null!==Lr(c)}function zn(c,d){return c.hasOwnProperty(d)?c[d]:null}function ci(c){return c&&(c.hasOwnProperty(Mn)||c.hasOwnProperty(tr))?c[Mn]:null}const Tn=he({\u0275prov:he}),Mn=he({\u0275inj:he}),cn=he({ngInjectableDef:he}),tr=he({ngInjectorDef:he});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let ir;function Rn(c){const d=ir;return ir=c,d}function sa(c,d,f){const y=Lr(c);return y&&"root"==y.providedIn?void 0===y.value?y.value=y.factory():y.value:f&Et.Optional?null:void 0!==d?d:void Ye(at(c))}function Mr(c){return{toString:c}.toString()}var Wi=(()=>((Wi=Wi||{})[Wi.OnPush=0]="OnPush",Wi[Wi.Default=1]="Default",Wi))(),_n=(()=>{return(c=_n||(_n={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",_n;var c})();const mi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ji={},hn=[],Bo=he({\u0275cmp:he}),Fn=he({\u0275dir:he}),Ko=he({\u0275pipe:he}),be=he({\u0275mod:he}),we=he({\u0275fac:he}),ke=he({__NG_ELEMENT_ID__:he});let $e=0;function Fe(c){return Mr(()=>{const f=!0===c.standalone,y={},b={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:y,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===Wi.OnPush,directiveDefs:null,pipeDefs:null,standalone:f,dependencies:f&&c.dependencies||null,getStandaloneInjector:null,selectors:c.selectors||hn,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||_n.Emulated,id:"c"+$e++,styles:c.styles||hn,_:null,setInput:null,schemas:c.schemas||null,tView:null},A=c.dependencies,x=c.features;return b.inputs=Ur(c.inputs,y),b.outputs=Ur(c.outputs),x&&x.forEach(O=>O(b)),b.directiveDefs=A?()=>("function"==typeof A?A():A).map(pn).filter(gr):null,b.pipeDefs=A?()=>("function"==typeof A?A():A).map(Fi).filter(gr):null,b})}function pn(c){return dr(c)||Yi(c)}function gr(c){return null!==c}function mr(c){return Mr(()=>({type:c.type,bootstrap:c.bootstrap||hn,declarations:c.declarations||hn,imports:c.imports||hn,exports:c.exports||hn,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null}))}function Un(c,d){return Mr(()=>{const f=Do(c,!0);f.declarations=d.declarations||hn,f.imports=d.imports||hn,f.exports=d.exports||hn})}function Ur(c,d){if(null==c)return ji;const f={};for(const y in c)if(c.hasOwnProperty(y)){let b=c[y],A=b;Array.isArray(b)&&(A=b[1],b=b[0]),f[b]=y,d&&(d[b]=A)}return f}const vi=Fe;function Eo(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,standalone:!0===c.standalone,onDestroy:c.type.prototype.ngOnDestroy||null}}function dr(c){return c[Bo]||null}function Yi(c){return c[Fn]||null}function Fi(c){return c[Ko]||null}function Ao(c){const d=dr(c)||Yi(c)||Fi(c);return null!==d&&d.standalone}function Do(c,d){const f=c[be]||null;if(!f&&!0===d)throw new Error(`Type ${at(c)} does not have '\u0275mod' property.`);return f}function Li(c){return Array.isArray(c)&&"object"==typeof c[1]}function bi(c){return Array.isArray(c)&&!0===c[1]}function kr(c){return 0!=(8&c.flags)}function Bn(c){return 2==(2&c.flags)}function Ei(c){return 1==(1&c.flags)}function Qo(c){return null!==c.template}function $l(c){return 0!=(256&c[2])}function qi(c,d){return c.hasOwnProperty(we)?c[we]:null}class yd{constructor(d,f,y){this.previousValue=d,this.currentValue=f,this.firstChange=y}isFirstChange(){return this.firstChange}}function $o(){return Wl}function Wl(c){return c.type.prototype.ngOnChanges&&(c.setInput=iu),ho}function ho(){const c=Kl(this),d=c?.current;if(d){const f=c.previous;if(f===ji)c.previous=d;else for(let y in d)f[y]=d[y];c.current=null,this.ngOnChanges(d)}}function iu(c,d,f,y){const b=Kl(c)||function Us(c,d){return c[Yl]=d}(c,{previous:ji,current:null}),A=b.current||(b.current={}),x=b.previous,O=this.declaredInputs[f],V=x[O];A[O]=new yd(V&&V.currentValue,d,x===ji),c[y]=d}$o.ngInherit=!0;const Yl="__ngSimpleChanges__";function Kl(c){return c[Yl]||null}function Ai(c){for(;Array.isArray(c);)c=c[0];return c}function Ma(c,d){return Ai(d[c])}function E(c,d){return Ai(d[c.index])}function R(c,d){return c.data[d]}function j(c,d){return c[d]}function G(c,d){const f=d[c];return Li(f)?f:f[0]}function te(c){return 64==(64&c[2])}function pe(c,d){return null==d?null:c[d]}function xe(c){c[18]=0}function Ke(c,d){c[5]+=d;let f=c,y=c[3];for(;null!==y&&(1===d&&1===f[5]||-1===d&&0===f[5]);)y[5]+=d,f=y,y=y[3]}const Re={lFrame:Mu(null),bindingsEnabled:!0};function Pi(){return Re.bindingsEnabled}function ct(){return Re.lFrame.lView}function Vt(){return Re.lFrame.tView}function Bs(c){return Re.lFrame.contextLView=c,c[8]}function yr(c){return Re.lFrame.contextLView=null,c}function Wn(){let c=Oa();for(;null!==c&&64===c.type;)c=c.parent;return c}function Oa(){return Re.lFrame.currentTNode}function Er(c,d){const f=Re.lFrame;f.currentTNode=c,f.isParent=d}function Na(){return Re.lFrame.isParent}function Vo(){Re.lFrame.isParent=!1}function Yr(){const c=Re.lFrame;let d=c.bindingRootIndex;return-1===d&&(d=c.bindingRootIndex=c.tView.bindingStartIndex),d}function js(){return Re.lFrame.bindingIndex++}function Po(c){const d=Re.lFrame,f=d.bindingIndex;return d.bindingIndex=d.bindingIndex+c,f}function Gi(c,d){const f=Re.lFrame;f.bindingIndex=f.bindingRootIndex=c,au(d)}function au(c){Re.lFrame.currentDirectiveIndex=c}function Pu(c){const d=Re.lFrame.currentDirectiveIndex;return-1===d?null:c[d]}function Kr(){return Re.lFrame.currentQueryIndex}function di(c){Re.lFrame.currentQueryIndex=c}function po(c){const d=c[1];return 2===d.type?d.declTNode:1===d.type?c[6]:null}function es(c,d,f){if(f&Et.SkipSelf){let b=d,A=c;for(;!(b=b.parent,null!==b||f&Et.Host||(b=po(A),null===b||(A=A[15],10&b.type))););if(null===b)return!1;d=b,c=A}const y=Re.lFrame=Di();return y.currentTNode=d,y.lView=c,!0}function ha(c){const d=Di(),f=c[1];Re.lFrame=d,d.currentTNode=f.firstChild,d.lView=c,d.tView=f,d.contextLView=c,d.bindingIndex=f.bindingStartIndex,d.inI18n=!1}function Di(){const c=Re.lFrame,d=null===c?null:c.child;return null===d?Mu(c):d}function Mu(c){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=d),d}function ka(){const c=Re.lFrame;return Re.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const Ra=ka;function Xl(){const c=ka();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function fi(){return Re.lFrame.selectedIndex}function Si(c){Re.lFrame.selectedIndex=c}function oi(){const c=Re.lFrame;return R(c.tView,c.selectedIndex)}function ws(){Re.lFrame.currentNamespace="svg"}function It(c,d){for(let f=d.directiveStart,y=d.directiveEnd;f<y;f++){const A=c.data[f].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:O,ngAfterViewInit:V,ngAfterViewChecked:Z,ngOnDestroy:ne}=A;x&&(c.contentHooks||(c.contentHooks=[])).push(-f,x),O&&((c.contentHooks||(c.contentHooks=[])).push(f,O),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(f,O)),V&&(c.viewHooks||(c.viewHooks=[])).push(-f,V),Z&&((c.viewHooks||(c.viewHooks=[])).push(f,Z),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(f,Z)),null!=ne&&(c.destroyHooks||(c.destroyHooks=[])).push(f,ne)}}function kt(c,d,f){pr(c,d,3,f)}function Rt(c,d,f,y){(3&c[2])===f&&pr(c,d,f,y)}function Ut(c,d){let f=c[2];(3&f)===d&&(f&=2047,f+=1,c[2]=f)}function pr(c,d,f,y){const A=y??-1,x=d.length-1;let O=0;for(let V=void 0!==y?65535&c[18]:0;V<x;V++)if("number"==typeof d[V+1]){if(O=d[V],null!=y&&O>=y)break}else d[V]<0&&(c[18]+=65536),(O<A||-1==A)&&(tn(c,f,d,V),c[18]=(4294901760&c[18])+V+2),V++}function tn(c,d,f,y){const b=f[y]<0,A=f[y+1],O=c[b?-f[y]:f[y]];if(b){if(c[2]>>11<c[18]>>16&&(3&c[2])===d){c[2]+=2048;try{A.call(O)}finally{}}}else try{A.call(O)}finally{}}class Ln{constructor(d,f,y){this.factory=d,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=y}}function Pc(c,d,f){let y=0;for(;y<f.length;){const b=f[y];if("number"==typeof b){if(0!==b)break;y++;const A=f[y++],x=f[y++],O=f[y++];c.setAttribute(d,x,O,A)}else{const A=b,x=f[++y];Eh(A)?c.setProperty(d,A,x):c.setAttribute(d,A,x),y++}}return y}function pa(c){return 3===c||4===c||6===c}function Eh(c){return 64===c.charCodeAt(0)}function dl(c,d){if(null!==d&&0!==d.length)if(null===c||0===c.length)c=d.slice();else{let f=-1;for(let y=0;y<d.length;y++){const b=d[y];"number"==typeof b?f=b:0===f||_d(c,f,b,null,-1===f||2===f?d[++y]:null)}}return c}function _d(c,d,f,y,b){let A=0,x=c.length;if(-1===d)x=-1;else for(;A<c.length;){const O=c[A++];if("number"==typeof O){if(O===d){x=-1;break}if(O>d){x=A-1;break}}}for(;A<c.length;){const O=c[A];if("number"==typeof O)break;if(O===f){if(null===y)return void(null!==b&&(c[A+1]=b));if(y===c[A+1])return void(c[A+2]=b)}A++,null!==y&&A++,null!==b&&A++}-1!==x&&(c.splice(x,0,d),A=x+1),c.splice(A++,0,f),null!==y&&c.splice(A++,0,y),null!==b&&c.splice(A++,0,b)}function Hs(c){return-1!==c}function go(c){return 32767&c}function U(c,d){let f=function N(c){return c>>16}(c),y=d;for(;f>0;)y=y[15],f--;return y}let K=!0;function ge(c){const d=K;return K=c,d}let wr=0;const En={};function Mo(c,d){const f=fl(c,d);if(-1!==f)return f;const y=d[1];y.firstCreatePass&&(c.injectorIndex=d.length,tc(y.data,c),tc(d,null),tc(y.blueprint,null));const b=lu(c,d),A=c.injectorIndex;if(Hs(b)){const x=go(b),O=U(b,d),V=O[1].data;for(let Z=0;Z<8;Z++)d[A+Z]=O[x+Z]|V[x+Z]}return d[A+8]=b,A}function tc(c,d){c.push(0,0,0,0,0,0,0,0,d)}function fl(c,d){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===d[c.injectorIndex+8]?-1:c.injectorIndex}function lu(c,d){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let f=0,y=null,b=d;for(;null!==b;){if(y=sn(b),null===y)return-1;if(f++,b=b[15],-1!==y.injectorIndex)return y.injectorIndex|f<<16}return-1}function nc(c,d,f){!function uu(c,d,f){let y;"string"==typeof f?y=f.charCodeAt(0)||0:f.hasOwnProperty(ke)&&(y=f[ke]),null==y&&(y=f[ke]=wr++);const b=255&y;d.data[c+(b>>5)]|=1<<b}(c,d,f)}function hl(c,d,f){if(f&Et.Optional||void 0!==c)return c;Ye()}function rc(c,d,f,y){if(f&Et.Optional&&void 0===y&&(y=null),0==(f&(Et.Self|Et.Host))){const b=c[9],A=Rn(void 0);try{return b?b.get(d,y,f&Et.Optional):sa(d,y,f&Et.Optional)}finally{Rn(A)}}return hl(y,0,f)}function bd(c,d,f,y=Et.Default,b){if(null!==c){if(1024&d[2]){const x=function Df(c,d,f,y,b){let A=c,x=d;for(;null!==A&&null!==x&&1024&x[2]&&!(256&x[2]);){const O=Tf(A,x,f,y|Et.Self,En);if(O!==En)return O;let V=A.parent;if(!V){const Z=x[21];if(Z){const ne=Z.get(f,En,y);if(ne!==En)return ne}V=sn(x),x=x[15]}A=V}return b}(c,d,f,y,En);if(x!==En)return x}const A=Tf(c,d,f,y,En);if(A!==En)return A}return rc(d,f,y,b)}function Tf(c,d,f,y,b){const A=function Ef(c){if("string"==typeof c)return c.charCodeAt(0)||0;const d=c.hasOwnProperty(ke)?c[ke]:void 0;return"number"==typeof d?d>=0?255&d:Af:d}(f);if("function"==typeof A){if(!es(d,c,y))return y&Et.Host?hl(b,0,y):rc(d,f,y,b);try{const x=A(y);if(null!=x||y&Et.Optional)return x;Ye()}finally{Ra()}}else if("number"==typeof A){let x=null,O=fl(c,d),V=-1,Z=y&Et.Host?d[16][6]:null;for((-1===O||y&Et.SkipSelf)&&(V=-1===O?lu(c,d):d[O+8],-1!==V&&qg(y,!1)?(x=d[1],O=go(V),d=U(V,d)):O=-1);-1!==O;){const ne=d[1];if(Sp(A,O,ne.data)){const le=pl(O,d,f,x,y,Z);if(le!==En)return le}V=d[O+8],-1!==V&&qg(y,d[1].data[O+8]===Z)&&Sp(A,O,d)?(x=ne,O=go(V),d=U(V,d)):O=-1}}return b}function pl(c,d,f,y,b,A){const x=d[1],O=x.data[c+8],ne=gl(O,x,f,null==y?Bn(O)&&K:y!=x&&0!=(3&O.type),b&Et.Host&&A===O);return null!==ne?wd(d,x,ne,O):En}function gl(c,d,f,y,b){const A=c.providerIndexes,x=d.data,O=1048575&A,V=c.directiveStart,ne=A>>20,Ae=b?O+ne:c.directiveEnd;for(let Ve=y?O:O+ne;Ve<Ae;Ve++){const ft=x[Ve];if(Ve<V&&f===ft||Ve>=V&&ft.type===f)return Ve}if(b){const Ve=x[V];if(Ve&&Qo(Ve)&&Ve.type===f)return V}return null}function wd(c,d,f,y){let b=c[f];const A=d.data;if(function gn(c){return c instanceof Ln}(b)){const x=b;x.resolving&&function bn(c,d){const f=d?`. Dependency path: ${d.join(" > ")} > ${c}`:"";throw new Me(-200,`Circular dependency in DI detected for ${c}${f}`)}(function qe(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():ut(c)}(A[f]));const O=ge(x.canSeeViewProviders);x.resolving=!0;const V=x.injectImpl?Rn(x.injectImpl):null;es(c,y,Et.Default);try{b=c[f]=x.factory(void 0,A,c,y),d.firstCreatePass&&f>=y.directiveStart&&function st(c,d,f){const{ngOnChanges:y,ngOnInit:b,ngDoCheck:A}=d.type.prototype;if(y){const x=Wl(d);(f.preOrderHooks||(f.preOrderHooks=[])).push(c,x),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(c,x)}b&&(f.preOrderHooks||(f.preOrderHooks=[])).push(0-c,b),A&&((f.preOrderHooks||(f.preOrderHooks=[])).push(c,A),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(c,A))}(f,A[f],d)}finally{null!==V&&Rn(V),ge(O),x.resolving=!1,Ra()}}return b}function Sp(c,d,f){return!!(f[d+(c>>5)]&1<<c)}function qg(c,d){return!(c&Et.Self||c&Et.Host&&d)}class ic{constructor(d,f){this._tNode=d,this._lView=f}get(d,f,y){return bd(this._tNode,this._lView,d,y,f)}}function Af(){return new ic(Wn(),ct())}function Cd(c){return Mr(()=>{const d=c.prototype.constructor,f=d[we]||Td(d),y=Object.prototype;let b=Object.getPrototypeOf(c.prototype).constructor;for(;b&&b!==y;){const A=b[we]||Td(b);if(A&&A!==f)return A;b=Object.getPrototypeOf(b)}return A=>new A})}function Td(c){return Qe(c)?()=>{const d=Td(Ce(c));return d&&d()}:qi(c)}function sn(c){const d=c[1],f=d.type;return 2===f?d.declTNode:1===f?c[6]:null}function Ho(c){return function Mc(c,d){if("class"===d)return c.classes;if("style"===d)return c.styles;const f=c.attrs;if(f){const y=f.length;let b=0;for(;b<y;){const A=f[b];if(pa(A))break;if(0===A)b+=2;else if("number"==typeof A)for(b++;b<y&&"string"==typeof f[b];)b++;else{if(A===d)return f[b+1];b+=2}}}return null}(Wn(),c)}const Sf="__parameters__",Ed="__prop__metadata__";function If(c){return function(...f){if(c){const y=c(...f);for(const b in y)this[b]=y[b]}}}function ml(c,d,f){return Mr(()=>{const y=If(d);function b(...A){if(this instanceof b)return y.apply(this,A),this;const x=new b(...A);return O.annotation=x,O;function O(V,Z,ne){const le=V.hasOwnProperty(Sf)?V[Sf]:Object.defineProperty(V,Sf,{value:[]})[Sf];for(;le.length<=ne;)le.push(null);return(le[ne]=le[ne]||[]).push(x),V}}return f&&(b.prototype=Object.create(f.prototype)),b.prototype.ngMetadataName=c,b.annotationCls=b,b})}function Zg(c,d,f,y){return Mr(()=>{const b=If(d);function A(...x){if(this instanceof A)return b.apply(this,x),this;const O=new A(...x);return function V(Z,ne){const le=Z.constructor,Ae=le.hasOwnProperty(Ed)?le[Ed]:Object.defineProperty(le,Ed,{value:{}})[Ed];Ae[ne]=Ae.hasOwnProperty(ne)&&Ae[ne]||[],Ae[ne].unshift(O),y&&y(Z,ne,...x)}}return f&&(A.prototype=Object.create(f.prototype)),A.prototype.ngMetadataName=c,A.annotationCls=A,A})}class Qr{constructor(d,f){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=Xe({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ns(c,d){void 0===d&&(d=c);for(let f=0;f<c.length;f++){let y=c[f];Array.isArray(y)?(d===c&&(d=c.slice(0,f)),ns(y,d)):d!==c&&d.push(y)}return d}function ga(c,d){c.forEach(f=>Array.isArray(f)?ga(f,d):d(f))}function vl(c,d,f){d>=c.length?c.push(f):c.splice(d,0,f)}function Oc(c,d){return d>=c.length-1?c.pop():c.splice(d,1)[0]}function Nc(c,d){const f=[];for(let y=0;y<c;y++)f.push(d);return f}function no(c,d,f){let y=Rc(c,d);return y>=0?c[1|y]=f:(y=~y,function l_(c,d,f,y){let b=c.length;if(b==d)c.push(f,y);else if(1===b)c.push(y,c[0]),c[0]=f;else{for(b--,c.push(c[b-1],c[b]);b>d;)c[b]=c[b-2],b--;c[d]=f,c[d+1]=y}}(c,y,d,f)),y}function kc(c,d){const f=Rc(c,d);if(f>=0)return c[1|f]}function Rc(c,d){return function Kv(c,d,f){let y=0,b=c.length>>f;for(;b!==y;){const A=y+(b-y>>1),x=c[A<<f];if(d===x)return A<<f;x>d?b=A:y=A+1}return~(b<<f)}(c,d,1)}const zr={},Oo="__NG_DI_FLAG__",Ou="ngTempTokenPath",Cs=/\n/gm,Ih="__source";let du;function Lc(c){const d=du;return du=c,d}function xh(c,d=Et.Default){if(void 0===du)throw new Me(-203,!1);return null===du?sa(c,void 0,d):du.get(c,d&Et.Optional?null:void 0,d)}function ro(c,d=Et.Default){return(function Tr(){return ir}()||xh)(Ce(c),d)}function Kt(c,d=Et.Default){return"number"!=typeof d&&(d=0|(d.optional&&8)|(d.host&&1)|(d.self&&2)|(d.skipSelf&&4)),ro(c,d)}function Ph(c){const d=[];for(let f=0;f<c.length;f++){const y=Ce(c[f]);if(Array.isArray(y)){if(0===y.length)throw new Me(900,!1);let b,A=Et.Default;for(let x=0;x<y.length;x++){const O=y[x],V=Mh(O);"number"==typeof V?-1===V?b=O.token:A|=V:b=O}d.push(ro(b,A))}else d.push(ro(y))}return d}function Uc(c,d){return c[Oo]=d,c.prototype[Oo]=d,c}function Mh(c){return c[Oo]}const La=Uc(ml("Optional"),8),qs=Uc(ml("SkipSelf"),4);var As=(()=>((As=As||{})[As.Important=1]="Important",As[As.DashCase=2]="DashCase",As))();const lc=new Map;let Xv=0;const zs="__ngContext__";function An(c,d){Li(d)?(c[zs]=d[20],function Md(c){lc.set(c[20],c)}(d)):c[zs]=d}function Od(c,d){return undefined(c,d)}function fc(c){const d=c[3];return bi(d)?d[3]:d}function Va(c){return kp(c[13])}function Nd(c){return kp(c[4])}function kp(c){for(;null!==c&&!bi(c);)c=c[4];return c}function va(c,d,f,y,b){if(null!=y){let A,x=!1;bi(y)?A=y:Li(y)&&(x=!0,y=y[0]);const O=Ai(y);0===c&&null!==f?null==b?Al(d,f,O):Zo(d,f,O,b||null,!0):1===c&&null!==f?Zo(d,f,O,b||null,!0):2===c?function jh(c,d,f){const y=Zf(c,d);y&&function Uh(c,d,f,y){c.removeChild(d,f,y)}(c,y,d,f)}(d,O,x):3===c&&d.destroyNode(O),null!=A&&function Ys(c,d,f,y,b){const A=f[7];A!==Ai(f)&&va(d,c,y,A,b);for(let O=10;O<f.length;O++){const V=f[O];Ud(V[1],V,c,d,y,A)}}(d,c,A,f,b)}}function ja(c,d,f){return c.createElement(d,f)}function hc(c,d){const f=c[9],y=f.indexOf(d),b=d[3];512&d[2]&&(d[2]&=-513,Ke(b,-1)),f.splice(y,1)}function Yc(c,d){if(c.length<=10)return;const f=10+d,y=c[f];if(y){const b=y[17];null!==b&&b!==c&&hc(b,y),d>0&&(c[f-1][4]=y[4]);const A=Oc(c,10+d);!function mu(c,d){Ud(c,d,d[11],2,null,null),d[0]=null,d[6]=null}(y[1],y);const x=A[19];null!==x&&x.detachView(A[1]),y[3]=null,y[4]=null,y[2]&=-65}return y}function Tl(c,d){if(!(128&d[2])){const f=d[11];f.destroyNode&&Ud(c,d,f,3,null,null),function Rd(c){let d=c[13];if(!d)return Kc(c[1],c);for(;d;){let f=null;if(Li(d))f=d[13];else{const y=d[10];y&&(f=y)}if(!f){for(;d&&!d[4]&&d!==c;)Li(d)&&Kc(d[1],d),d=d[3];null===d&&(d=c),Li(d)&&Kc(d[1],d),f=d&&d[4]}d=f}}(d)}}function Kc(c,d){if(!(128&d[2])){d[2]&=-65,d[2]|=128,function Jg(c,d){let f;if(null!=c&&null!=(f=c.destroyHooks))for(let y=0;y<f.length;y+=2){const b=d[f[y]];if(!(b instanceof Ln)){const A=f[y+1];if(Array.isArray(A))for(let x=0;x<A.length;x+=2){const O=b[A[x]],V=A[x+1];try{V.call(O)}finally{}}else try{A.call(b)}finally{}}}}(c,d),function Qg(c,d){const f=c.cleanup,y=d[7];let b=-1;if(null!==f)for(let A=0;A<f.length-1;A+=2)if("string"==typeof f[A]){const x=f[A+1],O="function"==typeof x?x(d):Ai(d[x]),V=y[b=f[A+2]],Z=f[A+3];"boolean"==typeof Z?O.removeEventListener(f[A],V,Z):Z>=0?y[b=Z]():y[b=-Z].unsubscribe(),A+=2}else{const x=y[b=f[A+1]];f[A].call(x)}if(null!==y){for(let A=b+1;A<y.length;A++)(0,y[A])();d[7]=null}}(c,d),1===d[1].type&&d[11].destroy();const f=d[17];if(null!==f&&bi(d[3])){f!==d[3]&&hc(f,d);const y=d[19];null!==y&&y.detachView(c)}!function kh(c){lc.delete(c[20])}(d)}}function El(c,d,f){return function Fd(c,d,f){let y=d;for(;null!==y&&40&y.type;)y=(d=y).parent;if(null===y)return f[0];if(2&y.flags){const b=c.data[y.directiveStart].encapsulation;if(b===_n.None||b===_n.Emulated)return null}return E(y,f)}(c,d.parent,f)}function Zo(c,d,f,y,b){c.insertBefore(d,f,y,b)}function Al(c,d,f){c.appendChild(d,f)}function Ws(c,d,f,y,b){null!==y?Zo(c,d,f,y,b):Al(c,d,f)}function Zf(c,d){return c.parentNode(d)}function Vh(c,d,f){return Ld(c,d,f)}let Hh,ju,jd,Ld=function ss(c,d,f){return 40&c.type?E(c,f):null};function Vu(c,d,f,y){const b=El(c,y,d),A=d[11],O=Vh(y.parent||d[6],y,d);if(null!=b)if(Array.isArray(f))for(let V=0;V<f.length;V++)Ws(A,b,f[V],O,!1);else Ws(A,b,f,O,!1)}function Dl(c,d){if(null!==d){const f=d.type;if(3&f)return E(d,c);if(4&f)return Lp(-1,c[d.index]);if(8&f){const y=d.child;if(null!==y)return Dl(c,y);{const b=c[d.index];return bi(b)?Lp(-1,b):Ai(b)}}if(32&f)return Od(d,c)()||Ai(c[d.index]);{const y=Fp(c,d);return null!==y?Array.isArray(y)?y[0]:Dl(fc(c[16]),y):Dl(c,d.next)}}return null}function Fp(c,d){return null!==d?c[16][6].projection[d.projection]:null}function Lp(c,d){const f=10+c+1;if(f<d.length){const y=d[f],b=y[1].firstChild;if(null!==b)return Dl(y,b)}return d[7]}function Sl(c,d,f,y,b,A,x){for(;null!=f;){const O=y[f.index],V=f.type;if(x&&0===d&&(O&&An(Ai(O),y),f.flags|=4),64!=(64&f.flags))if(8&V)Sl(c,d,f.child,y,b,A,!1),va(d,c,b,O,A);else if(32&V){const Z=Od(f,y);let ne;for(;ne=Z();)va(d,c,b,ne,A);va(d,c,b,O,A)}else 16&V?Xg(c,d,y,f,b,A):va(d,c,b,O,A);f=x?f.projectionNext:f.next}}function Ud(c,d,f,y,b,A){Sl(f,y,c.firstChild,d,b,A,!1)}function Xg(c,d,f,y,b,A){const x=f[16],V=x[6].projection[y.projection];if(Array.isArray(V))for(let Z=0;Z<V.length;Z++)va(d,c,b,V[Z],A);else Sl(c,d,V,x[3],b,A,!0)}function em(c,d,f){c.setAttribute(d,"style",f)}function Bp(c,d,f){""===f?c.removeAttribute(d,"class"):c.setAttribute(d,"class",f)}function Qc(c){return function $f(){if(void 0===Hh&&(Hh=null,mi.trustedTypes))try{Hh=mi.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return Hh}()?.createHTML(c)||c}function Bd(c){ju=c}function Vp(c){return function as(){if(void 0===jd&&(jd=null,mi.trustedTypes))try{jd=mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return jd}()?.createHTML(c)||c}class pc{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jp extends pc{getTypeName(){return"HTML"}}class rm extends pc{getTypeName(){return"Style"}}class Hp extends pc{getTypeName(){return"Script"}}class qp extends pc{getTypeName(){return"URL"}}class ty extends pc{getTypeName(){return"ResourceURL"}}function _a(c){return c instanceof pc?c.changingThisBreaksApplicationSecurity:c}function Hd(c,d){const f=function ny(c){return c instanceof pc&&c.getTypeName()||null}(c);if(null!=f&&f!==d){if("ResourceURL"===f&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${f} (see https://g.co/ng/security#xss)`)}return f===d}function Zp(c){return new jp(c)}function im(c){return new rm(c)}function qd(c){return new Hp(c)}function Gp(c){return new qp(c)}function gc(c){return new ty(c)}class Zd{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const f=(new window.DOMParser).parseFromString(Qc(d),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(d):(f.removeChild(f.firstChild),f)}catch{return null}}}class Kf{constructor(d){if(this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const f=this.inertDocument.createElement("html");this.inertDocument.appendChild(f);const y=this.inertDocument.createElement("body");f.appendChild(y)}}getInertBodyElement(d){const f=this.inertDocument.createElement("template");if("content"in f)return f.innerHTML=Qc(d),f;const y=this.inertDocument.createElement("body");return y.innerHTML=Qc(d),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(y),y}stripCustomNsAttrs(d){const f=d.attributes;for(let b=f.length-1;0<b;b--){const x=f.item(b).name;("xmlns:ns1"===x||0===x.indexOf("ns1:"))&&d.removeAttribute(x)}let y=d.firstChild;for(;y;)y.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(y),y=y.nextSibling}}const ry=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Gh(c){return(c=String(c)).match(ry)?c:"unsafe:"+c}function vu(c){const d={};for(const f of c.split(","))d[f]=!0;return d}function Gd(...c){const d={};for(const f of c)for(const y in f)f.hasOwnProperty(y)&&(d[y]=!0);return d}const iy=vu("area,br,col,hr,img,wbr"),oy=vu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),om=vu("rp,rt"),$p=Gd(iy,Gd(oy,vu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gd(om,vu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gd(om,oy)),Ar=vu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wp=Gd(Ar,vu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qf=vu("script,style,template");class m{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let f=d.firstChild,y=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?y=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,y&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let b=this.checkClobberedElement(f,f.nextSibling);if(b){f=b;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(d){const f=d.nodeName.toLowerCase();if(!$p.hasOwnProperty(f))return this.sanitizedSomething=!0,!Qf.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const y=d.attributes;for(let b=0;b<y.length;b++){const A=y.item(b),x=A.name,O=x.toLowerCase();if(!Wp.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let V=A.value;Ar[O]&&(V=Gh(V)),this.buf.push(" ",x,'="',T(V),'"')}return this.buf.push(">"),!0}endElement(d){const f=d.nodeName.toLowerCase();$p.hasOwnProperty(f)&&!iy.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(d){this.buf.push(T(d))}checkClobberedElement(d,f){if(f&&(d.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return f}}const g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_=/([^\#-~ |!])/g;function T(c){return c.replace(/&/g,"&amp;").replace(g,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(_,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let P;function L(c,d){let f=null;try{P=P||function Yf(c){const d=new Kf(c);return function Zh(){try{return!!(new window.DOMParser).parseFromString(Qc(""),"text/html")}catch{return!1}}()?new Zd(d):d}(c);let y=d?String(d):"";f=P.getInertBodyElement(y);let b=5,A=y;do{if(0===b)throw new Error("Failed to sanitize html because the input is unstable");b--,y=A,A=f.innerHTML,f=P.getInertBodyElement(y)}while(y!==A);return Qc((new m).sanitizeChildren(q(f)||f))}finally{if(f){const y=q(f)||f;for(;y.firstChild;)y.removeChild(y.firstChild)}}}function q(c){return"content"in c&&function re(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var ie=(()=>((ie=ie||{})[ie.NONE=0]="NONE",ie[ie.HTML=1]="HTML",ie[ie.STYLE=2]="STYLE",ie[ie.SCRIPT=3]="SCRIPT",ie[ie.URL=4]="URL",ie[ie.RESOURCE_URL=5]="RESOURCE_URL",ie))();function fe(c){const d=qu();return d?Vp(d.sanitize(ie.HTML,c)||""):Hd(c,"HTML")?Vp(_a(c)):L(function Vd(){return void 0!==ju?ju:typeof document<"u"?document:void 0}(),ut(c))}function Be(c){const d=qu();return d?d.sanitize(ie.URL,c)||"":Hd(c,"URL")?_a(c):Gh(ut(c))}function qu(){const c=ct();return c&&c[12]}const Il=new Qr("ENVIRONMENT_INITIALIZER"),Zu=new Qr("INJECTOR",-1),Yp=new Qr("INJECTOR_DEF_TYPES");class sy{get(d,f=zr){if(f===zr){const y=new Error(`NullInjectorError: No provider for ${at(d)}!`);throw y.name="NullInjectorError",y}return f}}function ay(...c){return{\u0275providers:uy(0,c)}}function uy(c,...d){const f=[],y=new Set;let b;return ga(d,A=>{const x=A;ly(x,f,[],y)&&(b||(b=[]),b.push(x))}),void 0!==b&&am(b,f),f}function am(c,d){for(let f=0;f<c.length;f++){const{providers:b}=c[f];ga(b,A=>{d.push(A)})}}function ly(c,d,f,y){if(!(c=Ce(c)))return!1;let b=null,A=ci(c);const x=!A&&dr(c);if(A||x){if(x&&!x.standalone)return!1;b=c}else{const V=c.ngModule;if(A=ci(V),!A)return!1;b=V}const O=y.has(b);if(x){if(O)return!1;if(y.add(b),x.dependencies){const V="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const Z of V)ly(Z,d,f,y)}}else{if(!A)return!1;{if(null!=A.imports&&!O){let Z;y.add(b);try{ga(A.imports,ne=>{ly(ne,d,f,y)&&(Z||(Z=[]),Z.push(ne))})}finally{}void 0!==Z&&am(Z,d)}if(!O){const Z=qi(b)||(()=>new b);d.push({provide:b,useFactory:Z,deps:hn},{provide:Yp,useValue:b,multi:!0},{provide:Il,useValue:()=>ro(b),multi:!0})}const V=A.providers;null==V||O||ga(V,ne=>{d.push(ne)})}}return b!==c&&void 0!==c.providers}const cy=he({provide:String,useValue:he});function $h(c){return null!==c&&"object"==typeof c&&cy in c}function yu(c){return"function"==typeof c}const Wh=new Qr("Set Injector scope."),$d={},Ew={};let um;function Qp(){return void 0===um&&(um=new sy),um}class xl{}class zd extends xl{constructor(d,f,y,b){super(),this.parent=f,this.source=y,this.scopes=b,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fy(d,x=>this.processProvider(x)),this.records.set(Zu,Wd(void 0,this)),b.has("environment")&&this.records.set(xl,Wd(void 0,this));const A=this.records.get(Wh);null!=A&&"string"==typeof A.value&&this.scopes.add(A.value),this.injectorDefTypes=new Set(this.get(Yp.multi,hn,Et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();for(const d of this._onDestroyHooks)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(d){this._onDestroyHooks.push(d)}runInContext(d){this.assertNotDestroyed();const f=Lc(this),y=Rn(void 0);try{return d()}finally{Lc(f),Rn(y)}}get(d,f=zr,y=Et.Default){this.assertNotDestroyed();const b=Lc(this),A=Rn(void 0);try{if(!(y&Et.SkipSelf)){let O=this.records.get(d);if(void 0===O){const V=function dy(c){return"function"==typeof c||"object"==typeof c&&c instanceof Qr}(d)&&Lr(d);O=V&&this.injectableDefInScope(V)?Wd(Jp(d),$d):null,this.records.set(d,O)}if(null!=O)return this.hydrate(d,O)}return(y&Et.Self?Qp():this.parent).get(d,f=y&Et.Optional&&f===zr?null:f)}catch(x){if("NullInjectorError"===x.name){if((x[Ou]=x[Ou]||[]).unshift(at(d)),b)throw x;return function Mp(c,d,f,y){const b=c[Ou];throw d[Ih]&&b.unshift(d[Ih]),c.message=function Mi(c,d,f,y=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.slice(2):c;let b=at(d);if(Array.isArray(d))b=d.map(at).join(" -> ");else if("object"==typeof d){let A=[];for(let x in d)if(d.hasOwnProperty(x)){let O=d[x];A.push(x+":"+("string"==typeof O?JSON.stringify(O):at(O)))}b=`{${A.join(", ")}}`}return`${f}${y?"("+y+")":""}[${b}]: ${c.replace(Cs,"\n  ")}`}("\n"+c.message,b,f,y),c.ngTokenPath=b,c[Ou]=null,c}(x,d,"R3InjectorError",this.source)}throw x}finally{Rn(A),Lc(b)}}resolveInjectorInitializers(){const d=Lc(this),f=Rn(void 0);try{const y=this.get(Il.multi,hn,Et.Self);for(const b of y)b()}finally{Lc(d),Rn(f)}}toString(){const d=[],f=this.records;for(const y of f.keys())d.push(at(y));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(d){let f=yu(d=Ce(d))?d:Ce(d&&d.provide);const y=function Yh(c){return $h(c)?Wd(void 0,c.useValue):Wd(Xf(c),$d)}(d);if(yu(d)||!0!==d.multi)this.records.get(f);else{let b=this.records.get(f);b||(b=Wd(void 0,$d,!0),b.factory=()=>Ph(b.multi),this.records.set(f,b)),f=d,b.multi.push(d)}this.records.set(f,y)}hydrate(d,f){return f.value===$d&&(f.value=Ew,f.value=f.factory()),"object"==typeof f.value&&f.value&&function m_(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(f.value)&&this._ngOnDestroyHooks.add(f.value),f.value}injectableDefInScope(d){if(!d.providedIn)return!1;const f=Ce(d.providedIn);return"string"==typeof f?"any"===f||this.scopes.has(f):this.injectorDefTypes.has(f)}}function Jp(c){const d=Lr(c),f=null!==d?d.factory:qi(c);if(null!==f)return f;if(c instanceof Qr)throw new Me(204,!1);if(c instanceof Function)return function g_(c){const d=c.length;if(d>0)throw Nc(d,"?"),new Me(204,!1);const f=function Cn(c){const d=c&&(c[Tn]||c[cn]);if(d){const f=function er(c){if(c.hasOwnProperty("name"))return c.name;const d=(""+c).match(/^function\s*([^\s(]+)/);return null===d?"":d[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${f}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${f}" class.`),d}return null}(c);return null!==f?()=>f.factory(c):()=>new c}(c);throw new Me(204,!1)}function Xf(c,d,f){let y;if(yu(c)){const b=Ce(c);return qi(b)||Jp(b)}if($h(c))y=()=>Ce(c.useValue);else if(function zh(c){return!(!c||!c.useFactory)}(c))y=()=>c.useFactory(...Ph(c.deps||[]));else if(function Kp(c){return!(!c||!c.useExisting)}(c))y=()=>ro(Ce(c.useExisting));else{const b=Ce(c&&(c.useClass||c.provide));if(!function Xp(c){return!!c.deps}(c))return qi(b)||Jp(b);y=()=>new b(...Ph(c.deps))}return y}function Wd(c,d,f=!1){return{factory:c,value:d,multi:f?[]:void 0}}function Aw(c){return!!c.\u0275providers}function fy(c,d){for(const f of c)Array.isArray(f)?fy(f,d):Aw(f)?fy(f.\u0275providers,d):d(f)}class v_{}class hy{resolveComponentFactory(d){throw function Jc(c){const d=Error(`No component factory found for ${at(c)}. Did you add it to @NgModule.entryComponents?`);return d.ngComponent=c,d}(d)}}let Xc=(()=>{class c{}return c.NULL=new hy,c})();function eh(){return Pl(Wn(),ct())}function Pl(c,d){return new eg(E(c,d))}let eg=(()=>{class c{constructor(f){this.nativeElement=f}}return c.__NG_ELEMENT_ID__=eh,c})();function th(c){return c instanceof eg?c.nativeElement:c}class tg{}let __=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>function lm(){const c=ct(),f=G(Wn().index,c);return(Li(f)?f:c)[11]}(),c})(),b_=(()=>{class c{}return c.\u0275prov=Xe({token:c,providedIn:"root",factory:()=>null}),c})();class py{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const w_=new py("14.3.0"),Kh={};function gy(c){return c.ngOriginalError}class Jh{constructor(){this._console=console}handleError(d){const f=this._findOriginalError(d);this._console.error("ERROR",d),f&&this._console.error("ORIGINAL ERROR",f)}_findOriginalError(d){let f=d&&gy(d);for(;f&&gy(f);)f=gy(f);return f||null}}function Gu(c){return c instanceof Function?c():c}function ng(c,d,f){let y=c.length;for(;;){const b=c.indexOf(d,f);if(-1===b)return b;if(0===b||c.charCodeAt(b-1)<=32){const A=d.length;if(b+A===y||c.charCodeAt(b+A)<=32)return b}f=b+1}}const gm="ng-template";function Pw(c,d,f){let y=0;for(;y<c.length;){let b=c[y++];if(f&&"class"===b){if(b=c[y],-1!==ng(b.toLowerCase(),d,0))return!0}else if(1===b){for(;y<c.length&&"string"==typeof(b=c[y++]);)if(b.toLowerCase()===d)return!0;return!1}}return!1}function mm(c){return 4===c.type&&c.value!==gm}function Mw(c,d,f){return d===(4!==c.type||f?c.value:gm)}function rg(c,d,f){let y=4;const b=c.attrs||[],A=function No(c){for(let d=0;d<c.length;d++)if(pa(c[d]))return d;return c.length}(b);let x=!1;for(let O=0;O<d.length;O++){const V=d[O];if("number"!=typeof V){if(!x)if(4&y){if(y=2|1&y,""!==V&&!Mw(c,V,f)||""===V&&1===d.length){if(_r(y))return!1;x=!0}}else{const Z=8&y?V:d[++O];if(8&y&&null!==c.attrs){if(!Pw(c.attrs,Z,f)){if(_r(y))return!1;x=!0}continue}const le=S_(8&y?"class":V,b,mm(c),f);if(-1===le){if(_r(y))return!1;x=!0;continue}if(""!==Z){let Ae;Ae=le>A?"":b[le+1].toLowerCase();const Ve=8&y?Ae:null;if(Ve&&-1!==ng(Ve,Z,0)||2&y&&Z!==Ae){if(_r(y))return!1;x=!0}}}}else{if(!x&&!_r(y)&&!_r(V))return!1;if(x&&_r(V))continue;x=!1,y=V|1&y}}return _r(y)||x}function _r(c){return 0==(1&c)}function S_(c,d,f,y){if(null===d)return-1;let b=0;if(y||!f){let A=!1;for(;b<d.length;){const x=d[b];if(x===c)return b;if(3===x||6===x)A=!0;else{if(1===x||2===x){let O=d[++b];for(;"string"==typeof O;)O=d[++b];continue}if(4===x)break;if(0===x){b+=4;continue}}b+=A?1:2}return-1}return function Ow(c,d){let f=c.indexOf(4);if(f>-1)for(f++;f<c.length;){const y=c[f];if("number"==typeof y)return-1;if(y===d)return f;f++}return-1}(d,c)}function vm(c,d,f=!1){for(let y=0;y<d.length;y++)if(rg(c,d[y],f))return!0;return!1}function Nw(c,d){e:for(let f=0;f<d.length;f++){const y=d[f];if(c.length===y.length){for(let b=0;b<c.length;b++)if(c[b]!==y[b])continue e;return!0}}return!1}function ym(c,d){return c?":not("+d.trim()+")":d}function I_(c){let d=c[0],f=1,y=2,b="",A=!1;for(;f<c.length;){let x=c[f];if("string"==typeof x)if(2&y){const O=c[++f];b+="["+x+(O.length>0?'="'+O+'"':"")+"]"}else 8&y?b+="."+x:4&y&&(b+=" "+x);else""!==b&&!_r(x)&&(d+=ym(A,b),b=""),y=x,A=A||!_r(y);f++}return""!==b&&(d+=ym(A,b)),d}const Xn={};function _m(c){ih(Vt(),ct(),fi()+c,!1)}function ih(c,d,f,y){if(!y)if(3==(3&d[2])){const A=c.preOrderCheckHooks;null!==A&&kt(d,A,f)}else{const A=c.preOrderHooks;null!==A&&Rt(d,A,0,f)}Si(f)}function P_(c,d=null,f=null,y){const b=by(c,d,f,y);return b.resolveInjectorInitializers(),b}function by(c,d=null,f=null,y,b=new Set){const A=[f||hn,ay(c)];return y=y||("object"==typeof c?void 0:at(c)),new zd(A,d||Qp(),y||null,b)}let mc=(()=>{class c{static create(f,y){if(Array.isArray(f))return P_({name:""},y,f,"");{const b=f.name??"";return P_({name:b},f.parent,f.providers,b)}}}return c.THROW_IF_NOT_FOUND=zr,c.NULL=new sy,c.\u0275prov=Xe({token:c,providedIn:"any",factory:()=>ro(Zu)}),c.__NG_ELEMENT_ID__=-1,c})();function Ml(c,d=Et.Default){const f=ct();return null===f?ro(c,d):bd(Wn(),f,Ce(c),d)}function zo(){throw new Error("invalid")}function Dm(c,d){return c<<17|d<<2}function jt(c){return c>>17&32767}function Im(c){return 2|c}function Ks(c){return(131068&c)>>2}function Jd(c,d){return-131069&c|d<<2}function sg(c){return 1|c}function Vy(c,d){const f=c.contentQueries;if(null!==f)for(let y=0;y<f.length;y+=2){const b=f[y],A=f[y+1];if(-1!==A){const x=c.data[A];di(b),x.contentQueries(2,d[A],A)}}}function ch(c,d,f,y,b,A,x,O,V,Z,ne){const le=d.blueprint.slice();return le[0]=b,le[2]=76|y,(null!==ne||c&&1024&c[2])&&(le[2]|=1024),xe(le),le[3]=le[15]=c,le[8]=f,le[10]=x||c&&c[10],le[11]=O||c&&c[11],le[12]=V||c&&c[12]||null,le[9]=Z||c&&c[9]||null,le[6]=A,le[20]=function Pd(){return Xv++}(),le[21]=ne,le[16]=2==d.type?c[16]:le,le}function Nl(c,d,f,y,b){let A=c.data[d];if(null===A)A=function dh(c,d,f,y,b){const A=Oa(),x=Na(),V=c.data[d]=function ip(c,d,f,y,b,A){return{type:f,index:y,insertBeforeIndex:null,injectorIndex:d?d.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:b,attrs:A,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?A:A&&A.parent,f,d,y,b);return null===c.firstChild&&(c.firstChild=V),null!==A&&(x?null==A.child&&null!==V.parent&&(A.child=V):null===A.next&&(A.next=V)),V}(c,d,f,y,b),function Pr(){return Re.lFrame.inI18n}()&&(A.flags|=64);else if(64&A.type){A.type=f,A.value=y,A.attrs=b;const x=function Vs(){const c=Re.lFrame,d=c.currentTNode;return c.isParent?d:d.parent}();A.injectorIndex=null===x?-1:x.injectorIndex}return Er(A,!0),A}function qa(c,d,f,y){if(0===f)return-1;const b=d.length;for(let A=0;A<f;A++)d.push(y),c.blueprint.push(y),c.data.push(null);return b}function ai(c,d,f){ha(d);try{const y=c.viewQuery;null!==y&&Vm(1,y,f);const b=c.template;null!==b&&rp(c,d,b,1,f),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&Vy(c,d),c.staticViewQueries&&Vm(2,c.viewQuery,f);const A=c.components;null!==A&&function vc(c,d){for(let f=0;f<d.length;f++)Ww(c,d[f])}(d,A)}catch(y){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),y}finally{d[2]&=-5,Xl()}}function or(c,d,f,y){const b=d[2];if(128!=(128&b)){ha(d);try{xe(d),function su(c){return Re.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==f&&rp(c,d,f,2,y);const x=3==(3&b);if(x){const Z=c.preOrderCheckHooks;null!==Z&&kt(d,Z,null)}else{const Z=c.preOrderHooks;null!==Z&&Rt(d,Z,0,null),Ut(d,0)}if(function zw(c){for(let d=Va(c);null!==d;d=Nd(d)){if(!d[2])continue;const f=d[9];for(let y=0;y<f.length;y++){const b=f[y],A=b[3];0==(512&b[2])&&Ke(A,1),b[2]|=512}}}(d),function mn(c){for(let d=Va(c);null!==d;d=Nd(d))for(let f=10;f<d.length;f++){const y=d[f],b=y[1];te(y)&&or(b,y,b.template,y[8])}}(d),null!==c.contentQueries&&Vy(c,d),x){const Z=c.contentCheckHooks;null!==Z&&kt(d,Z)}else{const Z=c.contentHooks;null!==Z&&Rt(d,Z,1),Ut(d,1)}!function Hw(c,d){const f=c.hostBindingOpCodes;if(null!==f)try{for(let y=0;y<f.length;y++){const b=f[y];if(b<0)Si(~b);else{const A=b,x=f[++y],O=f[++y];Gi(x,A),O(2,d[A])}}}finally{Si(-1)}}(c,d);const O=c.components;null!==O&&function jy(c,d){for(let f=0;f<d.length;f++)sp(c,d[f])}(d,O);const V=c.viewQuery;if(null!==V&&Vm(2,V,y),x){const Z=c.viewCheckHooks;null!==Z&&kt(d,Z)}else{const Z=c.viewHooks;null!==Z&&Rt(d,Z,2),Ut(d,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),d[2]&=-41,512&d[2]&&(d[2]&=-513,Ke(d[3],-1))}finally{Xl()}}}function rp(c,d,f,y,b){const A=fi(),x=2&y;try{Si(-1),x&&d.length>22&&ih(c,d,22,!1),f(y,b)}finally{Si(A)}}function id(c,d,f){if(kr(d)){const b=d.directiveEnd;for(let A=d.directiveStart;A<b;A++){const x=c.data[A];x.contentQueries&&x.contentQueries(1,f[A],A)}}}function Nm(c,d,f){!Pi()||(function Zw(c,d,f,y){const b=f.directiveStart,A=f.directiveEnd;c.firstCreatePass||Mo(f,d),An(y,d);const x=f.initialInputs;for(let O=b;O<A;O++){const V=c.data[O],Z=Qo(V);Z&&$y(d,f,V);const ne=wd(d,c,O,f);An(ne,d),null!==x&&Za(0,O-b,ne,V,0,x),Z&&(G(f.index,d)[8]=ne)}}(c,d,f,E(f,d)),128==(128&f.flags)&&function Gw(c,d,f){const y=f.directiveStart,b=f.directiveEnd,A=f.index,x=function jo(){return Re.lFrame.currentDirectiveIndex}();try{Si(A);for(let O=y;O<b;O++){const V=c.data[O],Z=d[O];au(O),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&q_(V,Z)}}finally{Si(-1),au(x)}}(c,d,f))}function zi(c,d,f=E){const y=d.localNames;if(null!==y){let b=d.index+1;for(let A=0;A<y.length;A+=2){const x=y[A+1],O=-1===x?f(d,c):c[x];c[b++]=O}}}function od(c){const d=c.tView;return null===d||d.incompleteFirstPass?c.tView=Yu(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):d}function Yu(c,d,f,y,b,A,x,O,V,Z){const ne=22+y,le=ne+b,Ae=function j_(c,d){const f=[];for(let y=0;y<d;y++)f.push(y<c?null:Xn);return f}(ne,le),Ve="function"==typeof Z?Z():Z;return Ae[1]={type:c,blueprint:Ae,template:f,queries:null,viewQuery:O,declTNode:d,data:Ae.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof A?A():A,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:V,consts:Ve,incompleteFirstPass:!1}}function km(c,d,f,y){const b=u(d);null===f?b.push(y):(b.push(f),c.firstCreatePass&&p(c).push(y,b.length-1))}function ef(c,d,f){for(let y in c)if(c.hasOwnProperty(y)){const b=c[y];(f=null===f?{}:f).hasOwnProperty(y)?f[y].push(d,b):f[y]=[d,b]}return f}function fh(c,d){const y=d.directiveEnd,b=c.data,A=d.attrs,x=[];let O=null,V=null;for(let Z=d.directiveStart;Z<y;Z++){const ne=b[Z],le=ne.inputs,Ae=null===A||mm(d)?null:fg(le,A);x.push(Ae),O=ef(le,Z,O),V=ef(ne.outputs,Z,V)}null!==O&&(O.hasOwnProperty("class")&&(d.flags|=16),O.hasOwnProperty("style")&&(d.flags|=32)),d.initialInputs=x,d.inputs=O,d.outputs=V}function Ca(c,d,f,y,b,A,x,O){const V=E(d,f);let ne,Z=d.inputs;!O&&null!=Z&&(ne=Z[y])?(B(c,f,ne,y,b),Bn(d)&&Rm(f,d.index)):3&d.type&&(y=function op(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(y),b=null!=x?x(b,d.value||"",y):b,A.setProperty(V,y,b))}function Rm(c,d){const f=G(d,c);16&f[2]||(f[2]|=32)}function cg(c,d,f,y){let b=!1;if(Pi()){const A=function Lm(c,d,f){const y=c.directiveRegistry;let b=null;if(y)for(let A=0;A<y.length;A++){const x=y[A];vm(f,x.selectors,!1)&&(b||(b=[]),nc(Mo(f,d),c,x.type),Qo(x)?(Um(c,f),b.unshift(x)):b.push(x))}return b}(c,d,f),x=null===y?null:{"":-1};if(null!==A){b=!0,Bm(f,c.data.length,A.length);for(let ne=0;ne<A.length;ne++){const le=A[ne];le.providersResolver&&le.providersResolver(le)}let O=!1,V=!1,Z=qa(c,d,A.length,null);for(let ne=0;ne<A.length;ne++){const le=A[ne];f.mergedAttrs=dl(f.mergedAttrs,le.hostAttrs),rn(c,f,d,Z,le),Z_(Z,le,x),null!==le.contentQueries&&(f.flags|=8),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(f.flags|=128);const Ae=le.type.prototype;!O&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(f.index),O=!0),!V&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(f.index),V=!0),Z++}fh(c,f)}x&&function dg(c,d,f){if(d){const y=c.localNames=[];for(let b=0;b<d.length;b+=2){const A=f[d[b+1]];if(null==A)throw new Me(-301,!1);y.push(d[b],A)}}}(f,y,x)}return f.mergedAttrs=dl(f.mergedAttrs,f.attrs),b}function Zy(c,d,f,y,b,A){const x=A.hostBindings;if(x){let O=c.hostBindingOpCodes;null===O&&(O=c.hostBindingOpCodes=[]);const V=~d.index;(function Gy(c){let d=c.length;for(;d>0;){const f=c[--d];if("number"==typeof f&&f<0)return f}return 0})(O)!=V&&O.push(V),O.push(y,b,x)}}function q_(c,d){null!==c.hostBindings&&c.hostBindings(1,d)}function Um(c,d){d.flags|=2,(c.components||(c.components=[])).push(d.index)}function Z_(c,d,f){if(f){if(d.exportAs)for(let y=0;y<d.exportAs.length;y++)f[d.exportAs[y]]=c;Qo(d)&&(f[""]=c)}}function Bm(c,d,f){c.flags|=1,c.directiveStart=d,c.directiveEnd=d+f,c.providerIndexes=d}function rn(c,d,f,y,b){c.data[y]=b;const A=b.factory||(b.factory=qi(b.type)),x=new Ln(A,Qo(b),Ml);c.blueprint[y]=x,f[y]=x,Zy(c,d,0,y,qa(c,f,b.hostVars,Xn),b)}function $y(c,d,f){const y=E(d,c),b=od(f),A=c[10],x=so(c,ch(c,b,null,f.onPush?32:16,y,d,A,A.createRenderer(y,f),null,null,null));c[d.index]=x}function Ii(c,d,f,y,b,A){const x=E(c,d);!function tf(c,d,f,y,b,A,x){if(null==A)c.removeAttribute(d,b,f);else{const O=null==x?ut(A):x(A,y||"",b);c.setAttribute(d,b,O,f)}}(d[11],x,A,c.value,f,y,b)}function Za(c,d,f,y,b,A){const x=A[d];if(null!==x){const O=y.setInput;for(let V=0;V<x.length;){const Z=x[V++],ne=x[V++],le=x[V++];null!==O?y.setInput(f,le,Z,ne):f[ne]=le}}}function fg(c,d){let f=null,y=0;for(;y<d.length;){const b=d[y];if(0!==b)if(5!==b){if("number"==typeof b)break;c.hasOwnProperty(b)&&(null===f&&(f=[]),f.push(b,c[b],d[y+1])),y+=2}else y+=2;else y+=4}return f}function zy(c,d,f,y){return new Array(c,!0,!1,d,null,0,y,f,null,null)}function sp(c,d){const f=G(d,c);if(te(f)){const y=f[1];48&f[2]?or(y,f,y.template,f[8]):f[5]>0&&ap(f)}}function ap(c){for(let y=Va(c);null!==y;y=Nd(y))for(let b=10;b<y.length;b++){const A=y[b];if(te(A))if(512&A[2]){const x=A[1];or(x,A,x.template,A[8])}else A[5]>0&&ap(A)}const f=c[1].components;if(null!==f)for(let y=0;y<f.length;y++){const b=G(f[y],c);te(b)&&b[5]>0&&ap(b)}}function Ww(c,d){const f=G(d,c),y=f[1];(function Wy(c,d){for(let f=d.length;f<c.blueprint.length;f++)d.push(c.blueprint[f])})(y,f),ai(y,f,f[8])}function so(c,d){return c[13]?c[14][4]=d:c[13]=d,c[14]=d,d}function Qi(c){for(;c;){c[2]|=32;const d=fc(c);if($l(c)&&!d)return c;c=d}return null}function hg(c,d,f,y=!0){const b=d[10];b.begin&&b.begin();try{or(c,d,c.template,f)}catch(x){throw y&&I(d,x),x}finally{b.end&&b.end()}}function Vm(c,d,f){di(0),d(c,f)}function u(c){return c[7]||(c[7]=[])}function p(c){return c.cleanup||(c.cleanup=[])}function I(c,d){const f=c[9],y=f?f.get(Jh,null):null;y&&y.handleError(d)}function B(c,d,f,y,b){for(let A=0;A<f.length;){const x=f[A++],O=f[A++],V=d[x],Z=c.data[x];null!==Z.setInput?Z.setInput(V,b,y,O):V[O]=b}}function W(c,d,f){const y=Ma(d,c);!function qo(c,d,f){c.setValue(d,f)}(c[11],y,f)}function ee(c,d,f){let y=f?c.styles:null,b=f?c.classes:null,A=0;if(null!==d)for(let x=0;x<d.length;x++){const O=d[x];"number"==typeof O?A=O:1==A?b=ze(b,O):2==A&&(y=ze(y,O+": "+d[++x]+";"))}f?c.styles=y:c.stylesWithoutHost=y,f?c.classes=b:c.classesWithoutHost=b}function ye(c,d,f,y,b=!1){for(;null!==f;){const A=d[f.index];if(null!==A&&y.push(Ai(A)),bi(A))for(let O=10;O<A.length;O++){const V=A[O],Z=V[1].firstChild;null!==Z&&ye(V[1],V,Z,y)}const x=f.type;if(8&x)ye(c,d,f.child,y);else if(32&x){const O=Od(f,d);let V;for(;V=O();)y.push(V)}else if(16&x){const O=Fp(d,f);if(Array.isArray(O))y.push(...O);else{const V=fc(d[16]);ye(V[1],V,O,y,!0)}}f=b?f.projectionNext:f.next}return y}class it{constructor(d,f){this._lView=d,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const d=this._lView,f=d[1];return ye(f,d,f.firstChild,[])}get context(){return this._lView[8]}set context(d){this._lView[8]=d}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[3];if(bi(d)){const f=d[8],y=f?f.indexOf(this):-1;y>-1&&(Yc(d,y),Oc(f,y))}this._attachedToViewContainer=!1}Tl(this._lView[1],this._lView)}onDestroy(d){km(this._lView[1],this._lView,null,d)}markForCheck(){Qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){hg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kd(c,d){Ud(c,d,d[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=d}}class mt extends it{constructor(d){super(d),this._view=d}detectChanges(){const d=this._view;hg(d[1],d,d[8],!1)}checkNoChanges(){}get context(){return null}}class Yn extends Xc{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const f=dr(d);return new wu(f,this.ngModule)}}function Jr(c){const d=[];for(let f in c)c.hasOwnProperty(f)&&d.push({propName:c[f],templateName:f});return d}class Wo{constructor(d,f){this.injector=d,this.parentInjector=f}get(d,f,y){const b=this.injector.get(d,Kh,y);return b!==Kh||f===Kh?b:this.parentInjector.get(d,f,y)}}class wu extends v_{constructor(d,f){super(),this.componentDef=d,this.ngModule=f,this.componentType=d.type,this.selector=function kw(c){return c.map(I_).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!f}get inputs(){return Jr(this.componentDef.inputs)}get outputs(){return Jr(this.componentDef.outputs)}create(d,f,y,b){let A=(b=b||this.ngModule)instanceof xl?b:b?.injector;A&&null!==this.componentDef.getStandaloneInjector&&(A=this.componentDef.getStandaloneInjector(A)||A);const x=A?new Wo(d,A):d,O=x.get(tg,null);if(null===O)throw new Me(407,!1);const V=x.get(b_,null),Z=O.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",le=y?function Hy(c,d,f){return c.selectRootElement(d,f===_n.ShadowDom)}(Z,y,this.componentDef.encapsulation):ja(Z,ne,function Xr(c){const d=c.toLowerCase();return"svg"===d?"svg":"math"===d?"math":null}(ne)),Ae=this.componentDef.onPush?288:272,Ve=Yu(0,null,null,1,0,null,null,null,null,null),ft=ch(null,Ve,null,Ae,null,null,O,Z,V,x,null);let Pt,Ht;ha(ft);try{const fn=function nf(c,d,f,y,b,A){const x=f[1];f[22]=c;const V=Nl(x,22,2,"#host",null),Z=V.mergedAttrs=d.hostAttrs;null!==Z&&(ee(V,Z,!0),null!==c&&(Pc(b,c,Z),null!==V.classes&&Bp(b,c,V.classes),null!==V.styles&&em(b,c,V.styles)));const ne=y.createRenderer(c,d),le=ch(f,od(d),null,d.onPush?32:16,f[22],V,y,ne,A||null,null,null);return x.firstCreatePass&&(nc(Mo(V,f),x,d.type),Um(x,V),Bm(V,f.length,1)),so(f,le),f[22]=le}(le,this.componentDef,ft,O,Z);if(le)if(y)Pc(Z,le,["ng-version",w_.full]);else{const{attrs:Vn,classes:gt}=function x_(c){const d=[],f=[];let y=1,b=2;for(;y<c.length;){let A=c[y];if("string"==typeof A)2===b?""!==A&&d.push(A,c[++y]):8===b&&f.push(A);else{if(!_r(b))break;b=A}y++}return{attrs:d,classes:f}}(this.componentDef.selectors[0]);Vn&&Pc(Z,le,Vn),gt&&gt.length>0&&Bp(Z,le,gt.join(" "))}if(Ht=R(Ve,22),void 0!==f){const Vn=Ht.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const Kn=f[gt];Vn.push(null!=Kn?Array.from(Kn):null)}}Pt=function BT(c,d,f,y){const b=f[1],A=function qy(c,d,f){const y=Wn();c.firstCreatePass&&(f.providersResolver&&f.providersResolver(f),rn(c,y,d,qa(c,d,1,null),f),fh(c,y));const b=wd(d,c,y.directiveStart,y);An(b,d);const A=E(y,d);return A&&An(A,d),b}(b,f,d);if(c[8]=f[8]=A,null!==y)for(const O of y)O(A,d);if(d.contentQueries){const O=Wn();d.contentQueries(1,A,O.directiveStart)}const x=Wn();return!b.firstCreatePass||null===d.hostBindings&&null===d.hostAttrs||(Si(x.index),Zy(f[1],x,0,x.directiveStart,x.directiveEnd,d),q_(d,A)),A}(fn,this.componentDef,ft,[YD]),ai(Ve,ft,null)}finally{Xl()}return new pg(this.componentType,Pt,Pl(Ht,ft),ft,Ht)}}class pg extends class Dw{}{constructor(d,f,y,b,A){super(),this.location=y,this._rootLView=b,this._tNode=A,this.instance=f,this.hostView=this.changeDetectorRef=new mt(b),this.componentType=d}setInput(d,f){const y=this._tNode.inputs;let b;if(null!==y&&(b=y[d])){const A=this._rootLView;B(A[1],A,b,d,f),Rm(A,this._tNode.index)}}get injector(){return new ic(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function YD(){const c=Wn();It(ct()[1],c)}function Kw(c){let d=function Ku(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),f=!0;const y=[c];for(;d;){let b;if(Qo(c))b=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new Me(903,!1);b=d.\u0275dir}if(b){if(f){y.push(b);const x=c;x.inputs=Qw(c.inputs),x.declaredInputs=Qw(c.declaredInputs),x.outputs=Qw(c.outputs);const O=b.hostBindings;O&&QD(c,O);const V=b.viewQuery,Z=b.contentQueries;if(V&&Jw(c,V),Z&&KD(c,Z),rt(c.inputs,b.inputs),rt(c.declaredInputs,b.declaredInputs),rt(c.outputs,b.outputs),Qo(b)&&b.data.animation){const ne=c.data;ne.animation=(ne.animation||[]).concat(b.data.animation)}}const A=b.features;if(A)for(let x=0;x<A.length;x++){const O=A[x];O&&O.ngInherit&&O(c),O===Kw&&(f=!1)}}d=Object.getPrototypeOf(d)}!function VT(c){let d=0,f=null;for(let y=c.length-1;y>=0;y--){const b=c[y];b.hostVars=d+=b.hostVars,b.hostAttrs=dl(b.hostAttrs,f=dl(f,b.hostAttrs))}}(y)}function Qw(c){return c===ji?{}:c===hn?[]:c}function Jw(c,d){const f=c.viewQuery;c.viewQuery=f?(y,b)=>{d(y,b),f(y,b)}:d}function KD(c,d){const f=c.contentQueries;c.contentQueries=f?(y,b,A)=>{d(y,b,A),f(y,b,A)}:d}function QD(c,d){const f=c.hostBindings;c.hostBindings=f?(y,b)=>{d(y,b),f(y,b)}:d}let jm=null;function gg(){if(!jm){const c=mi.Symbol;if(c&&c.iterator)jm=c.iterator;else{const d=Object.getOwnPropertyNames(Map.prototype);for(let f=0;f<d.length;++f){const y=d[f];"entries"!==y&&"size"!==y&&Map.prototype[y]===Map.prototype.entries&&(jm=y)}}}return jm}function Hm(c){return!!G_(c)&&(Array.isArray(c)||!(c instanceof Map)&&gg()in c)}function G_(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function sd(c,d,f){return c[d]=f}function Ga(c,d,f){return!Object.is(c[d],f)&&(c[d]=f,!0)}function $a(c,d,f,y){const b=Ga(c,d,f);return Ga(c,d+1,y)||b}function $_(c,d,f,y){const b=ct();return Ga(b,js(),d)&&(Vt(),Ii(oi(),b,c,d,f,y)),$_}function up(c,d,f,y){return Ga(c,js(),f)?d+ut(f)+y:Xn}function Zm(c,d,f,y,b,A){const O=$a(c,function to(){return Re.lFrame.bindingIndex}(),f,b);return Po(2),O?d+ut(f)+y+ut(b)+A:Xn}function $m(c,d,f,y,b,A,x,O){const V=ct(),Z=Vt(),ne=c+22,le=Z.firstCreatePass?function D2(c,d,f,y,b,A,x,O,V){const Z=d.consts,ne=Nl(d,c,4,x||null,pe(Z,O));cg(d,f,ne,pe(Z,V)),It(d,ne);const le=ne.tViews=Yu(2,ne,y,b,A,d.directiveRegistry,d.pipeRegistry,null,d.schemas,Z);return null!==d.queries&&(d.queries.template(d,ne),le.queries=d.queries.embeddedTView(ne)),ne}(ne,Z,V,d,f,y,b,A,x):Z.data[ne];Er(le,!1);const Ae=V[11].createComment("");Vu(Z,V,Ae,le),An(Ae,V),so(V,V[ne]=zy(Ae,V,Ae,le)),Ei(le)&&Nm(Z,V,le),null!=x&&zi(V,le,O)}function iC(c){return j(function Rr(){return Re.lFrame.contextLView}(),22+c)}function oC(c,d,f){const y=ct();return Ga(y,js(),d)&&Ca(Vt(),oi(),y,c,d,y[11],f,!1),oC}function ad(c,d,f,y,b){const x=b?"class":"style";B(c,f,d.inputs[x],x,y)}function zm(c,d,f,y){const b=ct(),A=Vt(),x=22+c,O=b[11],V=b[x]=ja(O,d,function We(){return Re.lFrame.currentNamespace}()),Z=A.firstCreatePass?function jr(c,d,f,y,b,A,x){const O=d.consts,Z=Nl(d,c,2,b,pe(O,A));return cg(d,f,Z,pe(O,x)),null!==Z.attrs&&ee(Z,Z.attrs,!1),null!==Z.mergedAttrs&&ee(Z,Z.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,Z),Z}(x,A,b,0,d,f,y):A.data[x];Er(Z,!0);const ne=Z.mergedAttrs;null!==ne&&Pc(O,V,ne);const le=Z.classes;null!==le&&Bp(O,V,le);const Ae=Z.styles;return null!==Ae&&em(O,V,Ae),64!=(64&Z.flags)&&Vu(A,b,V,Z),0===function ln(){return Re.lFrame.elementDepthCount}()&&An(V,b),function vr(){Re.lFrame.elementDepthCount++}(),Ei(Z)&&(Nm(A,b,Z),id(A,Z,b)),null!==y&&zi(b,Z),zm}function Wm(){let c=Wn();Na()?Vo():(c=c.parent,Er(c,!1));const d=c;!function Hn(){Re.lFrame.elementDepthCount--}();const f=Vt();return f.firstCreatePass&&(It(f,c),kr(c)&&f.queries.elementEnd(c)),null!=d.classesWithoutHost&&function Ki(c){return 0!=(16&c.flags)}(d)&&ad(f,d,ct(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function Zr(c){return 0!=(32&c.flags)}(d)&&ad(f,d,ct(),d.stylesWithoutHost,!1),Wm}function se(c,d,f,y){return zm(c,d,f,y),Wm(),se}function rf(c,d,f){const y=ct(),b=Vt(),A=c+22,x=b.firstCreatePass?function Dr(c,d,f,y,b){const A=d.consts,x=pe(A,y),O=Nl(d,c,8,"ng-container",x);return null!==x&&ee(O,x,!0),cg(d,f,O,pe(A,b)),null!==d.queries&&d.queries.elementStart(d,O),O}(A,b,y,d,f):b.data[A];Er(x,!0);const O=y[A]=y[11].createComment("");return Vu(b,y,O,x),An(O,y),Ei(x)&&(Nm(b,y,x),id(b,x,y)),null!=f&&zi(y,x),rf}function Ym(){let c=Wn();const d=Vt();return Na()?Vo():(c=c.parent,Er(c,!1)),d.firstCreatePass&&(It(d,c),kr(c)&&d.queries.elementEnd(c)),Ym}function sC(c,d,f){return rf(c,d,f),Ym(),sC}function aC(){return ct()}function uC(c){return!!c&&"function"==typeof c.then}function un(c){return!!c&&"function"==typeof c.subscribe}const z_=un;function ar(c,d,f,y){const b=ct(),A=Vt(),x=Wn();return function Km(c,d,f,y,b,A,x,O){const V=Ei(y),ne=c.firstCreatePass&&p(c),le=d[8],Ae=u(d);let Ve=!0;if(3&y.type||O){const Ht=E(y,d),fn=O?O(Ht):Ht,Vn=Ae.length,gt=O?gi=>O(Ai(gi[y.index])):y.index;let Kn=null;if(!O&&V&&(Kn=function lC(c,d,f,y){const b=c.cleanup;if(null!=b)for(let A=0;A<b.length-1;A+=2){const x=b[A];if(x===f&&b[A+1]===y){const O=d[7],V=b[A+2];return O.length>V?O[V]:null}"string"==typeof x&&(A+=2)}return null}(c,d,b,y.index)),null!==Kn)(Kn.__ngLastListenerFn__||Kn).__ngNextListenerFn__=A,Kn.__ngLastListenerFn__=A,Ve=!1;else{A=W_(y,d,le,A,!1);const gi=f.listen(fn,b,A);Ae.push(A,gi),ne&&ne.push(b,gt,Vn,Vn+1)}}else A=W_(y,d,le,A,!1);const ft=y.outputs;let Pt;if(Ve&&null!==ft&&(Pt=ft[b])){const Ht=Pt.length;if(Ht)for(let fn=0;fn<Ht;fn+=2){const wo=d[Pt[fn]][Pt[fn+1]].subscribe(A),yp=Ae.length;Ae.push(A,wo),ne&&ne.push(b,y.index,yp,-(yp+1))}}}(A,b,b[11],x,c,d,0,y),ar}function qT(c,d,f,y){try{return!1!==f(y)}catch(b){return I(c,b),!1}}function W_(c,d,f,y,b){return function A(x){if(x===Function)return y;Qi(2&c.flags?G(c.index,d):d);let V=qT(d,0,y,x),Z=A.__ngNextListenerFn__;for(;Z;)V=qT(d,0,Z,x)&&V,Z=Z.__ngNextListenerFn__;return b&&!1===V&&(x.preventDefault(),x.returnValue=!1),V}}function ZT(c=1){return function ec(c){return(Re.lFrame.contextLView=function cl(c,d){for(;c>0;)d=d[15],c--;return d}(c,Re.lFrame.contextLView))[8]}(c)}function oS(c,d){let f=null;const y=function rh(c){const d=c.attrs;if(null!=d){const f=d.indexOf(5);if(0==(1&f))return d[f+1]}return null}(c);for(let b=0;b<d.length;b++){const A=d[b];if("*"!==A){if(null===y?vm(c,A,!0):Nw(y,A))return b}else f=b}return f}function GT(c){const d=ct()[16][6];if(!d.projection){const y=d.projection=Nc(c?c.length:1,null),b=y.slice();let A=d.child;for(;null!==A;){const x=c?oS(A,c):0;null!==x&&(b[x]?b[x].projectionNext=A:y[x]=A,b[x]=A),A=A.next}}}function Xs(c,d=0,f){const y=ct(),b=Vt(),A=Nl(b,22+c,16,null,f||null);null===A.projection&&(A.projection=d),Vo(),64!=(64&A.flags)&&function ey(c,d,f){Xg(d[11],0,d,f,El(c,f,d),Vh(f.parent||d[6],f,d))}(b,y,A)}function Qm(c,d,f){return us(c,"",d,"",f),Qm}function us(c,d,f,y,b){const A=ct(),x=up(A,d,f,y);return x!==Xn&&Ca(Vt(),oi(),A,c,x,A[11],b,!1),us}function K_(c,d,f,y,b){const A=c[f+1],x=null===d;let O=y?jt(A):Ks(A),V=!1;for(;0!==O&&(!1===V||x);){const ne=c[O+1];Tu(c[O],d)&&(V=!0,c[O+1]=y?sg(ne):Im(ne)),O=y?jt(ne):Ks(ne)}V&&(c[f+1]=y?Im(A):sg(A))}function Tu(c,d){return null===c||null==d||(Array.isArray(c)?c[1]:c)===d||!(!Array.isArray(c)||"string"!=typeof d)&&Rc(c,d)>=0}const ls={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pC(c){return c.substring(ls.key,ls.keyEnd)}function gC(c){return c.substring(ls.value,ls.valueEnd)}function mC(c,d){const f=ls.textEnd;return f===d?-1:(d=ls.keyEnd=function Xm(c,d,f){for(;d<f&&c.charCodeAt(d)>32;)d++;return d}(c,ls.key=d,f),Jm(c,d,f))}function Q_(c,d){const f=ls.textEnd;let y=ls.key=Jm(c,d,f);return f===y?-1:(y=ls.keyEnd=function XT(c,d,f){let y;for(;d<f&&(45===(y=c.charCodeAt(d))||95===y||(-33&y)>=65&&(-33&y)<=90||y>=48&&y<=57);)d++;return d}(c,y,f),y=J_(c,y,f),y=ls.value=Jm(c,y,f),y=ls.valueEnd=function eE(c,d,f){let y=-1,b=-1,A=-1,x=d,O=x;for(;x<f;){const V=c.charCodeAt(x++);if(59===V)return O;34===V||39===V?O=x=tE(c,V,x,f):d===x-4&&85===A&&82===b&&76===y&&40===V?O=x=tE(c,41,x,f):V>32&&(O=x),A=b,b=y,y=-33&V}return O}(c,y,f),J_(c,y,f))}function JT(c){ls.key=0,ls.keyEnd=0,ls.value=0,ls.valueEnd=0,ls.textEnd=c.length}function Jm(c,d,f){for(;d<f&&c.charCodeAt(d)<=32;)d++;return d}function J_(c,d,f,y){return(d=Jm(c,d,f))<f&&d++,d}function tE(c,d,f,y){let b=-1,A=f;for(;A<y;){const x=c.charCodeAt(A++);if(x==d&&92!==b)return A;b=92==x&&92===b?0:x}throw new Error}function ev(c,d,f){return Rl(c,d,f,!1),ev}function t0(c,d){return Rl(c,d,null,!0),t0}function kl(c){bc(s0,vC,c,!1)}function vC(c,d){for(let f=function QT(c){return JT(c),Q_(c,Jm(c,0,ls.textEnd))}(d);f>=0;f=Q_(d,f))s0(c,pC(d),gC(d))}function nE(c){bc(no,sf,c,!0)}function sf(c,d){for(let f=function KT(c){return JT(c),mC(c,Jm(c,0,ls.textEnd))}(d);f>=0;f=mC(d,f))no(c,pC(d),!0)}function Rl(c,d,f,y){const b=ct(),A=Vt(),x=Po(2);A.firstUpdatePass&&iE(A,c,x,y),d!==Xn&&Ga(b,x,d)&&eb(A,A.data[fi()],b,b[11],c,b[x+1]=function oE(c,d){return null==c||("string"==typeof d?c+=d:"object"==typeof c&&(c=at(_a(c)))),c}(d,f),y,x)}function bc(c,d,f,y){const b=Vt(),A=Po(2);b.firstUpdatePass&&iE(b,null,A,y);const x=ct();if(f!==Xn&&Ga(x,A,f)){const O=b.data[fi()];if(bC(O,y)&&!rE(b,A)){let V=y?O.classesWithoutHost:O.stylesWithoutHost;null!==V&&(f=ze(V,f||"")),ad(b,O,x,f,y)}else!function _C(c,d,f,y,b,A,x,O){b===Xn&&(b=hn);let V=0,Z=0,ne=0<b.length?b[0]:null,le=0<A.length?A[0]:null;for(;null!==ne||null!==le;){const Ae=V<b.length?b[V+1]:void 0,Ve=Z<A.length?A[Z+1]:void 0;let Pt,ft=null;ne===le?(V+=2,Z+=2,Ae!==Ve&&(ft=le,Pt=Ve)):null===le||null!==ne&&ne<le?(V+=2,ft=ne):(Z+=2,ft=le,Pt=Ve),null!==ft&&eb(c,d,f,y,ft,Pt,x,O),ne=V<b.length?b[V]:null,le=Z<A.length?A[Z]:null}}(b,O,x,x[11],x[A+1],x[A+1]=function X_(c,d,f){if(null==f||""===f)return hn;const y=[],b=_a(f);if(Array.isArray(b))for(let A=0;A<b.length;A++)c(y,b[A],!0);else if("object"==typeof b)for(const A in b)b.hasOwnProperty(A)&&c(y,A,b[A]);else"string"==typeof b&&d(y,b);return y}(c,d,f),y,A)}}function rE(c,d){return d>=c.expandoStartIndex}function iE(c,d,f,y){const b=c.data;if(null===b[f+1]){const A=b[fi()],x=rE(c,f);bC(A,y)&&null===d&&!x&&(d=!1),d=function za(c,d,f,y){const b=Pu(c);let A=y?d.residualClasses:d.residualStyles;if(null===b)0===(y?d.classBindings:d.styleBindings)&&(f=o0(f=yC(null,c,d,f,y),d.attrs,y),A=null);else{const x=d.directiveStylingLast;if(-1===x||c[x]!==b)if(f=yC(b,c,d,f,y),null===A){let V=function n0(c,d,f){const y=f?d.classBindings:d.styleBindings;if(0!==Ks(y))return c[jt(y)]}(c,d,y);void 0!==V&&Array.isArray(V)&&(V=yC(null,c,d,V[1],y),V=o0(V,d.attrs,y),function aS(c,d,f,y){c[jt(f?d.classBindings:d.styleBindings)]=y}(c,d,y,V))}else A=function r0(c,d,f){let y;const b=d.directiveEnd;for(let A=1+d.directiveStylingLast;A<b;A++)y=o0(y,c[A].hostAttrs,f);return o0(y,d.attrs,f)}(c,d,y)}return void 0!==A&&(y?d.residualClasses=A:d.residualStyles=A),f}(b,A,d,y),function YT(c,d,f,y,b,A){let x=A?d.classBindings:d.styleBindings,O=jt(x),V=Ks(x);c[y]=f;let ne,Z=!1;if(Array.isArray(f)){const le=f;ne=le[1],(null===ne||Rc(le,ne)>0)&&(Z=!0)}else ne=f;if(b)if(0!==V){const Ae=jt(c[O+1]);c[y+1]=Dm(Ae,O),0!==Ae&&(c[Ae+1]=Jd(c[Ae+1],y)),c[O+1]=function Sm(c,d){return 131071&c|d<<17}(c[O+1],y)}else c[y+1]=Dm(O,0),0!==O&&(c[O+1]=Jd(c[O+1],y)),O=y;else c[y+1]=Dm(V,0),0===O?O=y:c[V+1]=Jd(c[V+1],y),V=y;Z&&(c[y+1]=Im(c[y+1])),K_(c,ne,y,!0),K_(c,ne,y,!1),function Cu(c,d,f,y,b){const A=b?c.residualClasses:c.residualStyles;null!=A&&"string"==typeof d&&Rc(A,d)>=0&&(f[y+1]=sg(f[y+1]))}(d,ne,c,y,A),x=Dm(O,V),A?d.classBindings=x:d.styleBindings=x}(b,A,d,f,x,y)}}function yC(c,d,f,y,b){let A=null;const x=f.directiveEnd;let O=f.directiveStylingLast;for(-1===O?O=f.directiveStart:O++;O<x&&(A=d[O],y=o0(y,A.hostAttrs,b),A!==c);)O++;return null!==c&&(f.directiveStylingLast=O),y}function o0(c,d,f){const y=f?1:2;let b=-1;if(null!==d)for(let A=0;A<d.length;A++){const x=d[A];"number"==typeof x?b=x:b===y&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),no(c,x,!!f||d[++A]))}return void 0===c?null:c}function s0(c,d,f){no(c,d,_a(f))}function eb(c,d,f,y,b,A,x,O){if(!(3&d.type))return;const V=c.data,Z=V[O+1];tv(function xm(c){return 1==(1&c)}(Z)?tb(V,d,f,b,Ks(Z),x):void 0)||(tv(A)||function og(c){return 2==(2&c)}(Z)&&(A=tb(V,null,f,b,O,x)),function Up(c,d,f,y,b){if(d)b?c.addClass(f,y):c.removeClass(f,y);else{let A=-1===y.indexOf("-")?void 0:As.DashCase;null==b?c.removeStyle(f,y,A):("string"==typeof b&&b.endsWith("!important")&&(b=b.slice(0,-10),A|=As.Important),c.setStyle(f,y,b,A))}}(y,x,Ma(fi(),f),b,A))}function tb(c,d,f,y,b,A){const x=null===d;let O;for(;b>0;){const V=c[b],Z=Array.isArray(V),ne=Z?V[1]:V,le=null===ne;let Ae=f[b+1];Ae===Xn&&(Ae=le?hn:void 0);let Ve=le?kc(Ae,y):ne===y?Ae:void 0;if(Z&&!tv(Ve)&&(Ve=kc(V,y)),tv(Ve)&&(O=Ve,x))return O;const ft=c[b+1];b=x?jt(ft):Ks(ft)}if(null!==d){let V=A?d.residualClasses:d.residualStyles;null!=V&&(O=kc(V,y))}return O}function tv(c){return void 0!==c}function bC(c,d){return 0!=(c.flags&(d?16:32))}function sE(c,d=""){const f=ct(),y=Vt(),b=c+22,A=y.firstCreatePass?Nl(y,b,1,d,null):y.data[b],x=f[b]=function zc(c,d){return c.createText(d)}(f[11],d);Vu(y,f,x,A),Er(A,!1)}function nb(c){return a0("",c,""),nb}function a0(c,d,f){const y=ct(),b=up(y,c,d,f);return b!==Xn&&W(y,fi(),b),a0}function u0(c,d,f,y,b){const A=ct(),x=Zm(A,c,d,f,y,b);return x!==Xn&&W(A,fi(),x),u0}function MC(c,d,f){const y=ct();return Ga(y,js(),d)&&Ca(Vt(),oi(),y,c,d,y[11],f,!0),MC}function ph(c,d,f){const y=ct();if(Ga(y,js(),d)){const A=Vt(),x=oi();Ca(A,x,y,c,d,function C(c,d,f){return(null===c||Qo(c))&&(f=function Cf(c){for(;Array.isArray(c);){if("object"==typeof c[1])return c;c=c[0]}return null}(f[d.index])),f[11]}(Pu(A.data),x,y),f,!0)}return ph}const lp=void 0;var pE=["en",[["a","p"],["AM","PM"],lp],[["AM","PM"],lp,lp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lp,"{1} 'at' {0}",lp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ub(c){const f=Math.floor(Math.abs(c)),y=c.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===y?1:5}];let af={};function Ta(c){const d=function gE(c){return c.toLowerCase().replace(/_/g,"-")}(c);let f=c0(d);if(f)return f;const y=d.split("-")[0];if(f=c0(y),f)return f;if("en"===y)return pE;throw new Me(701,!1)}function rv(c){return Ta(c)[qn.PluralCase]}function c0(c){return c in af||(af[c]=mi.ng&&mi.ng.common&&mi.ng.common.locales&&mi.ng.common.locales[c]),af[c]}var qn=(()=>((qn=qn||{})[qn.LocaleId=0]="LocaleId",qn[qn.DayPeriodsFormat=1]="DayPeriodsFormat",qn[qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",qn[qn.DaysFormat=3]="DaysFormat",qn[qn.DaysStandalone=4]="DaysStandalone",qn[qn.MonthsFormat=5]="MonthsFormat",qn[qn.MonthsStandalone=6]="MonthsStandalone",qn[qn.Eras=7]="Eras",qn[qn.FirstDayOfWeek=8]="FirstDayOfWeek",qn[qn.WeekendRange=9]="WeekendRange",qn[qn.DateFormat=10]="DateFormat",qn[qn.TimeFormat=11]="TimeFormat",qn[qn.DateTimeFormat=12]="DateTimeFormat",qn[qn.NumberSymbols=13]="NumberSymbols",qn[qn.NumberFormats=14]="NumberFormats",qn[qn.CurrencyCode=15]="CurrencyCode",qn[qn.CurrencySymbol=16]="CurrencySymbol",qn[qn.CurrencyName=17]="CurrencyName",qn[qn.Currencies=18]="Currencies",qn[qn.Directionality=19]="Directionality",qn[qn.PluralCase=20]="PluralCase",qn[qn.ExtraData=21]="ExtraData",qn))();const cp="en-US";let vE=cp;function Cb(c,d,f,y,b){if(c=Ce(c),Array.isArray(c))for(let A=0;A<c.length;A++)Cb(c[A],d,f,y,b);else{const A=Vt(),x=ct();let O=yu(c)?c:Ce(c.provide),V=Xf(c);const Z=Wn(),ne=1048575&Z.providerIndexes,le=Z.directiveStart,Ae=Z.providerIndexes>>20;if(yu(c)||!c.multi){const Ve=new Ln(V,b,Ml),ft=Tb(O,d,b?ne:ne+Ae,le);-1===ft?(nc(Mo(Z,x),A,O),C0(A,c,d.length),d.push(O),Z.directiveStart++,Z.directiveEnd++,b&&(Z.providerIndexes+=1048576),f.push(Ve),x.push(Ve)):(f[ft]=Ve,x[ft]=Ve)}else{const Ve=Tb(O,d,ne+Ae,le),ft=Tb(O,d,ne,ne+Ae),Pt=Ve>=0&&f[Ve],Ht=ft>=0&&f[ft];if(b&&!Ht||!b&&!Pt){nc(Mo(Z,x),A,O);const fn=function NE(c,d,f,y,b){const A=new Ln(c,f,Ml);return A.multi=[],A.index=d,A.componentProviders=0,T0(A,b,y&&!f),A}(b?Eb:GC,f.length,b,y,V);!b&&Ht&&(f[ft].providerFactory=fn),C0(A,c,d.length,0),d.push(O),Z.directiveStart++,Z.directiveEnd++,b&&(Z.providerIndexes+=1048576),f.push(fn),x.push(fn)}else C0(A,c,Ve>-1?Ve:ft,T0(f[b?ft:Ve],V,!b&&y));!b&&y&&Ht&&f[ft].componentProviders++}}}function C0(c,d,f,y){const b=yu(d),A=function Jf(c){return!!c.useClass}(d);if(b||A){const V=(A?Ce(d.useClass):d).prototype.ngOnDestroy;if(V){const Z=c.destroyHooks||(c.destroyHooks=[]);if(!b&&d.multi){const ne=Z.indexOf(f);-1===ne?Z.push(f,[y,V]):Z[ne+1].push(y,V)}else Z.push(f,V)}}}function T0(c,d,f){return f&&c.componentProviders++,c.multi.push(d)-1}function Tb(c,d,f,y){for(let b=f;b<y;b++)if(d[b]===c)return b;return-1}function GC(c,d,f,y){return $C(this.multi,[])}function Eb(c,d,f,y){const b=this.multi;let A;if(this.providerFactory){const x=this.providerFactory.componentProviders,O=wd(f,f[1],this.providerFactory.index,y);A=O.slice(0,x),$C(b,A);for(let V=x;V<O.length;V++)A.push(O[V])}else A=[],$C(b,A);return A}function $C(c,d){for(let f=0;f<c.length;f++)d.push((0,c[f])());return d}function cv(c,d=[]){return f=>{f.providersResolver=(y,b)=>function w0(c,d,f){const y=Vt();if(y.firstCreatePass){const b=Qo(c);Cb(f,y.data,y.blueprint,b,!0),Cb(d,y.data,y.blueprint,b,!1)}}(y,b?b(c):c,d)}}class Dg{}class zC{}function WC(c,d){return new YC(c,d??null)}class YC extends Dg{constructor(d,f){super(),this._parent=f,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yn(this);const y=Do(d);this._bootstrapComponents=Gu(y.bootstrap),this._r3Injector=by(d,f,[{provide:Dg,useValue:this},{provide:Xc,useValue:this.componentFactoryResolver}],at(d),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(d)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class dv extends zC{constructor(d){super(),this.moduleType=d}create(d){return new YC(this.moduleType,d)}}class RE extends Dg{constructor(d,f,y){super(),this.componentFactoryResolver=new Yn(this),this.instance=null;const b=new zd([...d,{provide:Dg,useValue:this},{provide:Xc,useValue:this.componentFactoryResolver}],f||Qp(),y,new Set(["environment"]));this.injector=b,b.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}function Ab(c,d,f=null){return new RE(c,d,f).injector}let Sg=(()=>{class c{constructor(f){this._injector=f,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(f){if(!f.standalone)return null;if(!this.cachedInjectors.has(f.id)){const y=uy(0,f.type),b=y.length>0?Ab([y],this._injector,`Standalone[${f.type.name}]`):null;this.cachedInjectors.set(f.id,b)}return this.cachedInjectors.get(f.id)}ngOnDestroy(){try{for(const f of this.cachedInjectors.values())null!==f&&f.destroy()}finally{this.cachedInjectors.clear()}}}return c.\u0275prov=Xe({token:c,providedIn:"environment",factory:()=>new c(ro(xl))}),c})();function KC(c){c.getStandaloneInjector=d=>d.get(Sg).getOrCreateStandaloneInjector(c)}function Ju(c,d,f,y){return function nr(c,d,f,y,b,A){const x=d+f;return Ga(c,x,b)?sd(c,x+1,A?y.call(A,b):y(b)):vn(c,x+1)}(ct(),Yr(),c,d,f,y)}function tt(c,d,f,y,b){return Zt(ct(),Yr(),c,d,f,y,b)}function Ct(c,d,f,y,b,A){return function jE(c,d,f,y,b,A,x,O){const V=d+f;return function Ky(c,d,f,y,b){const A=$a(c,d,f,y);return Ga(c,d+2,b)||A}(c,V,b,A,x)?sd(c,V+3,O?y.call(O,b,A,x):y(b,A,x)):vn(c,V+3)}(ct(),Yr(),c,d,f,y,b,A)}function Cc(c,d,f,y,b,A,x){return function s1(c,d,f,y,b,A,x,O,V){const Z=d+f;return function yc(c,d,f,y,b,A){const x=$a(c,d,f,y);return $a(c,d+2,b,A)||x}(c,Z,b,A,x,O)?sd(c,Z+4,V?y.call(V,b,A,x,O):y(b,A,x,O)):vn(c,Z+4)}(ct(),Yr(),c,d,f,y,b,A,x)}function vn(c,d){const f=c[d];return f===Xn?void 0:f}function Zt(c,d,f,y,b,A,x){const O=d+f;return $a(c,O,b,A)?sd(c,O+2,x?y.call(x,b,A):y(b,A)):vn(c,O+2)}function Ig(c,d){const f=Vt();let y;const b=c+22;f.firstCreatePass?(y=function HE(c,d){if(d)for(let f=d.length-1;f>=0;f--){const y=d[f];if(c===y.name)return y}}(d,f.pipeRegistry),f.data[b]=y,y.onDestroy&&(f.destroyHooks||(f.destroyHooks=[])).push(b,y.onDestroy)):y=f.data[b];const A=y.factory||(y.factory=qi(y.type)),x=Rn(Ml);try{const O=ge(!1),V=A();return ge(O),function rC(c,d,f,y){f>=c.data.length&&(c.data[f]=null,c.blueprint[f]=null),d[f]=y}(f,ct(),b,V),V}finally{Rn(x)}}function a1(c,d,f,y){const b=c+22,A=ct(),x=j(A,b);return function Gr(c,d){return c[1].data[d].pure}(A,b)?Zt(A,Yr(),d,x.transform,f,y,x):x.transform(f,y)}function Ll(c){return d=>{setTimeout(c,void 0,d)}}const Eu=class RS extends a.x{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,f,y){let b=d,A=f||(()=>null),x=y;if(d&&"object"==typeof d){const V=d;b=V.next?.bind(V),A=V.error?.bind(V),x=V.complete?.bind(V)}this.__isAsync&&(A=Ll(A),b&&(b=Ll(b)),x&&(x=Ll(x)));const O=super.subscribe({next:b,error:A,complete:x});return d instanceof Q.w0&&d.add(O),O}};function Au(){return this._results[gg()]()}class u1{constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=gg(),y=u1.prototype;y[f]||(y[f]=Au)}get changes(){return this._changes||(this._changes=new Eu)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,f){return this._results.reduce(d,f)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,f){const y=this;y.dirty=!1;const b=ns(d);(this._changesDetected=!function oc(c,d,f){if(c.length!==d.length)return!1;for(let y=0;y<c.length;y++){let b=c[y],A=d[y];if(f&&(b=f(b),A=f(A)),A!==b)return!1}return!0}(y._results,b,f))&&(y._results=b,y.length=b.length,y.last=b[this.length-1],y.first=b[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Tc=(()=>{class c{}return c.__NG_ELEMENT_ID__=l1,c})();const fs=Tc,hv=class extends fs{constructor(d,f,y){super(),this._declarationLView=d,this._declarationTContainer=f,this.elementRef=y}createEmbeddedView(d,f){const y=this._declarationTContainer.tViews,b=ch(this._declarationLView,y,d,16,null,y.declTNode,null,null,null,null,f||null);b[17]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[19];return null!==x&&(b[19]=x.createEmbeddedView(y)),ai(y,b,d),new it(b)}};function l1(){return D0(Wn(),ct())}function D0(c,d){return 4&c.type?new hv(d,c,Pl(c,d)):null}let fp=(()=>{class c{}return c.__NG_ELEMENT_ID__=Pg,c})();function Pg(){return ud(Wn(),ct())}const Ib=fp,c1=class extends Ib{constructor(d,f,y){super(),this._lContainer=d,this._hostTNode=f,this._hostLView=y}get element(){return Pl(this._hostTNode,this._hostLView)}get injector(){return new ic(this._hostTNode,this._hostLView)}get parentInjector(){const d=lu(this._hostTNode,this._hostLView);if(Hs(d)){const f=U(d,this._hostLView),y=go(d);return new ic(f[1].data[y+8],f)}return new ic(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const f=On(this._lContainer);return null!==f&&f[d]||null}get length(){return this._lContainer.length-10}createEmbeddedView(d,f,y){let b,A;"number"==typeof y?b=y:null!=y&&(b=y.index,A=y.injector);const x=d.createEmbeddedView(f||{},A);return this.insert(x,b),x}createComponent(d,f,y,b,A){const x=d&&!function Fa(c){return"function"==typeof c}(d);let O;if(x)O=f;else{const le=f||{};O=le.index,y=le.injector,b=le.projectableNodes,A=le.environmentInjector||le.ngModuleRef}const V=x?d:new wu(dr(d)),Z=y||this.parentInjector;if(!A&&null==V.ngModule){const Ae=(x?Z:this.parentInjector).get(xl,null);Ae&&(A=Ae)}const ne=V.create(Z,b,void 0,A);return this.insert(ne.hostView,O),ne}insert(d,f){const y=d._lView,b=y[1];if(function me(c){return bi(c[3])}(y)){const ne=this.indexOf(d);if(-1!==ne)this.detach(ne);else{const le=y[3],Ae=new c1(le,le[6],le[3]);Ae.detach(Ae.indexOf(d))}}const A=this._adjustIndex(f),x=this._lContainer;!function Rp(c,d,f,y){const b=10+y,A=f.length;y>0&&(f[b-1][4]=d),y<A-10?(d[4]=f[b],vl(f,10+y,d)):(f.push(d),d[4]=null),d[3]=f;const x=d[17];null!==x&&f!==x&&function Bu(c,d){const f=c[9];d[16]!==d[3][3][16]&&(c[2]=!0),null===f?c[9]=[d]:f.push(d)}(x,d);const O=d[19];null!==O&&O.insertView(c),d[2]|=64}(b,y,x,A);const O=Lp(A,x),V=y[11],Z=Zf(V,x[7]);return null!==Z&&function ya(c,d,f,y,b,A){y[0]=b,y[6]=d,Ud(c,y,f,1,b,A)}(b,x[6],V,y,Z,O),d.attachToViewContainerRef(),vl(vh(x),A,d),d}move(d,f){return this.insert(d,f)}indexOf(d){const f=On(this._lContainer);return null!==f?f.indexOf(d):-1}remove(d){const f=this._adjustIndex(d,-1),y=Yc(this._lContainer,f);y&&(Oc(vh(this._lContainer),f),Tl(y[1],y))}detach(d){const f=this._adjustIndex(d,-1),y=Yc(this._lContainer,f);return y&&null!=Oc(vh(this._lContainer),f)?new it(y):null}_adjustIndex(d,f=0){return d??this.length+f}};function On(c){return c[8]}function vh(c){return c[8]||(c[8]=[])}function ud(c,d){let f;const y=d[c.index];if(bi(y))f=y;else{let b;if(8&c.type)b=Ai(y);else{const A=d[11];b=A.createComment("");const x=E(c,d);Zo(A,Zf(A,x),b,function Bh(c,d){return c.nextSibling(d)}(A,x),!1)}d[c.index]=f=zy(y,d,b,c),so(d,f)}return new c1(f,c,d)}class I0{constructor(d){this.queryList=d,this.matches=null}clone(){return new I0(this.queryList)}setDirty(){this.queryList.setDirty()}}class x0{constructor(d=[]){this.queries=d}createEmbeddedView(d){const f=d.queries;if(null!==f){const y=null!==d.contentQueries?d.contentQueries[0]:f.length,b=[];for(let A=0;A<y;A++){const x=f.getByIndex(A);b.push(this.queries[x.indexInDeclarationView].clone())}return new x0(b)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let f=0;f<this.queries.length;f++)null!==WE(d,f).matches&&this.queries[f].setDirty()}}class P0{constructor(d,f,y=null){this.predicate=d,this.flags=f,this.read=y}}class M0{constructor(d=[]){this.queries=d}elementStart(d,f){for(let y=0;y<this.queries.length;y++)this.queries[y].elementStart(d,f)}elementEnd(d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(d)}embeddedTView(d){let f=null;for(let y=0;y<this.length;y++){const b=null!==f?f.length:0,A=this.getByIndex(y).embeddedTView(d,b);A&&(A.indexInDeclarationView=y,null!==f?f.push(A):f=[A])}return null!==f?new M0(f):null}template(d,f){for(let y=0;y<this.queries.length;y++)this.queries[y].template(d,f)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class O0{constructor(d,f=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(d,f){this.isApplyingToNode(f)&&this.matchTNode(d,f)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,f){this.elementStart(d,f)}embeddedTView(d,f){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,f),new O0(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let y=d.parent;for(;null!==y&&8&y.type&&y.index!==f;)y=y.parent;return f===(null!==y?y.index:-1)}return this._appliesToNextNode}matchTNode(d,f){const y=this.metadata.predicate;if(Array.isArray(y))for(let b=0;b<y.length;b++){const A=y[b];this.matchTNodeWithReadOption(d,f,GE(f,A)),this.matchTNodeWithReadOption(d,f,gl(f,d,A,!1,!1))}else y===Tc?4&f.type&&this.matchTNodeWithReadOption(d,f,-1):this.matchTNodeWithReadOption(d,f,gl(f,d,y,!1,!1))}matchTNodeWithReadOption(d,f,y){if(null!==y){const b=this.metadata.read;if(null!==b)if(b===eg||b===fp||b===Tc&&4&f.type)this.addMatch(f.index,-2);else{const A=gl(f,d,b,!1,!1);null!==A&&this.addMatch(f.index,A)}else this.addMatch(f.index,y)}}addMatch(d,f){null===this.matches?this.matches=[d,f]:this.matches.push(d,f)}}function GE(c,d){const f=c.localNames;if(null!==f)for(let y=0;y<f.length;y+=2)if(f[y]===d)return f[y+1];return null}function xb(c,d,f,y){return-1===f?function $E(c,d){return 11&c.type?Pl(c,d):4&c.type?D0(c,d):null}(d,c):-2===f?function N0(c,d,f){return f===eg?Pl(d,c):f===Tc?D0(d,c):f===fp?ud(d,c):void 0}(c,d,y):wd(c,c[1],f,d)}function Xu(c,d,f,y){const b=d[19].queries[y];if(null===b.matches){const A=c.data,x=f.matches,O=[];for(let V=0;V<x.length;V+=2){const Z=x[V];O.push(Z<0?null:xb(d,A[Z],x[V+1],f.metadata.read))}b.matches=O}return b.matches}function Pb(c,d,f,y){const b=c.queries.getByIndex(f),A=b.matches;if(null!==A){const x=Xu(c,d,b,f);for(let O=0;O<A.length;O+=2){const V=A[O];if(V>0)y.push(x[O/2]);else{const Z=A[O+1],ne=d[-V];for(let le=10;le<ne.length;le++){const Ae=ne[le];Ae[17]===Ae[3]&&Pb(Ae[1],Ae,Z,y)}if(null!==ne[9]){const le=ne[9];for(let Ae=0;Ae<le.length;Ae++){const Ve=le[Ae];Pb(Ve[1],Ve,Z,y)}}}}}return y}function ta(c){const d=ct(),f=Vt(),y=Kr();di(y+1);const b=WE(f,y);if(c.dirty&&function z(c){return 4==(4&c[2])}(d)===(2==(2&b.metadata.flags))){if(null===b.matches)c.reset([]);else{const A=b.crossesNgTemplate?Pb(f,d,y,[]):Xu(f,d,b,y);c.reset(A,th),c.notifyOnChanges()}return!0}return!1}function zE(c,d,f){const y=Vt();y.firstCreatePass&&(el(y,new P0(c,d,f),-1),2==(2&d)&&(y.staticViewQueries=!0)),k0(y,ct(),d)}function d1(c,d,f,y){const b=Vt();if(b.firstCreatePass){const A=Wn();el(b,new P0(d,f,y),A.index),function LS(c,d){const f=c.contentQueries||(c.contentQueries=[]);d!==(f.length?f[f.length-1]:-1)&&f.push(c.queries.length-1,d)}(b,c),2==(2&f)&&(b.staticContentQueries=!0)}k0(b,ct(),f)}function gv(){return function Mb(c,d){return c[19].queries[d].queryList}(ct(),Kr())}function k0(c,d,f){const y=new u1(4==(4&f));km(c,d,y,y.destroy),null===d[19]&&(d[19]=new x0),d[19].queries.push(new I0(y))}function el(c,d,f){null===c.queries&&(c.queries=new M0),c.queries.track(new O0(d,f))}function WE(c,d){return c.queries.getByIndex(d)}function YE(c,d){return D0(c,d)}const oA=Zg("Input",c=>({bindingPropertyName:c}));function gp(...c){}const aA=new Qr("Application Initializer");let j0=(()=>{class c{constructor(f){this.appInits=f,this.resolve=gp,this.reject=gp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,b)=>{this.resolve=y,this.reject=b})}runInitializers(){if(this.initialized)return;const f=[],y=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let b=0;b<this.appInits.length;b++){const A=this.appInits[b]();if(uC(A))f.push(A);else if(z_(A)){const x=new Promise((O,V)=>{A.subscribe({complete:O,error:V})});f.push(x)}}Promise.all(f).then(()=>{y()}).catch(b=>{this.reject(b)}),0===f.length&&y(),this.initialized=!0}}return c.\u0275fac=function(f){return new(f||c)(ro(aA,8))},c.\u0275prov=Xe({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const y1=new Qr("AppId",{providedIn:"root",factory:function Aa(){return`${lf()}${lf()}${lf()}`}});function lf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hs=new Qr("Platform Initializer"),uA=new Qr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lA=new Qr("appBootstrapListener"),WS=new Qr("AnimationModuleType");let b1=(()=>{class c{log(f){console.log(f)}warn(f){console.warn(f)}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=Xe({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();const H0=new Qr("LocaleId",{providedIn:"root",factory:()=>Kt(H0,Et.Optional|Et.SkipSelf)||function YS(){return typeof $localize<"u"&&$localize.locale||cp}()}),KS=new Qr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class C1{constructor(d,f){this.ngModuleFactory=d,this.componentFactories=f}}let T1=(()=>{class c{compileModuleSync(f){return new dv(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const y=this.compileModuleSync(f),A=Gu(Do(f).declarations).reduce((x,O)=>{const V=dr(O);return V&&x.push(new wu(V)),x},[]);return new C1(y,A)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=Xe({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const XS=(()=>Promise.resolve(0))();function A1(c){typeof Zone>"u"?XS.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class Ya{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:y=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Eu(!1),this.onMicrotaskEmpty=new Eu(!1),this.onStable=new Eu(!1),this.onError=new Eu(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const b=this;if(b._nesting=0,b._outer=b._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const A=Zone.AsyncStackTaggingZoneSpec;b._inner=b._inner.fork(new A("Angular"))}Zone.TaskTrackingZoneSpec&&(b._inner=b._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(b._inner=b._inner.fork(Zone.longStackTraceZoneSpec)),b.shouldCoalesceEventChangeDetection=!y&&f,b.shouldCoalesceRunChangeDetection=y,b.lastRequestAnimationFrameId=-1,b.nativeRequestAnimationFrame=function eI(){let c=mi.requestAnimationFrame,d=mi.cancelAnimationFrame;if(typeof Zone<"u"&&c&&d){const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f);const y=d[Zone.__symbol__("OriginalDelegate")];y&&(d=y)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function S1(c){const d=()=>{!function na(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(mi,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,Hb(c),c.isCheckStableRunning=!0,D1(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),Hb(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,y,b,A,x,O)=>{try{return bv(c),f.invokeTask(b,A,x,O)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===A.type||c.shouldCoalesceRunChangeDetection)&&d(),cd(c)}},onInvoke:(f,y,b,A,x,O,V)=>{try{return bv(c),f.invoke(b,A,x,O,V)}finally{c.shouldCoalesceRunChangeDetection&&d(),cd(c)}},onHasTask:(f,y,b,A)=>{f.hasTask(b,A),y===b&&("microTask"==A.change?(c._hasPendingMicrotasks=A.microTask,Hb(c),D1(c)):"macroTask"==A.change&&(c.hasPendingMacrotasks=A.macroTask))},onHandleError:(f,y,b,A)=>(f.handleError(b,A),c.runOutsideAngular(()=>c.onError.emit(A)),!1)})}(b)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ya.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(Ya.isInAngularZone())throw new Me(909,!1)}run(d,f,y){return this._inner.run(d,f,y)}runTask(d,f,y,b){const A=this._inner,x=A.scheduleEventTask("NgZoneEvent: "+b,d,fA,gp,gp);try{return A.runTask(x,f,y)}finally{A.cancelTask(x)}}runGuarded(d,f,y){return this._inner.runGuarded(d,f,y)}runOutsideAngular(d){return this._outer.run(d)}}const fA={};function D1(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function Hb(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function bv(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function cd(c){c._nesting--,D1(c)}class I1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Eu,this.onMicrotaskEmpty=new Eu,this.onStable=new Eu,this.onError=new Eu}run(d,f,y){return d.apply(f,y)}runGuarded(d,f,y){return d.apply(f,y)}runOutsideAngular(d){return d()}runTask(d,f,y,b){return d.apply(f,y)}}const x1=new Qr(""),wv=new Qr("");let Cv,hA=(()=>{class c{constructor(f,y,b){this._ngZone=f,this.registry=y,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cv||(function pA(c){Cv=c}(b),b.addToWindow(y)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ya.assertNotInAngularZone(),A1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())A1(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(y=>!y.updateCb||!y.updateCb(f)||(clearTimeout(y.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,y,b){let A=-1;y&&y>0&&(A=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==A),f(this._didWork,this.getPendingTasks())},y)),this._callbacks.push({doneCb:f,timeoutId:A,updateCb:b})}whenStable(f,y,b){if(b&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,y,b),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,y,b){return[]}}return c.\u0275fac=function(f){return new(f||c)(ro(Ya),ro(P1),ro(wv))},c.\u0275prov=Xe({token:c,factory:c.\u0275fac}),c})(),P1=(()=>{class c{constructor(){this._applications=new Map}registerApplication(f,y){this._applications.set(f,y)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,y=!0){return Cv?.findTestabilityInTree(this,f,y)??null}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=Xe({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})(),bh=null;const M1=new Qr("AllowMultipleToken"),qb=new Qr("PlatformDestroyListeners");class nI{constructor(d,f){this.name=d,this.token=f}}function vA(c,d,f=[]){const y=`Platform: ${d}`,b=new Qr(y);return(A=[])=>{let x=N1();if(!x||x.injector.get(M1,!1)){const O=[...f,...A,{provide:b,useValue:!0}];c?c(O):function rI(c){if(bh&&!bh.get(M1,!1))throw new Me(400,!1);bh=c;const d=c.get(k1);(function kg(c){const d=c.get(hs,null);d&&d.forEach(f=>f())})(c)}(function O1(c=[],d){return mc.create({name:d,providers:[{provide:Wh,useValue:"platform"},{provide:qb,useValue:new Set([()=>bh=null])},...c]})}(O,y))}return function iI(c){const d=N1();if(!d)throw new Me(401,!1);return d}()}}function N1(){return bh?.get(k1)??null}let k1=(()=>{class c{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,y){const b=function yA(c,d){let f;return f="noop"===c?new I1:("zone.js"===c?void 0:c)||new Ya(d),f}(y?.ngZone,function ff(c){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!c||!c.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!c||!c.ngZoneRunCoalescing)||!1}}(y)),A=[{provide:Ya,useValue:b}];return b.run(()=>{const x=mc.create({providers:A,parent:this.injector,name:f.moduleType.name}),O=f.create(x),V=O.injector.get(Jh,null);if(!V)throw new Me(402,!1);return b.runOutsideAngular(()=>{const Z=b.onError.subscribe({next:ne=>{V.handleError(ne)}});O.onDestroy(()=>{xs(this._modules,O),Z.unsubscribe()})}),function nl(c,d,f){try{const y=f();return uC(y)?y.catch(b=>{throw d.runOutsideAngular(()=>c.handleError(b)),b}):y}catch(y){throw d.runOutsideAngular(()=>c.handleError(y)),y}}(V,b,()=>{const Z=O.injector.get(j0);return Z.runInitializers(),Z.donePromise.then(()=>(function lb(c){Oe(c,"Expected localeId to be defined"),"string"==typeof c&&(vE=c.toLowerCase().replace(/_/g,"-"))}(O.injector.get(H0,cp)||cp),this._moduleDoBootstrap(O),O))})})}bootstrapModule(f,y=[]){const b=wh({},y);return function gA(c,d,f){const y=new dv(f);return Promise.resolve(y)}(0,0,f).then(A=>this.bootstrapModuleFactory(A,b))}_moduleDoBootstrap(f){const y=f.injector.get(Vi);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(b=>y.bootstrap(b));else{if(!f.instance.ngDoBootstrap)throw new Me(403,!1);f.instance.ngDoBootstrap(y)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(y=>y.destroy()),this._destroyListeners.forEach(y=>y());const f=this._injector.get(qb,null);f&&(f.forEach(y=>y()),f.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(f){return new(f||c)(ro(mc))},c.\u0275prov=Xe({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();function wh(c,d){return Array.isArray(d)?d.reduce(wh,c):{...c,...d}}let Vi=(()=>{class c{constructor(f,y,b){this._zone=f,this._injector=y,this._exceptionHandler=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new Y.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),x=new Y.y(O=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{Ya.assertNotInAngularZone(),A1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const Z=this._zone.onUnstable.subscribe(()=>{Ya.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{V.unsubscribe(),Z.unsubscribe()}});this.isStable=(0,De.T)(A,x.pipe((0,ot.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(f,y){const b=f instanceof v_;if(!this._injector.get(j0).done)throw!b&&Ao(f),new Me(405,false);let x;x=b?f:this._injector.get(Xc).resolveComponentFactory(f),this.componentTypes.push(x.componentType);const O=function mA(c){return c.isBoundToModule}(x)?void 0:this._injector.get(Dg),Z=x.create(mc.NULL,[],y||x.selector,O),ne=Z.location.nativeElement,le=Z.injector.get(x1,null);return le?.registerApplication(ne),Z.onDestroy(()=>{this.detachView(Z.hostView),xs(this.components,Z),le?.unregisterApplication(ne)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(f))}finally{this._runningTick=!1}}attachView(f){const y=f;this._views.push(y),y.attachToAppRef(this)}detachView(f){const y=f;xs(this._views,y),y.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f),this._injector.get(lA,[]).concat(this._bootstrapListeners).forEach(b=>b(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>xs(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new Me(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return c.\u0275fac=function(f){return new(f||c)(ro(Ya),ro(xl),ro(Jh))},c.\u0275prov=Xe({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function xs(c,d){const f=c.indexOf(d);f>-1&&c.splice(f,1)}let Lo=!0,dd=!1;function rl(){return dd=!0,Lo}function Da(){if(dd)throw new Error("Cannot enable prod mode after platform setup.");Lo=!1}let Av=(()=>{class c{}return c.__NG_ELEMENT_ID__=Dv,c})();function Dv(c){return function sI(c,d,f){if(Bn(c)&&!f){const y=G(c.index,d);return new it(y,y)}return 47&c.type?new it(d[16],d):null}(Wn(),ct(),16==(16&c))}class L1{constructor(){}supports(d){return Hm(d)}create(d){return new xv(d)}}const Iv=(c,d)=>d;class xv{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||Iv}forEachItem(d){let f;for(f=this._itHead;null!==f;f=f._next)d(f)}forEachOperation(d){let f=this._itHead,y=this._removalsHead,b=0,A=null;for(;f||y;){const x=!y||f&&f.currentIndex<$b(y,b,A)?f:y,O=$b(x,b,A),V=x.currentIndex;if(x===y)b--,y=y._nextRemoved;else if(f=f._next,null==x.previousIndex)b++;else{A||(A=[]);const Z=O-b,ne=V-b;if(Z!=ne){for(let Ae=0;Ae<Z;Ae++){const Ve=Ae<A.length?A[Ae]:A[Ae]=0,ft=Ve+Ae;ne<=ft&&ft<Z&&(A[Ae]=Ve+1)}A[x.previousIndex]=ne-Z}}O!==V&&d(x,O,V)}}forEachPreviousItem(d){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachMovedItem(d){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}forEachIdentityChange(d){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)d(f)}diff(d){if(null==d&&(d=[]),!Hm(d))throw new Me(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let b,A,x,f=this._itHead,y=!1;if(Array.isArray(d)){this.length=d.length;for(let O=0;O<this.length;O++)A=d[O],x=this._trackByFn(O,A),null!==f&&Object.is(f.trackById,x)?(y&&(f=this._verifyReinsertion(f,A,x,O)),Object.is(f.item,A)||this._addIdentityChange(f,A)):(f=this._mismatch(f,A,x,O),y=!0),f=f._next}else b=0,function eS(c,d){if(Array.isArray(c))for(let f=0;f<c.length;f++)d(c[f]);else{const f=c[gg()]();let y;for(;!(y=f.next()).done;)d(y.value)}}(d,O=>{x=this._trackByFn(b,O),null!==f&&Object.is(f.trackById,x)?(y&&(f=this._verifyReinsertion(f,O,x,b)),Object.is(f.item,O)||this._addIdentityChange(f,O)):(f=this._mismatch(f,O,x,b),y=!0),f=f._next,b++}),this.length=b;return this._truncate(f),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,f,y,b){let A;return null===d?A=this._itTail:(A=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._reinsertAfter(d,A,b)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(y,b))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._moveAfter(d,A,b)):d=this._addAfter(new Pv(f,y),A,b),d}_verifyReinsertion(d,f,y,b){let A=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null);return null!==A?d=this._reinsertAfter(A,d._prev,b):d.currentIndex!=b&&(d.currentIndex=b,this._addToMoves(d,b)),d}_truncate(d){for(;null!==d;){const f=d._next;this._addToRemovals(this._unlink(d)),d=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,f,y){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const b=d._prevRemoved,A=d._nextRemoved;return null===b?this._removalsHead=A:b._nextRemoved=A,null===A?this._removalsTail=b:A._prevRemoved=b,this._insertAfter(d,f,y),this._addToMoves(d,y),d}_moveAfter(d,f,y){return this._unlink(d),this._insertAfter(d,f,y),this._addToMoves(d,y),d}_addAfter(d,f,y){return this._insertAfter(d,f,y),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,f,y){const b=null===f?this._itHead:f._next;return d._next=b,d._prev=f,null===b?this._itTail=d:b._prev=d,null===f?this._itHead=d:f._next=d,null===this._linkedRecords&&(this._linkedRecords=new U1),this._linkedRecords.put(d),d.currentIndex=y,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const f=d._prev,y=d._next;return null===f?this._itHead=y:f._next=y,null===y?this._itTail=f:y._prev=f,d}_addToMoves(d,f){return d.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new U1),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,f){return d.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class Pv{constructor(d,f){this.item=d,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $0{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,f){let y;for(y=this._head;null!==y;y=y._nextDup)if((null===f||f<=y.currentIndex)&&Object.is(y.trackById,d))return y;return null}remove(d){const f=d._prevDup,y=d._nextDup;return null===f?this._head=y:f._nextDup=y,null===y?this._tail=f:y._prevDup=f,null===this._head}}class U1{constructor(){this.map=new Map}put(d){const f=d.trackById;let y=this.map.get(f);y||(y=new $0,this.map.set(f,y)),y.add(d)}get(d,f){const b=this.map.get(d);return b?b.get(d,f):null}remove(d){const f=d.trackById;return this.map.get(f).remove(d)&&this.map.delete(f),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $b(c,d,f){const y=c.previousIndex;if(null===y)return y;let b=0;return f&&y<f.length&&(b=f[y]),y+d+b}class TA{constructor(){}supports(d){return d instanceof Map||G_(d)}create(){return new EA}}class EA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let f;for(f=this._mapHead;null!==f;f=f._next)d(f)}forEachPreviousItem(d){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)d(f)}forEachChangedItem(d){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}diff(d){if(d){if(!(d instanceof Map||G_(d)))throw new Me(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(d,(y,b)=>{if(f&&f.key===b)this._maybeAddToChanges(f,y),this._appendAfter=f,f=f._next;else{const A=this._getOrCreateRecordForKey(b,y);f=this._insertBeforeOrAppend(f,A)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let y=f;null!==y;y=y._nextRemoved)y===this._mapHead&&(this._mapHead=null),this._records.delete(y.key),y._nextRemoved=y._next,y.previousValue=y.currentValue,y.currentValue=null,y._prev=null,y._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,f){if(d){const y=d._prev;return f._next=d,f._prev=y,d._prev=f,y&&(y._next=f),d===this._mapHead&&(this._mapHead=f),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(d,f){if(this._records.has(d)){const b=this._records.get(d);this._maybeAddToChanges(b,f);const A=b._prev,x=b._next;return A&&(A._next=x),x&&(x._prev=A),b._next=null,b._prev=null,b}const y=new AA(d);return this._records.set(d,y),y.currentValue=f,this._addToAdditions(y),y}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,f){Object.is(f,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=f,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,f){d instanceof Map?d.forEach(f):Object.keys(d).forEach(y=>f(d[y],y))}}class AA{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DA(){return new z0([new L1])}let z0=(()=>{class c{constructor(f){this.factories=f}static create(f,y){if(null!=y){const b=y.factories.slice();f=f.concat(b)}return new c(f)}static extend(f){return{provide:c,useFactory:y=>c.create(f,y||DA()),deps:[[c,new qs,new La]]}}find(f){const y=this.factories.find(b=>b.supports(f));if(null!=y)return y;throw new Me(901,!1)}}return c.\u0275prov=Xe({token:c,providedIn:"root",factory:DA}),c})();function B1(){return new zb([new TA])}let zb=(()=>{class c{constructor(f){this.factories=f}static create(f,y){if(y){const b=y.factories.slice();f=f.concat(b)}return new c(f)}static extend(f){return{provide:c,useFactory:y=>c.create(f,y||B1()),deps:[[c,new qs,new La]]}}find(f){const y=this.factories.find(b=>b.supports(f));if(y)return y;throw new Me(901,!1)}}return c.\u0275prov=Xe({token:c,providedIn:"root",factory:B1}),c})();const IA=vA(null,"core",[]);let mp=(()=>{class c{constructor(f){}}return c.\u0275fac=function(f){return new(f||c)(ro(Vi))},c.\u0275mod=mr({type:c}),c.\u0275inj=on({}),c})();function Mv(c){return"boolean"==typeof c?c:null!=c&&"false"!==c}},7582:(an,pt,ae)=>{"use strict";ae.d(pt,{CR:()=>ut,FC:()=>Ye,Jh:()=>Qe,KL:()=>F,XA:()=>ht,ZT:()=>Q,ev:()=>Dn,mG:()=>Ce,pi:()=>Y,qq:()=>Tt});var a=function(Oe,Ee){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Le,Pe){Le.__proto__=Pe}||function(Le,Pe){for(var lt in Pe)Object.prototype.hasOwnProperty.call(Pe,lt)&&(Le[lt]=Pe[lt])})(Oe,Ee)};function Q(Oe,Ee){if("function"!=typeof Ee&&null!==Ee)throw new TypeError("Class extends value "+String(Ee)+" is not a constructor or null");function Le(){this.constructor=Oe}a(Oe,Ee),Oe.prototype=null===Ee?Object.create(Ee):(Le.prototype=Ee.prototype,new Le)}var Y=function(){return Y=Object.assign||function(Ee){for(var Le,Pe=1,lt=arguments.length;Pe<lt;Pe++)for(var Xe in Le=arguments[Pe])Object.prototype.hasOwnProperty.call(Le,Xe)&&(Ee[Xe]=Le[Xe]);return Ee},Y.apply(this,arguments)};function Ce(Oe,Ee,Le,Pe){return new(Le||(Le=Promise))(function(Xe,$t){function on(zn){try{zt(Pe.next(zn))}catch(Cn){$t(Cn)}}function Lr(zn){try{zt(Pe.throw(zn))}catch(Cn){$t(Cn)}}function zt(zn){zn.done?Xe(zn.value):function lt(Xe){return Xe instanceof Le?Xe:new Le(function($t){$t(Xe)})}(zn.value).then(on,Lr)}zt((Pe=Pe.apply(Oe,Ee||[])).next())})}function Qe(Oe,Ee){var Pe,lt,Xe,$t,Le={label:0,sent:function(){if(1&Xe[0])throw Xe[1];return Xe[1]},trys:[],ops:[]};return $t={next:on(0),throw:on(1),return:on(2)},"function"==typeof Symbol&&($t[Symbol.iterator]=function(){return this}),$t;function on(zt){return function(zn){return function Lr(zt){if(Pe)throw new TypeError("Generator is already executing.");for(;$t&&($t=0,zt[0]&&(Le=0)),Le;)try{if(Pe=1,lt&&(Xe=2&zt[0]?lt.return:zt[0]?lt.throw||((Xe=lt.return)&&Xe.call(lt),0):lt.next)&&!(Xe=Xe.call(lt,zt[1])).done)return Xe;switch(lt=0,Xe&&(zt=[2&zt[0],Xe.value]),zt[0]){case 0:case 1:Xe=zt;break;case 4:return Le.label++,{value:zt[1],done:!1};case 5:Le.label++,lt=zt[1],zt=[0];continue;case 7:zt=Le.ops.pop(),Le.trys.pop();continue;default:if(!(Xe=(Xe=Le.trys).length>0&&Xe[Xe.length-1])&&(6===zt[0]||2===zt[0])){Le=0;continue}if(3===zt[0]&&(!Xe||zt[1]>Xe[0]&&zt[1]<Xe[3])){Le.label=zt[1];break}if(6===zt[0]&&Le.label<Xe[1]){Le.label=Xe[1],Xe=zt;break}if(Xe&&Le.label<Xe[2]){Le.label=Xe[2],Le.ops.push(zt);break}Xe[2]&&Le.ops.pop(),Le.trys.pop();continue}zt=Ee.call(Oe,Le)}catch(zn){zt=[6,zn],lt=0}finally{Pe=Xe=0}if(5&zt[0])throw zt[1];return{value:zt[0]?zt[1]:void 0,done:!0}}([zt,zn])}}}function ht(Oe){var Ee="function"==typeof Symbol&&Symbol.iterator,Le=Ee&&Oe[Ee],Pe=0;if(Le)return Le.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&Pe>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[Pe++],done:!Oe}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}function ut(Oe,Ee){var Le="function"==typeof Symbol&&Oe[Symbol.iterator];if(!Le)return Oe;var lt,$t,Pe=Le.call(Oe),Xe=[];try{for(;(void 0===Ee||Ee-- >0)&&!(lt=Pe.next()).done;)Xe.push(lt.value)}catch(on){$t={error:on}}finally{try{lt&&!lt.done&&(Le=Pe.return)&&Le.call(Pe)}finally{if($t)throw $t.error}}return Xe}function Dn(Oe,Ee,Le){if(Le||2===arguments.length)for(var Xe,Pe=0,lt=Ee.length;Pe<lt;Pe++)(Xe||!(Pe in Ee))&&(Xe||(Xe=Array.prototype.slice.call(Ee,0,Pe)),Xe[Pe]=Ee[Pe]);return Oe.concat(Xe||Array.prototype.slice.call(Ee))}function Tt(Oe){return this instanceof Tt?(this.v=Oe,this):new Tt(Oe)}function Ye(Oe,Ee,Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt,Pe=Le.apply(Oe,Ee||[]),Xe=[];return lt={},$t("next"),$t("throw"),$t("return"),lt[Symbol.asyncIterator]=function(){return this},lt;function $t(er){Pe[er]&&(lt[er]=function(ci){return new Promise(function(Tn,Mn){Xe.push([er,ci,Tn,Mn])>1||on(er,ci)})})}function on(er,ci){try{!function Lr(er){er.value instanceof Tt?Promise.resolve(er.value.v).then(zt,zn):Cn(Xe[0][2],er)}(Pe[er](ci))}catch(Tn){Cn(Xe[0][3],Tn)}}function zt(er){on("next",er)}function zn(er){on("throw",er)}function Cn(er,ci){er(ci),Xe.shift(),Xe.length&&on(Xe[0][0],Xe[0][1])}}function F(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Ee=Oe[Symbol.asyncIterator];return Ee?Ee.call(Oe):(Oe=ht(Oe),Le={},Pe("next"),Pe("throw"),Pe("return"),Le[Symbol.asyncIterator]=function(){return this},Le);function Pe(Xe){Le[Xe]=Oe[Xe]&&function($t){return new Promise(function(on,Lr){!function lt(Xe,$t,on,Lr){Promise.resolve(Lr).then(function(zt){Xe({value:zt,done:on})},$t)}(on,Lr,($t=Oe[Xe]($t)).done,$t.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},an=>{an(an.s=7587)}]);